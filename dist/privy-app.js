(function(){"use strict";var nEe;function EEe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Ea=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ZE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _K={exports:{}},YE={},AK={exports:{}},gn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3=Symbol.for("react.element"),CEe=Symbol.for("react.portal"),_Ee=Symbol.for("react.fragment"),AEe=Symbol.for("react.strict_mode"),SEe=Symbol.for("react.profiler"),IEe=Symbol.for("react.provider"),kEe=Symbol.for("react.context"),$Ee=Symbol.for("react.forward_ref"),TEe=Symbol.for("react.suspense"),PEe=Symbol.for("react.memo"),NEe=Symbol.for("react.lazy"),SK=Symbol.iterator;function OEe(t){return t===null||typeof t!="object"?null:(t=SK&&t[SK]||t["@@iterator"],typeof t=="function"?t:null)}var IK={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kK=Object.assign,$K={};function Wy(t,e,n){this.props=t,this.context=e,this.refs=$K,this.updater=n||IK}Wy.prototype.isReactComponent={},Wy.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},Wy.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TK(){}TK.prototype=Wy.prototype;function CT(t,e,n){this.props=t,this.context=e,this.refs=$K,this.updater=n||IK}var _T=CT.prototype=new TK;_T.constructor=CT,kK(_T,Wy.prototype),_T.isPureReactComponent=!0;var PK=Array.isArray,NK=Object.prototype.hasOwnProperty,AT={current:null},OK={key:!0,ref:!0,__self:!0,__source:!0};function RK(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)NK.call(e,r)&&!OK.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:R3,type:t,key:s,ref:o,props:i,_owner:AT.current}}function REe(t,e){return{$$typeof:R3,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ST(t){return typeof t=="object"&&t!==null&&t.$$typeof===R3}function MEe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var MK=/\/+/g;function IT(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MEe(""+t.key):e.toString(36)}function JE(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case R3:case CEe:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+IT(o,0):r,PK(i)?(n="",t!=null&&(n=t.replace(MK,"$&/")+"/"),JE(i,e,n,"",function(l){return l})):i!=null&&(ST(i)&&(i=REe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(MK,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",PK(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+IT(s,a);o+=JE(s,e,n,c,i)}else if(c=OEe(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+IT(s,a++),o+=JE(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function QE(t,e,n){if(t==null)return t;var r=[],i=0;return JE(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jEe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ko={current:null},XE={transition:null},DEe={ReactCurrentDispatcher:Ko,ReactCurrentBatchConfig:XE,ReactCurrentOwner:AT};function jK(){throw Error("act(...) is not supported in production builds of React.")}gn.Children={map:QE,forEach:function(t,e,n){QE(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return QE(t,function(){e++}),e},toArray:function(t){return QE(t,function(e){return e})||[]},only:function(t){if(!ST(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},gn.Component=Wy,gn.Fragment=_Ee,gn.Profiler=SEe,gn.PureComponent=CT,gn.StrictMode=AEe,gn.Suspense=TEe,gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DEe,gn.act=jK,gn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kK({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=AT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)NK.call(e,c)&&!OK.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:R3,type:t.type,key:i,ref:s,props:r,_owner:o}},gn.createContext=function(t){return t={$$typeof:kEe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IEe,_context:t},t.Consumer=t},gn.createElement=RK,gn.createFactory=function(t){var e=RK.bind(null,t);return e.type=t,e},gn.createRef=function(){return{current:null}},gn.forwardRef=function(t){return{$$typeof:$Ee,render:t}},gn.isValidElement=ST,gn.lazy=function(t){return{$$typeof:NEe,_payload:{_status:-1,_result:t},_init:jEe}},gn.memo=function(t,e){return{$$typeof:PEe,type:t,compare:e===void 0?null:e}},gn.startTransition=function(t){var e=XE.transition;XE.transition={};try{t()}finally{XE.transition=e}},gn.unstable_act=jK,gn.useCallback=function(t,e){return Ko.current.useCallback(t,e)},gn.useContext=function(t){return Ko.current.useContext(t)},gn.useDebugValue=function(){},gn.useDeferredValue=function(t){return Ko.current.useDeferredValue(t)},gn.useEffect=function(t,e){return Ko.current.useEffect(t,e)},gn.useId=function(){return Ko.current.useId()},gn.useImperativeHandle=function(t,e,n){return Ko.current.useImperativeHandle(t,e,n)},gn.useInsertionEffect=function(t,e){return Ko.current.useInsertionEffect(t,e)},gn.useLayoutEffect=function(t,e){return Ko.current.useLayoutEffect(t,e)},gn.useMemo=function(t,e){return Ko.current.useMemo(t,e)},gn.useReducer=function(t,e,n){return Ko.current.useReducer(t,e,n)},gn.useRef=function(t){return Ko.current.useRef(t)},gn.useState=function(t){return Ko.current.useState(t)},gn.useSyncExternalStore=function(t,e,n){return Ko.current.useSyncExternalStore(t,e,n)},gn.useTransition=function(){return Ko.current.useTransition()},gn.version="18.3.1",AK.exports=gn;var k=AK.exports;const Me=Vo(k),kT=EEe({__proto__:null,default:Me},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LEe=k,BEe=Symbol.for("react.element"),UEe=Symbol.for("react.fragment"),FEe=Object.prototype.hasOwnProperty,zEe=LEe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WEe={key:!0,ref:!0,__self:!0,__source:!0};function DK(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)FEe.call(e,r)&&!WEe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:BEe,type:t,key:s,ref:o,props:i,_owner:zEe.current}}YE.Fragment=UEe,YE.jsx=DK,YE.jsxs=DK,_K.exports=YE;var p=_K.exports,$T={},LK={exports:{}},Ac={},BK={exports:{}},UK={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,$){var L=N.length;N.push($);e:for(;0<L;){var B=L-1>>>1,T=N[B];if(0<i(T,$))N[B]=$,N[L]=T,L=B;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var $=N[0],L=N.pop();if(L!==$){N[0]=L;e:for(var B=0,T=N.length,z=T>>>1;B<z;){var q=2*(B+1)-1,U=N[q],V=q+1,Z=N[V];if(0>i(U,L))V<T&&0>i(Z,U)?(N[B]=Z,N[V]=L,B=V):(N[B]=U,N[q]=L,B=q);else if(V<T&&0>i(Z,L))N[B]=Z,N[V]=L,B=V;else break e}}return $}function i(N,$){var L=N.sortIndex-$.sortIndex;return L!==0?L:N.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,h=3,f=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var $=n(l);$!==null;){if($.callback===null)r(l);else if($.startTime<=N)r(l),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(l)}}function E(N){if(m=!1,v(N),!g)if(n(c)!==null)g=!0,A(_);else{var $=n(l);$!==null&&P(E,$.startTime-N)}}function _(N,$){g=!1,m&&(m=!1,w(R),R=-1),f=!0;var L=h;try{for(v($),d=n(c);d!==null&&(!(d.expirationTime>$)||N&&!j());){var B=d.callback;if(typeof B=="function"){d.callback=null,h=d.priorityLevel;var T=B(d.expirationTime<=$);$=t.unstable_now(),typeof T=="function"?d.callback=T:d===n(c)&&r(c),v($)}else r(c);d=n(c)}if(d!==null)var z=!0;else{var q=n(l);q!==null&&P(E,q.startTime-$),z=!1}return z}finally{d=null,h=L,f=!1}}var O=!1,S=null,R=-1,I=5,D=-1;function j(){return!(t.unstable_now()-D<I)}function F(){if(S!==null){var N=t.unstable_now();D=N;var $=!0;try{$=S(!0,N)}finally{$?M():(O=!1,S=null)}}else O=!1}var M;if(typeof b=="function")M=function(){b(F)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,x=C.port2;C.port1.onmessage=F,M=function(){x.postMessage(null)}}else M=function(){y(F,0)};function A(N){S=N,O||(O=!0,M())}function P(N,$){R=y(function(){N(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,A(_))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var L=h;h=$;try{return N()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,$){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=h;h=N;try{return $()}finally{h=L}},t.unstable_scheduleCallback=function(N,$,L){var B=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,N){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=L+T,N={id:u++,callback:$,priorityLevel:N,startTime:L,expirationTime:T,sortIndex:-1},L>B?(N.sortIndex=L,e(l,N),n(c)===null&&N===n(l)&&(m?(w(R),R=-1):m=!0,P(E,L-B))):(N.sortIndex=T,e(c,N),g||f||(g=!0,A(_))),N},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(N){var $=h;return function(){var L=h;h=$;try{return N.apply(this,arguments)}finally{h=L}}}})(UK),BK.exports=UK;var qEe=BK.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HEe=k,Sc=qEe;function Re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FK=new Set,M3={};function Qg(t,e){qy(t,e),qy(t+"Capture",e)}function qy(t,e){for(M3[t]=e,t=0;t<e.length;t++)FK.add(e[t])}var Vh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TT=Object.prototype.hasOwnProperty,VEe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zK={},WK={};function KEe(t){return TT.call(WK,t)?!0:TT.call(zK,t)?!1:VEe.test(t)?WK[t]=!0:(zK[t]=!0,!1)}function GEe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZEe(t,e,n,r){if(e===null||typeof e>"u"||GEe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Go(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var js={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){js[t]=new Go(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];js[e]=new Go(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){js[t]=new Go(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){js[t]=new Go(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){js[t]=new Go(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){js[t]=new Go(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){js[t]=new Go(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){js[t]=new Go(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){js[t]=new Go(t,5,!1,t.toLowerCase(),null,!1,!1)});var PT=/[\-:]([a-z])/g;function NT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(PT,NT);js[e]=new Go(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(PT,NT);js[e]=new Go(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(PT,NT);js[e]=new Go(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){js[t]=new Go(t,1,!1,t.toLowerCase(),null,!1,!1)}),js.xlinkHref=new Go("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){js[t]=new Go(t,1,!1,t.toLowerCase(),null,!0,!0)});function OT(t,e,n,r){var i=js.hasOwnProperty(e)?js[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZEe(e,n,i,r)&&(n=null),r||i===null?KEe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kh=HEe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,e9=Symbol.for("react.element"),Hy=Symbol.for("react.portal"),Vy=Symbol.for("react.fragment"),RT=Symbol.for("react.strict_mode"),MT=Symbol.for("react.profiler"),qK=Symbol.for("react.provider"),HK=Symbol.for("react.context"),jT=Symbol.for("react.forward_ref"),DT=Symbol.for("react.suspense"),LT=Symbol.for("react.suspense_list"),BT=Symbol.for("react.memo"),Dp=Symbol.for("react.lazy"),VK=Symbol.for("react.offscreen"),KK=Symbol.iterator;function j3(t){return t===null||typeof t!="object"?null:(t=KK&&t[KK]||t["@@iterator"],typeof t=="function"?t:null)}var ni=Object.assign,UT;function D3(t){if(UT===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);UT=e&&e[1]||""}return`
`+UT+t}var FT=!1;function zT(t,e){if(!t||FT)return"";FT=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{FT=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?D3(t):""}function YEe(t){switch(t.tag){case 5:return D3(t.type);case 16:return D3("Lazy");case 13:return D3("Suspense");case 19:return D3("SuspenseList");case 0:case 2:case 15:return t=zT(t.type,!1),t;case 11:return t=zT(t.type.render,!1),t;case 1:return t=zT(t.type,!0),t;default:return""}}function WT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vy:return"Fragment";case Hy:return"Portal";case MT:return"Profiler";case RT:return"StrictMode";case DT:return"Suspense";case LT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HK:return(t.displayName||"Context")+".Consumer";case qK:return(t._context.displayName||"Context")+".Provider";case jT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case BT:return e=t.displayName||null,e!==null?e:WT(t.type)||"Memo";case Dp:e=t._payload,t=t._init;try{return WT(t(e))}catch{}}return null}function JEe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return WT(e);case 8:return e===RT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lp(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GK(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QEe(t){var e=GK(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function t9(t){t._valueTracker||(t._valueTracker=QEe(t))}function ZK(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GK(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function n9(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qT(t,e){var n=e.checked;return ni({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function YK(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lp(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JK(t,e){e=e.checked,e!=null&&OT(t,"checked",e,!1)}function HT(t,e){JK(t,e);var n=Lp(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?VT(t,e.type,n):e.hasOwnProperty("defaultValue")&&VT(t,e.type,Lp(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function QK(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function VT(t,e,n){(e!=="number"||n9(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var L3=Array.isArray;function Ky(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lp(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function KT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return ni({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function XK(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Re(92));if(L3(n)){if(1<n.length)throw Error(Re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lp(n)}}function eG(t,e){var n=Lp(e.value),r=Lp(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tG(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nG(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function GT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nG(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var r9,rG=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(r9=r9||document.createElement("div"),r9.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=r9.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function B3(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var U3={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XEe=["Webkit","ms","Moz","O"];Object.keys(U3).forEach(function(t){XEe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),U3[e]=U3[t]})});function iG(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||U3.hasOwnProperty(t)&&U3[t]?(""+e).trim():e+"px"}function sG(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iG(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var e9e=ni({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ZT(t,e){if(e){if(e9e[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62))}}function YT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JT=null;function QT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var XT=null,Gy=null,Zy=null;function oG(t){if(t=c5(t)){if(typeof XT!="function")throw Error(Re(280));var e=t.stateNode;e&&(e=S9(e),XT(t.stateNode,t.type,e))}}function aG(t){Gy?Zy?Zy.push(t):Zy=[t]:Gy=t}function cG(){if(Gy){var t=Gy,e=Zy;if(Zy=Gy=null,oG(t),e)for(t=0;t<e.length;t++)oG(e[t])}}function lG(t,e){return t(e)}function uG(){}var eP=!1;function dG(t,e,n){if(eP)return t(e,n);eP=!0;try{return lG(t,e,n)}finally{eP=!1,(Gy!==null||Zy!==null)&&(uG(),cG())}}function F3(t,e){var n=t.stateNode;if(n===null)return null;var r=S9(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Re(231,e,typeof n));return n}var tP=!1;if(Vh)try{var z3={};Object.defineProperty(z3,"passive",{get:function(){tP=!0}}),window.addEventListener("test",z3,z3),window.removeEventListener("test",z3,z3)}catch{tP=!1}function t9e(t,e,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var W3=!1,i9=null,s9=!1,nP=null,n9e={onError:function(t){W3=!0,i9=t}};function r9e(t,e,n,r,i,s,o,a,c){W3=!1,i9=null,t9e.apply(n9e,arguments)}function i9e(t,e,n,r,i,s,o,a,c){if(r9e.apply(this,arguments),W3){if(W3){var l=i9;W3=!1,i9=null}else throw Error(Re(198));s9||(s9=!0,nP=l)}}function Xg(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hG(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fG(t){if(Xg(t)!==t)throw Error(Re(188))}function s9e(t){var e=t.alternate;if(!e){if(e=Xg(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return fG(i),t;if(s===r)return fG(i),e;s=s.sibling}throw Error(Re(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Re(189))}}if(n.alternate!==r)throw Error(Re(190))}if(n.tag!==3)throw Error(Re(188));return n.stateNode.current===n?t:e}function pG(t){return t=s9e(t),t!==null?gG(t):null}function gG(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gG(t);if(e!==null)return e;t=t.sibling}return null}var mG=Sc.unstable_scheduleCallback,yG=Sc.unstable_cancelCallback,o9e=Sc.unstable_shouldYield,a9e=Sc.unstable_requestPaint,bi=Sc.unstable_now,c9e=Sc.unstable_getCurrentPriorityLevel,rP=Sc.unstable_ImmediatePriority,wG=Sc.unstable_UserBlockingPriority,o9=Sc.unstable_NormalPriority,l9e=Sc.unstable_LowPriority,vG=Sc.unstable_IdlePriority,a9=null,Id=null;function u9e(t){if(Id&&typeof Id.onCommitFiberRoot=="function")try{Id.onCommitFiberRoot(a9,t,void 0,(t.current.flags&128)===128)}catch{}}var vu=Math.clz32?Math.clz32:f9e,d9e=Math.log,h9e=Math.LN2;function f9e(t){return t>>>=0,t===0?32:31-(d9e(t)/h9e|0)|0}var c9=64,l9=4194304;function q3(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function u9(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=q3(a):(s&=o,s!==0&&(r=q3(s)))}else o=n&~i,o!==0?r=q3(o):s!==0&&(r=q3(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vu(e),i=1<<n,r|=t[n],e&=~i;return r}function p9e(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g9e(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vu(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=p9e(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function iP(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bG(){var t=c9;return c9<<=1,!(c9&4194240)&&(c9=64),t}function sP(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function H3(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vu(e),t[e]=n}function m9e(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vu(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function oP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vu(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ir=0;function xG(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var EG,aP,CG,_G,AG,cP=!1,d9=[],Bp=null,Up=null,Fp=null,V3=new Map,K3=new Map,zp=[],y9e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SG(t,e){switch(t){case"focusin":case"focusout":Bp=null;break;case"dragenter":case"dragleave":Up=null;break;case"mouseover":case"mouseout":Fp=null;break;case"pointerover":case"pointerout":V3.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":K3.delete(e.pointerId)}}function G3(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=c5(e),e!==null&&aP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function w9e(t,e,n,r,i){switch(e){case"focusin":return Bp=G3(Bp,t,e,n,r,i),!0;case"dragenter":return Up=G3(Up,t,e,n,r,i),!0;case"mouseover":return Fp=G3(Fp,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return V3.set(s,G3(V3.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,K3.set(s,G3(K3.get(s)||null,t,e,n,r,i)),!0}return!1}function IG(t){var e=em(t.target);if(e!==null){var n=Xg(e);if(n!==null){if(e=n.tag,e===13){if(e=hG(n),e!==null){t.blockedOn=e,AG(t.priority,function(){CG(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function h9(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);JT=r,n.target.dispatchEvent(r),JT=null}else return e=c5(n),e!==null&&aP(e),t.blockedOn=n,!1;e.shift()}return!0}function kG(t,e,n){h9(t)&&n.delete(e)}function v9e(){cP=!1,Bp!==null&&h9(Bp)&&(Bp=null),Up!==null&&h9(Up)&&(Up=null),Fp!==null&&h9(Fp)&&(Fp=null),V3.forEach(kG),K3.forEach(kG)}function Z3(t,e){t.blockedOn===e&&(t.blockedOn=null,cP||(cP=!0,Sc.unstable_scheduleCallback(Sc.unstable_NormalPriority,v9e)))}function Y3(t){function e(i){return Z3(i,t)}if(0<d9.length){Z3(d9[0],t);for(var n=1;n<d9.length;n++){var r=d9[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bp!==null&&Z3(Bp,t),Up!==null&&Z3(Up,t),Fp!==null&&Z3(Fp,t),V3.forEach(e),K3.forEach(e),n=0;n<zp.length;n++)r=zp[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zp.length&&(n=zp[0],n.blockedOn===null);)IG(n),n.blockedOn===null&&zp.shift()}var Yy=Kh.ReactCurrentBatchConfig,f9=!0;function b9e(t,e,n,r){var i=ir,s=Yy.transition;Yy.transition=null;try{ir=1,lP(t,e,n,r)}finally{ir=i,Yy.transition=s}}function x9e(t,e,n,r){var i=ir,s=Yy.transition;Yy.transition=null;try{ir=4,lP(t,e,n,r)}finally{ir=i,Yy.transition=s}}function lP(t,e,n,r){if(f9){var i=uP(t,e,n,r);if(i===null)IP(t,e,r,p9,n),SG(t,r);else if(w9e(i,t,e,n,r))r.stopPropagation();else if(SG(t,r),e&4&&-1<y9e.indexOf(t)){for(;i!==null;){var s=c5(i);if(s!==null&&EG(s),s=uP(t,e,n,r),s===null&&IP(t,e,r,p9,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else IP(t,e,r,null,n)}}var p9=null;function uP(t,e,n,r){if(p9=null,t=QT(r),t=em(t),t!==null)if(e=Xg(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hG(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return p9=t,null}function $G(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c9e()){case rP:return 1;case wG:return 4;case o9:case l9e:return 16;case vG:return 536870912;default:return 16}default:return 16}}var Wp=null,dP=null,g9=null;function TG(){if(g9)return g9;var t,e=dP,n=e.length,r,i="value"in Wp?Wp.value:Wp.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return g9=i.slice(t,1<r?1-r:void 0)}function m9(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function y9(){return!0}function PG(){return!1}function Ic(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?y9:PG,this.isPropagationStopped=PG,this}return ni(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=y9)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=y9)},persist:function(){},isPersistent:y9}),e}var Jy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hP=Ic(Jy),J3=ni({},Jy,{view:0,detail:0}),E9e=Ic(J3),fP,pP,Q3,w9=ni({},J3,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Q3&&(Q3&&t.type==="mousemove"?(fP=t.screenX-Q3.screenX,pP=t.screenY-Q3.screenY):pP=fP=0,Q3=t),fP)},movementY:function(t){return"movementY"in t?t.movementY:pP}}),NG=Ic(w9),C9e=ni({},w9,{dataTransfer:0}),_9e=Ic(C9e),A9e=ni({},J3,{relatedTarget:0}),gP=Ic(A9e),S9e=ni({},Jy,{animationName:0,elapsedTime:0,pseudoElement:0}),I9e=Ic(S9e),k9e=ni({},Jy,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$9e=Ic(k9e),T9e=ni({},Jy,{data:0}),OG=Ic(T9e),P9e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N9e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O9e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R9e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=O9e[t])?!!e[t]:!1}function mP(){return R9e}var M9e=ni({},J3,{key:function(t){if(t.key){var e=P9e[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=m9(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N9e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mP,charCode:function(t){return t.type==="keypress"?m9(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?m9(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),j9e=Ic(M9e),D9e=ni({},w9,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RG=Ic(D9e),L9e=ni({},J3,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mP}),B9e=Ic(L9e),U9e=ni({},Jy,{propertyName:0,elapsedTime:0,pseudoElement:0}),F9e=Ic(U9e),z9e=ni({},w9,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W9e=Ic(z9e),q9e=[9,13,27,32],yP=Vh&&"CompositionEvent"in window,X3=null;Vh&&"documentMode"in document&&(X3=document.documentMode);var H9e=Vh&&"TextEvent"in window&&!X3,MG=Vh&&(!yP||X3&&8<X3&&11>=X3),jG=" ",DG=!1;function LG(t,e){switch(t){case"keyup":return q9e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BG(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qy=!1;function V9e(t,e){switch(t){case"compositionend":return BG(e);case"keypress":return e.which!==32?null:(DG=!0,jG);case"textInput":return t=e.data,t===jG&&DG?null:t;default:return null}}function K9e(t,e){if(Qy)return t==="compositionend"||!yP&&LG(t,e)?(t=TG(),g9=dP=Wp=null,Qy=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MG&&e.locale!=="ko"?null:e.data;default:return null}}var G9e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UG(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!G9e[t.type]:e==="textarea"}function FG(t,e,n,r){aG(r),e=C9(e,"onChange"),0<e.length&&(n=new hP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var e5=null,t5=null;function Z9e(t){sZ(t,0)}function v9(t){var e=rw(t);if(ZK(e))return t}function Y9e(t,e){if(t==="change")return e}var zG=!1;if(Vh){var wP;if(Vh){var vP="oninput"in document;if(!vP){var WG=document.createElement("div");WG.setAttribute("oninput","return;"),vP=typeof WG.oninput=="function"}wP=vP}else wP=!1;zG=wP&&(!document.documentMode||9<document.documentMode)}function qG(){e5&&(e5.detachEvent("onpropertychange",HG),t5=e5=null)}function HG(t){if(t.propertyName==="value"&&v9(t5)){var e=[];FG(e,t5,t,QT(t)),dG(Z9e,e)}}function J9e(t,e,n){t==="focusin"?(qG(),e5=e,t5=n,e5.attachEvent("onpropertychange",HG)):t==="focusout"&&qG()}function Q9e(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return v9(t5)}function X9e(t,e){if(t==="click")return v9(e)}function eCe(t,e){if(t==="input"||t==="change")return v9(e)}function tCe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bu=typeof Object.is=="function"?Object.is:tCe;function n5(t,e){if(bu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!TT.call(e,i)||!bu(t[i],e[i]))return!1}return!0}function VG(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KG(t,e){var n=VG(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=VG(n)}}function GG(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GG(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ZG(){for(var t=window,e=n9();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=n9(t.document)}return e}function bP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nCe(t){var e=ZG(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GG(n.ownerDocument.documentElement,n)){if(r!==null&&bP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=KG(n,s);var o=KG(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rCe=Vh&&"documentMode"in document&&11>=document.documentMode,Xy=null,xP=null,r5=null,EP=!1;function YG(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;EP||Xy==null||Xy!==n9(r)||(r=Xy,"selectionStart"in r&&bP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),r5&&n5(r5,r)||(r5=r,r=C9(xP,"onSelect"),0<r.length&&(e=new hP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xy)))}function b9(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ew={animationend:b9("Animation","AnimationEnd"),animationiteration:b9("Animation","AnimationIteration"),animationstart:b9("Animation","AnimationStart"),transitionend:b9("Transition","TransitionEnd")},CP={},JG={};Vh&&(JG=document.createElement("div").style,"AnimationEvent"in window||(delete ew.animationend.animation,delete ew.animationiteration.animation,delete ew.animationstart.animation),"TransitionEvent"in window||delete ew.transitionend.transition);function x9(t){if(CP[t])return CP[t];if(!ew[t])return t;var e=ew[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in JG)return CP[t]=e[n];return t}var QG=x9("animationend"),XG=x9("animationiteration"),eZ=x9("animationstart"),tZ=x9("transitionend"),nZ=new Map,rZ="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qp(t,e){nZ.set(t,e),Qg(e,[t])}for(var _P=0;_P<rZ.length;_P++){var AP=rZ[_P],iCe=AP.toLowerCase(),sCe=AP[0].toUpperCase()+AP.slice(1);qp(iCe,"on"+sCe)}qp(QG,"onAnimationEnd"),qp(XG,"onAnimationIteration"),qp(eZ,"onAnimationStart"),qp("dblclick","onDoubleClick"),qp("focusin","onFocus"),qp("focusout","onBlur"),qp(tZ,"onTransitionEnd"),qy("onMouseEnter",["mouseout","mouseover"]),qy("onMouseLeave",["mouseout","mouseover"]),qy("onPointerEnter",["pointerout","pointerover"]),qy("onPointerLeave",["pointerout","pointerover"]),Qg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qg("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var i5="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oCe=new Set("cancel close invalid load scroll toggle".split(" ").concat(i5));function iZ(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,i9e(r,e,void 0,t),t.currentTarget=null}function sZ(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;iZ(i,a,l),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;iZ(i,a,l),s=c}}}if(s9)throw t=nP,s9=!1,nP=null,t}function Lr(t,e){var n=e[OP];n===void 0&&(n=e[OP]=new Set);var r=t+"__bubble";n.has(r)||(oZ(e,t,2,!1),n.add(r))}function SP(t,e,n){var r=0;e&&(r|=4),oZ(n,t,r,e)}var E9="_reactListening"+Math.random().toString(36).slice(2);function s5(t){if(!t[E9]){t[E9]=!0,FK.forEach(function(n){n!=="selectionchange"&&(oCe.has(n)||SP(n,!1,t),SP(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[E9]||(e[E9]=!0,SP("selectionchange",!1,e))}}function oZ(t,e,n,r){switch($G(e)){case 1:var i=b9e;break;case 4:i=x9e;break;default:i=lP}n=i.bind(null,e,n,t),i=void 0,!tP||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function IP(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=em(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dG(function(){var l=s,u=QT(n),d=[];e:{var h=nZ.get(t);if(h!==void 0){var f=hP,g=t;switch(t){case"keypress":if(m9(n)===0)break e;case"keydown":case"keyup":f=j9e;break;case"focusin":g="focus",f=gP;break;case"focusout":g="blur",f=gP;break;case"beforeblur":case"afterblur":f=gP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=NG;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=_9e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=B9e;break;case QG:case XG:case eZ:f=I9e;break;case tZ:f=F9e;break;case"scroll":f=E9e;break;case"wheel":f=W9e;break;case"copy":case"cut":case"paste":f=$9e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=RG}var m=(e&4)!==0,y=!m&&t==="scroll",w=m?h!==null?h+"Capture":null:h;m=[];for(var b=l,v;b!==null;){v=b;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,w!==null&&(E=F3(b,w),E!=null&&m.push(o5(b,E,v)))),y)break;b=b.return}0<m.length&&(h=new f(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==JT&&(g=n.relatedTarget||n.fromElement)&&(em(g)||g[Gh]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=l,g=g?em(g):null,g!==null&&(y=Xg(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=l),f!==g)){if(m=NG,E="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=RG,E="onPointerLeave",w="onPointerEnter",b="pointer"),y=f==null?h:rw(f),v=g==null?h:rw(g),h=new m(E,b+"leave",f,n,u),h.target=y,h.relatedTarget=v,E=null,em(u)===l&&(m=new m(w,b+"enter",g,n,u),m.target=v,m.relatedTarget=y,E=m),y=E,f&&g)t:{for(m=f,w=g,b=0,v=m;v;v=tw(v))b++;for(v=0,E=w;E;E=tw(E))v++;for(;0<b-v;)m=tw(m),b--;for(;0<v-b;)w=tw(w),v--;for(;b--;){if(m===w||w!==null&&m===w.alternate)break t;m=tw(m),w=tw(w)}m=null}else m=null;f!==null&&aZ(d,h,f,m,!1),g!==null&&y!==null&&aZ(d,y,g,m,!0)}}e:{if(h=l?rw(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var _=Y9e;else if(UG(h))if(zG)_=eCe;else{_=Q9e;var O=J9e}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=X9e);if(_&&(_=_(t,l))){FG(d,_,n,u);break e}O&&O(t,h,l),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&VT(h,"number",h.value)}switch(O=l?rw(l):window,t){case"focusin":(UG(O)||O.contentEditable==="true")&&(Xy=O,xP=l,r5=null);break;case"focusout":r5=xP=Xy=null;break;case"mousedown":EP=!0;break;case"contextmenu":case"mouseup":case"dragend":EP=!1,YG(d,n,u);break;case"selectionchange":if(rCe)break;case"keydown":case"keyup":YG(d,n,u)}var S;if(yP)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Qy?LG(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(MG&&n.locale!=="ko"&&(Qy||R!=="onCompositionStart"?R==="onCompositionEnd"&&Qy&&(S=TG()):(Wp=u,dP="value"in Wp?Wp.value:Wp.textContent,Qy=!0)),O=C9(l,R),0<O.length&&(R=new OG(R,t,null,n,u),d.push({event:R,listeners:O}),S?R.data=S:(S=BG(n),S!==null&&(R.data=S)))),(S=H9e?V9e(t,n):K9e(t,n))&&(l=C9(l,"onBeforeInput"),0<l.length&&(u=new OG("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=S))}sZ(d,e)})}function o5(t,e,n){return{instance:t,listener:e,currentTarget:n}}function C9(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=F3(t,n),s!=null&&r.unshift(o5(t,s,i)),s=F3(t,e),s!=null&&r.push(o5(t,s,i))),t=t.return}return r}function tw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aZ(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,i?(c=F3(n,s),c!=null&&o.unshift(o5(n,c,a))):i||(c=F3(n,s),c!=null&&o.push(o5(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aCe=/\r\n?/g,cCe=/\u0000|\uFFFD/g;function cZ(t){return(typeof t=="string"?t:""+t).replace(aCe,`
`).replace(cCe,"")}function _9(t,e,n){if(e=cZ(e),cZ(t)!==e&&n)throw Error(Re(425))}function A9(){}var kP=null,$P=null;function TP(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var PP=typeof setTimeout=="function"?setTimeout:void 0,lCe=typeof clearTimeout=="function"?clearTimeout:void 0,lZ=typeof Promise=="function"?Promise:void 0,uCe=typeof queueMicrotask=="function"?queueMicrotask:typeof lZ<"u"?function(t){return lZ.resolve(null).then(t).catch(dCe)}:PP;function dCe(t){setTimeout(function(){throw t})}function NP(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Y3(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Y3(e)}function Hp(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uZ(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nw=Math.random().toString(36).slice(2),kd="__reactFiber$"+nw,a5="__reactProps$"+nw,Gh="__reactContainer$"+nw,OP="__reactEvents$"+nw,hCe="__reactListeners$"+nw,fCe="__reactHandles$"+nw;function em(t){var e=t[kd];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gh]||n[kd]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uZ(t);t!==null;){if(n=t[kd])return n;t=uZ(t)}return e}t=n,n=t.parentNode}return null}function c5(t){return t=t[kd]||t[Gh],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rw(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Re(33))}function S9(t){return t[a5]||null}var RP=[],iw=-1;function Vp(t){return{current:t}}function Br(t){0>iw||(t.current=RP[iw],RP[iw]=null,iw--)}function kr(t,e){iw++,RP[iw]=t.current,t.current=e}var Kp={},po=Vp(Kp),Ca=Vp(!1),tm=Kp;function sw(t,e){var n=t.type.contextTypes;if(!n)return Kp;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _a(t){return t=t.childContextTypes,t!=null}function I9(){Br(Ca),Br(po)}function dZ(t,e,n){if(po.current!==Kp)throw Error(Re(168));kr(po,e),kr(Ca,n)}function hZ(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Re(108,JEe(t)||"Unknown",i));return ni({},n,r)}function k9(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kp,tm=po.current,kr(po,t),kr(Ca,Ca.current),!0}function fZ(t,e,n){var r=t.stateNode;if(!r)throw Error(Re(169));n?(t=hZ(t,e,tm),r.__reactInternalMemoizedMergedChildContext=t,Br(Ca),Br(po),kr(po,t)):Br(Ca),kr(Ca,n)}var Zh=null,$9=!1,MP=!1;function pZ(t){Zh===null?Zh=[t]:Zh.push(t)}function pCe(t){$9=!0,pZ(t)}function Gp(){if(!MP&&Zh!==null){MP=!0;var t=0,e=ir;try{var n=Zh;for(ir=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zh=null,$9=!1}catch(i){throw Zh!==null&&(Zh=Zh.slice(t+1)),mG(rP,Gp),i}finally{ir=e,MP=!1}}return null}var ow=[],aw=0,T9=null,P9=0,wl=[],vl=0,nm=null,Yh=1,Jh="";function rm(t,e){ow[aw++]=P9,ow[aw++]=T9,T9=t,P9=e}function gZ(t,e,n){wl[vl++]=Yh,wl[vl++]=Jh,wl[vl++]=nm,nm=t;var r=Yh;t=Jh;var i=32-vu(r)-1;r&=~(1<<i),n+=1;var s=32-vu(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yh=1<<32-vu(e)+i|n<<i|r,Jh=s+t}else Yh=1<<s|n<<i|r,Jh=t}function jP(t){t.return!==null&&(rm(t,1),gZ(t,1,0))}function DP(t){for(;t===T9;)T9=ow[--aw],ow[aw]=null,P9=ow[--aw],ow[aw]=null;for(;t===nm;)nm=wl[--vl],wl[vl]=null,Jh=wl[--vl],wl[vl]=null,Yh=wl[--vl],wl[vl]=null}var kc=null,$c=null,Zr=!1,xu=null;function mZ(t,e){var n=Cl(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yZ(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kc=t,$c=Hp(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kc=t,$c=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nm!==null?{id:Yh,overflow:Jh}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cl(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kc=t,$c=null,!0):!1;default:return!1}}function LP(t){return(t.mode&1)!==0&&(t.flags&128)===0}function BP(t){if(Zr){var e=$c;if(e){var n=e;if(!yZ(t,e)){if(LP(t))throw Error(Re(418));e=Hp(n.nextSibling);var r=kc;e&&yZ(t,e)?mZ(r,n):(t.flags=t.flags&-4097|2,Zr=!1,kc=t)}}else{if(LP(t))throw Error(Re(418));t.flags=t.flags&-4097|2,Zr=!1,kc=t}}}function wZ(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kc=t}function N9(t){if(t!==kc)return!1;if(!Zr)return wZ(t),Zr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!TP(t.type,t.memoizedProps)),e&&(e=$c)){if(LP(t))throw vZ(),Error(Re(418));for(;e;)mZ(t,e),e=Hp(e.nextSibling)}if(wZ(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$c=Hp(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$c=null}}else $c=kc?Hp(t.stateNode.nextSibling):null;return!0}function vZ(){for(var t=$c;t;)t=Hp(t.nextSibling)}function cw(){$c=kc=null,Zr=!1}function UP(t){xu===null?xu=[t]:xu.push(t)}var gCe=Kh.ReactCurrentBatchConfig;function l5(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Re(309));var r=n.stateNode}if(!r)throw Error(Re(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Re(284));if(!n._owner)throw Error(Re(290,t))}return t}function O9(t,e){throw t=Object.prototype.toString.call(e),Error(Re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bZ(t){var e=t._init;return e(t._payload)}function xZ(t){function e(w,b){if(t){var v=w.deletions;v===null?(w.deletions=[b],w.flags|=16):v.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=n0(w,b),w.index=0,w.sibling=null,w}function s(w,b,v){return w.index=v,t?(v=w.alternate,v!==null?(v=v.index,v<b?(w.flags|=2,b):v):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,v,E){return b===null||b.tag!==6?(b=PN(v,w.mode,E),b.return=w,b):(b=i(b,v),b.return=w,b)}function c(w,b,v,E){var _=v.type;return _===Vy?u(w,b,v.props.children,E,v.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Dp&&bZ(_)===b.type)?(E=i(b,v.props),E.ref=l5(w,b,v),E.return=w,E):(E=rC(v.type,v.key,v.props,null,w.mode,E),E.ref=l5(w,b,v),E.return=w,E)}function l(w,b,v,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=NN(v,w.mode,E),b.return=w,b):(b=i(b,v.children||[]),b.return=w,b)}function u(w,b,v,E,_){return b===null||b.tag!==7?(b=dm(v,w.mode,E,_),b.return=w,b):(b=i(b,v),b.return=w,b)}function d(w,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=PN(""+b,w.mode,v),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case e9:return v=rC(b.type,b.key,b.props,null,w.mode,v),v.ref=l5(w,null,b),v.return=w,v;case Hy:return b=NN(b,w.mode,v),b.return=w,b;case Dp:var E=b._init;return d(w,E(b._payload),v)}if(L3(b)||j3(b))return b=dm(b,w.mode,v,null),b.return=w,b;O9(w,b)}return null}function h(w,b,v,E){var _=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:a(w,b,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case e9:return v.key===_?c(w,b,v,E):null;case Hy:return v.key===_?l(w,b,v,E):null;case Dp:return _=v._init,h(w,b,_(v._payload),E)}if(L3(v)||j3(v))return _!==null?null:u(w,b,v,E,null);O9(w,v)}return null}function f(w,b,v,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(v)||null,a(b,w,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case e9:return w=w.get(E.key===null?v:E.key)||null,c(b,w,E,_);case Hy:return w=w.get(E.key===null?v:E.key)||null,l(b,w,E,_);case Dp:var O=E._init;return f(w,b,v,O(E._payload),_)}if(L3(E)||j3(E))return w=w.get(v)||null,u(b,w,E,_,null);O9(b,E)}return null}function g(w,b,v,E){for(var _=null,O=null,S=b,R=b=0,I=null;S!==null&&R<v.length;R++){S.index>R?(I=S,S=null):I=S.sibling;var D=h(w,S,v[R],E);if(D===null){S===null&&(S=I);break}t&&S&&D.alternate===null&&e(w,S),b=s(D,b,R),O===null?_=D:O.sibling=D,O=D,S=I}if(R===v.length)return n(w,S),Zr&&rm(w,R),_;if(S===null){for(;R<v.length;R++)S=d(w,v[R],E),S!==null&&(b=s(S,b,R),O===null?_=S:O.sibling=S,O=S);return Zr&&rm(w,R),_}for(S=r(w,S);R<v.length;R++)I=f(S,w,R,v[R],E),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?R:I.key),b=s(I,b,R),O===null?_=I:O.sibling=I,O=I);return t&&S.forEach(function(j){return e(w,j)}),Zr&&rm(w,R),_}function m(w,b,v,E){var _=j3(v);if(typeof _!="function")throw Error(Re(150));if(v=_.call(v),v==null)throw Error(Re(151));for(var O=_=null,S=b,R=b=0,I=null,D=v.next();S!==null&&!D.done;R++,D=v.next()){S.index>R?(I=S,S=null):I=S.sibling;var j=h(w,S,D.value,E);if(j===null){S===null&&(S=I);break}t&&S&&j.alternate===null&&e(w,S),b=s(j,b,R),O===null?_=j:O.sibling=j,O=j,S=I}if(D.done)return n(w,S),Zr&&rm(w,R),_;if(S===null){for(;!D.done;R++,D=v.next())D=d(w,D.value,E),D!==null&&(b=s(D,b,R),O===null?_=D:O.sibling=D,O=D);return Zr&&rm(w,R),_}for(S=r(w,S);!D.done;R++,D=v.next())D=f(S,w,R,D.value,E),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?R:D.key),b=s(D,b,R),O===null?_=D:O.sibling=D,O=D);return t&&S.forEach(function(F){return e(w,F)}),Zr&&rm(w,R),_}function y(w,b,v,E){if(typeof v=="object"&&v!==null&&v.type===Vy&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case e9:e:{for(var _=v.key,O=b;O!==null;){if(O.key===_){if(_=v.type,_===Vy){if(O.tag===7){n(w,O.sibling),b=i(O,v.props.children),b.return=w,w=b;break e}}else if(O.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Dp&&bZ(_)===O.type){n(w,O.sibling),b=i(O,v.props),b.ref=l5(w,O,v),b.return=w,w=b;break e}n(w,O);break}else e(w,O);O=O.sibling}v.type===Vy?(b=dm(v.props.children,w.mode,E,v.key),b.return=w,w=b):(E=rC(v.type,v.key,v.props,null,w.mode,E),E.ref=l5(w,b,v),E.return=w,w=E)}return o(w);case Hy:e:{for(O=v.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){n(w,b.sibling),b=i(b,v.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=NN(v,w.mode,E),b.return=w,w=b}return o(w);case Dp:return O=v._init,y(w,b,O(v._payload),E)}if(L3(v))return g(w,b,v,E);if(j3(v))return m(w,b,v,E);O9(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,v),b.return=w,w=b):(n(w,b),b=PN(v,w.mode,E),b.return=w,w=b),o(w)):n(w,b)}return y}var lw=xZ(!0),EZ=xZ(!1),R9=Vp(null),M9=null,uw=null,FP=null;function zP(){FP=uw=M9=null}function WP(t){var e=R9.current;Br(R9),t._currentValue=e}function qP(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dw(t,e){M9=t,FP=uw=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Aa=!0),t.firstContext=null)}function bl(t){var e=t._currentValue;if(FP!==t)if(t={context:t,memoizedValue:e,next:null},uw===null){if(M9===null)throw Error(Re(308));uw=t,M9.dependencies={lanes:0,firstContext:t}}else uw=uw.next=t;return e}var im=null;function HP(t){im===null?im=[t]:im.push(t)}function CZ(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,HP(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qh(t,r)}function Qh(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zp=!1;function VP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _Z(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xh(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yp(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,On&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qh(t,n)}return i=r.interleaved,i===null?(e.next=e,HP(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qh(t,n)}function j9(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oP(t,n)}}function AZ(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function D9(t,e,n,r){var i=t.updateQueue;Zp=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?s=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,u=l=c=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(h=e,f=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=ni({},d,h);break e;case 2:Zp=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=f,c=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);am|=o,t.lanes=o,t.memoizedState=d}}function SZ(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Re(191,i));i.call(r)}}}var u5={},$d=Vp(u5),d5=Vp(u5),h5=Vp(u5);function sm(t){if(t===u5)throw Error(Re(174));return t}function KP(t,e){switch(kr(h5,e),kr(d5,t),kr($d,u5),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:GT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=GT(e,t)}Br($d),kr($d,e)}function hw(){Br($d),Br(d5),Br(h5)}function IZ(t){sm(h5.current);var e=sm($d.current),n=GT(e,t.type);e!==n&&(kr(d5,t),kr($d,n))}function GP(t){d5.current===t&&(Br($d),Br(d5))}var ri=Vp(0);function L9(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ZP=[];function YP(){for(var t=0;t<ZP.length;t++)ZP[t]._workInProgressVersionPrimary=null;ZP.length=0}var B9=Kh.ReactCurrentDispatcher,JP=Kh.ReactCurrentBatchConfig,om=0,ii=null,Yi=null,fs=null,U9=!1,f5=!1,p5=0,mCe=0;function go(){throw Error(Re(321))}function QP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bu(t[n],e[n]))return!1;return!0}function XP(t,e,n,r,i,s){if(om=s,ii=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,B9.current=t===null||t.memoizedState===null?bCe:xCe,t=n(r,i),f5){s=0;do{if(f5=!1,p5=0,25<=s)throw Error(Re(301));s+=1,fs=Yi=null,e.updateQueue=null,B9.current=ECe,t=n(r,i)}while(f5)}if(B9.current=W9,e=Yi!==null&&Yi.next!==null,om=0,fs=Yi=ii=null,U9=!1,e)throw Error(Re(300));return t}function eN(){var t=p5!==0;return p5=0,t}function Td(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fs===null?ii.memoizedState=fs=t:fs=fs.next=t,fs}function xl(){if(Yi===null){var t=ii.alternate;t=t!==null?t.memoizedState:null}else t=Yi.next;var e=fs===null?ii.memoizedState:fs.next;if(e!==null)fs=e,Yi=t;else{if(t===null)throw Error(Re(310));Yi=t,t={memoizedState:Yi.memoizedState,baseState:Yi.baseState,baseQueue:Yi.baseQueue,queue:Yi.queue,next:null},fs===null?ii.memoizedState=fs=t:fs=fs.next=t}return fs}function g5(t,e){return typeof e=="function"?e(t):e}function tN(t){var e=xl(),n=e.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=t;var r=Yi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,l=s;do{var u=l.lane;if((om&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,ii.lanes|=u,am|=u}l=l.next}while(l!==null&&l!==s);c===null?o=r:c.next=a,bu(r,e.memoizedState)||(Aa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ii.lanes|=s,am|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nN(t){var e=xl(),n=e.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bu(s,e.memoizedState)||(Aa=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function kZ(){}function $Z(t,e){var n=ii,r=xl(),i=e(),s=!bu(r.memoizedState,i);if(s&&(r.memoizedState=i,Aa=!0),r=r.queue,rN(NZ.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||fs!==null&&fs.memoizedState.tag&1){if(n.flags|=2048,m5(9,PZ.bind(null,n,r,i,e),void 0,null),ps===null)throw Error(Re(349));om&30||TZ(n,e,i)}return i}function TZ(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ii.updateQueue,e===null?(e={lastEffect:null,stores:null},ii.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PZ(t,e,n,r){e.value=n,e.getSnapshot=r,OZ(e)&&RZ(t)}function NZ(t,e,n){return n(function(){OZ(e)&&RZ(t)})}function OZ(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bu(t,n)}catch{return!0}}function RZ(t){var e=Qh(t,1);e!==null&&Au(e,t,1,-1)}function MZ(t){var e=Td();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g5,lastRenderedState:t},e.queue=t,t=t.dispatch=vCe.bind(null,ii,t),[e.memoizedState,t]}function m5(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ii.updateQueue,e===null?(e={lastEffect:null,stores:null},ii.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jZ(){return xl().memoizedState}function F9(t,e,n,r){var i=Td();ii.flags|=t,i.memoizedState=m5(1|e,n,void 0,r===void 0?null:r)}function z9(t,e,n,r){var i=xl();r=r===void 0?null:r;var s=void 0;if(Yi!==null){var o=Yi.memoizedState;if(s=o.destroy,r!==null&&QP(r,o.deps)){i.memoizedState=m5(e,n,s,r);return}}ii.flags|=t,i.memoizedState=m5(1|e,n,s,r)}function DZ(t,e){return F9(8390656,8,t,e)}function rN(t,e){return z9(2048,8,t,e)}function LZ(t,e){return z9(4,2,t,e)}function BZ(t,e){return z9(4,4,t,e)}function UZ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FZ(t,e,n){return n=n!=null?n.concat([t]):null,z9(4,4,UZ.bind(null,e,t),n)}function iN(){}function zZ(t,e){var n=xl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&QP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WZ(t,e){var n=xl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&QP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qZ(t,e,n){return om&21?(bu(n,e)||(n=bG(),ii.lanes|=n,am|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Aa=!0),t.memoizedState=n)}function yCe(t,e){var n=ir;ir=n!==0&&4>n?n:4,t(!0);var r=JP.transition;JP.transition={};try{t(!1),e()}finally{ir=n,JP.transition=r}}function HZ(){return xl().memoizedState}function wCe(t,e,n){var r=e0(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VZ(t))KZ(e,n);else if(n=CZ(t,e,n,r),n!==null){var i=Yo();Au(n,t,r,i),GZ(n,e,r)}}function vCe(t,e,n){var r=e0(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VZ(t))KZ(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,bu(a,o)){var c=e.interleaved;c===null?(i.next=i,HP(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=CZ(t,e,i,r),n!==null&&(i=Yo(),Au(n,t,r,i),GZ(n,e,r))}}function VZ(t){var e=t.alternate;return t===ii||e!==null&&e===ii}function KZ(t,e){f5=U9=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GZ(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oP(t,n)}}var W9={readContext:bl,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},bCe={readContext:bl,useCallback:function(t,e){return Td().memoizedState=[t,e===void 0?null:e],t},useContext:bl,useEffect:DZ,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,F9(4194308,4,UZ.bind(null,e,t),n)},useLayoutEffect:function(t,e){return F9(4194308,4,t,e)},useInsertionEffect:function(t,e){return F9(4,2,t,e)},useMemo:function(t,e){var n=Td();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Td();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wCe.bind(null,ii,t),[r.memoizedState,t]},useRef:function(t){var e=Td();return t={current:t},e.memoizedState=t},useState:MZ,useDebugValue:iN,useDeferredValue:function(t){return Td().memoizedState=t},useTransition:function(){var t=MZ(!1),e=t[0];return t=yCe.bind(null,t[1]),Td().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ii,i=Td();if(Zr){if(n===void 0)throw Error(Re(407));n=n()}else{if(n=e(),ps===null)throw Error(Re(349));om&30||TZ(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,DZ(NZ.bind(null,r,s,t),[t]),r.flags|=2048,m5(9,PZ.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Td(),e=ps.identifierPrefix;if(Zr){var n=Jh,r=Yh;n=(r&~(1<<32-vu(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=p5++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mCe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xCe={readContext:bl,useCallback:zZ,useContext:bl,useEffect:rN,useImperativeHandle:FZ,useInsertionEffect:LZ,useLayoutEffect:BZ,useMemo:WZ,useReducer:tN,useRef:jZ,useState:function(){return tN(g5)},useDebugValue:iN,useDeferredValue:function(t){var e=xl();return qZ(e,Yi.memoizedState,t)},useTransition:function(){var t=tN(g5)[0],e=xl().memoizedState;return[t,e]},useMutableSource:kZ,useSyncExternalStore:$Z,useId:HZ,unstable_isNewReconciler:!1},ECe={readContext:bl,useCallback:zZ,useContext:bl,useEffect:rN,useImperativeHandle:FZ,useInsertionEffect:LZ,useLayoutEffect:BZ,useMemo:WZ,useReducer:nN,useRef:jZ,useState:function(){return nN(g5)},useDebugValue:iN,useDeferredValue:function(t){var e=xl();return Yi===null?e.memoizedState=t:qZ(e,Yi.memoizedState,t)},useTransition:function(){var t=nN(g5)[0],e=xl().memoizedState;return[t,e]},useMutableSource:kZ,useSyncExternalStore:$Z,useId:HZ,unstable_isNewReconciler:!1};function Eu(t,e){if(t&&t.defaultProps){e=ni({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sN(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ni({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var q9={isMounted:function(t){return(t=t._reactInternals)?Xg(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yo(),i=e0(t),s=Xh(r,i);s.payload=e,n!=null&&(s.callback=n),e=Yp(t,s,i),e!==null&&(Au(e,t,i,r),j9(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yo(),i=e0(t),s=Xh(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Yp(t,s,i),e!==null&&(Au(e,t,i,r),j9(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yo(),r=e0(t),i=Xh(n,r);i.tag=2,e!=null&&(i.callback=e),e=Yp(t,i,r),e!==null&&(Au(e,t,r,n),j9(e,t,r))}};function ZZ(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!n5(n,r)||!n5(i,s):!0}function YZ(t,e,n){var r=!1,i=Kp,s=e.contextType;return typeof s=="object"&&s!==null?s=bl(s):(i=_a(e)?tm:po.current,r=e.contextTypes,s=(r=r!=null)?sw(t,i):Kp),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=q9,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function JZ(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&q9.enqueueReplaceState(e,e.state,null)}function oN(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},VP(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bl(s):(s=_a(e)?tm:po.current,i.context=sw(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sN(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&q9.enqueueReplaceState(i,i.state,null),D9(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fw(t,e){try{var n="",r=e;do n+=YEe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function aN(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cN(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CCe=typeof WeakMap=="function"?WeakMap:Map;function QZ(t,e,n){n=Xh(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){J9||(J9=!0,CN=r),cN(t,e)},n}function XZ(t,e,n){n=Xh(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cN(t,e),typeof r!="function"&&(Qp===null?Qp=new Set([this]):Qp.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function eY(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CCe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DCe.bind(null,t,e,n),e.then(t,t))}function tY(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nY(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xh(-1,1),e.tag=2,Yp(n,e,1))),n.lanes|=1),t)}var _Ce=Kh.ReactCurrentOwner,Aa=!1;function Zo(t,e,n,r){e.child=t===null?EZ(e,null,n,r):lw(e,t.child,n,r)}function rY(t,e,n,r,i){n=n.render;var s=e.ref;return dw(e,i),r=XP(t,e,n,r,s,i),n=eN(),t!==null&&!Aa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ef(t,e,i)):(Zr&&n&&jP(e),e.flags|=1,Zo(t,e,r,i),e.child)}function iY(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!TN(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,sY(t,e,s,r,i)):(t=rC(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:n5,n(o,r)&&t.ref===e.ref)return ef(t,e,i)}return e.flags|=1,t=n0(s,r),t.ref=e.ref,t.return=e,e.child=t}function sY(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(n5(s,r)&&t.ref===e.ref)if(Aa=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Aa=!0);else return e.lanes=t.lanes,ef(t,e,i)}return lN(t,e,n,r,i)}function oY(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(gw,Tc),Tc|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kr(gw,Tc),Tc|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,kr(gw,Tc),Tc|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,kr(gw,Tc),Tc|=r;return Zo(t,e,i,n),e.child}function aY(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lN(t,e,n,r,i){var s=_a(n)?tm:po.current;return s=sw(e,s),dw(e,i),n=XP(t,e,n,r,s,i),r=eN(),t!==null&&!Aa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ef(t,e,i)):(Zr&&r&&jP(e),e.flags|=1,Zo(t,e,n,i),e.child)}function cY(t,e,n,r,i){if(_a(n)){var s=!0;k9(e)}else s=!1;if(dw(e,i),e.stateNode===null)V9(t,e),YZ(e,n,r),oN(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=bl(l):(l=_a(n)?tm:po.current,l=sw(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&JZ(e,o,r,l),Zp=!1;var h=e.memoizedState;o.state=h,D9(e,r,o,i),c=e.memoizedState,a!==r||h!==c||Ca.current||Zp?(typeof u=="function"&&(sN(e,n,u,r),c=e.memoizedState),(a=Zp||ZZ(e,n,a,r,h,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_Z(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Eu(e.type,a),o.props=l,d=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=bl(c):(c=_a(n)?tm:po.current,c=sw(e,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==c)&&JZ(e,o,r,c),Zp=!1,h=e.memoizedState,o.state=h,D9(e,r,o,i);var g=e.memoizedState;a!==d||h!==g||Ca.current||Zp?(typeof f=="function"&&(sN(e,n,f,r),g=e.memoizedState),(l=Zp||ZZ(e,n,l,r,h,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return uN(t,e,n,r,s,i)}function uN(t,e,n,r,i,s){aY(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fZ(e,n,!1),ef(t,e,s);r=e.stateNode,_Ce.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=lw(e,t.child,null,s),e.child=lw(e,null,a,s)):Zo(t,e,a,s),e.memoizedState=r.state,i&&fZ(e,n,!0),e.child}function lY(t){var e=t.stateNode;e.pendingContext?dZ(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dZ(t,e.context,!1),KP(t,e.containerInfo)}function uY(t,e,n,r,i){return cw(),UP(i),e.flags|=256,Zo(t,e,n,r),e.child}var dN={dehydrated:null,treeContext:null,retryLane:0};function hN(t){return{baseLanes:t,cachePool:null,transitions:null}}function dY(t,e,n){var r=e.pendingProps,i=ri.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),kr(ri,i&1),t===null)return BP(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=iC(o,r,0,null),t=dm(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=hN(n),e.memoizedState=dN,t):fN(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ACe(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=n0(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=n0(a,s):(s=dm(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?hN(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=dN,r}return s=t.child,t=s.sibling,r=n0(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fN(t,e){return e=iC({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function H9(t,e,n,r){return r!==null&&UP(r),lw(e,t.child,null,n),t=fN(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ACe(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=aN(Error(Re(422))),H9(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=iC({mode:"visible",children:r.children},i,0,null),s=dm(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&lw(e,t.child,null,o),e.child.memoizedState=hN(o),e.memoizedState=dN,s);if(!(e.mode&1))return H9(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Re(419)),r=aN(s,r,void 0),H9(t,e,o,r)}if(a=(o&t.childLanes)!==0,Aa||a){if(r=ps,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qh(t,i),Au(r,t,i,-1))}return $N(),r=aN(Error(Re(421))),H9(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LCe.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,$c=Hp(i.nextSibling),kc=e,Zr=!0,xu=null,t!==null&&(wl[vl++]=Yh,wl[vl++]=Jh,wl[vl++]=nm,Yh=t.id,Jh=t.overflow,nm=e),e=fN(e,r.children),e.flags|=4096,e)}function hY(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qP(t.return,e,n)}function pN(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function fY(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zo(t,e,r.children,n),r=ri.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hY(t,n,e);else if(t.tag===19)hY(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(kr(ri,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&L9(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),pN(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&L9(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}pN(e,!0,n,null,s);break;case"together":pN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function V9(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ef(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),am|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,n=n0(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=n0(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SCe(t,e,n){switch(e.tag){case 3:lY(e),cw();break;case 5:IZ(e);break;case 1:_a(e.type)&&k9(e);break;case 4:KP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;kr(R9,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(kr(ri,ri.current&1),e.flags|=128,null):n&e.child.childLanes?dY(t,e,n):(kr(ri,ri.current&1),t=ef(t,e,n),t!==null?t.sibling:null);kr(ri,ri.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fY(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kr(ri,ri.current),r)break;return null;case 22:case 23:return e.lanes=0,oY(t,e,n)}return ef(t,e,n)}var pY,gN,gY,mY;pY=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},gN=function(){},gY=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,sm($d.current);var s=null;switch(n){case"input":i=qT(t,i),r=qT(t,r),s=[];break;case"select":i=ni({},i,{value:void 0}),r=ni({},r,{value:void 0}),s=[];break;case"textarea":i=KT(t,i),r=KT(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=A9)}ZT(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(M3.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(M3.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Lr("scroll",t),s||a===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}},mY=function(t,e,n,r){n!==r&&(e.flags|=4)};function y5(t,e){if(!Zr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mo(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ICe(t,e,n){var r=e.pendingProps;switch(DP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mo(e),null;case 1:return _a(e.type)&&I9(),mo(e),null;case 3:return r=e.stateNode,hw(),Br(Ca),Br(po),YP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(N9(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xu!==null&&(SN(xu),xu=null))),gN(t,e),mo(e),null;case 5:GP(e);var i=sm(h5.current);if(n=e.type,t!==null&&e.stateNode!=null)gY(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Re(166));return mo(e),null}if(t=sm($d.current),N9(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[kd]=e,r[a5]=s,t=(e.mode&1)!==0,n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(i=0;i<i5.length;i++)Lr(i5[i],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":YK(r,s),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Lr("invalid",r);break;case"textarea":XK(r,s),Lr("invalid",r)}ZT(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_9(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_9(r.textContent,a,t),i=["children",""+a]):M3.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Lr("scroll",r)}switch(n){case"input":t9(r),QK(r,s,!0);break;case"textarea":t9(r),tG(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=A9)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nG(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kd]=e,t[a5]=r,pY(t,e,!1,!1),e.stateNode=t;e:{switch(o=YT(n,r),n){case"dialog":Lr("cancel",t),Lr("close",t),i=r;break;case"iframe":case"object":case"embed":Lr("load",t),i=r;break;case"video":case"audio":for(i=0;i<i5.length;i++)Lr(i5[i],t);i=r;break;case"source":Lr("error",t),i=r;break;case"img":case"image":case"link":Lr("error",t),Lr("load",t),i=r;break;case"details":Lr("toggle",t),i=r;break;case"input":YK(t,r),i=qT(t,r),Lr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ni({},r,{value:void 0}),Lr("invalid",t);break;case"textarea":XK(t,r),i=KT(t,r),Lr("invalid",t);break;default:i=r}ZT(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?sG(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rG(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&B3(t,c):typeof c=="number"&&B3(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(M3.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Lr("scroll",t):c!=null&&OT(t,s,c,o))}switch(n){case"input":t9(t),QK(t,r,!1);break;case"textarea":t9(t),tG(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lp(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ky(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ky(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=A9)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mo(e),null;case 6:if(t&&e.stateNode!=null)mY(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Re(166));if(n=sm(h5.current),sm($d.current),N9(e)){if(r=e.stateNode,n=e.memoizedProps,r[kd]=e,(s=r.nodeValue!==n)&&(t=kc,t!==null))switch(t.tag){case 3:_9(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_9(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kd]=e,e.stateNode=r}return mo(e),null;case 13:if(Br(ri),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Zr&&$c!==null&&e.mode&1&&!(e.flags&128))vZ(),cw(),e.flags|=98560,s=!1;else if(s=N9(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Re(317));s[kd]=e}else cw(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mo(e),s=!1}else xu!==null&&(SN(xu),xu=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ri.current&1?Ji===0&&(Ji=3):$N())),e.updateQueue!==null&&(e.flags|=4),mo(e),null);case 4:return hw(),gN(t,e),t===null&&s5(e.stateNode.containerInfo),mo(e),null;case 10:return WP(e.type._context),mo(e),null;case 17:return _a(e.type)&&I9(),mo(e),null;case 19:if(Br(ri),s=e.memoizedState,s===null)return mo(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)y5(s,!1);else{if(Ji!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=L9(t),o!==null){for(e.flags|=128,y5(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return kr(ri,ri.current&1|2),e.child}t=t.sibling}s.tail!==null&&bi()>mw&&(e.flags|=128,r=!0,y5(s,!1),e.lanes=4194304)}else{if(!r)if(t=L9(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),y5(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Zr)return mo(e),null}else 2*bi()-s.renderingStartTime>mw&&n!==1073741824&&(e.flags|=128,r=!0,y5(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bi(),e.sibling=null,n=ri.current,kr(ri,r?n&1|2:n&1),e):(mo(e),null);case 22:case 23:return kN(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tc&1073741824&&(mo(e),e.subtreeFlags&6&&(e.flags|=8192)):mo(e),null;case 24:return null;case 25:return null}throw Error(Re(156,e.tag))}function kCe(t,e){switch(DP(e),e.tag){case 1:return _a(e.type)&&I9(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hw(),Br(Ca),Br(po),YP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return GP(e),null;case 13:if(Br(ri),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Re(340));cw()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Br(ri),null;case 4:return hw(),null;case 10:return WP(e.type._context),null;case 22:case 23:return kN(),null;case 24:return null;default:return null}}var K9=!1,yo=!1,$Ce=typeof WeakSet=="function"?WeakSet:Set,pt=null;function pw(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ui(t,e,r)}else n.current=null}function mN(t,e,n){try{n()}catch(r){ui(t,e,r)}}var yY=!1;function TCe(t,e){if(kP=f9,t=ZG(),bP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++l===i&&(a=o),h===s&&++u===r&&(c=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($P={focusedElem:t,selectionRange:n},f9=!1,pt=e;pt!==null;)if(e=pt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pt=t;else for(;pt!==null;){e=pt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?m:Eu(e.type,m),y);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(E){ui(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,pt=t;break}pt=e.return}return g=yY,yY=!1,g}function w5(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mN(e,n,s)}i=i.next}while(i!==r)}}function G9(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yN(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wY(t){var e=t.alternate;e!==null&&(t.alternate=null,wY(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kd],delete e[a5],delete e[OP],delete e[hCe],delete e[fCe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vY(t){return t.tag===5||t.tag===3||t.tag===4}function bY(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vY(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wN(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=A9));else if(r!==4&&(t=t.child,t!==null))for(wN(t,e,n),t=t.sibling;t!==null;)wN(t,e,n),t=t.sibling}function vN(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vN(t,e,n),t=t.sibling;t!==null;)vN(t,e,n),t=t.sibling}var Ds=null,Cu=!1;function Jp(t,e,n){for(n=n.child;n!==null;)xY(t,e,n),n=n.sibling}function xY(t,e,n){if(Id&&typeof Id.onCommitFiberUnmount=="function")try{Id.onCommitFiberUnmount(a9,n)}catch{}switch(n.tag){case 5:yo||pw(n,e);case 6:var r=Ds,i=Cu;Ds=null,Jp(t,e,n),Ds=r,Cu=i,Ds!==null&&(Cu?(t=Ds,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ds.removeChild(n.stateNode));break;case 18:Ds!==null&&(Cu?(t=Ds,n=n.stateNode,t.nodeType===8?NP(t.parentNode,n):t.nodeType===1&&NP(t,n),Y3(t)):NP(Ds,n.stateNode));break;case 4:r=Ds,i=Cu,Ds=n.stateNode.containerInfo,Cu=!0,Jp(t,e,n),Ds=r,Cu=i;break;case 0:case 11:case 14:case 15:if(!yo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mN(n,e,o),i=i.next}while(i!==r)}Jp(t,e,n);break;case 1:if(!yo&&(pw(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ui(n,e,a)}Jp(t,e,n);break;case 21:Jp(t,e,n);break;case 22:n.mode&1?(yo=(r=yo)||n.memoizedState!==null,Jp(t,e,n),yo=r):Jp(t,e,n);break;default:Jp(t,e,n)}}function EY(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $Ce),e.forEach(function(r){var i=BCe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _u(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ds=a.stateNode,Cu=!1;break e;case 3:Ds=a.stateNode.containerInfo,Cu=!0;break e;case 4:Ds=a.stateNode.containerInfo,Cu=!0;break e}a=a.return}if(Ds===null)throw Error(Re(160));xY(s,o,i),Ds=null,Cu=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){ui(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CY(e,t),e=e.sibling}function CY(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_u(e,t),Pd(t),r&4){try{w5(3,t,t.return),G9(3,t)}catch(m){ui(t,t.return,m)}try{w5(5,t,t.return)}catch(m){ui(t,t.return,m)}}break;case 1:_u(e,t),Pd(t),r&512&&n!==null&&pw(n,n.return);break;case 5:if(_u(e,t),Pd(t),r&512&&n!==null&&pw(n,n.return),t.flags&32){var i=t.stateNode;try{B3(i,"")}catch(m){ui(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&JK(i,s),YT(a,o);var l=YT(a,s);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?sG(i,d):u==="dangerouslySetInnerHTML"?rG(i,d):u==="children"?B3(i,d):OT(i,u,d,l)}switch(a){case"input":HT(i,s);break;case"textarea":eG(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ky(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ky(i,!!s.multiple,s.defaultValue,!0):Ky(i,!!s.multiple,s.multiple?[]:"",!1))}i[a5]=s}catch(m){ui(t,t.return,m)}}break;case 6:if(_u(e,t),Pd(t),r&4){if(t.stateNode===null)throw Error(Re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){ui(t,t.return,m)}}break;case 3:if(_u(e,t),Pd(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Y3(e.containerInfo)}catch(m){ui(t,t.return,m)}break;case 4:_u(e,t),Pd(t);break;case 13:_u(e,t),Pd(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(EN=bi())),r&4&&EY(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(yo=(l=yo)||u,_u(e,t),yo=l):_u(e,t),Pd(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(pt=t,u=t.child;u!==null;){for(d=pt=u;pt!==null;){switch(h=pt,f=h.child,h.tag){case 0:case 11:case 14:case 15:w5(4,h,h.return);break;case 1:pw(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){ui(r,n,m)}}break;case 5:pw(h,h.return);break;case 22:if(h.memoizedState!==null){SY(d);continue}}f!==null?(f.return=h,pt=f):SY(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=iG("display",o))}catch(m){ui(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){ui(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_u(e,t),Pd(t),r&4&&EY(t);break;case 21:break;default:_u(e,t),Pd(t)}}function Pd(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vY(n)){var r=n;break e}n=n.return}throw Error(Re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(B3(i,""),r.flags&=-33);var s=bY(t);vN(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=bY(t);wN(t,a,o);break;default:throw Error(Re(161))}}catch(c){ui(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PCe(t,e,n){pt=t,_Y(t)}function _Y(t,e,n){for(var r=(t.mode&1)!==0;pt!==null;){var i=pt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||K9;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||yo;a=K9;var l=yo;if(K9=o,(yo=c)&&!l)for(pt=i;pt!==null;)o=pt,c=o.child,o.tag===22&&o.memoizedState!==null?IY(i):c!==null?(c.return=o,pt=c):IY(i);for(;s!==null;)pt=s,_Y(s),s=s.sibling;pt=i,K9=a,yo=l}AY(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,pt=s):AY(t)}}function AY(t){for(;pt!==null;){var e=pt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yo||G9(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yo)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Eu(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&SZ(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}SZ(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Y3(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}yo||e.flags&512&&yN(e)}catch(h){ui(e,e.return,h)}}if(e===t){pt=null;break}if(n=e.sibling,n!==null){n.return=e.return,pt=n;break}pt=e.return}}function SY(t){for(;pt!==null;){var e=pt;if(e===t){pt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pt=n;break}pt=e.return}}function IY(t){for(;pt!==null;){var e=pt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{G9(4,e)}catch(c){ui(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ui(e,i,c)}}var s=e.return;try{yN(e)}catch(c){ui(e,s,c)}break;case 5:var o=e.return;try{yN(e)}catch(c){ui(e,o,c)}}}catch(c){ui(e,e.return,c)}if(e===t){pt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,pt=a;break}pt=e.return}}var NCe=Math.ceil,Z9=Kh.ReactCurrentDispatcher,bN=Kh.ReactCurrentOwner,El=Kh.ReactCurrentBatchConfig,On=0,ps=null,ji=null,Ls=0,Tc=0,gw=Vp(0),Ji=0,v5=null,am=0,Y9=0,xN=0,b5=null,Sa=null,EN=0,mw=1/0,tf=null,J9=!1,CN=null,Qp=null,Q9=!1,Xp=null,X9=0,x5=0,_N=null,eC=-1,tC=0;function Yo(){return On&6?bi():eC!==-1?eC:eC=bi()}function e0(t){return t.mode&1?On&2&&Ls!==0?Ls&-Ls:gCe.transition!==null?(tC===0&&(tC=bG()),tC):(t=ir,t!==0||(t=window.event,t=t===void 0?16:$G(t.type)),t):1}function Au(t,e,n,r){if(50<x5)throw x5=0,_N=null,Error(Re(185));H3(t,n,r),(!(On&2)||t!==ps)&&(t===ps&&(!(On&2)&&(Y9|=n),Ji===4&&t0(t,Ls)),Ia(t,r),n===1&&On===0&&!(e.mode&1)&&(mw=bi()+500,$9&&Gp()))}function Ia(t,e){var n=t.callbackNode;g9e(t,e);var r=u9(t,t===ps?Ls:0);if(r===0)n!==null&&yG(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yG(n),e===1)t.tag===0?pCe($Y.bind(null,t)):pZ($Y.bind(null,t)),uCe(function(){!(On&6)&&Gp()}),n=null;else{switch(xG(r)){case 1:n=rP;break;case 4:n=wG;break;case 16:n=o9;break;case 536870912:n=vG;break;default:n=o9}n=DY(n,kY.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kY(t,e){if(eC=-1,tC=0,On&6)throw Error(Re(327));var n=t.callbackNode;if(yw()&&t.callbackNode!==n)return null;var r=u9(t,t===ps?Ls:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nC(t,r);else{e=r;var i=On;On|=2;var s=PY();(ps!==t||Ls!==e)&&(tf=null,mw=bi()+500,lm(t,e));do try{MCe();break}catch(a){TY(t,a)}while(!0);zP(),Z9.current=s,On=i,ji!==null?e=0:(ps=null,Ls=0,e=Ji)}if(e!==0){if(e===2&&(i=iP(t),i!==0&&(r=i,e=AN(t,i))),e===1)throw n=v5,lm(t,0),t0(t,r),Ia(t,bi()),n;if(e===6)t0(t,r);else{if(i=t.current.alternate,!(r&30)&&!OCe(i)&&(e=nC(t,r),e===2&&(s=iP(t),s!==0&&(r=s,e=AN(t,s))),e===1))throw n=v5,lm(t,0),t0(t,r),Ia(t,bi()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Re(345));case 2:um(t,Sa,tf);break;case 3:if(t0(t,r),(r&130023424)===r&&(e=EN+500-bi(),10<e)){if(u9(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=PP(um.bind(null,t,Sa,tf),e);break}um(t,Sa,tf);break;case 4:if(t0(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-vu(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=bi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NCe(r/1960))-r,10<r){t.timeoutHandle=PP(um.bind(null,t,Sa,tf),r);break}um(t,Sa,tf);break;case 5:um(t,Sa,tf);break;default:throw Error(Re(329))}}}return Ia(t,bi()),t.callbackNode===n?kY.bind(null,t):null}function AN(t,e){var n=b5;return t.current.memoizedState.isDehydrated&&(lm(t,e).flags|=256),t=nC(t,e),t!==2&&(e=Sa,Sa=n,e!==null&&SN(e)),t}function SN(t){Sa===null?Sa=t:Sa.push.apply(Sa,t)}function OCe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bu(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function t0(t,e){for(e&=~xN,e&=~Y9,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vu(e),r=1<<n;t[n]=-1,e&=~r}}function $Y(t){if(On&6)throw Error(Re(327));yw();var e=u9(t,0);if(!(e&1))return Ia(t,bi()),null;var n=nC(t,e);if(t.tag!==0&&n===2){var r=iP(t);r!==0&&(e=r,n=AN(t,r))}if(n===1)throw n=v5,lm(t,0),t0(t,e),Ia(t,bi()),n;if(n===6)throw Error(Re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,um(t,Sa,tf),Ia(t,bi()),null}function IN(t,e){var n=On;On|=1;try{return t(e)}finally{On=n,On===0&&(mw=bi()+500,$9&&Gp())}}function cm(t){Xp!==null&&Xp.tag===0&&!(On&6)&&yw();var e=On;On|=1;var n=El.transition,r=ir;try{if(El.transition=null,ir=1,t)return t()}finally{ir=r,El.transition=n,On=e,!(On&6)&&Gp()}}function kN(){Tc=gw.current,Br(gw)}function lm(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lCe(n)),ji!==null)for(n=ji.return;n!==null;){var r=n;switch(DP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&I9();break;case 3:hw(),Br(Ca),Br(po),YP();break;case 5:GP(r);break;case 4:hw();break;case 13:Br(ri);break;case 19:Br(ri);break;case 10:WP(r.type._context);break;case 22:case 23:kN()}n=n.return}if(ps=t,ji=t=n0(t.current,null),Ls=Tc=e,Ji=0,v5=null,xN=Y9=am=0,Sa=b5=null,im!==null){for(e=0;e<im.length;e++)if(n=im[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}im=null}return t}function TY(t,e){do{var n=ji;try{if(zP(),B9.current=W9,U9){for(var r=ii.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}U9=!1}if(om=0,fs=Yi=ii=null,f5=!1,p5=0,bN.current=null,n===null||n.return===null){Ji=1,v5=e,ji=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=Ls,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=tY(o);if(f!==null){f.flags&=-257,nY(f,o,a,s,e),f.mode&1&&eY(s,l,e),e=f,c=l;var g=e.updateQueue;if(g===null){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break e}else{if(!(e&1)){eY(s,l,e),$N();break e}c=Error(Re(426))}}else if(Zr&&a.mode&1){var y=tY(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),nY(y,o,a,s,e),UP(fw(c,a));break e}}s=c=fw(c,a),Ji!==4&&(Ji=2),b5===null?b5=[s]:b5.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=QZ(s,c,e);AZ(s,w);break e;case 1:a=c;var b=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qp===null||!Qp.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=XZ(s,a,e);AZ(s,E);break e}}s=s.return}while(s!==null)}OY(n)}catch(_){e=_,ji===n&&n!==null&&(ji=n=n.return);continue}break}while(!0)}function PY(){var t=Z9.current;return Z9.current=W9,t===null?W9:t}function $N(){(Ji===0||Ji===3||Ji===2)&&(Ji=4),ps===null||!(am&268435455)&&!(Y9&268435455)||t0(ps,Ls)}function nC(t,e){var n=On;On|=2;var r=PY();(ps!==t||Ls!==e)&&(tf=null,lm(t,e));do try{RCe();break}catch(i){TY(t,i)}while(!0);if(zP(),On=n,Z9.current=r,ji!==null)throw Error(Re(261));return ps=null,Ls=0,Ji}function RCe(){for(;ji!==null;)NY(ji)}function MCe(){for(;ji!==null&&!o9e();)NY(ji)}function NY(t){var e=jY(t.alternate,t,Tc);t.memoizedProps=t.pendingProps,e===null?OY(t):ji=e,bN.current=null}function OY(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kCe(n,e),n!==null){n.flags&=32767,ji=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ji=6,ji=null;return}}else if(n=ICe(n,e,Tc),n!==null){ji=n;return}if(e=e.sibling,e!==null){ji=e;return}ji=e=t}while(e!==null);Ji===0&&(Ji=5)}function um(t,e,n){var r=ir,i=El.transition;try{El.transition=null,ir=1,jCe(t,e,n,r)}finally{El.transition=i,ir=r}return null}function jCe(t,e,n,r){do yw();while(Xp!==null);if(On&6)throw Error(Re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Re(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(m9e(t,s),t===ps&&(ji=ps=null,Ls=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Q9||(Q9=!0,DY(o9,function(){return yw(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=El.transition,El.transition=null;var o=ir;ir=1;var a=On;On|=4,bN.current=null,TCe(t,n),CY(n,t),nCe($P),f9=!!kP,$P=kP=null,t.current=n,PCe(n),a9e(),On=a,ir=o,El.transition=s}else t.current=n;if(Q9&&(Q9=!1,Xp=t,X9=i),s=t.pendingLanes,s===0&&(Qp=null),u9e(n.stateNode),Ia(t,bi()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(J9)throw J9=!1,t=CN,CN=null,t;return X9&1&&t.tag!==0&&yw(),s=t.pendingLanes,s&1?t===_N?x5++:(x5=0,_N=t):x5=0,Gp(),null}function yw(){if(Xp!==null){var t=xG(X9),e=El.transition,n=ir;try{if(El.transition=null,ir=16>t?16:t,Xp===null)var r=!1;else{if(t=Xp,Xp=null,X9=0,On&6)throw Error(Re(331));var i=On;for(On|=4,pt=t.current;pt!==null;){var s=pt,o=s.child;if(pt.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(pt=l;pt!==null;){var u=pt;switch(u.tag){case 0:case 11:case 15:w5(8,u,s)}var d=u.child;if(d!==null)d.return=u,pt=d;else for(;pt!==null;){u=pt;var h=u.sibling,f=u.return;if(wY(u),u===l){pt=null;break}if(h!==null){h.return=f,pt=h;break}pt=f}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}pt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,pt=o;else e:for(;pt!==null;){if(s=pt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:w5(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,pt=w;break e}pt=s.return}}var b=t.current;for(pt=b;pt!==null;){o=pt;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,pt=v;else e:for(o=b;pt!==null;){if(a=pt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:G9(9,a)}}catch(_){ui(a,a.return,_)}if(a===o){pt=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,pt=E;break e}pt=a.return}}if(On=i,Gp(),Id&&typeof Id.onPostCommitFiberRoot=="function")try{Id.onPostCommitFiberRoot(a9,t)}catch{}r=!0}return r}finally{ir=n,El.transition=e}}return!1}function RY(t,e,n){e=fw(n,e),e=QZ(t,e,1),t=Yp(t,e,1),e=Yo(),t!==null&&(H3(t,1,e),Ia(t,e))}function ui(t,e,n){if(t.tag===3)RY(t,t,n);else for(;e!==null;){if(e.tag===3){RY(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qp===null||!Qp.has(r))){t=fw(n,t),t=XZ(e,t,1),e=Yp(e,t,1),t=Yo(),e!==null&&(H3(e,1,t),Ia(e,t));break}}e=e.return}}function DCe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yo(),t.pingedLanes|=t.suspendedLanes&n,ps===t&&(Ls&n)===n&&(Ji===4||Ji===3&&(Ls&130023424)===Ls&&500>bi()-EN?lm(t,0):xN|=n),Ia(t,e)}function MY(t,e){e===0&&(t.mode&1?(e=l9,l9<<=1,!(l9&130023424)&&(l9=4194304)):e=1);var n=Yo();t=Qh(t,e),t!==null&&(H3(t,e,n),Ia(t,n))}function LCe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MY(t,n)}function BCe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Re(314))}r!==null&&r.delete(e),MY(t,n)}var jY;jY=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ca.current)Aa=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Aa=!1,SCe(t,e,n);Aa=!!(t.flags&131072)}else Aa=!1,Zr&&e.flags&1048576&&gZ(e,P9,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;V9(t,e),t=e.pendingProps;var i=sw(e,po.current);dw(e,n),i=XP(null,e,r,t,i,n);var s=eN();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_a(r)?(s=!0,k9(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,VP(e),i.updater=q9,e.stateNode=i,i._reactInternals=e,oN(e,r,t,n),e=uN(null,e,r,!0,s,n)):(e.tag=0,Zr&&s&&jP(e),Zo(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(V9(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=FCe(r),t=Eu(r,t),i){case 0:e=lN(null,e,r,t,n);break e;case 1:e=cY(null,e,r,t,n);break e;case 11:e=rY(null,e,r,t,n);break e;case 14:e=iY(null,e,r,Eu(r.type,t),n);break e}throw Error(Re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Eu(r,i),lN(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Eu(r,i),cY(t,e,r,i,n);case 3:e:{if(lY(e),t===null)throw Error(Re(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_Z(t,e),D9(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=fw(Error(Re(423)),e),e=uY(t,e,r,n,i);break e}else if(r!==i){i=fw(Error(Re(424)),e),e=uY(t,e,r,n,i);break e}else for($c=Hp(e.stateNode.containerInfo.firstChild),kc=e,Zr=!0,xu=null,n=EZ(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cw(),r===i){e=ef(t,e,n);break e}Zo(t,e,r,n)}e=e.child}return e;case 5:return IZ(e),t===null&&BP(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,TP(r,i)?o=null:s!==null&&TP(r,s)&&(e.flags|=32),aY(t,e),Zo(t,e,o,n),e.child;case 6:return t===null&&BP(e),null;case 13:return dY(t,e,n);case 4:return KP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lw(e,null,r,n):Zo(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Eu(r,i),rY(t,e,r,i,n);case 7:return Zo(t,e,e.pendingProps,n),e.child;case 8:return Zo(t,e,e.pendingProps.children,n),e.child;case 12:return Zo(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,kr(R9,r._currentValue),r._currentValue=o,s!==null)if(bu(s.value,o)){if(s.children===i.children&&!Ca.current){e=ef(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Xh(-1,n&-n),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),qP(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Re(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qP(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,dw(e,n),i=bl(i),r=r(i),e.flags|=1,Zo(t,e,r,n),e.child;case 14:return r=e.type,i=Eu(r,e.pendingProps),i=Eu(r.type,i),iY(t,e,r,i,n);case 15:return sY(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Eu(r,i),V9(t,e),e.tag=1,_a(r)?(t=!0,k9(e)):t=!1,dw(e,n),YZ(e,r,i),oN(e,r,i,n),uN(null,e,r,!0,t,n);case 19:return fY(t,e,n);case 22:return oY(t,e,n)}throw Error(Re(156,e.tag))};function DY(t,e){return mG(t,e)}function UCe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cl(t,e,n,r){return new UCe(t,e,n,r)}function TN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FCe(t){if(typeof t=="function")return TN(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jT)return 11;if(t===BT)return 14}return 2}function n0(t,e){var n=t.alternate;return n===null?(n=Cl(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rC(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")TN(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vy:return dm(n.children,i,s,e);case RT:o=8,i|=8;break;case MT:return t=Cl(12,n,e,i|2),t.elementType=MT,t.lanes=s,t;case DT:return t=Cl(13,n,e,i),t.elementType=DT,t.lanes=s,t;case LT:return t=Cl(19,n,e,i),t.elementType=LT,t.lanes=s,t;case VK:return iC(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qK:o=10;break e;case HK:o=9;break e;case jT:o=11;break e;case BT:o=14;break e;case Dp:o=16,r=null;break e}throw Error(Re(130,t==null?t:typeof t,""))}return e=Cl(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function dm(t,e,n,r){return t=Cl(7,t,r,e),t.lanes=n,t}function iC(t,e,n,r){return t=Cl(22,t,r,e),t.elementType=VK,t.lanes=n,t.stateNode={isHidden:!1},t}function PN(t,e,n){return t=Cl(6,t,null,e),t.lanes=n,t}function NN(t,e,n){return e=Cl(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zCe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sP(0),this.expirationTimes=sP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ON(t,e,n,r,i,s,o,a,c){return t=new zCe(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cl(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},VP(s),t}function WCe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hy,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LY(t){if(!t)return Kp;t=t._reactInternals;e:{if(Xg(t)!==t||t.tag!==1)throw Error(Re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_a(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Re(171))}if(t.tag===1){var n=t.type;if(_a(n))return hZ(t,n,e)}return e}function BY(t,e,n,r,i,s,o,a,c){return t=ON(n,r,!0,t,i,s,o,a,c),t.context=LY(null),n=t.current,r=Yo(),i=e0(n),s=Xh(r,i),s.callback=e??null,Yp(n,s,i),t.current.lanes=i,H3(t,i,r),Ia(t,r),t}function sC(t,e,n,r){var i=e.current,s=Yo(),o=e0(i);return n=LY(n),e.context===null?e.context=n:e.pendingContext=n,e=Xh(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yp(i,e,o),t!==null&&(Au(t,i,o,s),j9(t,i,o)),o}function oC(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function UY(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function RN(t,e){UY(t,e),(t=t.alternate)&&UY(t,e)}function qCe(){return null}var FY=typeof reportError=="function"?reportError:function(t){console.error(t)};function MN(t){this._internalRoot=t}aC.prototype.render=MN.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Re(409));sC(t,e,null,null)},aC.prototype.unmount=MN.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cm(function(){sC(null,t,null,null)}),e[Gh]=null}};function aC(t){this._internalRoot=t}aC.prototype.unstable_scheduleHydration=function(t){if(t){var e=_G();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zp.length&&e!==0&&e<zp[n].priority;n++);zp.splice(n,0,t),n===0&&IG(t)}};function jN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zY(){}function HCe(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=oC(o);s.call(l)}}var o=BY(e,r,t,0,null,!1,!1,"",zY);return t._reactRootContainer=o,t[Gh]=o.current,s5(t.nodeType===8?t.parentNode:t),cm(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=oC(c);a.call(l)}}var c=ON(t,0,!1,null,null,!1,!1,"",zY);return t._reactRootContainer=c,t[Gh]=c.current,s5(t.nodeType===8?t.parentNode:t),cm(function(){sC(e,c,n,r)}),c}function lC(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=oC(o);a.call(c)}}sC(e,o,t,i)}else o=HCe(n,e,t,i,r);return oC(o)}EG=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=q3(e.pendingLanes);n!==0&&(oP(e,n|1),Ia(e,bi()),!(On&6)&&(mw=bi()+500,Gp()))}break;case 13:cm(function(){var r=Qh(t,1);if(r!==null){var i=Yo();Au(r,t,1,i)}}),RN(t,1)}},aP=function(t){if(t.tag===13){var e=Qh(t,134217728);if(e!==null){var n=Yo();Au(e,t,134217728,n)}RN(t,134217728)}},CG=function(t){if(t.tag===13){var e=e0(t),n=Qh(t,e);if(n!==null){var r=Yo();Au(n,t,e,r)}RN(t,e)}},_G=function(){return ir},AG=function(t,e){var n=ir;try{return ir=t,e()}finally{ir=n}},XT=function(t,e,n){switch(e){case"input":if(HT(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=S9(r);if(!i)throw Error(Re(90));ZK(r),HT(r,i)}}}break;case"textarea":eG(t,n);break;case"select":e=n.value,e!=null&&Ky(t,!!n.multiple,e,!1)}},lG=IN,uG=cm;var VCe={usingClientEntryPoint:!1,Events:[c5,rw,S9,aG,cG,IN]},E5={findFiberByHostInstance:em,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KCe={bundleType:E5.bundleType,version:E5.version,rendererPackageName:E5.rendererPackageName,rendererConfig:E5.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kh.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pG(t),t===null?null:t.stateNode},findFiberByHostInstance:E5.findFiberByHostInstance||qCe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uC.isDisabled&&uC.supportsFiber)try{a9=uC.inject(KCe),Id=uC}catch{}}Ac.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VCe,Ac.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jN(e))throw Error(Re(200));return WCe(t,e,null,n)},Ac.createRoot=function(t,e){if(!jN(t))throw Error(Re(299));var n=!1,r="",i=FY;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ON(t,1,!1,null,null,n,!1,r,i),t[Gh]=e.current,s5(t.nodeType===8?t.parentNode:t),new MN(e)},Ac.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):(t=Object.keys(t).join(","),Error(Re(268,t)));return t=pG(e),t=t===null?null:t.stateNode,t},Ac.flushSync=function(t){return cm(t)},Ac.hydrate=function(t,e,n){if(!cC(e))throw Error(Re(200));return lC(null,t,e,!0,n)},Ac.hydrateRoot=function(t,e,n){if(!jN(t))throw Error(Re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=FY;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=BY(e,null,t,1,n??null,i,!1,s,o),t[Gh]=e.current,s5(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new aC(e)},Ac.render=function(t,e,n){if(!cC(e))throw Error(Re(200));return lC(null,t,e,!1,n)},Ac.unmountComponentAtNode=function(t){if(!cC(t))throw Error(Re(40));return t._reactRootContainer?(cm(function(){lC(null,null,t,!1,function(){t._reactRootContainer=null,t[Gh]=null})}),!0):!1},Ac.unstable_batchedUpdates=IN,Ac.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cC(n))throw Error(Re(200));if(t==null||t._reactInternals===void 0)throw Error(Re(38));return lC(t,e,n,!1,r)},Ac.version="18.3.1-next-f1338f8080-20240426";function WY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WY)}catch(t){console.error(t)}}WY(),LK.exports=Ac;var Nd=LK.exports,qY=Nd;$T.createRoot=qY.createRoot,$T.hydrateRoot=qY.hydrateRoot;const eVt="modulepreload",tVt=function(t){return"/"+t},nVt={},De=function(e,n,r){let i=Promise.resolve();function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function GCe(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function ZCe(){const t=new Set;let e=[];const n=()=>GCe(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var gt={},DN={exports:{}};(function(t,e){(function(n,r){var i="1.0.41",s="",o="?",a="function",c="undefined",l="object",u="string",d="major",h="model",f="name",g="type",m="vendor",y="version",w="architecture",b="console",v="mobile",E="tablet",_="smarttv",O="wearable",S="embedded",R=500,I="Amazon",D="Apple",j="ASUS",F="BlackBerry",M="Browser",C="Chrome",x="Edge",A="Firefox",P="Google",N="Honor",$="Huawei",L="Lenovo",B="LG",T="Microsoft",z="Motorola",q="Nvidia",U="OnePlus",V="Opera",Z="OPPO",K="Samsung",J="Sharp",oe="Sony",se="Xiaomi",ae="Zebra",fe="Facebook",ce="Chromium OS",de="Mac OS",ot=" Browser",he=function(Oe,Le){var we={};for(var lt in Oe)Le[lt]&&Le[lt].length%2===0?we[lt]=Le[lt].concat(Oe[lt]):we[lt]=Oe[lt];return we},Ae=function(Oe){for(var Le={},we=0;we<Oe.length;we++)Le[Oe[we].toUpperCase()]=Oe[we];return Le},_e=function(Oe,Le){return typeof Oe===u?ge(Le).indexOf(ge(Oe))!==-1:!1},ge=function(Oe){return Oe.toLowerCase()},Ee=function(Oe){return typeof Oe===u?Oe.replace(/[^\d\.]/g,s).split(".")[0]:r},Wt=function(Oe,Le){if(typeof Oe===u)return Oe=Oe.replace(/^\s\s*/,s),typeof Le===c?Oe:Oe.substring(0,R)},ye=function(Oe,Le){for(var we=0,lt,St,ht,It,Ue,Nt;we<Le.length&&!Ue;){var Kt=Le[we],qt=Le[we+1];for(lt=St=0;lt<Kt.length&&!Ue&&Kt[lt];)if(Ue=Kt[lt++].exec(Oe),Ue)for(ht=0;ht<qt.length;ht++)Nt=Ue[++St],It=qt[ht],typeof It===l&&It.length>0?It.length===2?typeof It[1]==a?this[It[0]]=It[1].call(this,Nt):this[It[0]]=It[1]:It.length===3?typeof It[1]===a&&!(It[1].exec&&It[1].test)?this[It[0]]=Nt?It[1].call(this,Nt,It[2]):r:this[It[0]]=Nt?Nt.replace(It[1],It[2]):r:It.length===4&&(this[It[0]]=Nt?It[3].call(this,Nt.replace(It[1],It[2])):r):this[It]=Nt||r;we+=2}},je=function(Oe,Le){for(var we in Le)if(typeof Le[we]===l&&Le[we].length>0){for(var lt=0;lt<Le[we].length;lt++)if(_e(Le[we][lt],Oe))return we===o?r:we}else if(_e(Le[we],Oe))return we===o?r:we;return Le.hasOwnProperty("*")?Le["*"]:Oe},Ye={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},bt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ft={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,y],[/opios[\/ ]+([\w\.]+)/i],[y,[f,V+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[f,V+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[f,V]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[f,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[f,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[f,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[f,"UC"+M]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[f,"Smart Lenovo "+M]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+M],y],[/\bfocus\/([\w\.]+)/i],[y,[f,A+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[f,V+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[f,V+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[f,"MIUI"+ot]],[/fxios\/([\w\.-]+)/i],[y,[f,A]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[f,"360"]],[/\b(qq)\/([\w\.]+)/i],[[f,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1"+ot],y],[/samsungbrowser\/([\w\.]+)/i],[y,[f,K+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[f,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[f],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,fe],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[f,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,C+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[f,"Android "+M]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[y,je,Ye]],[/(webkit|khtml)\/([\w\.]+)/i],[f,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[f,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[f,A+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[f,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[f,[y,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[w,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[w,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[w,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[w,/ower/,s,ge]],[/ sun4\w[;\)]/i],[[w,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[w,ge]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[m,K],[g,E]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[h,[m,K],[g,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[m,D],[g,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[m,D],[g,E]],[/(macintosh);/i],[h,[m,D]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[m,J],[g,v]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[h,[m,N],[g,E]],[/honor([-\w ]+)[;\)]/i],[h,[m,N],[g,v]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[h,[m,$],[g,E]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[m,$],[g,v]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[h,/_/g," "],[m,se],[g,E]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[h,/_/g," "],[m,se],[g,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[m,Z],[g,v]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[h,[m,je,{OnePlus:["304","403","203"],"*":Z}],[g,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[m,"Vivo"],[g,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[m,"Realme"],[g,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[m,z],[g,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[m,z],[g,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[m,B],[g,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[m,B],[g,v]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[h,[m,L],[g,E]],[/(nokia) (t[12][01])/i],[m,h,[g,E]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[h,/_/g," "],[g,v],[m,"Nokia"]],[/(pixel (c|tablet))\b/i],[h,[m,P],[g,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[m,P],[g,v]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[m,oe],[g,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[m,oe],[g,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[m,U],[g,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[m,I],[g,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[m,I],[g,v]],[/(playbook);[-\w\),; ]+(rim)/i],[h,m,[g,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[m,F],[g,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[m,j],[g,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[m,j],[g,v]],[/(nexus 9)/i],[h,[m,"HTC"],[g,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[h,/_/g," "],[g,v]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[h,[m,"TCL"],[g,E]],[/(itel) ((\w+))/i],[[m,ge],h,[g,je,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[m,"Acer"],[g,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[m,"Meizu"],[g,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[m,"Ulefone"],[g,v]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[h,[m,"Energizer"],[g,v]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[h,[m,"Cat"],[g,v]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[h,[m,"Smartfren"],[g,v]],[/droid.+; (a(?:015|06[35]|142p?))/i],[h,[m,"Nothing"],[g,v]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[h,[m,"Archos"],[g,E]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[h,[m,"Archos"],[g,v]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[m,h,[g,E]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[m,h,[g,v]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,h,[g,E]],[/(surface duo)/i],[h,[m,T],[g,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[m,"Fairphone"],[g,v]],[/(u304aa)/i],[h,[m,"AT&T"],[g,v]],[/\bsie-(\w*)/i],[h,[m,"Siemens"],[g,v]],[/\b(rct\w+) b/i],[h,[m,"RCA"],[g,E]],[/\b(venue[\d ]{2,7}) b/i],[h,[m,"Dell"],[g,E]],[/\b(q(?:mv|ta)\w+) b/i],[h,[m,"Verizon"],[g,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[m,"Barnes & Noble"],[g,E]],[/\b(tm\d{3}\w+) b/i],[h,[m,"NuVision"],[g,E]],[/\b(k88) b/i],[h,[m,"ZTE"],[g,E]],[/\b(nx\d{3}j) b/i],[h,[m,"ZTE"],[g,v]],[/\b(gen\d{3}) b.+49h/i],[h,[m,"Swiss"],[g,v]],[/\b(zur\d{3}) b/i],[h,[m,"Swiss"],[g,E]],[/\b((zeki)?tb.*\b) b/i],[h,[m,"Zeki"],[g,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],h,[g,E]],[/\b(ns-?\w{0,9}) b/i],[h,[m,"Insignia"],[g,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[m,"NextBook"],[g,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],h,[g,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],h,[g,v]],[/\b(ph-1) /i],[h,[m,"Essential"],[g,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[m,"Envizen"],[g,E]],[/\b(trio[-\w\. ]+) b/i],[h,[m,"MachSpeed"],[g,E]],[/\btu_(1491) b/i],[h,[m,"Rotor"],[g,E]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[h,[m,q],[g,E]],[/(sprint) (\w+)/i],[m,h,[g,v]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[m,T],[g,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[m,ae],[g,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[m,ae],[g,v]],[/smart-tv.+(samsung)/i],[m,[g,_]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[m,K],[g,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,B],[g,_]],[/(apple) ?tv/i],[m,[h,D+" TV"],[g,_]],[/crkey/i],[[h,C+"cast"],[m,P],[g,_]],[/droid.+aft(\w+)( bui|\))/i],[h,[m,I],[g,_]],[/(shield \w+ tv)/i],[h,[m,q],[g,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[m,J],[g,_]],[/(bravia[\w ]+)( bui|\))/i],[h,[m,oe],[g,_]],[/(mi(tv|box)-?\w+) bui/i],[h,[m,se],[g,_]],[/Hbbtv.*(technisat) (.*);/i],[m,h,[g,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Wt],[h,Wt],[g,_]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[h,[g,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,h,[g,b]],[/droid.+; (shield)( bui|\))/i],[h,[m,q],[g,b]],[/(playstation \w+)/i],[h,[m,oe],[g,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[m,T],[g,b]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[h,[m,K],[g,O]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[m,h,[g,O]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[h,[m,Z],[g,O]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[m,D],[g,O]],[/(opwwe\d{3})/i],[h,[m,U],[g,O]],[/(moto 360)/i],[h,[m,z],[g,O]],[/(smartwatch 3)/i],[h,[m,oe],[g,O]],[/(g watch r)/i],[h,[m,B],[g,O]],[/droid.+; (wt63?0{2,3})\)/i],[h,[m,ae],[g,O]],[/droid.+; (glass) \d/i],[h,[m,P],[g,O]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,h,[g,O]],[/; (quest( \d| pro)?)/i],[h,[m,fe],[g,O]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[g,S]],[/(aeobc)\b/i],[h,[m,I],[g,S]],[/(homepod).+mac os/i],[h,[m,D],[g,S]],[/windows iot/i],[[g,S]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[g,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[g,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,v]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[h,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[f,x+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[f,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,y],[/ladybird\//i],[[f,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,y],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[f,[y,je,bt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,je,bt],[f,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,de],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,f],[/(ubuntu) ([\w\.]+) like android/i],[[f,/(.+)/,"$1 Touch"],y],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[f,y],[/\(bb(10);/i],[y,[f,F]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[y,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[f,A+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[f,C+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,ce],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,y],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,y]]},Xt=function(Oe,Le){if(typeof Oe===l&&(Le=Oe,Oe=r),!(this instanceof Xt))return new Xt(Oe,Le).getResult();var we=typeof n!==c&&n.navigator?n.navigator:r,lt=Oe||(we&&we.userAgent?we.userAgent:s),St=we&&we.userAgentData?we.userAgentData:r,ht=Le?he(ft,Le):ft,It=we&&we.userAgent==lt;return this.getBrowser=function(){var Ue={};return Ue[f]=r,Ue[y]=r,ye.call(Ue,lt,ht.browser),Ue[d]=Ee(Ue[y]),It&&we&&we.brave&&typeof we.brave.isBrave==a&&(Ue[f]="Brave"),Ue},this.getCPU=function(){var Ue={};return Ue[w]=r,ye.call(Ue,lt,ht.cpu),Ue},this.getDevice=function(){var Ue={};return Ue[m]=r,Ue[h]=r,Ue[g]=r,ye.call(Ue,lt,ht.device),It&&!Ue[g]&&St&&St.mobile&&(Ue[g]=v),It&&Ue[h]=="Macintosh"&&we&&typeof we.standalone!==c&&we.maxTouchPoints&&we.maxTouchPoints>2&&(Ue[h]="iPad",Ue[g]=E),Ue},this.getEngine=function(){var Ue={};return Ue[f]=r,Ue[y]=r,ye.call(Ue,lt,ht.engine),Ue},this.getOS=function(){var Ue={};return Ue[f]=r,Ue[y]=r,ye.call(Ue,lt,ht.os),It&&!Ue[f]&&St&&St.platform&&St.platform!="Unknown"&&(Ue[f]=St.platform.replace(/chrome os/i,ce).replace(/macos/i,de)),Ue},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return lt},this.setUA=function(Ue){return lt=typeof Ue===u&&Ue.length>R?Wt(Ue,R):Ue,this},this.setUA(lt),this};Xt.VERSION=i,Xt.BROWSER=Ae([f,y,d]),Xt.CPU=Ae([w]),Xt.DEVICE=Ae([h,m,g,b,v,_,E,O,S]),Xt.ENGINE=Xt.OS=Ae([f,y]),t.exports&&(e=t.exports=Xt),e.UAParser=Xt;var Ot=typeof n!==c&&(n.jQuery||n.Zepto);if(Ot&&!Ot.ua){var At=new Xt;Ot.ua=At.getResult(),Ot.ua.get=function(){return At.getUA()},Ot.ua.set=function(Oe){At.setUA(Oe);var Le=At.getResult();for(var we in Le)Ot.ua[we]=Le[we]}}})(typeof window=="object"?window:Ea)})(DN,DN.exports);var YCe=DN.exports;Object.defineProperty(gt,"__esModule",{value:!0});function JCe(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var wo=k,$r=JCe(wo),HY=YCe,r0=new HY,vo=r0.getBrowser(),QCe=r0.getCPU(),Pc=r0.getDevice(),LN=r0.getEngine(),i0=r0.getOS(),C5=r0.getUA(),VY=function(e){return r0.setUA(e)},_5=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new HY(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},KY=Object.freeze({ClientUAInstance:r0,browser:vo,cpu:QCe,device:Pc,engine:LN,os:i0,ua:C5,setUa:VY,parseUserAgent:_5});function GY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XCe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GY(Object(n),!0).forEach(function(r){r7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A5(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A5=function(e){return typeof e}:A5=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A5(t)}function e7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n7e(t,e,n){return e&&t7e(t.prototype,e),t}function r7e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BN(){return BN=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BN.apply(this,arguments)}function i7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FN(t,e)}function UN(t){return UN=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},UN(t)}function FN(t,e){return FN=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},FN(t,e)}function s7e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _l(t,e){if(t==null)return{};var n=s7e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o7e(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dC(t)}function a7e(t,e){return c7e(t)||l7e(t,e)||u7e(t,e)||d7e()}function c7e(t){if(Array.isArray(t))return t}function l7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function u7e(t,e){if(t){if(typeof t=="string")return ZY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZY(t,e)}}function ZY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bo={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},ka={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},ww={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},h7e={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},f7e=function(e){switch(e){case bo.Mobile:return{isMobile:!0};case bo.Tablet:return{isTablet:!0};case bo.SmartTv:return{isSmartTV:!0};case bo.Console:return{isConsole:!0};case bo.Wearable:return{isWearable:!0};case bo.Browser:return{isBrowser:!0};case bo.Embedded:return{isEmbedded:!0};default:return h7e}},p7e=function(e){return VY(e)},Gt=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},zN=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},WN=function(e){var n=zN();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},g7e=function(e,n,r,i,s){return{isBrowser:e,browserMajorVersion:Gt(n.major),browserFullVersion:Gt(n.version),browserName:Gt(n.name),engineName:Gt(r.name),engineVersion:Gt(r.version),osName:Gt(i.name),osVersion:Gt(i.version),userAgent:Gt(s)}},YY=function(e,n,r,i){return XCe({},e,{vendor:Gt(n.vendor),model:Gt(n.model),os:Gt(r.name),osVersion:Gt(r.version),ua:Gt(i)})},m7e=function(e,n,r,i){return{isSmartTV:e,engineName:Gt(n.name),engineVersion:Gt(n.version),osName:Gt(r.name),osVersion:Gt(r.version),userAgent:Gt(i)}},y7e=function(e,n,r,i){return{isConsole:e,engineName:Gt(n.name),engineVersion:Gt(n.version),osName:Gt(r.name),osVersion:Gt(r.version),userAgent:Gt(i)}},w7e=function(e,n,r,i){return{isWearable:e,engineName:Gt(n.name),engineVersion:Gt(n.version),osName:Gt(r.name),osVersion:Gt(r.version),userAgent:Gt(i)}},v7e=function(e,n,r,i,s){return{isEmbedded:e,vendor:Gt(n.vendor),model:Gt(n.model),engineName:Gt(r.name),engineVersion:Gt(r.version),osName:Gt(i.name),osVersion:Gt(i.version),userAgent:Gt(s)}};function b7e(t){var e=t?_5(t):KY,n=e.device,r=e.browser,i=e.engine,s=e.os,o=e.ua,a=f7e(n.type),c=a.isBrowser,l=a.isMobile,u=a.isTablet,d=a.isSmartTV,h=a.isConsole,f=a.isWearable,g=a.isEmbedded;if(c)return g7e(c,r,i,s,o);if(d)return m7e(d,i,s,o);if(h)return y7e(h,i,s,o);if(l||u)return YY(a,n,s,o);if(f)return w7e(f,i,s,o);if(g)return v7e(g,n,i,s,o)}var JY=function(e){var n=e.type;return n===bo.Mobile},QY=function(e){var n=e.type;return n===bo.Tablet},XY=function(e){var n=e.type;return n===bo.Mobile||n===bo.Tablet},eJ=function(e){var n=e.type;return n===bo.SmartTv},hC=function(e){var n=e.type;return n===bo.Browser},tJ=function(e){var n=e.type;return n===bo.Wearable},nJ=function(e){var n=e.type;return n===bo.Console},rJ=function(e){var n=e.type;return n===bo.Embedded},iJ=function(e){var n=e.vendor;return Gt(n)},sJ=function(e){var n=e.model;return Gt(n)},oJ=function(e){var n=e.type;return Gt(n,"browser")},aJ=function(e){var n=e.name;return n===ww.Android},cJ=function(e){var n=e.name;return n===ww.Windows},lJ=function(e){var n=e.name;return n===ww.MAC_OS},uJ=function(e){var n=e.name;return n===ww.WindowsPhone},dJ=function(e){var n=e.name;return n===ww.IOS},hJ=function(e){var n=e.version;return Gt(n)},fJ=function(e){var n=e.name;return Gt(n)},pJ=function(e){var n=e.name;return n===ka.Chrome},gJ=function(e){var n=e.name;return n===ka.Firefox},mJ=function(e){var n=e.name;return n===ka.Chromium},fC=function(e){var n=e.name;return n===ka.Edge},yJ=function(e){var n=e.name;return n===ka.Yandex},wJ=function(e){var n=e.name;return n===ka.Safari||n===ka.MobileSafari},vJ=function(e){var n=e.name;return n===ka.MobileSafari},bJ=function(e){var n=e.name;return n===ka.Opera},xJ=function(e){var n=e.name;return n===ka.InternetExplorer||n===ka.Ie},EJ=function(e){var n=e.name;return n===ka.MIUI},CJ=function(e){var n=e.name;return n===ka.SamsungBrowser},_J=function(e){var n=e.version;return Gt(n)},AJ=function(e){var n=e.major;return Gt(n)},SJ=function(e){var n=e.name;return Gt(n)},IJ=function(e){var n=e.name;return Gt(n)},kJ=function(e){var n=e.version;return Gt(n)},$J=function(){var e=zN(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},vw=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},TJ=function(){var e=zN();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},Od=function(){return WN("iPad")},PJ=function(){return WN("iPhone")},NJ=function(){return WN("iPod")},OJ=function(e){return Gt(e)};function RJ(t){var e=t||KY,n=e.device,r=e.browser,i=e.os,s=e.engine,o=e.ua;return{isSmartTV:eJ(n),isConsole:nJ(n),isWearable:tJ(n),isEmbedded:rJ(n),isMobileSafari:vJ(r)||Od(),isChromium:mJ(r),isMobile:XY(n)||Od(),isMobileOnly:JY(n),isTablet:QY(n)||Od(),isBrowser:hC(n),isDesktop:hC(n),isAndroid:aJ(i),isWinPhone:uJ(i),isIOS:dJ(i)||Od(),isChrome:pJ(r),isFirefox:gJ(r),isSafari:wJ(r),isOpera:bJ(r),isIE:xJ(r),osVersion:hJ(i),osName:fJ(i),fullBrowserVersion:_J(r),browserVersion:AJ(r),browserName:SJ(r),mobileVendor:iJ(n),mobileModel:sJ(n),engineName:IJ(s),engineVersion:kJ(s),getUA:OJ(o),isEdge:fC(r)||vw(o),isYandex:yJ(r),deviceType:oJ(n),isIOS13:TJ(),isIPad13:Od(),isIPhone13:PJ(),isIPod13:NJ(),isElectron:$J(),isEdgeChromium:vw(o),isLegacyEdge:fC(r)&&!vw(o),isWindows:cJ(i),isMacOs:lJ(i),isMIUI:EJ(r),isSamsungBrowser:CJ(r)}}var MJ=eJ(Pc),jJ=nJ(Pc),DJ=tJ(Pc),x7e=rJ(Pc),E7e=vJ(vo)||Od(),C7e=mJ(vo),pC=XY(Pc)||Od(),LJ=JY(Pc),BJ=QY(Pc)||Od(),UJ=hC(Pc),_7e=hC(Pc),FJ=aJ(i0),zJ=uJ(i0),WJ=dJ(i0)||Od(),A7e=pJ(vo),S7e=gJ(vo),I7e=wJ(vo),k7e=bJ(vo),qJ=xJ(vo),$7e=hJ(i0),T7e=fJ(i0),P7e=_J(vo),N7e=AJ(vo),O7e=SJ(vo),R7e=iJ(Pc),M7e=sJ(Pc),j7e=IJ(LN),D7e=kJ(LN),L7e=OJ(C5),B7e=fC(vo)||vw(C5),U7e=yJ(vo),F7e=oJ(Pc),z7e=TJ(),W7e=Od(),q7e=PJ(),H7e=NJ(),V7e=$J(),K7e=vw(C5),G7e=fC(vo)&&!vw(C5),Z7e=cJ(i0),Y7e=lJ(i0),J7e=EJ(vo),Q7e=CJ(vo),X7e=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=_5(e),r=n.device,i=n.browser,s=n.os,o=n.engine,a=n.ua;return RJ({device:r,browser:i,os:s,engine:o,ua:a})},e_e=function(e){var n=e.renderWithFragment,r=e.children,i=_l(e,["renderWithFragment","children"]);return FJ?n?$r.createElement(wo.Fragment,null,r):$r.createElement("div",i,r):null},t_e=function(e){var n=e.renderWithFragment,r=e.children,i=_l(e,["renderWithFragment","children"]);return UJ?n?$r.createElement(wo.Fragment,null,r):$r.createElement("div",i,r):null},n_e=function(e){var n=e.renderWithFragment,r=e.children,i=_l(e,["renderWithFragment","children"]);return qJ?n?$r.createElement(wo.Fragment,null,r):$r.createElement("div",i,r):null},r_e=function(e){var n=e.renderWithFragment,r=e.children,i=_l(e,["renderWithFragment","children"]);return WJ?n?$r.createElement(wo.Fragment,null,r):$r.createElement("div",i,r):null},i_e=function(e){var n=e.renderWithFragment,r=e.children,i=_l(e,["renderWithFragment","children"]);return pC?n?$r.createElement(wo.Fragment,null,r):$r.createElement("div",i,r):null},s_e=function(e){var n=e.renderWithFragment,r=e.children,i=_l(e,["renderWithFragment","children"]);return BJ?n?$r.createElement(wo.Fragment,null,r):$r.createElement("div",i,r):null},o_e=function(e){var n=e.renderWithFragment,r=e.children,i=_l(e,["renderWithFragment","children"]);return zJ?n?$r.createElement(wo.Fragment,null,r):$r.createElement("div",i,r):null},a_e=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=_l(e,["renderWithFragment","children","viewClassName","style"]);return LJ?n?$r.createElement(wo.Fragment,null,r):$r.createElement("div",i,r):null},c_e=function(e){var n=e.renderWithFragment,r=e.children,i=_l(e,["renderWithFragment","children"]);return MJ?n?$r.createElement(wo.Fragment,null,r):$r.createElement("div",i,r):null},l_e=function(e){var n=e.renderWithFragment,r=e.children,i=_l(e,["renderWithFragment","children"]);return jJ?n?$r.createElement(wo.Fragment,null,r):$r.createElement("div",i,r):null},u_e=function(e){var n=e.renderWithFragment,r=e.children,i=_l(e,["renderWithFragment","children"]);return DJ?n?$r.createElement(wo.Fragment,null,r):$r.createElement("div",i,r):null},d_e=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,s=_l(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?$r.createElement(wo.Fragment,null,r):$r.createElement("div",s,r):null};function h_e(t){return function(e){i7e(n,e);function n(r){var i;return e7e(this,n),i=o7e(this,UN(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(dC(i)),i.onOrientationChange=i.onOrientationChange.bind(dC(i)),i.onPageLoad=i.onPageLoad.bind(dC(i)),i.state={isLandscape:!1,isPortrait:!1},i}return n7e(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":A5(window))!==void 0&&pC&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return $r.createElement(t,BN({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}($r.Component)}function f_e(){var t=wo.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),e=a7e(t,2),n=e[0],r=e[1],i=wo.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,o={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};n.orientation!==o.orientation&&r(o)},[n.orientation]);return wo.useEffect(function(){return(typeof window>"u"?"undefined":A5(window))!==void 0&&pC&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function HJ(t){var e=t||window.navigator.userAgent;return _5(e)}function p_e(t){var e=t||window.navigator.userAgent,n=HJ(e),r=RJ(n);return[r,n]}gt.AndroidView=e_e,gt.BrowserTypes=ka,gt.BrowserView=t_e,gt.ConsoleView=l_e,gt.CustomView=d_e,gt.IEView=n_e,gt.IOSView=r_e,gt.MobileOnlyView=a_e,gt.MobileView=i_e,gt.OsTypes=ww,gt.SmartTVView=c_e,gt.TabletView=s_e,gt.WearableView=u_e,gt.WinPhoneView=o_e,gt.browserName=O7e,gt.browserVersion=N7e,gt.deviceDetect=b7e,gt.deviceType=F7e,gt.engineName=j7e,gt.engineVersion=D7e,gt.fullBrowserVersion=P7e,gt.getSelectorsByUserAgent=X7e,gt.getUA=L7e;var g_e=gt.isAndroid=FJ;gt.isBrowser=UJ,gt.isChrome=A7e,gt.isChromium=C7e,gt.isConsole=jJ,gt.isDesktop=_7e,gt.isEdge=B7e,gt.isEdgeChromium=K7e,gt.isElectron=V7e,gt.isEmbedded=x7e;var VJ=gt.isFirefox=S7e;gt.isIE=qJ;var qN=gt.isIOS=WJ;gt.isIOS13=z7e,gt.isIPad13=W7e,gt.isIPhone13=q7e,gt.isIPod13=H7e,gt.isLegacyEdge=G7e,gt.isMIUI=J7e,gt.isMacOs=Y7e;var Tr=gt.isMobile=pC;gt.isMobileOnly=LJ,gt.isMobileSafari=E7e,gt.isOpera=k7e;var m_e=gt.isSafari=I7e;gt.isSamsungBrowser=Q7e,gt.isSmartTV=MJ,gt.isTablet=BJ,gt.isWearable=DJ,gt.isWinPhone=zJ,gt.isWindows=Z7e,gt.isYandex=U7e,gt.mobileModel=M7e,gt.mobileVendor=R7e,gt.osName=T7e,gt.osVersion=$7e,gt.parseUserAgent=_5,gt.setUserAgent=p7e,gt.useDeviceData=HJ,gt.useDeviceSelectors=p_e,gt.useMobileOrientation=f_e,gt.withOrientationChange=h_e;const y_e="1.2.3";let $a=class vK extends Error{constructor(e,n={}){var o;const r=n.cause instanceof vK?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof vK&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${y_e}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function nf(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const KJ=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,GJ=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ZJ=/^\(.+?\).*?$/,YJ=/^tuple(?<array>(\[(\d*)\])*)$/;function HN(t){let e=t.type;if(YJ.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=HN(s),i<n-1&&(e+=", ")}const r=nf(YJ,t.type);return e+=`)${(r==null?void 0:r.array)||""}`,HN({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function bw(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=HN(i),r!==n-1&&(e+=", ")}return e}function gC(t){var e;return t.type==="function"?`function ${t.name}(${bw(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${bw(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${bw(t.inputs)})`:t.type==="error"?`error ${t.name}(${bw(t.inputs)})`:t.type==="constructor"?`constructor(${bw(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const JJ=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function w_e(t){return JJ.test(t)}function v_e(t){return nf(JJ,t)}const QJ=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function b_e(t){return QJ.test(t)}function x_e(t){return nf(QJ,t)}const XJ=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function E_e(t){return XJ.test(t)}function C_e(t){return nf(XJ,t)}const eQ=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function mC(t){return eQ.test(t)}function __e(t){return nf(eQ,t)}const tQ=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function A_e(t){return tQ.test(t)}function S_e(t){return nf(tQ,t)}const nQ=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function I_e(t){return nQ.test(t)}function k_e(t){return nf(nQ,t)}const $_e=/^receive\(\) external payable$/;function T_e(t){return $_e.test(t)}const rQ=new Set(["memory","indexed","storage","calldata"]),P_e=new Set(["indexed"]),VN=new Set(["calldata","memory","storage"]);class N_e extends $a{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class O_e extends $a{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class R_e extends $a{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class M_e extends $a{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class j_e extends $a{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class D_e extends $a{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class L_e extends $a{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class B_e extends $a{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class U_e extends $a{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class xw extends $a{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class F_e extends $a{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class z_e extends $a{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class W_e extends $a{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class q_e extends $a{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function H_e(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:`${t}${r}`}const KN=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function GN(t,e={}){if(E_e(t))return V_e(t,e);if(b_e(t))return K_e(t,e);if(w_e(t))return G_e(t,e);if(A_e(t))return Z_e(t,e);if(I_e(t))return Y_e(t);if(T_e(t))return{type:"receive",stateMutability:"payable"};throw new F_e({signature:t})}function V_e(t,e={}){const n=C_e(t);if(!n)throw new xw({signature:t,type:"function"});const r=Nc(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(rf(r[a],{modifiers:VN,structs:e,type:"function"}));const o=[];if(n.returns){const a=Nc(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(rf(a[l],{modifiers:VN,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function K_e(t,e={}){const n=x_e(t);if(!n)throw new xw({signature:t,type:"event"});const r=Nc(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(rf(r[o],{modifiers:P_e,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function G_e(t,e={}){const n=v_e(t);if(!n)throw new xw({signature:t,type:"error"});const r=Nc(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(rf(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function Z_e(t,e={}){const n=S_e(t);if(!n)throw new xw({signature:t,type:"constructor"});const r=Nc(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(rf(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function Y_e(t){const e=k_e(t);if(!e)throw new xw({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const J_e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Q_e=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,X_e=/^u?int$/;function rf(t,e){var d,h;const n=H_e(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(KN.has(n))return KN.get(n);const r=ZJ.test(t),i=nf(r?Q_e:J_e,t);if(!i)throw new j_e({param:t});if(i.name&&tAe(i.name))throw new D_e({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const f=Nc(i.type),g=[],m=f.length;for(let y=0;y<m;y++)g.push(rf(f[y],{structs:a}));l={components:g}}else if(i.type in a)c="tuple",l={components:a[i.type]};else if(X_e.test(i.type))c=`${i.type}256`;else if(i.type==="address payable")c="address";else if(c=i.type,(e==null?void 0:e.type)!=="struct"&&!iQ(c))throw new R_e({type:c});if(i.modifier){if(!((h=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&h.call(d,i.modifier)))throw new L_e({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(VN.has(i.modifier)&&!nAe(c,!!i.array))throw new B_e({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const u={type:`${c}${i.array??""}`,...s,...o,...l};return KN.set(n,u),u}function Nc(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?Nc(a,[...e,n.trim()]):Nc(a,e,`${n}${o}`,r);case"(":return Nc(a,e,`${n}${o}`,r+1);case")":return Nc(a,e,`${n}${o}`,r-1);default:return Nc(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new q_e({current:n,depth:r});return e.push(n.trim()),e}function iQ(t){return t==="address"||t==="bool"||t==="function"||t==="string"||KJ.test(t)||GJ.test(t)}const eAe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function tAe(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||KJ.test(t)||GJ.test(t)||eAe.test(t)}function nAe(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function ZN(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!mC(a))continue;const c=__e(a);if(!c)throw new xw({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const g=l[h].trim();if(!g)continue;const m=rf(g,{type:"struct"});u.push(m)}if(!u.length)throw new z_e({signature:a});e[c.name]=u}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=sQ(c,e)}return r}const rAe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function sQ(t=[],e={},n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(ZJ.test(o.type))r.push(o);else{const c=nf(rAe,o.type);if(!(c!=null&&c.type))throw new U_e({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new W_e({type:u});r.push({...o,type:`tuple${l??""}`,components:sQ(e[u],e,new Set([...n,u]))})}else if(iQ(u))r.push(o);else throw new O_e({type:u})}}return r}function YN(t){const e=ZN(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];mC(s)||n.push(GN(s,e))}return n}function oQ(t){let e;if(typeof t=="string")e=GN(t);else{const n=ZN(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!mC(s)){e=GN(s,n);break}}}if(!e)throw new N_e({signature:t});return e}function aQ(t){const e=[];if(typeof t=="string"){const n=Nc(t),r=n.length;for(let i=0;i<r;i++)e.push(rf(n[i],{modifiers:rQ}))}else{const n=ZN(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(mC(s))continue;const o=Nc(s),a=o.length;for(let c=0;c<a;c++)e.push(rf(o[c],{modifiers:rQ,structs:n}))}}if(e.length===0)throw new M_e({params:t});return e}function wr(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const cQ="2.44.2";let S5={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${cQ}`},pe=class bK extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof bK?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof bK&&n.cause.docsPath||n.docsPath,s=(a=S5.getDocsUrl)==null?void 0:a.call(S5,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...S5.version?[`Version: ${S5.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=cQ}walk(e){return lQ(this,e)}};function lQ(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?lQ(t.cause,e):e?null:t}let sf=class extends pe{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function si(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}let uQ=class extends pe{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},dQ=class extends pe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class hQ extends pe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Di(t,{dir:e,size:n=32}={}){return typeof t=="string"?s0(t,{dir:e,size:n}):iAe(t,{dir:e,size:n})}function s0(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new dQ({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function iAe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new dQ({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let JN=class extends pe{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},sAe=class extends pe{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class oAe extends pe{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let aAe=class extends pe{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Yr(t){return si(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Su(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Al(t,{size:e}){if(Yr(t)>e)throw new aAe({givenSize:Yr(t),maxSize:e})}function xi(t,e={}){const{signed:n}=e;e.size&&Al(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function cAe(t,e={}){let n=t;if(e.size&&(Al(n,{size:e.size}),n=Su(n)),Su(n)==="0x00")return!1;if(Su(n)==="0x01")return!0;throw new oAe(n)}function Ta(t,e={}){const n=xi(t,e),r=Number(n);if(!Number.isSafeInteger(r))throw new JN({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:e.signed,size:e.size,value:`${n}n`});return r}function QN(t,e={}){let n=Jo(t);return e.size&&(Al(n,{size:e.size}),n=Su(n,{dir:"right"})),new TextDecoder().decode(n)}const lAe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sr(t,e={}){return typeof t=="number"||typeof t=="bigint"?Te(t,e):typeof t=="string"?o0(t,e):typeof t=="boolean"?XN(t,e):Qi(t,e)}function XN(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Al(n,{size:e.size}),Di(n,{size:e.size})):n}function Qi(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=lAe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Al(r,{size:e.size}),Di(r,{dir:"right",size:e.size})):r}function Te(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new JN({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Di(a,{size:r}):a}const uAe=new TextEncoder;function o0(t,e={}){const n=uAe.encode(t);return Qi(n,e)}const dAe=new TextEncoder;function Ew(t,e={}){return typeof t=="number"||typeof t=="bigint"?fAe(t,e):typeof t=="boolean"?hAe(t,e):si(t)?Jo(t,e):af(t,e)}function hAe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Al(n,{size:e.size}),Di(n,{size:e.size})):n}const of={zero:48,nine:57,A:65,F:70,a:97,f:102};function fQ(t){if(t>=of.zero&&t<=of.nine)return t-of.zero;if(t>=of.A&&t<=of.F)return t-(of.A-10);if(t>=of.a&&t<=of.f)return t-(of.a-10)}function Jo(t,e={}){let n=t;e.size&&(Al(n,{size:e.size}),n=Di(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=fQ(r.charCodeAt(a++)),l=fQ(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new pe(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function fAe(t,e){const n=Te(t,e);return Jo(n)}function af(t,e={}){const n=dAe.encode(t);return typeof e.size=="number"?(Al(n,{size:e.size}),Di(n,{dir:"right",size:e.size})):n}const yC=BigInt(2**32-1),pQ=BigInt(32);function pAe(t,e=!1){return e?{h:Number(t&yC),l:Number(t>>pQ&yC)}:{h:Number(t>>pQ&yC)|0,l:Number(t&yC)|0}}function gQ(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=pAe(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const mQ=(t,e,n)=>t>>>n,yQ=(t,e,n)=>t<<32-n|e>>>n,Cw=(t,e,n)=>t>>>n|e<<32-n,_w=(t,e,n)=>t<<32-n|e>>>n,wC=(t,e,n)=>t<<64-n|e>>>n-32,vC=(t,e,n)=>t>>>n-32|e<<64-n,gAe=(t,e,n)=>t<<n|e>>>32-n,mAe=(t,e,n)=>e<<n|t>>>32-n,yAe=(t,e,n)=>e<<n-32|t>>>64-n,wAe=(t,e,n)=>t<<n-32|e>>>64-n;function cf(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const vAe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),bAe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,xAe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),EAe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,CAe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),_Ae=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Aw=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function bC(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hm(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function lf(t,...e){if(!bC(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function wQ(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");hm(t.outputLen),hm(t.blockLen)}function Sw(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vQ(t,e){lf(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function AAe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function a0(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function eO(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Rd(t,e){return t<<32-e|t>>>e}const SAe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function IAe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function kAe(t){for(let e=0;e<t.length;e++)t[e]=IAe(t[e]);return t}const bQ=SAe?t=>t:kAe,xQ=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",$Ae=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fm(t){if(lf(t),xQ)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=$Ae[t[n]];return e}const uf={_0:48,_9:57,A:65,F:70,a:97,f:102};function EQ(t){if(t>=uf._0&&t<=uf._9)return t-uf._0;if(t>=uf.A&&t<=uf.F)return t-(uf.A-10);if(t>=uf.a&&t<=uf.f)return t-(uf.a-10)}function xC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(xQ)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=EQ(t.charCodeAt(s)),a=EQ(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function TAe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function I5(t){return typeof t=="string"&&(t=TAe(t)),lf(t),t}function Md(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];lf(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let tO=class{};function EC(t){const e=r=>t().update(I5(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function PAe(t){const e=(r,i)=>t(i).update(I5(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function CC(t=32){if(Aw&&typeof Aw.getRandomValues=="function")return Aw.getRandomValues(new Uint8Array(t));if(Aw&&typeof Aw.randomBytes=="function")return Uint8Array.from(Aw.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const NAe=BigInt(0),k5=BigInt(1),OAe=BigInt(2),RAe=BigInt(7),MAe=BigInt(256),jAe=BigInt(113),CQ=[],_Q=[],AQ=[];for(let t=0,e=k5,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],CQ.push(2*(5*r+n)),_Q.push((t+1)*(t+2)/2%64);let i=NAe;for(let s=0;s<7;s++)e=(e<<k5^(e>>RAe)*jAe)%MAe,e&OAe&&(i^=k5<<(k5<<BigInt(s))-k5);AQ.push(i)}const SQ=gQ(AQ,!0),DAe=SQ[0],LAe=SQ[1],IQ=(t,e,n)=>n>32?yAe(t,e,n):gAe(t,e,n),kQ=(t,e,n)=>n>32?wAe(t,e,n):mAe(t,e,n);function $Q(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=IQ(l,u,1)^n[a],h=kQ(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=_Q[o],c=IQ(i,s,a),l=kQ(i,s,a),u=CQ[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=DAe[r],t[1]^=LAe[r]}a0(n)}let nO=class rEe extends tO{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,hm(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=AAe(this.state)}clone(){return this._cloneInto()}keccak(){bQ(this.state32),$Q(this.state32,this.rounds),bQ(this.state32),this.posOut=0,this.pos=0}update(e){Sw(this),e=I5(e),lf(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Sw(this,!1),lf(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hm(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(vQ(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,a0(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new rEe(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const c0=(t,e,n)=>EC(()=>new nO(e,t,n)),BAe=c0(6,144,224/8),UAe=c0(6,136,256/8),FAe=c0(6,104,384/8),zAe=c0(6,72,512/8),WAe=c0(1,144,224/8),_C=c0(1,136,256/8),qAe=c0(1,104,384/8),HAe=c0(1,72,512/8),TQ=(t,e,n)=>PAe((r={})=>new nO(e,t,r.dkLen===void 0?n:r.dkLen,!0)),VAe=Object.freeze(Object.defineProperty({__proto__:null,Keccak:nO,keccakP:$Q,keccak_224:WAe,keccak_256:_C,keccak_384:qAe,keccak_512:HAe,sha3_224:BAe,sha3_256:UAe,sha3_384:FAe,sha3_512:zAe,shake128:TQ(31,168,128/8),shake256:TQ(31,136,256/8)},Symbol.toStringTag,{value:"Module"}));function Pr(t,e){const n=e||"hex",r=_C(si(t,{strict:!1})?Ew(t):t);return n==="bytes"?r:sr(r)}let pm=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const KAe=/^0x[a-fA-F0-9]{40}$/,rO=new pm(8192);function Li(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(rO.has(r))return rO.get(r);const i=KAe.test(t)?t.toLowerCase()===t?!0:n?$5(t)===t:!0:!1;return rO.set(r,i),i}const iO=new pm(8192);function $5(t,e){if(iO.has(`${t}.${e}`))return iO.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Pr(af(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return iO.set(`${t}.${e}`,s),s}function Ei(t,e){if(!Li(t,{strict:!1}))throw new sf({address:t});return $5(t,e)}function GAe(t){const e=Pr(`0x${t.substring(4)}`).substring(26);return $5(`0x${e}`)}function Iu(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new oSe(t.type);return`${t.name}(${AC(t.inputs,{includeName:e})})`}function AC(t,{includeName:e=!1}={}){return t?t.map(n=>ZAe(n,{includeName:e})).join(e?", ":","):""}function ZAe(t,{includeName:e}){return t.type.startsWith("tuple")?`(${AC(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class YAe extends pe{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class PQ extends pe{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class NQ extends pe{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${AC(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class T5 extends pe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class JAe extends pe{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class QAe extends pe{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Yr(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class OQ extends pe{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class XAe extends pe{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class RQ extends pe{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class MQ extends pe{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class eSe extends pe{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class tSe extends pe{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class jQ extends pe{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Iw extends pe{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class DQ extends pe{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class nSe extends pe{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class rSe extends pe{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Iu(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Iu(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let LQ=class extends pe{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class SC extends pe{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${AC(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class sO extends pe{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Iu(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class iSe extends pe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class sSe extends pe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let BQ=class extends pe{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class oSe extends pe{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class aSe extends pe{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let UQ=class extends pe{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},FQ=class extends pe{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},cSe=class extends pe{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const lSe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new cSe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new FQ({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new UQ({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new UQ({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function oO(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(lSe);return n.bytes=t,n.dataView=new DataView(t.buffer??t,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function gm(t,e,n,{strict:r}={}){return si(t,{strict:!1})?aO(t,e,n,{strict:r}):qQ(t,e,n,{strict:r})}function zQ(t,e){if(typeof e=="number"&&e>0&&e>Yr(t)-1)throw new uQ({offset:e,position:"start",size:Yr(t)})}function WQ(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Yr(t)!==n-e)throw new uQ({offset:n,position:"end",size:Yr(t)})}function qQ(t,e,n,{strict:r}={}){zQ(t,e);const i=t.slice(e,n);return r&&WQ(i,e,n),i}function aO(t,e,n,{strict:r}={}){zQ(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&WQ(i,e,n),i}function uSe(t,e={}){typeof e.size<"u"&&Al(t,{size:e.size});const n=Qi(t,e);return xi(n,e)}function dSe(t,e={}){let n=t;if(typeof e.size<"u"&&(Al(n,{size:e.size}),n=Su(n)),n.length>1||n[0]>1)throw new sAe(n);return!!n[0]}function df(t,e={}){typeof e.size<"u"&&Al(t,{size:e.size});const n=Qi(t,e);return Ta(n,e)}function hSe(t,e={}){let n=t;return typeof e.size<"u"&&(Al(n,{size:e.size}),n=Su(n,{dir:"right"})),new TextDecoder().decode(n)}function Xi(t){return typeof t[0]=="string"?hf(t):fSe(t)}function fSe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function hf(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}const pSe=/^(.*)\[([0-9]*)\]$/,HQ=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,cO=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Pa(t,e){if(t.length!==e.length)throw new OQ({expectedLength:t.length,givenLength:e.length});const n=gSe({params:t,values:e}),r=uO(n);return r.length===0?"0x":r}function gSe({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(lO({param:t[r],value:e[r]}));return n}function lO({param:t,value:e}){const n=dO(t.type);if(n){const[r,i]=n;return ySe(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return ESe(e,{param:t});if(t.type==="address")return mSe(e);if(t.type==="bool")return vSe(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=cO.exec(t.type)??[];return bSe(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return wSe(e,{param:t});if(t.type==="string")return xSe(e);throw new iSe(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function uO(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Yr(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(Te(e+i,{size:32})),r.push(a),i+=Yr(a)):n.push(a)}return Xi([...n,...r])}function mSe(t){if(!Li(t))throw new sf({address:t});return{dynamic:!1,encoded:s0(t.toLowerCase())}}function ySe(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new BQ(t);if(!r&&t.length!==e)throw new JAe({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=lO({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=uO(s);if(r){const a=Te(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Xi([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Xi(s.map(({encoded:o})=>o))}}function wSe(t,{param:e}){const[,n]=e.type.split("bytes"),r=Yr(t);if(!n){let i=t;return r%32!==0&&(i=s0(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Xi([s0(Te(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new QAe({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:s0(t,{dir:"right"})}}function vSe(t){if(typeof t!="boolean")throw new pe(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:s0(XN(t))}}function bSe(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new JN({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Te(t,{size:32,signed:e})}}function xSe(t){const e=o0(t),n=Math.ceil(Yr(e)/32),r=[];for(let i=0;i<n;i++)r.push(s0(gm(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Xi([s0(Te(Yr(e),{size:32})),...r])}}function ESe(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=lO({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?uO(r):Xi(r.map(({encoded:i})=>i))}}function dO(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function l0(t,e){const n=typeof e=="string"?Jo(e):e,r=oO(n);if(Yr(n)===0&&t.length>0)throw new T5;if(Yr(e)&&Yr(e)<32)throw new NQ({data:typeof e=="string"?e:Qi(e),params:t,size:Yr(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[c,l]=kw(r,a,{staticPosition:0});i+=l,s.push(c)}return s}function kw(t,e,{staticPosition:n}){const r=dO(e.type);if(r){const[i,s]=r;return _Se(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return kSe(t,e,{staticPosition:n});if(e.type==="address")return CSe(t);if(e.type==="bool")return ASe(t);if(e.type.startsWith("bytes"))return SSe(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return ISe(t,e);if(e.type==="string")return $Se(t,{staticPosition:n});throw new sSe(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const VQ=32,hO=32;function CSe(t){const e=t.readBytes(32);return[$5(Qi(qQ(e,-20))),32]}function _Se(t,e,{length:n,staticPosition:r}){if(!n){const o=df(t.readBytes(hO)),a=r+o,c=a+VQ;t.setPosition(a);const l=df(t.readBytes(VQ)),u=P5(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[g,m]=kw(t,e,{staticPosition:c});d+=m,h.push(g)}return t.setPosition(r+32),[h,32]}if(P5(e)){const o=df(t.readBytes(hO)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=kw(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=kw(t,e,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function ASe(t){return[dSe(t.readBytes(32),{size:32}),32]}function SSe(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=df(t.readBytes(32));t.setPosition(n+o);const a=df(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Qi(c),32]}return[Qi(t.readBytes(Number.parseInt(i,10),32)),32]}function ISe(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?uSe(i,{signed:n}):df(i,{signed:n}),32]}function kSe(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(P5(e)){const o=df(t.readBytes(hO)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+s);const[u,d]=kw(t,l,{staticPosition:a});s+=d,i[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=kw(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=c,s+=l}return[i,s]}function $Se(t,{staticPosition:e}){const n=df(t.readBytes(32)),r=e+n;t.setPosition(r);const i=df(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=hSe(Su(s));return t.setPosition(e+32),[o,32]}function P5(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(P5);const n=dO(t.type);return!!(n&&P5({...t,type:n[1]}))}const TSe={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},KQ={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},PSe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},NSe=t=>Pr(Ew(t));function OSe(t){return NSe(t)}function RSe(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new pe("Unable to normalize signature.");return i}const MSe=t=>{const e=typeof t=="string"?t:gC(t);return RSe(e)};function GQ(t){return OSe(MSe(t))}const N5=t=>gm(GQ(t),0,4);function fO(t){const{abi:e,data:n}=t,r=gm(n,0,4);if(r==="0x")throw new T5;const s=[...e||[],KQ,PSe].find(o=>o.type==="error"&&r===N5(Iu(o)));if(!s)throw new MQ(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?l0(s.inputs,gm(n,4)):void 0,errorName:s.name}}const IC=GQ,ZQ="/docs/contract/decodeEventLog";function O5(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[o,...a]=i;if(!o)throw new eSe({docsPath:ZQ});const c=e.find(m=>m.type==="event"&&o===IC(Iu(m)));if(!(c&&"name"in c)||c.type!=="event")throw new tSe(o,{docsPath:ZQ});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(m=>!("name"in m&&m.name)),h=d?[]:{},f=u.map((m,y)=>[m,y]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<f.length;m++){const[y,w]=f[m],b=a[m];if(!b)throw new sO({abiItem:c,param:y});h[d?w:y.name||w]=jSe({param:y,value:b})}const g=u.filter(m=>!("indexed"in m&&m.indexed));if(g.length>0){if(n&&n!=="0x")try{const m=l0(g,n);if(m)if(d)for(let y=0;y<u.length;y++)h[y]=h[y]??m.shift();else for(let y=0;y<g.length;y++)h[g[y].name]=m[y]}catch(m){if(s)throw m instanceof NQ||m instanceof FQ?new SC({abiItem:c,data:n,params:g,size:Yr(n)}):m}else if(s)throw new SC({abiItem:c,data:"0x",params:g,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function jSe({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(l0([t],e)||[])[0]}function kC(t){const{abi:e,data:n}=t,r=gm(n,0,4),i=e.find(s=>s.type==="function"&&r===N5(Iu(s)));if(!i)throw new nSe(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?l0(i.inputs,gm(n,4)):void 0}}function mm(t){const{abi:e,args:n=[],name:r}=t,i=si(r,{strict:!1}),s=e.filter(a=>i?a.type==="function"?N5(a)===r:a.type==="event"?IC(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?pO(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=YQ(a.inputs,o.inputs,n);if(l)throw new rSe({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||s[0]}function pO(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Li(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>n==="object"&&pO(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>pO(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function YQ(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return YQ(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Li(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Li(n[r],{strict:!1}):!1)return o}}const gO="/docs/contract/decodeFunctionResult";function ym(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=mm({abi:e,args:n,name:r});if(!a)throw new Iw(r,{docsPath:gO});s=a}if(s.type!=="function")throw new Iw(void 0,{docsPath:gO});if(!s.outputs)throw new DQ(s.name,{docsPath:gO});const o=l0(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const mO="/docs/contract/encodeDeployData";function $C(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new YAe({docsPath:mO});if(!("inputs"in i))throw new PQ({docsPath:mO});if(!i.inputs||i.inputs.length===0)throw new PQ({docsPath:mO});const s=Pa(i.inputs,n);return hf([r,s])}const yO="/docs/contract/encodeErrorResult";function JQ(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const c=mm({abi:e,args:r,name:n});if(!c)throw new RQ(n,{docsPath:yO});i=c}if(i.type!=="error")throw new RQ(void 0,{docsPath:yO});const s=Iu(i),o=N5(s);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new XAe(i.name,{docsPath:yO});a=Pa(i.inputs,r)}return hf([o,a])}class DSe extends pe{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const QQ="/docs/contract/encodeEventTopics";function R5(t){var c;const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const l=mm({abi:e,name:n});if(!l)throw new jQ(n,{docsPath:QQ});i=l}if(i.type!=="event")throw new jQ(void 0,{docsPath:QQ});const s=Iu(i),o=IC(s);let a=[];if(r&&"inputs"in i){const l=(c=i.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?(l==null?void 0:l.map(d=>r[d.name]))??[]:[];u.length>0&&(a=(l==null?void 0:l.map((d,h)=>Array.isArray(u[h])?u[h].map((f,g)=>XQ({param:d,value:u[h][g]})):typeof u[h]<"u"&&u[h]!==null?XQ({param:d,value:u[h]}):null))??[])}return[o,...a]}function XQ({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Pr(Ew(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new DSe(t.type);return Pa([t],[e])}const eX="/docs/contract/encodeFunctionData";function LSe(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=mm({abi:e,args:n,name:r});if(!s)throw new Iw(r,{docsPath:eX});i=s}if(i.type!=="function")throw new Iw(void 0,{docsPath:eX});return{abi:[i],functionName:N5(Iu(i))}}function Jr(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:LSe(t)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?Pa(i.inputs,e??[]):void 0;return hf([s,o??"0x"])}const wO="/docs/contract/encodeFunctionResult";function BSe(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const o=mm({abi:e,name:n});if(!o)throw new Iw(n,{docsPath:wO});i=o}if(i.type!=="function")throw new Iw(void 0,{docsPath:wO});if(!i.outputs)throw new DQ(i.name,{docsPath:wO});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new BQ(r)})();return Pa(i.outputs,s)}function USe(t,e){if(t.length!==e.length)throw new OQ({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(tX(i,s))}return hf(n)}function tX(t,e,n=!1){if(t==="address"){const o=e;if(!Li(o))throw new sf({address:o});return Di(o.toLowerCase(),{size:n?32:null})}if(t==="string")return o0(e);if(t==="bytes")return e;if(t==="bool")return Di(XN(e),{size:n?32:1});const r=t.match(cO);if(r){const[o,a,c="256"]=r,l=Number.parseInt(c,10)/8;return Te(e,{size:n?32:l,signed:a==="int"})}const i=t.match(HQ);if(i){const[o,a]=i;if(Number.parseInt(a,10)!==(e.length-2)/2)throw new LQ({expectedSize:Number.parseInt(a,10),givenSize:(e.length-2)/2});return Di(e,{dir:"right",size:n?32:null})}const s=t.match(pSe);if(s&&Array.isArray(e)){const[o,a]=s,c=[];for(let l=0;l<e.length;l++)c.push(tX(a,e[l],!0));return c.length===0?"0x":hf(c)}throw new aSe(t)}const di=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function nX({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?di(e[s]):e[s]}`).join(", ")})`}function wm(t,e){if(!Li(t,{strict:!1}))throw new sf({address:t});if(!Li(e,{strict:!1}))throw new sf({address:e});return t.toLowerCase()===e.toLowerCase()}function vO(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var u;const a=e.filter(d=>d.type==="event"&&o.topics[0]===IC(d));if(a.length===0)return null;let c,l;for(const d of a)try{c=O5({...o,abi:[d],strict:!0}),l=d;break}catch{}if(!c&&!i){l=a[0];try{c=O5({...o,abi:[l],strict:!1})}catch{const d=(u=l.inputs)==null?void 0:u.some(h=>!("name"in h&&h.name));return{...o,args:d?[]:{},eventName:l.name}}}return!c||!l||s&&!s.includes(c.eventName)||!FSe({args:c.args,inputs:l.inputs,matchArgs:n})?null:{...c,...o}}).filter(Boolean)}function FSe(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?wm(o,a):s.type==="string"||s.type==="bytes"?Pr(Ew(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(l=>i(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===s);return a?(Array.isArray(o)?o:[o]).some(l=>i(a,l,e[s])):!1}):!1}function zSe(t,e="hex"){const n=rX(t),r=oO(new Uint8Array(n.length));return n.encode(r),e==="hex"?Qi(r.bytes):r.bytes}function rX(t){return Array.isArray(t)?WSe(t.map(e=>rX(e))):qSe(t)}function WSe(t){const e=t.reduce((i,s)=>i+s.length,0),n=iX(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function qSe(t){const e=typeof t=="string"?Jo(t):t,n=iX(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function iX(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new pe("Length is too large.")}function HSe(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=Pr(hf(["0x05",zSe([e?Te(e):"0x",i,n?Te(n):"0x"])]));return r==="bytes"?Jo(s):s}async function VSe({hash:t,signature:e}){const n=si(t)?t:sr(t),{secp256k1:r}=await De(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>H$e);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),g=sX(f);return new r.Signature(xi(l),xi(u)).addRecoveryBit(g)}const o=si(e)?e:sr(e);if(Yr(o)!==65)throw new Error("invalid signature length");const a=Ta(`0x${o.slice(130)}`),c=sX(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function sX(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function oX({hash:t,signature:e}){return GAe(await VSe({hash:t,signature:e}))}async function TC(t){const{authorization:e,signature:n}=t;return oX({hash:HSe(e),signature:n??e})}const aX={gwei:9,wei:18},KSe={ether:-9,wei:9};function es(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function vm(t,e="wei"){return es(t,aX[e])}function xo(t,e="wei"){return es(t,KSe[e])}function $w(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class GSe extends pe{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",$w(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class ZSe extends pe{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var g;const f=$w({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${vm(h)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${xo(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${xo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${xo(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class cX extends pe{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class lX extends pe{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class uX extends pe{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class YSe extends pe{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function dX(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>Jo(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>Qi(s))}function hX(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Jo(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>Jo(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?s:s.map(o=>Qi(o))}function JSe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function QSe(t,e,n){return t&e^~t&n}function XSe(t,e,n){return t&e^t&n^e&n}let fX=class extends tO{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=eO(this.buffer)}update(e){Sw(this),e=I5(e),lf(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=eO(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Sw(this),vQ(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,a0(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;JSe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=eO(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const u0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Eo=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Co=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),eIe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),d0=new Uint32Array(64);let tIe=class extends fX{constructor(e=32){super(64,e,8,!1),this.A=u0[0]|0,this.B=u0[1]|0,this.C=u0[2]|0,this.D=u0[3]|0,this.E=u0[4]|0,this.F=u0[5]|0,this.G=u0[6]|0,this.H=u0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)d0[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=d0[d-15],f=d0[d-2],g=Rd(h,7)^Rd(h,18)^h>>>3,m=Rd(f,17)^Rd(f,19)^f>>>10;d0[d]=m+d0[d-7]+g+d0[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Rd(a,6)^Rd(a,11)^Rd(a,25),f=u+h+QSe(a,c,l)+eIe[d]+d0[d]|0,m=(Rd(r,2)^Rd(r,13)^Rd(r,22))+XSe(r,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=r,r=f+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){a0(d0)}destroy(){this.set(0,0,0,0,0,0,0,0),a0(this.buffer)}};const pX=gQ(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),nIe=pX[0],rIe=pX[1],h0=new Uint32Array(80),f0=new Uint32Array(80);let gX=class extends fX{constructor(e=64){super(128,e,16,!1),this.Ah=Co[0]|0,this.Al=Co[1]|0,this.Bh=Co[2]|0,this.Bl=Co[3]|0,this.Ch=Co[4]|0,this.Cl=Co[5]|0,this.Dh=Co[6]|0,this.Dl=Co[7]|0,this.Eh=Co[8]|0,this.El=Co[9]|0,this.Fh=Co[10]|0,this.Fl=Co[11]|0,this.Gh=Co[12]|0,this.Gl=Co[13]|0,this.Hh=Co[14]|0,this.Hl=Co[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:g,Hh:m,Hl:y}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,f,g,m,y]}set(e,n,r,i,s,o,a,c,l,u,d,h,f,g,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=g|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let v=0;v<16;v++,n+=4)h0[v]=e.getUint32(n),f0[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=h0[v-15]|0,_=f0[v-15]|0,O=Cw(E,_,1)^Cw(E,_,8)^mQ(E,_,7),S=_w(E,_,1)^_w(E,_,8)^yQ(E,_,7),R=h0[v-2]|0,I=f0[v-2]|0,D=Cw(R,I,19)^wC(R,I,61)^mQ(R,I,6),j=_w(R,I,19)^vC(R,I,61)^yQ(R,I,6),F=xAe(S,j,f0[v-7],f0[v-16]),M=EAe(F,O,D,h0[v-7],h0[v-16]);h0[v]=M|0,f0[v]=F|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:g,Gh:m,Gl:y,Hh:w,Hl:b}=this;for(let v=0;v<80;v++){const E=Cw(d,h,14)^Cw(d,h,18)^wC(d,h,41),_=_w(d,h,14)^_w(d,h,18)^vC(d,h,41),O=d&f^~d&m,S=h&g^~h&y,R=CAe(b,_,S,rIe[v],f0[v]),I=_Ae(R,w,E,O,nIe[v],h0[v]),D=R|0,j=Cw(r,i,28)^wC(r,i,34)^wC(r,i,39),F=_w(r,i,28)^vC(r,i,34)^vC(r,i,39),M=r&s^r&a^s&a,C=i&o^i&c^o&c;w=m|0,b=y|0,m=f|0,y=g|0,f=d|0,g=h|0,{h:d,l:h}=cf(l|0,u|0,I|0,D|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const x=vAe(D,F,C);r=bAe(x,I,j,M),i=x|0}({h:r,l:i}=cf(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=cf(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=cf(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=cf(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=cf(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:g}=cf(this.Fh|0,this.Fl|0,f|0,g|0),{h:m,l:y}=cf(this.Gh|0,this.Gl|0,m|0,y|0),{h:w,l:b}=cf(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,i,s,o,a,c,l,u,d,h,f,g,m,y,w,b)}roundClean(){a0(h0,f0)}destroy(){a0(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},iIe=class extends gX{constructor(){super(48),this.Ah=Eo[0]|0,this.Al=Eo[1]|0,this.Bh=Eo[2]|0,this.Bl=Eo[3]|0,this.Ch=Eo[4]|0,this.Cl=Eo[5]|0,this.Dh=Eo[6]|0,this.Dl=Eo[7]|0,this.Eh=Eo[8]|0,this.El=Eo[9]|0,this.Fh=Eo[10]|0,this.Fl=Eo[11]|0,this.Gh=Eo[12]|0,this.Gl=Eo[13]|0,this.Hh=Eo[14]|0,this.Hl=Eo[15]|0}};const PC=EC(()=>new tIe),sIe=EC(()=>new gX),oIe=EC(()=>new iIe),bO=PC;function aIe(t,e){return bO(si(t,{strict:!1})?Ew(t):t)}function cIe(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=aIe(e);return i.set([n],0),r==="bytes"?i:Qi(i)}function lIe(t){const{commitments:e,version:n}=t,r=t.to,i=[];for(const s of e)i.push(cIe({commitment:s,to:r,version:n}));return i}const mX=6,yX=32,xO=4096,wX=yX*xO,vX=wX*mX-1-1*xO*mX;class uIe extends pe{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class dIe extends pe{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function hIe(t){const e=typeof t.data=="string"?Jo(t.data):t.data,n=Yr(e);if(!n)throw new dIe;if(n>vX)throw new uIe({maxSize:vX,size:n});const r=[];let i=!0,s=0;for(;i;){const o=oO(new Uint8Array(wX));let a=0;for(;a<xO;){const c=e.slice(s,s+(yX-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),i=!1;break}a++,s+=31}r.push(o)}return r.map(o=>Qi(o.bytes))}function fIe(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??hIe({data:e}),s=t.commitments??dX({blobs:i,kzg:n,to:r}),o=t.proofs??hX({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}const pIe=2n**256n-1n;class EO extends pe{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class gIe extends pe{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class mIe extends pe{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class bX extends pe{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}let bm=class extends pe{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}};Object.defineProperty(bm,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(bm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class NC extends pe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${xo(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(NC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class CO extends pe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${xo(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(CO,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class _O extends pe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(_O,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class AO extends pe{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(AO,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class SO extends pe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(SO,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class IO extends pe{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(IO,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class kO extends pe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(kO,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class $O extends pe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty($O,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TO extends pe{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TO,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class OC extends pe{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${xo(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${xo(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(OC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class M5 extends pe{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function yIe(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new GSe({transaction:t})}async function wIe({address:t,authorization:e,signature:n}){return wm(Ei(t),await TC({authorization:e,signature:n}))}const vIe=t=>t,j5=t=>t;class xm extends pe{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${j5(o)}`,e&&`Request body: ${di(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class PO extends pe{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${j5(r)}`,`Request body: ${di(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class xX extends pe{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${j5(n)}`,`Request body: ${di(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const bIe=-1;class Na extends pe{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof PO?e.code:n??bIe}}class Oc extends Na{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class D5 extends Na{constructor(e){super(e,{code:D5.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(D5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class L5 extends Na{constructor(e){super(e,{code:L5.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(L5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class B5 extends Na{constructor(e,{method:n}={}){super(e,{code:B5.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(B5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class U5 extends Na{constructor(e){super(e,{code:U5.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(U5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Em extends Na{constructor(e){super(e,{code:Em.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Em,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class p0 extends Na{constructor(e){super(e,{code:p0.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(p0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class F5 extends Na{constructor(e){super(e,{code:F5.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(F5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class z5 extends Na{constructor(e){super(e,{code:z5.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(z5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Tw extends Na{constructor(e){super(e,{code:Tw.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Tw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Cm extends Na{constructor(e,{method:n}={}){super(e,{code:Cm.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Cm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Pw extends Na{constructor(e){super(e,{code:Pw.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Pw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class W5 extends Na{constructor(e){super(e,{code:W5.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(W5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class _m extends Oc{constructor(e){super(e,{code:_m.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(_m,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class q5 extends Oc{constructor(e){super(e,{code:q5.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(q5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class H5 extends Oc{constructor(e,{method:n}={}){super(e,{code:H5.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(H5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class V5 extends Oc{constructor(e){super(e,{code:V5.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(V5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class K5 extends Oc{constructor(e){super(e,{code:K5.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(K5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class G5 extends Oc{constructor(e){super(e,{code:G5.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(G5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Nw extends Oc{constructor(e){super(e,{code:Nw.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Nw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Z5 extends Oc{constructor(e){super(e,{code:Z5.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Z5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Y5 extends Oc{constructor(e){super(e,{code:Y5.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Y5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class J5 extends Oc{constructor(e){super(e,{code:J5.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(J5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Q5 extends Oc{constructor(e){super(e,{code:Q5.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Q5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class X5 extends Oc{constructor(e){super(e,{code:X5.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(X5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ow extends Oc{constructor(e){super(e,{code:Ow.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ow,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class xIe extends Na{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const RC=new pm(8192);function EIe(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(RC.get(n))return RC.get(n);const r=t().finally(()=>RC.delete(n));return RC.set(n,r),r}async function MC(t){return new Promise(e=>setTimeout(e,t))}function jC(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await MC(u),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});s(l)}};o()})}function CIe(t,e={}){return async(n,r={})=>{var d;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=s==null?void 0:s.exclude)!=null&&d.includes(l))throw new Cm(new Error("method not supported"),{method:l});if(s!=null&&s.include&&!s.include.includes(l))throw new Cm(new Error("method not supported"),{method:l});const u=i?o0(`${c}.${di(n)}`):void 0;return EIe(()=>jC(async()=>{try{return await t(n)}catch(h){const f=h;switch(f.code){case D5.code:throw new D5(f);case L5.code:throw new L5(f);case B5.code:throw new B5(f,{method:n.method});case U5.code:throw new U5(f);case Em.code:throw new Em(f);case p0.code:throw new p0(f);case F5.code:throw new F5(f);case z5.code:throw new z5(f);case Tw.code:throw new Tw(f);case Cm.code:throw new Cm(f,{method:n.method});case Pw.code:throw new Pw(f);case W5.code:throw new W5(f);case _m.code:throw new _m(f);case q5.code:throw new q5(f);case H5.code:throw new H5(f);case V5.code:throw new V5(f);case K5.code:throw new K5(f);case G5.code:throw new G5(f);case Nw.code:throw new Nw(f);case Z5.code:throw new Z5(f);case Y5.code:throw new Y5(f);case J5.code:throw new J5(f);case Q5.code:throw new Q5(f);case X5.code:throw new X5(f);case Ow.code:throw new Ow(f);case 5e3:throw new _m(f);default:throw h instanceof pe?h:new xIe(f)}}},{delay:({count:h,error:f})=>{var g;if(f&&f instanceof xm){const m=(g=f==null?void 0:f.headers)==null?void 0:g.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>_Ie(h)}),{enabled:i,id:u})}}function _Ie(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Pw.code||t.code===Em.code:t instanceof xm&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const NO=BigInt(0),OO=BigInt(1);function e6(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function RO(t){if(!e6(t))throw new Error("Uint8Array expected")}function t6(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function DC(t){const e=t.toString(16);return e.length&1?"0"+e:e}function EX(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?NO:BigInt("0x"+t)}const CX=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",AIe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function n6(t){if(RO(t),CX)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=AIe[t[n]];return e}const ff={_0:48,_9:57,A:65,F:70,a:97,f:102};function _X(t){if(t>=ff._0&&t<=ff._9)return t-ff._0;if(t>=ff.A&&t<=ff.F)return t-(ff.A-10);if(t>=ff.a&&t<=ff.f)return t-(ff.a-10)}function LC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(CX)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=_X(t.charCodeAt(s)),a=_X(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Am(t){return EX(n6(t))}function AX(t){return RO(t),EX(n6(Uint8Array.from(t).reverse()))}function r6(t,e){return LC(t.toString(16).padStart(e*2,"0"))}function SX(t,e){return r6(t,e).reverse()}function Sl(t,e,n){let r;if(typeof e=="string")try{r=LC(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(e6(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function BC(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];RO(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const MO=t=>typeof t=="bigint"&&NO<=t;function jO(t,e,n){return MO(t)&&MO(e)&&MO(n)&&e<=t&&t<n}function Rw(t,e,n,r){if(!jO(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function SIe(t){let e;for(e=0;t>NO;t>>=OO,e+=1);return e}const UC=t=>(OO<<BigInt(t))-OO,DO=t=>new Uint8Array(t),IX=t=>Uint8Array.from(t);function IIe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=DO(t),i=DO(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=DO(0))=>{i=a(IX([0]),d),r=a(),d.length!==0&&(i=a(IX([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const f=r.slice();h.push(f),d+=r.length}return BC(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const kIe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||e6(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function FC(t,e,n={}){const r=(i,s,o)=>{const a=kIe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function kX(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const $Ie="0.1.1";function TIe(){return $Ie}let dn=class jp extends Error{static setStaticOptions(e){jp.prototype.docsOrigin=e.docsOrigin,jp.prototype.showVersion=e.showVersion,jp.prototype.version=e.version}constructor(e,n={}){const r=(()=>{var u;if(n.cause instanceof jp){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(u=n.cause)!=null&&u.message?n.cause.message:n.details})(),i=n.cause instanceof jp&&n.cause.docsPath||n.docsPath,s=n.docsOrigin??jp.prototype.docsOrigin,o=`${s}${i??""}`,a=!!(n.version??jp.prototype.showVersion),c=n.version??jp.prototype.version,l=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i||a?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(l,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=o,this.docsOrigin=s,this.docsPath=i,this.shortMessage=e,this.showVersion=a,this.version=c}walk(e){return $X(this,e)}};Object.defineProperty(dn,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${TIe()}`}}),dn.setStaticOptions(dn.defaultStaticOptions);function $X(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?$X(t.cause,e):e?null:t}function i6(t,e){if(Mw(t)>e)throw new KIe({givenSize:Mw(t),maxSize:e})}const pf={zero:48,nine:57,A:65,F:70,a:97,f:102};function TX(t){if(t>=pf.zero&&t<=pf.nine)return t-pf.zero;if(t>=pf.A&&t<=pf.F)return t-(pf.A-10);if(t>=pf.a&&t<=pf.f)return t-(pf.a-10)}function PIe(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new GIe({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=t[o?s:t.length-s-1]}return i}function PX(t,e={}){const{dir:n="left"}=e;let r=t,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function zC(t,e){if(Rc(t)>e)throw new eke({givenSize:Rc(t),maxSize:e})}function NIe(t,e){if(typeof e=="number"&&e>0&&e>Rc(t)-1)throw new zX({offset:e,position:"start",size:Rc(t)})}function OIe(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Rc(t)!==n-e)throw new zX({offset:n,position:"end",size:Rc(t)})}function NX(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new tke({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const RIe="#__bigint";function OX(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+RIe:i,n)}const MIe=new TextDecoder,jIe=new TextEncoder;function DIe(t){return t instanceof Uint8Array?t:typeof t=="string"?RX(t):LIe(t)}function LIe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function RX(t,e={}){const{size:n}=e;let r=t;n&&(zC(t,n),r=Im(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=TX(i.charCodeAt(c++)),u=TX(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new dn(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=l<<4|u}return o}function BIe(t,e={}){const{size:n}=e,r=jIe.encode(t);return typeof n=="number"?(i6(r,n),UIe(r,n)):r}function UIe(t,e){return PIe(t,{dir:"right",size:e})}function Mw(t){return t.length}function FIe(t,e,n,r={}){const{strict:i}=r;return t.slice(e,n)}function zIe(t,e={}){const{size:n}=e;typeof n<"u"&&i6(t,n);const r=$u(t,e);return DX(r,e)}function WIe(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(i6(r,n),r=MX(r)),r.length>1||r[0]>1)throw new VIe(r);return!!r[0]}function gf(t,e={}){const{size:n}=e;typeof n<"u"&&i6(t,n);const r=$u(t,e);return LX(r,e)}function qIe(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(i6(r,n),r=HIe(r)),MIe.decode(r)}function MX(t){return PX(t,{dir:"left"})}function HIe(t){return PX(t,{dir:"right"})}class VIe extends dn{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let KIe=class extends dn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},GIe=class extends dn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const ZIe=new TextEncoder,YIe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function JIe(t,e={}){const{strict:n=!1}=e;if(!t)throw new UX(t);if(typeof t!="string")throw new UX(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new FX(t);if(!t.startsWith("0x"))throw new FX(t)}function ku(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function QIe(t){return t instanceof Uint8Array?$u(t):Array.isArray(t)?$u(new Uint8Array(t)):t}function jX(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(zC(n,e.size),Sm(n,e.size)):n}function $u(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=YIe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(zC(r,e.size),Im(r,e.size)):r}function Qo(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new BX({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?BigInt.asUintN(r*8,BigInt(i)):i).toString(16)}`;return r?Sm(c,r):c}function LO(t,e={}){return $u(ZIe.encode(t),e)}function Sm(t,e){return NX(t,{dir:"left",size:e})}function Im(t,e){return NX(t,{dir:"right",size:e})}function jd(t,e,n,r={}){const{strict:i}=r;NIe(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&OIe(s,e,n),s}function Rc(t){return Math.ceil((t.length-2)/2)}function DX(t,e={}){const{signed:n}=e;e.size&&zC(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function LX(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:DX(t,e))}function XIe(t,e={}){const{strict:n=!1}=e;try{return JIe(t,{strict:n}),!0}catch{return!1}}let BX=class extends dn{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},UX=class extends dn{constructor(e){super(`Value \`${typeof e=="object"?OX(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},FX=class extends dn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},eke=class extends dn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},zX=class extends dn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},tke=class extends dn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function nke(t){return{address:t.address,amount:Qo(t.amount),index:Qo(t.index),validatorIndex:Qo(t.validatorIndex)}}function WX(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Qo(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Qo(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Qo(t.gasLimit)},...typeof t.number=="bigint"&&{number:Qo(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Qo(t.prevRandao)},...typeof t.time=="bigint"&&{time:Qo(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(nke)}}}const WC=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],BO=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],qX=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],HX=[...qX,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],rke=[...qX,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],VX=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],KX=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],GX=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],ZX=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],ike=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],ske="0x82ad56cb",YX="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",oke="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",ake="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",UO="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class cke extends pe{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class lke extends pe{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function JX(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function uke(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=JX(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=JX(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}class QX extends pe{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){var y;const g=n?wr(n):void 0;let m=$w({from:g==null?void 0:g.address,to:d,value:typeof h<"u"&&`${vm(h)} ${((y=i==null?void 0:i.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${xo(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${xo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${xo(l)} gwei`,nonce:u});f&&(m+=`
${uke(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class FO extends pe{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=mm({abi:n,args:r,name:o}),l=c?nX({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Iu(c,{includeName:!0}):void 0,d=$w({address:i&&vIe(i),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class qC extends pe{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!=="0x")try{o=fO({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=TSe[f]}else{const f=u?Iu(u,{includeName:!0}):void 0,g=u&&h?nX({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",g&&g!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(u){s=u}else i&&(c=i);let l;s instanceof MQ&&(l=s.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class XX extends pe{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class dke extends pe{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class HC extends pe{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function jw({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new EO({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new EO({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function VC(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof pe?t.walk(i=>(i==null?void 0:i.code)===bm.code):t;return r instanceof pe?new bm({cause:t,message:r.details}):bm.nodeMessage.test(n)?new bm({cause:t,message:t.details}):NC.nodeMessage.test(n)?new NC({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):CO.nodeMessage.test(n)?new CO({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):_O.nodeMessage.test(n)?new _O({cause:t,nonce:e==null?void 0:e.nonce}):AO.nodeMessage.test(n)?new AO({cause:t,nonce:e==null?void 0:e.nonce}):SO.nodeMessage.test(n)?new SO({cause:t,nonce:e==null?void 0:e.nonce}):IO.nodeMessage.test(n)?new IO({cause:t}):kO.nodeMessage.test(n)?new kO({cause:t,gas:e==null?void 0:e.gas}):$O.nodeMessage.test(n)?new $O({cause:t,gas:e==null?void 0:e.gas}):TO.nodeMessage.test(n)?new TO({cause:t}):OC.nodeMessage.test(n)?new OC({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new M5({cause:t})}function eee(t,{docsPath:e,...n}){const r=(()=>{const i=VC(t,n);return i instanceof M5?t:i})();return new QX(r,{docsPath:e,...n})}function Dw(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}const hke={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function g0(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=fke(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>Qi(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=Te(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=Te(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=Te(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=Te(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=Te(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=Te(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=hke[t.type]),typeof t.value<"u"&&(n.value=Te(t.value)),n}function fke(t){return t.map(e=>({address:e.address,r:e.r?Te(BigInt(e.r)):e.r,s:e.s?Te(BigInt(e.s)):e.s,chainId:Te(e.chainId),nonce:Te(e.nonce),...typeof e.yParity<"u"?{yParity:Te(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Te(e.v)}:{}}))}function zO(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const WO=new Map;function tee({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{i&&Array.isArray(h)&&h.sort(i);for(let f=0;f<u.length;f++){const{resolve:g}=u[f];g==null||g([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:g}=u[f];g==null||g(h)}})},o=()=>WO.delete(e),a=()=>c().map(({args:u})=>u),c=()=>WO.get(e)||[],l=u=>WO.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=zO();return(n==null?void 0:n([...a(),u]))&&s(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(s,r),d)}}}function nee(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new hQ({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new hQ({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function pke(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=Te(e)),n!==void 0&&(o.nonce=Te(n)),r!==void 0&&(o.state=nee(r)),i!==void 0){if(o.state)throw new lke;o.stateDiff=nee(i)}return o}function KC(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Li(n,{strict:!1}))throw new sf({address:n});if(e[n])throw new cke({address:n});e[n]=pke(r)}return e}function mf(t){const{account:e,maxFeePerGas:n,maxPriorityFeePerGas:r,to:i}=t,s=e?wr(e):void 0;if(s&&!Li(s.address))throw new sf({address:s.address});if(i&&!Li(i))throw new sf({address:i});if(n&&n>pIe)throw new NC({maxFeePerGas:n});if(r&&n&&r>n)throw new OC({maxFeePerGas:n,maxPriorityFeePerGas:r})}async function s6(t,e){var M,C,x,A;const{account:n=t.account,authorizationList:r,batch:i=!!((M=t.batch)!=null&&M.multicall),blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:h,factoryData:f,gas:g,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,to:E,value:_,stateOverride:O,...S}=e,R=n?wr(n):void 0;if(u&&(h||f))throw new pe("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&E)throw new pe("Cannot provide both `code` & `to` as parameters.");const I=u&&d,D=h&&f&&E&&d,j=I||D,F=I?ree({code:u,data:d}):D?yke({data:d,factory:h,factoryData:f,to:E}):d;try{mf(e);const N=(typeof s=="bigint"?Te(s):void 0)||o,$=l?WX(l):void 0,L=KC(O),B=(A=(x=(C=t.chain)==null?void 0:C.formatters)==null?void 0:x.transactionRequest)==null?void 0:A.format,z=(B||g0)({...Dw(S,{format:B}),accessList:a,account:R,authorizationList:r,blobs:c,data:F,gas:g,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:v,to:j?void 0:E,value:_},"call");if(i&&gke({request:z})&&!L&&!$)try{return await mke(t,{...z,blockNumber:s,blockTag:o})}catch(V){if(!(V instanceof bX)&&!(V instanceof EO))throw V}const q=(()=>{const V=[z,N];return L&&$?[...V,L,$]:L?[...V,L]:$?[...V,{},$]:V})(),U=await t.request({method:"eth_call",params:q});return U==="0x"?{data:void 0}:{data:U}}catch(P){const N=wke(P),{offchainLookup:$,offchainLookupSignature:L}=await De(async()=>{const{offchainLookup:B,offchainLookupSignature:T}=await Promise.resolve().then(()=>Ake);return{offchainLookup:B,offchainLookupSignature:T}},void 0);if(t.ccipRead!==!1&&(N==null?void 0:N.slice(0,10))===L&&E)return{data:await $(t,{data:N,to:E})};throw j&&(N==null?void 0:N.slice(0,10))==="0x101bb98d"?new dke({factory:h}):eee(P,{...e,account:R,chain:t.chain})}}function gke({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(ske)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function mke(t,e){var m;const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof((m=t.batch)==null?void 0:m.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",data:a,to:c}=e,l=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return jw({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new bX})(),d=(typeof s=="bigint"?Te(s):void 0)||o,{schedule:h}=tee({id:`${t.uid}.${d}`,wait:i,shouldSplitBatch(y){return y.reduce((b,{data:v})=>b+(v.length-2),0)>n*2},fn:async y=>{const w=y.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),b=Jr({abi:WC,args:[w],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{...l===null?{data:ree({code:UO,data:b})}:{to:l,data:b}},d]});return ym({abi:WC,args:[w],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:f,success:g}]=await h({data:a,to:c});if(!g)throw new HC({data:f});return f==="0x"?{data:void 0}:{data:f}}function ree(t){const{code:e,data:n}=t;return $C({abi:YN(["constructor(bytes, bytes)"]),bytecode:YX,args:[e,n]})}function yke(t){const{data:e,factory:n,factoryData:r,to:i}=t;return $C({abi:YN(["constructor(address, bytes, address, bytes)"]),bytecode:oke,args:[i,e,n,r]})}function wke(t){var n;if(!(t instanceof pe))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}class vke extends pe{constructor({callbackSelector:e,cause:n,data:r,extraData:i,sender:s,urls:o}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${j5(c)}`)],`  Sender: ${s}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${i}`].flat(),name:"OffchainLookupError"})}}class bke extends pe{constructor({result:e,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${j5(n)}`,`Response: ${di(e)}`],name:"OffchainLookupResponseMalformedError"})}}class xke extends pe{constructor({sender:e,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}const o6="x-batch-gateway:true";async function iee(t){const{data:e,ccipRequest:n}=t,{args:[r]}=kC({abi:BO,data:e}),i=[],s=[];return await Promise.all(r.map(async(o,a)=>{try{s[a]=o.urls.includes(o6)?await iee({data:o.data,ccipRequest:n}):await n(o),i[a]=!1}catch(c){i[a]=!0,s[a]=Eke(c)}})),BSe({abi:BO,functionName:"query",result:[i,s]})}function Eke(t){return t.name==="HttpRequestError"&&t.status?JQ({abi:BO,errorName:"HttpError",args:[t.status,t.shortMessage]}):JQ({abi:[KQ],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}const Cke="0x556f1830",see={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function _ke(t,{blockNumber:e,blockTag:n,data:r,to:i}){const{args:s}=fO({data:r,abi:[see]}),[o,a,c,l,u]=s,{ccipRead:d}=t,h=d&&typeof(d==null?void 0:d.request)=="function"?d.request:oee;try{if(!wm(i,o))throw new xke({sender:o,to:i});const f=a.includes(o6)?await iee({data:c,ccipRequest:h}):await h({data:c,sender:o,urls:a}),{data:g}=await s6(t,{blockNumber:e,blockTag:n,data:Xi([l,Pa([{type:"bytes"},{type:"bytes"}],[f,u])]),to:i});return g}catch(f){throw new vke({callbackSelector:l,cause:f,data:r,extraData:u,sender:o,urls:a})}}async function oee({data:t,sender:e,urls:n}){var i;let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const o=n[s],a=o.includes("{data}")?"GET":"POST",c=a==="POST"?{data:t,sender:e}:void 0,l=a==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(o.replace("{sender}",e.toLowerCase()).replace("{data}",t),{body:JSON.stringify(c),headers:l,method:a});let d;if((i=u.headers.get("Content-Type"))!=null&&i.startsWith("application/json")?d=(await u.json()).data:d=await u.text(),!u.ok){r=new xm({body:c,details:d!=null&&d.error?di(d.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!si(d)){r=new bke({result:d,url:o});continue}return d}catch(u){r=new xm({body:c,details:u.message,url:o})}}throw r}const Ake=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:oee,offchainLookup:_ke,offchainLookupAbiItem:see,offchainLookupSignature:Cke},Symbol.toStringTag,{value:"Module"}));function qO({chain:t,currentChainId:e}){if(!t)throw new mIe;if(e!==t.id)throw new gIe({chain:t,currentChainId:e})}function Ske(t){const e={formatters:void 0,fees:void 0,serializers:void 0,...t};function n(r){return i=>{const s=typeof i=="function"?i(r):i,o={...r,...s};return Object.assign(o,{extend:n(o)})}}return Object.assign(e,{extend:n(e)})}const Ike=3;function km(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=t instanceof HC?t:t instanceof pe?t.walk(g=>"data"in g)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=a,f=t instanceof T5?new XX({functionName:s}):[Ike,Em.code].includes(c)&&(l||u||d||h)||c===p0.code&&u==="execution reverted"&&l?new qC({abi:e,data:typeof l=="object"?l.data:l,functionName:s,message:a instanceof PO?u:h??d}):t;return new FO(f,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}class kke extends pe{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var g;const f=$w({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${vm(h)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${xo(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${xo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${xo(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function $ke(t,{docsPath:e,...n}){const r=(()=>{const i=VC(t,n);return i instanceof M5?t:i})();return new kke(r,{docsPath:e,...n})}function GC(t,{docsPath:e,...n}){const r=(()=>{const i=VC(t,n);return i instanceof M5?t:i})();return new ZSe(r,{docsPath:e,...n})}const aee={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function HO(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Ta(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Ta(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?aee[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=Tke(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function Tke(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function cee(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:HO(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function Dd(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,blockTimestamp:t.blockTimestamp?BigInt(t.blockTimestamp):t.blockTimestamp===null?null:void 0,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const lee={"0x0":"reverted","0x1":"success"};function VO(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Dd(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Ta(t.transactionIndex):null,status:t.status?lee[t.status]:null,type:t.type?aee[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}function Je(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}async function KO(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Te(r):n]},{dedupe:!!r});return Ta(i)}function Pke(t){const{source:e}=t,n=new Map,r=new pm(8192),i=new Map,s=({address:o,chainId:a})=>`${o}.${a}`;return{async consume({address:o,chainId:a,client:c}){const l=s({address:o,chainId:a}),u=this.get({address:o,chainId:a,client:c});this.increment({address:o,chainId:a});const d=await u;return await e.set({address:o,chainId:a},d),r.set(l,d),d},async increment({address:o,chainId:a}){const c=s({address:o,chainId:a}),l=n.get(c)??0;n.set(c,l+1)},async get({address:o,chainId:a,client:c}){const l=s({address:o,chainId:a});let u=i.get(l);return u||(u=(async()=>{try{const h=await e.get({address:o,chainId:a,client:c}),f=r.get(l)??0;return f>0&&h<=f?f+1:(r.delete(l),h)}finally{this.reset({address:o,chainId:a})}})(),i.set(l,u)),(n.get(l)??0)+await u},reset({address:o,chainId:a}){const c=s({address:o,chainId:a});n.delete(c),i.delete(c)}}}function Nke(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function Oke(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const uee=Oke();function Rke(t,e={}){const{url:n,headers:r}=Mke(t);return{async request(i){var g;const{body:s,fetchFn:o=e.fetchFn??fetch,onRequest:a=e.onRequest,onResponse:c=e.onResponse,timeout:l=e.timeout??1e4}=i,u={...e.fetchOptions??{},...i.fetchOptions??{}},{headers:d,method:h,signal:f}=u;try{const m=await Nke(async({signal:w})=>{const b={...u,body:Array.isArray(s)?di(s.map(O=>({jsonrpc:"2.0",id:O.id??uee.take(),...O}))):di({jsonrpc:"2.0",id:s.id??uee.take(),...s}),headers:{...r,"Content-Type":"application/json",...d},method:h||"POST",signal:f||(l>0?w:null)},v=new Request(n,b),E=await(a==null?void 0:a(v,b))??{...b,url:n};return await o(E.url??n,E)},{errorInstance:new xX({body:s,url:n}),timeout:l,signal:!0});c&&await c(m);let y;if((g=m.headers.get("Content-Type"))!=null&&g.startsWith("application/json"))y=await m.json();else{y=await m.text();try{y=JSON.parse(y||"{}")}catch(w){if(m.ok)throw w;y={error:y}}}if(!m.ok)throw new xm({body:s,details:di(y.error)||m.statusText,headers:m.headers,status:m.status,url:n});return y}catch(m){throw m instanceof xm||m instanceof xX?m:new xm({body:s,cause:m,url:n})}}}}function Mke(t){try{const e=new URL(t),n=(()=>{if(e.username){const r=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`;return e.username="",e.password="",{url:e.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:e.toString(),...n}}catch{return{url:t}}}const jke=`Ethereum Signed Message:
`;function Dke(t){const e=typeof t=="string"?o0(t):typeof t.raw=="string"?t.raw:Qi(t.raw),n=o0(`${jke}${Yr(e)}`);return Xi([n,e])}function ZC(t,e){return Pr(Dke(t),e)}class Lke extends pe{constructor({domain:e}){super(`Invalid domain "${di(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Bke extends pe{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Uke extends pe{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Fke(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(c,l)=>{const u={...l};for(const d of c){const{name:h,type:f}=d;f==="address"&&(u[h]=u[h].toLowerCase())}return u},o=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return di({domain:o,message:a,primaryType:r,types:i})}function dee(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],h=u.match(cO);if(h&&(typeof d=="number"||typeof d=="bigint")){const[m,y,w]=h;Te(d,{signed:y==="int",size:Number.parseInt(w,10)/8})}if(u==="address"&&typeof d=="string"&&!Li(d))throw new sf({address:d});const f=u.match(HQ);if(f){const[m,y]=f;if(y&&Yr(d)!==Number.parseInt(y,10))throw new LQ({expectedSize:Number.parseInt(y,10),givenSize:Yr(d)})}const g=i[u];g&&(zke(u),s(g,d))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new Lke({domain:e});s(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new Bke({primaryType:r,types:i})}function hee({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function zke(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Uke({type:t})}function a6(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:hee({domain:e}),...t.types};dee({domain:e,message:n,primaryType:r,types:i});const s=["0x1901"];return e&&s.push(Wke({domain:e,types:i})),r!=="EIP712Domain"&&s.push(fee({data:n,primaryType:r,types:i})),Pr(Xi(s))}function Wke({domain:t,types:e}){return fee({data:t,primaryType:"EIP712Domain",types:e})}function fee({data:t,primaryType:e,types:n}){const r=pee({data:t,primaryType:e,types:n});return Pr(r)}function pee({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[qke({primaryType:e,types:n})];for(const s of n[e]){const[o,a]=mee({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(o),i.push(a)}return Pa(r,i)}function qke({primaryType:t,types:e}){const n=sr(Hke({primaryType:t,types:e}));return Pr(n)}function Hke({primaryType:t,types:e}){let n="";const r=gee({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function gee({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),i=r==null?void 0:r[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])gee({primaryType:s.type,types:e},n);return n}function mee({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Pr(pee({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},Pr(r)];if(n==="string")return[{type:"bytes32"},Pr(sr(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>mee({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},Pr(Pa(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}const Vke="0x6492649264926492649264926492649264926492649264926492649264926492";let Kke=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const GO={checksum:new Kke(8192)}.checksum;function yee(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=_C(DIe(t));return n==="Bytes"?r:$u(r)}const Gke=/^0x[a-fA-F0-9]{40}$/;function YC(t,e={}){const{strict:n=!0}=e;if(!Gke.test(t))throw new vee({address:t,cause:new Zke});if(n){if(t.toLowerCase()===t)return;if(wee(t)!==t)throw new vee({address:t,cause:new Yke})}}function wee(t){if(GO.has(t))return GO.get(t);YC(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=yee(BIe(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return GO.set(t,i),i}function ZO(t,e={}){const{strict:n=!0}=e??{};try{return YC(t,{strict:n}),!0}catch{return!1}}class vee extends dn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Zke extends dn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Yke extends dn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Jke=/^(.*)\[([0-9]*)\]$/,Qke=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bee=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,xee=2n**256n-1n;function Lw(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=XO(e.type);if(s){const[o,a]=s;return e$e(t,{...e,type:a},{checksumAddress:r,length:o,staticPosition:i})}if(e.type==="tuple")return i$e(t,e,{checksumAddress:r,staticPosition:i});if(e.type==="address")return Xke(t,{checksum:r});if(e.type==="bool")return t$e(t);if(e.type.startsWith("bytes"))return n$e(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return r$e(t,e);if(e.type==="string")return s$e(t,{staticPosition:i});throw new nR(e.type)}const Eee=32,YO=32;function Xke(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?wee(s):s)($u(FIe(r,-20))),32]}function e$e(t,e,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const c=gf(t.readBytes(YO)),l=s+c,u=l+Eee;t.setPosition(l);const d=gf(t.readBytes(Eee)),h=c6(e);let f=0;const g=[];for(let m=0;m<d;++m){t.setPosition(u+(h?m*32:f));const[y,w]=Lw(t,e,{checksumAddress:r,staticPosition:u});f+=w,g.push(y)}return t.setPosition(s+32),[g,32]}if(c6(e)){const c=gf(t.readBytes(YO)),l=s+c,u=[];for(let d=0;d<i;++d){t.setPosition(l+d*32);const[h]=Lw(t,e,{checksumAddress:r,staticPosition:l});u.push(h)}return t.setPosition(s+32),[u,32]}let o=0;const a=[];for(let c=0;c<i;++c){const[l,u]=Lw(t,e,{checksumAddress:r,staticPosition:s+o});o+=u,a.push(l)}return[a,o]}function t$e(t){return[WIe(t.readBytes(32),{size:32}),32]}function n$e(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=gf(t.readBytes(32));t.setPosition(n+o);const a=gf(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[$u(c),32]}return[$u(t.readBytes(Number.parseInt(i,10),32)),32]}function r$e(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?zIe(i,{signed:n}):gf(i,{signed:n}),32]}function i$e(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=e.components.length===0||e.components.some(({name:c})=>!c),o=s?[]:{};let a=0;if(c6(e)){const c=gf(t.readBytes(YO)),l=i+c;for(let u=0;u<e.components.length;++u){const d=e.components[u];t.setPosition(l+a);const[h,f]=Lw(t,d,{checksumAddress:r,staticPosition:l});a+=f,o[s?u:d==null?void 0:d.name]=h}return t.setPosition(i+32),[o,32]}for(let c=0;c<e.components.length;++c){const l=e.components[c],[u,d]=Lw(t,l,{checksumAddress:r,staticPosition:i});o[s?c:l==null?void 0:l.name]=u,a+=d}return[o,a]}function s$e(t,{staticPosition:e}){const n=gf(t.readBytes(32)),r=e+n;t.setPosition(r);const i=gf(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=qIe(MX(s));return t.setPosition(e+32),[o,32]}function o$e({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(JO({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function JO({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=XO(r.type);if(i){const[s,o]=i;return c$e(n,{checksumAddress:t,length:s,parameter:{...r,type:o}})}if(r.type==="tuple")return f$e(n,{checksumAddress:t,parameter:r});if(r.type==="address")return a$e(n,{checksum:t});if(r.type==="bool")return u$e(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,o="256"]=bee.exec(r.type)??[];return d$e(n,{signed:s,size:Number(o)})}if(r.type.startsWith("bytes"))return l$e(n,{type:r.type});if(r.type==="string")return h$e(n);throw new nR(r.type)}function QO(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Rc(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(Qo(e+i,{size:32})),r.push(a),i+=Rc(a)):n.push(a)}return ku(...n,...r)}function a$e(t,e){const{checksum:n=!1}=e;return YC(t,{strict:n}),{dynamic:!1,encoded:Sm(t.toLowerCase())}}function c$e(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new E$e(t);if(!s&&t.length!==r)throw new x$e({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<t.length;c++){const l=JO({checksumAddress:n,parameter:i,value:t[c]});l.dynamic&&(o=!0),a.push(l)}if(s||o){const c=QO(a);if(s){const l=Qo(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?ku(l,c):l}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:ku(...a.map(({encoded:c})=>c))}}function l$e(t,{type:e}){const[,n]=e.split("bytes"),r=Rc(t);if(!n){let i=t;return r%32!==0&&(i=Im(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:ku(Sm(Qo(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new Aee({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Im(t)}}function u$e(t){if(typeof t!="boolean")throw new dn(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Sm(jX(t))}}function d$e(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new BX({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Qo(t,{size:32,signed:e})}}function h$e(t){const e=LO(t),n=Math.ceil(Rc(e)/32),r=[];for(let i=0;i<n;i++)r.push(Im(jd(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:ku(Im(Qo(Rc(e),{size:32})),...r)}}function f$e(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(t)?o:a.name,l=JO({checksumAddress:n,parameter:a,value:t[c]});s.push(l),l.dynamic&&(i=!0)}return{dynamic:i,encoded:i?QO(s):ku(...s.map(({encoded:o})=>o))}}function XO(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function c6(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(c6);const n=XO(t.type);return!!(n&&c6({...t,type:n[1]}))}const p$e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new y$e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new m$e({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new Cee({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new Cee({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function g$e(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(p$e);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class Cee extends dn{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class m$e extends dn{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class y$e extends dn{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function w$e(t,e,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof e=="string"?RX(e):e,o=g$e(s);if(Mw(s)===0&&t.length>0)throw new b$e;if(Mw(s)&&Mw(s)<32)throw new v$e({data:typeof e=="string"?e:$u(e),parameters:t,size:Mw(s)});let a=0;const c=r==="Array"?[]:{};for(let l=0;l<t.length;++l){const u=t[l];o.setPosition(a);const[d,h]=Lw(o,u,{checksumAddress:i,staticPosition:0});a+=h,r==="Array"?c.push(d):c[u.name??l]=d}return c}function eR(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new See({expectedLength:t.length,givenLength:e.length});const i=o$e({checksumAddress:r,parameters:t,values:e}),s=QO(i);return s.length===0?"0x":s}function tR(t,e){if(t.length!==e.length)throw new See({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(tR.encode(i,s))}return ku(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const c=r;return YC(c),Sm(c.toLowerCase(),i?32:0)}if(n==="string")return LO(r);if(n==="bytes")return r;if(n==="bool")return Sm(jX(r),i?32:1);const s=n.match(bee);if(s){const[c,l,u="256"]=s,d=Number.parseInt(u,10)/8;return Qo(r,{size:i?32:d,signed:l==="int"})}const o=n.match(Qke);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new Aee({expectedSize:Number.parseInt(l,10),value:r});return Im(r,i?32:0)}const a=n.match(Jke);if(a&&Array.isArray(r)){const[c,l]=a,u=[];for(let d=0;d<r.length;d++)u.push(e(l,r[d],!0));return u.length===0?"0x":ku(...u)}throw new nR(n)}t.encode=e})(tR||(tR={}));function _ee(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?aQ(t):t}class v$e extends dn{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${bw(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class b$e extends dn{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class x$e extends dn{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Aee extends dn{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Rc(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class See extends dn{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class E$e extends dn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class nR extends dn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}let Iee=class extends tO{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,wQ(e);const r=I5(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),a0(s)}update(e){return Sw(this),this.iHash.update(e),this}digestInto(e){Sw(this),lf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const JC=(t,e,n)=>new Iee(t,e).update(n).digest();JC.create=(t,e)=>new Iee(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Oa=BigInt(0),Xo=BigInt(1),$m=BigInt(2),C$e=BigInt(3),kee=BigInt(4),$ee=BigInt(5),Tee=BigInt(8);function Ra(t,e){const n=t%e;return n>=Oa?n:e+n}function Il(t,e,n){let r=t;for(;e-- >Oa;)r*=r,r%=n;return r}function rR(t,e){if(t===Oa)throw new Error("invert: expected non-zero number");if(e<=Oa)throw new Error("invert: expected positive modulus, got "+e);let n=Ra(t,e),r=e,i=Oa,s=Xo;for(;n!==Oa;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==Xo)throw new Error("invert: does not exist");return Ra(i,e)}function Pee(t,e){const n=(t.ORDER+Xo)/kee,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function _$e(t,e){const n=(t.ORDER-$ee)/Tee,r=t.mul(e,$m),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,$m),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function A$e(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Xo,n=0;for(;e%$m===Oa;)e/=$m,n++;let r=$m;const i=iR(t);for(;Oee(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Pee;let s=i.pow(r,e);const o=(e+Xo)/$m;return function(c,l){if(c.is0(l))return l;if(Oee(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let g=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(g++,m=c.sqr(m),g===u)throw new Error("Cannot find square root");const y=Xo<<BigInt(u-g-1),w=c.pow(d,y);u=g,d=c.sqr(w),h=c.mul(h,d),f=c.mul(f,w)}return f}}function S$e(t){return t%kee===C$e?Pee:t%Tee===$ee?_$e:A$e(t)}const I$e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function k$e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=I$e.reduce((r,i)=>(r[i]="function",r),e);return FC(t,n)}function $$e(t,e,n){if(n<Oa)throw new Error("invalid exponent, negatives unsupported");if(n===Oa)return t.ONE;if(n===Xo)return e;let r=t.ONE,i=e;for(;n>Oa;)n&Xo&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Xo;return r}function Nee(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function Oee(t,e){const n=(t.ORDER-Xo)/$m,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Ree(t,e){e!==void 0&&hm(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function iR(t,e,n=!1,r={}){if(t<=Oa)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Ree(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:UC(i),ZERO:Oa,ONE:Xo,create:c=>Ra(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Oa<=c&&c<t},is0:c=>c===Oa,isOdd:c=>(c&Xo)===Xo,neg:c=>Ra(-c,t),eql:(c,l)=>c===l,sqr:c=>Ra(c*c,t),add:(c,l)=>Ra(c+l,t),sub:(c,l)=>Ra(c-l,t),mul:(c,l)=>Ra(c*l,t),pow:(c,l)=>$$e(a,c,l),div:(c,l)=>Ra(c*rR(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>rR(c,t),sqrt:r.sqrt||(c=>(o||(o=S$e(t)),o(a,c))),toBytes:c=>n?SX(c,s):r6(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?AX(c):Am(c)},invertBatch:c=>Nee(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function Mee(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function jee(t){const e=Mee(t);return e+Math.ceil(e/2)}function T$e(t,e,n=!1){const r=t.length,i=Mee(e),s=jee(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?AX(t):Am(t),a=Ra(o,e-Xo)+Xo;return n?SX(a,i):r6(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dee=BigInt(0),sR=BigInt(1);function oR(t,e){const n=e.negate();return t?n:e}function Lee(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function aR(t,e){Lee(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=UC(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function Bee(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=sR);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function P$e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function N$e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const cR=new WeakMap,Uee=new WeakMap;function lR(t){return Uee.get(t)||1}function O$e(t,e){return{constTimeNegate:oR,hasPrecomputes(n){return lR(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>Dee;)r&sR&&(i=i.add(s)),s=s.double(),r>>=sR;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=aR(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=aR(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:g}=Bee(i,c,a);i=l,d?o=o.add(oR(f,r[g])):s=s.add(oR(h,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=aR(n,e);for(let a=0;a<o.windows&&i!==Dee;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=Bee(i,a,o);if(i=c,!u){const h=r[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(n,r,i){let s=cR.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&cR.set(r,i(s))),s},wNAFCached(n,r,i){const s=lR(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=lR(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Lee(r,e),Uee.set(n,r),cR.delete(n)}}}function R$e(t,e,n,r){P$e(n,t),N$e(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=SIe(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=UC(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const y=r[m],w=Number(y>>BigInt(f)&l);u[w]=u[w].add(n[m])}let g=o;for(let m=u.length-1,y=o;m>0;m--)y=y.add(u[m]),g=g.add(y);if(h=h.add(g),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function Fee(t){return k$e(t.Fp),FC(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ree(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zee(t){t.lowS!==void 0&&t6("lowS",t.lowS),t.prehash!==void 0&&t6("prehash",t.prehash)}function M$e(t){const e=Fee(t);FC(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}const yf={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:n}=yf;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=DC(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?DC(i.length/2|128):"";return DC(t)+s+i+e},decode(t,e){const{Err:n}=yf;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=yf;if(t<wf)throw new e("integer: negative integers are not allowed");let n=DC(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=yf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Am(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=yf,i=Sl("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=yf,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function uR(t,e){return n6(r6(t,e))}const wf=BigInt(0),gs=BigInt(1);BigInt(2);const dR=BigInt(3),j$e=BigInt(4);function D$e(t){const e=M$e(t),{Fp:n}=e,r=iR(e.n,e.nBitLength),i=e.toBytes||((v,E,_)=>{const O=E.toAffine();return BC(Uint8Array.from([4]),n.toBytes(O.x),n.toBytes(O.y))}),s=e.fromBytes||(v=>{const E=v.subarray(1),_=n.fromBytes(E.subarray(0,n.BYTES)),O=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:_,y:O}});function o(v){const{a:E,b:_}=e,O=n.sqr(v),S=n.mul(O,v);return n.add(n.add(S,n.mul(v,E)),_)}function a(v,E){const _=n.sqr(E),O=o(v);return n.eql(_,O)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,dR),j$e),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(v){return jO(v,gs,e.n)}function d(v){const{allowedPrivateKeyLengths:E,nByteLength:_,wrapPrivateKey:O,n:S}=e;if(E&&typeof v!="bigint"){if(e6(v)&&(v=n6(v)),typeof v!="string"||!E.includes(v.length))throw new Error("invalid private key");v=v.padStart(_*2,"0")}let R;try{R=typeof v=="bigint"?v:Am(Sl("private key",v,_))}catch{throw new Error("invalid private key, expected hex or "+_+" bytes, got "+typeof v)}return O&&(R=Ra(R,S)),Rw("private key",R,gs,S),R}function h(v){if(!(v instanceof m))throw new Error("ProjectivePoint expected")}const f=kX((v,E)=>{const{px:_,py:O,pz:S}=v;if(n.eql(S,n.ONE))return{x:_,y:O};const R=v.is0();E==null&&(E=R?n.ONE:n.inv(S));const I=n.mul(_,E),D=n.mul(O,E),j=n.mul(S,E);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(j,n.ONE))throw new Error("invZ was invalid");return{x:I,y:D}}),g=kX(v=>{if(v.is0()){if(e.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:E,y:_}=v.toAffine();if(!n.isValid(E)||!n.isValid(_))throw new Error("bad point: x or y not FE");if(!a(E,_))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(E,_,O){if(E==null||!n.isValid(E))throw new Error("x required");if(_==null||!n.isValid(_)||n.is0(_))throw new Error("y required");if(O==null||!n.isValid(O))throw new Error("z required");this.px=E,this.py=_,this.pz=O,Object.freeze(this)}static fromAffine(E){const{x:_,y:O}=E||{};if(!E||!n.isValid(_)||!n.isValid(O))throw new Error("invalid affine point");if(E instanceof m)throw new Error("projective point not allowed");const S=R=>n.eql(R,n.ZERO);return S(_)&&S(O)?m.ZERO:new m(_,O,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const _=Nee(n,E.map(O=>O.pz));return E.map((O,S)=>O.toAffine(_[S])).map(m.fromAffine)}static fromHex(E){const _=m.fromAffine(s(Sl("pointHex",E)));return _.assertValidity(),_}static fromPrivateKey(E){return m.BASE.multiply(d(E))}static msm(E,_){return R$e(m,r,E,_)}_setWindowSize(E){b.setWindowSize(this,E)}assertValidity(){g(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){h(E);const{px:_,py:O,pz:S}=this,{px:R,py:I,pz:D}=E,j=n.eql(n.mul(_,D),n.mul(R,S)),F=n.eql(n.mul(O,D),n.mul(I,S));return j&&F}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:_}=e,O=n.mul(_,dR),{px:S,py:R,pz:I}=this;let D=n.ZERO,j=n.ZERO,F=n.ZERO,M=n.mul(S,S),C=n.mul(R,R),x=n.mul(I,I),A=n.mul(S,R);return A=n.add(A,A),F=n.mul(S,I),F=n.add(F,F),D=n.mul(E,F),j=n.mul(O,x),j=n.add(D,j),D=n.sub(C,j),j=n.add(C,j),j=n.mul(D,j),D=n.mul(A,D),F=n.mul(O,F),x=n.mul(E,x),A=n.sub(M,x),A=n.mul(E,A),A=n.add(A,F),F=n.add(M,M),M=n.add(F,M),M=n.add(M,x),M=n.mul(M,A),j=n.add(j,M),x=n.mul(R,I),x=n.add(x,x),M=n.mul(x,A),D=n.sub(D,M),F=n.mul(x,C),F=n.add(F,F),F=n.add(F,F),new m(D,j,F)}add(E){h(E);const{px:_,py:O,pz:S}=this,{px:R,py:I,pz:D}=E;let j=n.ZERO,F=n.ZERO,M=n.ZERO;const C=e.a,x=n.mul(e.b,dR);let A=n.mul(_,R),P=n.mul(O,I),N=n.mul(S,D),$=n.add(_,O),L=n.add(R,I);$=n.mul($,L),L=n.add(A,P),$=n.sub($,L),L=n.add(_,S);let B=n.add(R,D);return L=n.mul(L,B),B=n.add(A,N),L=n.sub(L,B),B=n.add(O,S),j=n.add(I,D),B=n.mul(B,j),j=n.add(P,N),B=n.sub(B,j),M=n.mul(C,L),j=n.mul(x,N),M=n.add(j,M),j=n.sub(P,M),M=n.add(P,M),F=n.mul(j,M),P=n.add(A,A),P=n.add(P,A),N=n.mul(C,N),L=n.mul(x,L),P=n.add(P,N),N=n.sub(A,N),N=n.mul(C,N),L=n.add(L,N),A=n.mul(P,L),F=n.add(F,A),A=n.mul(B,L),j=n.mul($,j),j=n.sub(j,A),A=n.mul($,P),M=n.mul(B,M),M=n.add(M,A),new m(j,F,M)}subtract(E){return this.add(E.negate())}is0(){return this.equals(m.ZERO)}wNAF(E){return b.wNAFCached(this,E,m.normalizeZ)}multiplyUnsafe(E){const{endo:_,n:O}=e;Rw("scalar",E,wf,O);const S=m.ZERO;if(E===wf)return S;if(this.is0()||E===gs)return this;if(!_||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,E,m.normalizeZ);let{k1neg:R,k1:I,k2neg:D,k2:j}=_.splitScalar(E),F=S,M=S,C=this;for(;I>wf||j>wf;)I&gs&&(F=F.add(C)),j&gs&&(M=M.add(C)),C=C.double(),I>>=gs,j>>=gs;return R&&(F=F.negate()),D&&(M=M.negate()),M=new m(n.mul(M.px,_.beta),M.py,M.pz),F.add(M)}multiply(E){const{endo:_,n:O}=e;Rw("scalar",E,gs,O);let S,R;if(_){const{k1neg:I,k1:D,k2neg:j,k2:F}=_.splitScalar(E);let{p:M,f:C}=this.wNAF(D),{p:x,f:A}=this.wNAF(F);M=b.constTimeNegate(I,M),x=b.constTimeNegate(j,x),x=new m(n.mul(x.px,_.beta),x.py,x.pz),S=M.add(x),R=C.add(A)}else{const{p:I,f:D}=this.wNAF(E);S=I,R=D}return m.normalizeZ([S,R])[0]}multiplyAndAddUnsafe(E,_,O){const S=m.BASE,R=(D,j)=>j===wf||j===gs||!D.equals(S)?D.multiplyUnsafe(j):D.multiply(j),I=R(this,_).add(R(E,O));return I.is0()?void 0:I}toAffine(E){return f(this,E)}isTorsionFree(){const{h:E,isTorsionFree:_}=e;if(E===gs)return!0;if(_)return _(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:_}=e;return E===gs?this:_?_(m,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return t6("isCompressed",E),this.assertValidity(),i(m,this,E)}toHex(E=!0){return t6("isCompressed",E),n6(this.toRawBytes(E))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:w}=e,b=O$e(m,y?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function L$e(t){const e=Fee(t);return FC(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function B$e(t){const e=L$e(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(x){return Ra(x,r)}function l(x){return rR(x,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=D$e({...e,toBytes(x,A,P){const N=A.toAffine(),$=n.toBytes(N.x),L=BC;return t6("isCompressed",P),P?L(Uint8Array.from([A.hasEvenY()?2:3]),$):L(Uint8Array.from([4]),$,n.toBytes(N.y))},fromBytes(x){const A=x.length,P=x[0],N=x.subarray(1);if(A===o&&(P===2||P===3)){const $=Am(N);if(!jO($,gs,n.ORDER))throw new Error("Point is not on curve");const L=h($);let B;try{B=n.sqrt(L)}catch(q){const U=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+U)}const T=(B&gs)===gs;return(P&1)===1!==T&&(B=n.neg(B)),{x:$,y:B}}else if(A===a&&P===4){const $=n.fromBytes(N.subarray(0,n.BYTES)),L=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:$,y:L}}else{const $=o,L=a;throw new Error("invalid Point, expected length of "+$+", or uncompressed "+L+", got "+A)}}});function g(x){const A=r>>gs;return x>A}function m(x){return g(x)?c(-x):x}const y=(x,A,P)=>Am(x.slice(A,P));class w{constructor(A,P,N){Rw("r",A,gs,r),Rw("s",P,gs,r),this.r=A,this.s=P,N!=null&&(this.recovery=N),Object.freeze(this)}static fromCompact(A){const P=i;return A=Sl("compactSignature",A,P*2),new w(y(A,0,P),y(A,P,2*P))}static fromDER(A){const{r:P,s:N}=yf.toSig(Sl("DER",A));return new w(P,N)}assertValidity(){}addRecoveryBit(A){return new w(this.r,this.s,A)}recoverPublicKey(A){const{r:P,s:N,recovery:$}=this,L=S(Sl("msgHash",A));if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");const B=$===2||$===3?P+e.n:P;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const T=$&1?"03":"02",z=u.fromHex(T+uR(B,n.BYTES)),q=l(B),U=c(-L*q),V=c(N*q),Z=u.BASE.multiplyAndAddUnsafe(z,U,V);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return LC(this.toDERHex())}toDERHex(){return yf.hexFromSig(this)}toCompactRawBytes(){return LC(this.toCompactHex())}toCompactHex(){const A=i;return uR(this.r,A)+uR(this.s,A)}}const b={isValidPrivateKey(x){try{return d(x),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const x=jee(e.n);return T$e(e.randomBytes(x),e.n)},precompute(x=8,A=u.BASE){return A._setWindowSize(x),A.multiply(BigInt(3)),A}};function v(x,A=!0){return u.fromPrivateKey(x).toRawBytes(A)}function E(x){if(typeof x=="bigint")return!1;if(x instanceof u)return!0;const P=Sl("key",x).length,N=n.BYTES,$=N+1,L=2*N+1;if(!(e.allowedPrivateKeyLengths||i===$))return P===$||P===L}function _(x,A,P=!0){if(E(x)===!0)throw new Error("first arg must be private key");if(E(A)===!1)throw new Error("second arg must be public key");return u.fromHex(A).multiply(d(x)).toRawBytes(P)}const O=e.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const A=Am(x),P=x.length*8-s;return P>0?A>>BigInt(P):A},S=e.bits2int_modN||function(x){return c(O(x))},R=UC(s);function I(x){return Rw("num < 2^"+s,x,wf,R),r6(x,i)}function D(x,A,P=j){if(["recovered","canonical"].some(J=>J in P))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:$}=e;let{lowS:L,prehash:B,extraEntropy:T}=P;L==null&&(L=!0),x=Sl("msgHash",x),zee(P),B&&(x=Sl("prehashed msgHash",N(x)));const z=S(x),q=d(A),U=[I(q),I(z)];if(T!=null&&T!==!1){const J=T===!0?$(n.BYTES):T;U.push(Sl("extraEntropy",J))}const V=BC(...U),Z=z;function K(J){const oe=O(J);if(!f(oe))return;const se=l(oe),ae=u.BASE.multiply(oe).toAffine(),fe=c(ae.x);if(fe===wf)return;const ce=c(se*c(Z+fe*q));if(ce===wf)return;let de=(ae.x===fe?0:2)|Number(ae.y&gs),ot=ce;return L&&g(ce)&&(ot=m(ce),de^=1),new w(fe,ot,de)}return{seed:V,k2sig:K}}const j={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function M(x,A,P=j){const{seed:N,k2sig:$}=D(x,A,P),L=e;return IIe(L.hash.outputLen,L.nByteLength,L.hmac)(N,$)}u.BASE._setWindowSize(8);function C(x,A,P,N=F){var de;const $=x;A=Sl("msgHash",A),P=Sl("publicKey",P);const{lowS:L,prehash:B,format:T}=N;if(zee(N),"strict"in N)throw new Error("options.strict was renamed to lowS");if(T!==void 0&&T!=="compact"&&T!=="der")throw new Error("format must be compact or der");const z=typeof $=="string"||e6($),q=!z&&!T&&typeof $=="object"&&$!==null&&typeof $.r=="bigint"&&typeof $.s=="bigint";if(!z&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let U,V;try{if(q&&(U=new w($.r,$.s)),z){try{T!=="compact"&&(U=w.fromDER($))}catch(ot){if(!(ot instanceof yf.Err))throw ot}!U&&T!=="der"&&(U=w.fromCompact($))}V=u.fromHex(P)}catch{return!1}if(!U||L&&U.hasHighS())return!1;B&&(A=e.hash(A));const{r:Z,s:K}=U,J=S(A),oe=l(K),se=c(J*oe),ae=c(Z*oe),fe=(de=u.BASE.multiplyAndAddUnsafe(V,se,ae))==null?void 0:de.toAffine();return fe?c(fe.x)===Z:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:_,sign:M,verify:C,ProjectivePoint:u,Signature:w,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function U$e(t){return{hash:t,hmac:(e,...n)=>JC(t,e,Md(...n)),randomBytes:CC}}function F$e(t,e){const n=r=>B$e({...t,...U$e(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wee=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),qee=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),z$e=BigInt(0),W$e=BigInt(1),hR=BigInt(2),Hee=(t,e)=>(t+e/hR)/e;function q$e(t){const e=Wee,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Il(u,n,e)*u%e,h=Il(d,n,e)*u%e,f=Il(h,hR,e)*l%e,g=Il(f,i,e)*f%e,m=Il(g,s,e)*g%e,y=Il(m,a,e)*m%e,w=Il(y,c,e)*y%e,b=Il(w,a,e)*m%e,v=Il(b,n,e)*u%e,E=Il(v,o,e)*g%e,_=Il(E,r,e)*l%e,O=Il(_,hR,e);if(!fR.eql(fR.sqr(O),t))throw new Error("Cannot find square root");return O}const fR=iR(Wee,void 0,void 0,{sqrt:q$e}),pR=F$e({a:z$e,b:BigInt(7),Fp:fR,n:qee,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=qee,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-W$e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Hee(s*t,e),c=Hee(-r*t,e);let l=Ra(t-a*n-c*i,e),u=Ra(-a*r-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},PC),H$e=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:pR},Symbol.toStringTag,{value:"Module"}));function Vee(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new mR({signature:t});if(typeof t.s>"u")throw new mR({signature:t});if(n&&typeof t.yParity>"u")throw new mR({signature:t});if(t.r<0n||t.r>xee)throw new Q$e({value:t.r});if(t.s<0n||t.s>xee)throw new X$e({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new yR({value:t.yParity})}function V$e(t){return Kee($u(t))}function Kee(t){if(t.length!==130&&t.length!==132)throw new J$e({signature:t});const e=BigInt(jd(t,0,32)),n=BigInt(jd(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return gR(i)}catch{throw new yR({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function K$e(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return G$e(t)}function G$e(t){const e=typeof t=="string"?Kee(t):t instanceof Uint8Array?V$e(t):typeof t.r=="string"?Y$e(t):t.v?Z$e(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return Vee(e),e}function Z$e(t){return{r:t.r,s:t.s,yParity:gR(t.v)}}function Y$e(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=gR(n)),typeof r!="number")throw new yR({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function gR(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new eTe({value:t})}let J$e=class extends dn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Rc(QIe(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}},mR=class extends dn{constructor({signature:e}){super(`Signature \`${OX(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}},Q$e=class extends dn{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}},X$e=class extends dn{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}},yR=class extends dn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},eTe=class extends dn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};function tTe(t,e={}){return typeof t.chainId=="string"?nTe(t):{...t,...e.signature}}function nTe(t){const{address:e,chainId:n,nonce:r}=t,i=K$e(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const rTe="0x8010801080108010801080108010801080108010801080108010801080108010",iTe=_ee("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Gee(t){if(typeof t=="string"){if(jd(t,-32)!==rTe)throw new aTe(t)}else Vee(t.authorization)}function sTe(t){Gee(t);const e=LX(jd(t,-64,-32)),n=jd(t,-e-64,-64),r=jd(t,0,-e-64),[i,s,o]=w$e(iTe,n);return{authorization:tTe({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...o&&o!=="0x"?{data:o,to:s}:{}}}function oTe(t){try{return Gee(t),!0}catch{return!1}}let aTe=class extends dn{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function wR(t){const{address:e,data:n,signature:r,to:i="hex"}=t,s=hf([Pa([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),Vke]);return i==="hex"?s:Jo(s)}class cTe extends pe{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Zee(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new cTe({value:t});let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[s,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}function Yee(t,e="wei"){return Zee(t,aX[e])}const lTe={path:"/api/v1/analytics_events",method:"POST"},uTe={path:"/api/v1/apps/:app_id",method:"GET"},dTe={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},hTe={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},fTe={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},pTe={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},gTe={path:"/api/v1/farcaster/init",method:"POST"},mTe={path:"/api/v1/farcaster/authenticate",method:"POST"},yTe={path:"/api/v1/farcaster/link",method:"POST"},wTe={path:"/api/v1/farcaster/unlink",method:"POST"},vTe={path:"/api/v1/farcaster/status",method:"GET"},bTe={path:"/api/v2/farcaster/init",method:"POST"},xTe={path:"/api/v2/farcaster/authenticate",method:"POST"},ETe={path:"/api/v1/guest/authenticate",method:"POST"},CTe={path:"/api/v1/mfa/passkeys/init",method:"POST"},_Te={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},ATe={path:"/api/v1/oauth/authenticate",method:"POST"},STe={path:"/api/v1/oauth/init",method:"POST"},ITe={path:"/api/v1/oauth/link",method:"POST"},kTe={path:"/api/v1/oauth/unlink",method:"POST"},$Te={path:"/api/v1/passkeys/link",method:"POST"},TTe={path:"/api/v1/passkeys/authenticate",method:"POST"},PTe={path:"/api/v1/passkeys/register",method:"POST"},NTe={path:"/api/v1/passkeys/authenticate/init",method:"POST"},OTe={path:"/api/v1/passkeys/register/init",method:"POST"},RTe={path:"/api/v1/passkeys/link/init",method:"POST"},MTe={path:"/api/v1/passwordless/authenticate",method:"POST"},jTe={path:"/api/v1/passwordless/init",method:"POST"},DTe={path:"/api/v1/passwordless/link",method:"POST"},LTe={path:"/api/v1/passwordless/unlink",method:"POST"},BTe={path:"/api/v1/passwordless/update",method:"POST"},UTe={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},FTe={path:"/api/v1/passwordless_sms/init",method:"POST"},zTe={path:"/api/v1/passwordless_sms/link",method:"POST"},WTe={path:"/api/v1/passwordless_sms/unlink",method:"POST"},qTe={path:"/api/v1/passwordless_sms/update",method:"POST"},HTe={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},VTe={path:"/api/v1/recovery/oauth/init",method:"POST"},KTe={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},GTe={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},ZTe={path:"/api/v1/recovery/configuration_icloud",method:"POST"},YTe=(t,e)=>e?Object.entries(e).reduce((n,[r,i])=>n.replace(`:${r}`,`${i}`),t):t,Jee={path:"/api/v1/sessions",method:"POST"},JTe={path:"/api/v1/sessions/logout",method:"POST"},QTe={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},Qee={path:"/api/v1/siwe/init",method:"POST"},XTe={path:"/api/v1/siwe/authenticate",method:"POST"},ePe={path:"/api/v1/siwe/link",method:"POST"},tPe={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},nPe={path:"/api/v1/siwe/unlink",method:"POST"},rPe={path:"/api/v1/siws/init",method:"POST"},iPe={path:"/api/v1/siws/authenticate",method:"POST"},sPe={path:"/api/v1/siws/link",method:"POST"},oPe={path:"/api/v1/siws/unlink",method:"POST"},aPe={path:"/api/v1/users/me/accept_terms",method:"POST"},cPe={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},lPe={path:"/api/v1/wallets",method:"POST"},vR={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},uPe={path:"/api/v1/wallets/revoke",method:"POST"};var Rt,Xee=((Rt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Rt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Rt.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",Rt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Rt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Rt.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",Rt.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",Rt.INVALID_DATA="invalid_data",Rt.INVALID_CREDENTIALS="invalid_credentials",Rt.INVALID_CAPTCHA="invalid_captcha",Rt.LINKED_TO_ANOTHER_USER="linked_to_another_user",Rt.ALLOWLIST_REJECTED="allowlist_rejected",Rt.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",Rt.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",Rt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Rt.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",Rt.TOO_MANY_REQUESTS="too_many_requests",Rt.RESOURCE_CONFLICT="resource_conflict",Rt.INVALID_ORIGIN="invalid_origin",Rt.MISSING_ORIGIN="missing_origin",Rt.INVALID_NATIVE_APP_ID="invalid_native_app_id",Rt.TOKEN_ALREADY_USED="token_already_used",Rt.ALREADY_LOGGED_OUT="already_logged_out",Rt.NOT_SUPPORTED="not_supported",Rt.USER_UNSUBSCRIBED="user_unsubscribed",Rt.MAX_APPS_REACHED="max_apps_reached",Rt.USER_LIMIT_REACHED="max_accounts_reached",Rt.DEVICE_REVOKED="device_revoked",Rt.WALLET_PASSWORD_EXISTS="wallet_password_exists",Rt.OAUTH_STATE_MISMATCH="oauth_state_mismatch",Rt.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",Rt.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",Rt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Rt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Rt.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",Rt.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",Rt.CANNOT_SET_PASSWORD="cannot_set_password",Rt.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",Rt.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",Rt.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",Rt.USER_DOES_NOT_EXIST="user_does_not_exist",Rt.ALREADY_EXISTS="resource_already_exists",Rt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Rt.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",Rt.FEATURE_NOT_ENABLED="feature_not_enabled",Rt.INSUFFICIENT_FUNDS="insufficient_funds",Rt.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",Rt.INVALID_POLICY_FORMAT="invalid_policy_format",Rt.POLICY_VIOLATION="policy_violation",Rt.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",Rt.INVALID_REQUEST="invalid_request",Rt.SIGNUP_DISABLED="signup_disabled",Rt);function ete(t,e){t=t.split("-"),e=e.split("-");for(var n=t[0].split("."),r=e[0].split("."),i=0;i<3;i++){var s=Number(n[i]),o=Number(r[i]);if(s>o)return 1;if(o>s)return-1;if(!isNaN(s)&&isNaN(o))return 1;if(isNaN(s)&&!isNaN(o))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var dPe={}.constructor;function Tm(t){return t!=null&&t.constructor===dPe}function Bw(t){"@babel/helpers - typeof";return Bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bw(t)}function QC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fPe(r.key),r)}}function XC(t,e,n){return e&&hPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fPe(t){var e=pPe(t,"string");return Bw(e)=="symbol"?e:e+""}function pPe(t,e){if(Bw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gPe="1.2.0",mPe="1.7.35",tte=" ext. ",yPe=/^\d+$/,ts=function(){function t(e){QC(this,t),ite(e),this.metadata=e,ste.call(this,e)}return XC(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&yPe.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new nte(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new nte(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var i=this.nonGeographic()[n];if(i)return i}else{var s=this.countryCallingCodes()[n];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),nte=function(){function t(e,n){QC(this,t),this.globalMetadataObject=n,this.metadata=e,ste.call(this,n.metadata)}return XC(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(i){return new wPe(i,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&rte(this.types(),n))return new bPe(rte(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?tte:this.metadata[13]||tte}}])}(),wPe=function(){function t(e,n){QC(this,t),this._format=e,this.metadata=n}return XC(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!vPe.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),vPe=/^\(?\$1\)?$/,bPe=function(){function t(e,n){QC(this,t),this.type=e,this.metadata=n}return XC(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function rte(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function ite(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Tm(t)||!Tm(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Tm(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+xPe(t)+": "+t,"."))}var xPe=function(e){return Bw(e)};function e7(t,e){if(e=new ts(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function EPe(t,e){return e.countries.hasOwnProperty(t)}function ste(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?ete(e,gPe)===-1?this.v2=!0:ete(e,mPe)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function t7(t,e,n){return CPe(t,e,void 0,n)}function CPe(t,e,n,r){e&&(r=new ts(r.metadata),r.selectNumberingPlan(e));var i=r.type(n),s=i&&i.possibleLengths()||r.possibleLengths();if(!s)return"IS_POSSIBLE";var o=t.length,a=s[0];return a===o?"IS_POSSIBLE":a>o?"TOO_SHORT":s[s.length-1]<o?"TOO_LONG":s.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function _Pe(t,e,n){if(e===void 0&&(e={}),n=new ts(n),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}}if(n.possibleLengths())return ote(t.phone||t.nationalNumber,t.country,n);if(t.countryCallingCode&&n.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function ote(t,e,n){switch(t7(t,e,n)){case"IS_POSSIBLE":return!0;default:return!1}}function vf(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function APe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=SPe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SPe(t,e){if(t){if(typeof t=="string")return ate(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ate(t,e):void 0}}function ate(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var IPe=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function bR(t,e,n){if(e=e||{},!(!t.country&&!t.countryCallingCode)){n=new ts(n),n.selectNumberingPlan(t.country,t.countryCallingCode);var r=e.v2?t.nationalNumber:t.phone;if(vf(r,n.nationalNumberPattern())){if(xR(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||xR(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=APe(IPe),s;!(s=i()).done;){var o=s.value;if(xR(r,o,n))return o}}}}function xR(t,e,n){return e=n.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:vf(t,e.pattern())}function kPe(t,e,n){if(e=e||{},n=new ts(n),n.selectNumberingPlan(t.country,t.countryCallingCode),n.hasTypes())return bR(t,e,n.metadata)!==void 0;var r=e.v2?t.nationalNumber:t.phone;return vf(r,n.nationalNumberPattern())}function $Pe(t,e,n){var r=new ts(n),i=r.getCountryCodesForCallingCode(t);return i?i.filter(function(s){return TPe(e,s,n)}):[]}function TPe(t,e,n){var r=new ts(n);return r.selectNumberingPlan(e),r.numberingPlan.possibleLengths().indexOf(t.length)>=0}var ER=2,PPe=17,NPe=3,ea="0-9---",OPe="--",RPe="/",MPe=".",jPe=" ",DPe="()\\[\\]",LPe="~",Tu="".concat(OPe).concat(RPe).concat(MPe).concat(jPe).concat(DPe).concat(LPe),n7="+",BPe=new RegExp("(["+ea+"])");function cte(t,e,n,r){if(e){var i=new ts(r);i.selectNumberingPlan(e,n);var s=new RegExp(i.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var o=t.match(BPe);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return t}}}function CR(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(t);if(r){var i,s,o=r.length-1,a=o>0&&r[o];if(e.nationalPrefixTransformRule()&&a)i=t.replace(n,e.nationalPrefixTransformRule()),o>1&&(s=r[1]);else{var c=r[0];i=t.slice(c.length),a&&(s=r[1])}var l;if(a){var u=t.indexOf(r[1]),d=t.slice(0,u);d===e.numberingPlan.nationalPrefix()&&(l=e.numberingPlan.nationalPrefix())}else l=r[0];return{nationalNumber:i,nationalPrefix:l,carrierCode:s}}}return{nationalNumber:t}}function UPe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=FPe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FPe(t,e){if(t){if(typeof t=="string")return lte(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lte(t,e):void 0}}function lte(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ute(t,e){var n=e.countries,r=e.metadata;r=new ts(r);for(var i=UPe(n),s;!(s=i()).done;){var o=s.value;if(r.selectNumberingPlan(o),r.leadingDigits()){if(t&&t.search(r.leadingDigits())===0)return o}else if(bR({phone:t,country:o},void 0,r.metadata))return o}}function _R(t,e){var n=e.nationalNumber,r=e.metadata,i=r.getCountryCodesForCallingCode(t);if(i)return i.length===1?i[0]:ute(n,{countries:i,metadata:r.metadata})}function AR(t,e,n){var r=CR(t,n),i=r.carrierCode,s=r.nationalNumber;if(s!==t){if(!zPe(t,s,n))return{nationalNumber:t};if(n.numberingPlan.possibleLengths()&&(e||(e=_R(n.numberingPlan.callingCode(),{nationalNumber:s,metadata:n})),!WPe(s,e,n)))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:i}}function zPe(t,e,n){return!(vf(t,n.nationalNumberPattern())&&!vf(e,n.nationalNumberPattern()))}function WPe(t,e,n){switch(t7(t,e,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function dte(t,e,n,r,i){var s=e||n?e7(e||n,i):r;if(t.indexOf(s)===0){i=new ts(i),i.selectNumberingPlan(e||n,s);var o=t.slice(s.length),a=AR(o,e,i),c=a.nationalNumber,l=AR(t,e,i),u=l.nationalNumber;if(!vf(u,i.nationalNumberPattern())&&vf(c,i.nationalNumberPattern())||t7(u,e,i)==="TOO_LONG")return{countryCallingCode:s,number:o}}return{number:t}}function SR(t,e,n,r,i){if(!t)return{};var s;if(t[0]!=="+"){var o=cte(t,e||n,r,i);if(o&&o!==t)s=!0,t="+"+o;else{if(e||n||r){var a=dte(t,e,n,r,i),c=a.countryCallingCode,l=a.number;if(c)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:c,number:l}}return{number:t}}}if(t[1]==="0")return{};i=new ts(i);for(var u=2;u-1<=NPe&&u<=t.length;){var d=t.slice(1,u);if(i.hasCallingCode(d))return i.selectNumberingPlan(d),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:d,number:t.slice(u)};u++}return{}}function hte(t){return t.replace(new RegExp("[".concat(Tu,"]+"),"g")," ").trim()}var fte=/(\$\d)/;function pte(t,e,n){var r=n.useInternationalFormat,i=n.withNationalPrefix;n.carrierCode,n.metadata;var s=t.replace(new RegExp(e.pattern()),r?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(fte,e.nationalPrefixFormattingRule()):e.format());return r?hte(s):s}var qPe=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function HPe(t,e,n){var r=new ts(n);if(r.selectNumberingPlan(t,e),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(qPe.test(r.IDDPrefix()))return r.IDDPrefix()}var VPe=";ext=",Uw=function(e){return"([".concat(ea,"]{1,").concat(e,"})")};function gte(t){var e="20",n="15",r="9",i="6",s="[ \\t,]*",o="[:\\.]?[ \\t,-]*",a="#?",c="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",l="(?:[x#~]|int|)",u="[- ]+",d="[ \\t]*",h="(?:,{2}|;)",f=VPe+Uw(e),g=s+c+o+Uw(e)+a,m=s+l+o+Uw(r)+a,y=u+Uw(i)+"#",w=d+h+o+Uw(n)+a,b=d+"(?:,)+"+o+Uw(r)+a;return f+"|"+g+"|"+m+"|"+y+"|"+w+"|"+b}var KPe="["+ea+"]{"+ER+"}",GPe="["+n7+"]{0,1}(?:["+Tu+"]*["+ea+"]){3,}["+Tu+ea+"]*",ZPe=new RegExp("^["+n7+"]{0,1}(?:["+Tu+"]*["+ea+"]){1,2}$","i"),YPe=GPe+"(?:"+gte()+")?",JPe=new RegExp("^"+KPe+"$|^"+YPe+"$","i");function QPe(t){return t.length>=ER&&JPe.test(t)}function XPe(t){return ZPe.test(t)}function eNe(t){var e=t.number,n=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(n?";ext="+n:"")}var mte={formatExtension:function(e,n,r){return"".concat(e).concat(r.ext()).concat(n)}};function tNe(t,e,n,r){if(n?n=iNe({},mte,n):n=mte,r=new ts(r),t.country&&t.country!=="001"){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else if(t.countryCallingCode)r.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=r.countryCallingCode(),s=n.v2?t.nationalNumber:t.phone,o;switch(e){case"NATIONAL":return s?(o=r7(s,t.carrierCode,"NATIONAL",r,n),IR(o,t.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return s?(o=r7(s,null,"INTERNATIONAL",r,n),o="+".concat(i," ").concat(o),IR(o,t.ext,r,n.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return eNe({number:"+".concat(i).concat(s),ext:t.ext});case"IDD":if(!n.fromCountry)return;var a=rNe(s,t.carrierCode,i,n.fromCountry,r);return a?IR(a,t.ext,r,n.formatExtension):void 0;default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function r7(t,e,n,r,i){var s=nNe(r.formats(),t);return s?pte(t,s,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:r}):t}function nNe(t,e){return sNe(t,function(n){if(n.leadingDigitsPatterns().length>0){var r=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(e.search(r)!==0)return!1}return vf(e,n.pattern())})}function IR(t,e,n,r){return e?r(t,e,n):t}function rNe(t,e,n,r,i){var s=e7(r,i.metadata);if(s===n){var o=r7(t,e,"NATIONAL",i);return n==="1"?n+" "+o:o}var a=HPe(r,void 0,i.metadata);if(a)return"".concat(a," ").concat(n," ").concat(r7(t,null,"INTERNATIONAL",i))}function iNe(){for(var t=1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(;t<n.length;){if(n[t])for(var i in n[t])n[0][i]=n[t][i];t++}return n[0]}function sNe(t,e){for(var n=0;n<t.length;){if(e(t[n]))return t[n];n++}}function l6(t){"@babel/helpers - typeof";return l6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l6(t)}function yte(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yte(Object(n),!0).forEach(function(r){oNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yte(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oNe(t,e,n){return(e=vte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vte(r.key),r)}}function lNe(t,e,n){return e&&cNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vte(t){var e=uNe(t,"string");return l6(e)=="symbol"?e:e+""}function uNe(t,e){if(l6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(l6(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kR=function(){function t(e,n,r){if(aNe(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(Tm(n)&&Tm(n.countries)){r=n;var i=e;if(!fNe.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=SR(i,void 0,void 0,void 0,r),o=s.countryCallingCode,a=s.number;if(n=a,e=o,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");ite(r);var c=hNe(e,r),l=c.country,u=c.countryCallingCode;this.country=l,this.countryCallingCode=u,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return lNe(t,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:$Pe(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return _Pe(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return kPe(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new ts(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return bR(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return tNe(this,n,r?wte(wte({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])}(),dNe=function(e){return/^[A-Z]{2}$/.test(e)};function hNe(t,e){var n,r,i=new ts(e);return dNe(t)?(n=t,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=t,{country:n,countryCallingCode:r}}var fNe=/^\+\d+$/;function $R(t){"@babel/helpers - typeof";return $R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$R(t)}function pNe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function gNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mNe(t,e,n){return e=d6(e),yNe(t,PR()?Reflect.construct(e,n||[],d6(t).constructor):e.apply(t,n))}function yNe(t,e){if(e&&($R(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wNe(t)}function wNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u6(t,e)}function TR(t){var e=typeof Map=="function"?new Map:void 0;return TR=function(r){if(r===null||!xNe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return bNe(r,arguments,d6(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),u6(i,r)},TR(t)}function bNe(t,e,n){if(PR())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&u6(i,n.prototype),i}function PR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PR=function(){return!!t})()}function xNe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function u6(t,e){return u6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},u6(t,e)}function d6(t){return d6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d6(t)}var bf=function(t){function e(n){var r;return gNe(this,e),r=mNe(this,e,[n]),Object.setPrototypeOf(r,e.prototype),r.name=r.constructor.name,r}return vNe(e,t),pNe(e)}(TR(Error)),bte=new RegExp("(?:"+gte()+")$","i");function ENe(t){var e=t.search(bte);if(e<0)return{};for(var n=t.slice(0,e),r=t.match(bte),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}function CNe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=_Ne(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ne(t,e){if(t){if(typeof t=="string")return xte(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xte(t,e):void 0}}function xte(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ANe={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function Ete(t){return ANe[t]}function i7(t){for(var e="",n=CNe(t.split("")),r;!(r=n()).done;){var i=r.value,s=Ete(i);s&&(e+=s)}return e}function SNe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=INe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function INe(t,e){if(t){if(typeof t=="string")return Cte(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cte(t,e):void 0}}function Cte(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _te(t){for(var e="",n=SNe(t.split("")),r;!(r=n()).done;){var i=r.value;e+=kNe(i,e)||""}return e}function kNe(t,e,n){return t==="+"?e?void 0:"+":Ete(t)}var Ate="+",$Ne="[\\-\\.\\(\\)]?",Ste="(["+ea+"]|"+$Ne+")",TNe="^\\"+Ate+Ste+"*["+ea+"]"+Ste+"*$",PNe=new RegExp(TNe,"g"),NR=ea,NNe="["+NR+"]+((\\-)*["+NR+"])*",ONe="a-zA-Z",RNe="["+ONe+"]+((\\-)*["+NR+"])*",MNe="^("+NNe+"\\.)*"+RNe+"\\.?$",jNe=new RegExp(MNe,"g"),Ite="tel:",OR=";phone-context=",DNe=";isub=";function LNe(t){var e=t.indexOf(OR);if(e<0)return null;var n=e+OR.length;if(n>=t.length)return"";var r=t.indexOf(";",n);return r>=0?t.substring(n,r):t.substring(n)}function BNe(t){return t===null?!0:t.length===0?!1:PNe.test(t)||jNe.test(t)}function UNe(t,e){var n=e.extractFormattedPhoneNumber,r=LNe(t);if(!BNe(r))throw new bf("NOT_A_NUMBER");var i;if(r===null)i=n(t)||"";else{i="",r.charAt(0)===Ate&&(i+=r);var s=t.indexOf(Ite),o;s>=0?o=s+Ite.length:o=0;var a=t.indexOf(OR);i+=t.substring(o,a)}var c=i.indexOf(DNe);if(c>0&&(i=i.substring(0,c)),i!=="")return i}var FNe=250,zNe=new RegExp("["+n7+ea+"]"),WNe=new RegExp("[^"+ea+"#]+$");function qNe(t,e,n){if(e=e||{},n=new ts(n),e.defaultCountry&&!n.hasCountry(e.defaultCountry))throw e.v2?new bf("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var r=VNe(t,e.v2,e.extract),i=r.number,s=r.ext,o=r.error;if(!i){if(e.v2)throw o==="TOO_SHORT"?new bf("TOO_SHORT"):new bf("NOT_A_NUMBER");return{}}var a=GNe(i,e.defaultCountry,e.defaultCallingCode,n),c=a.country,l=a.nationalNumber,u=a.countryCallingCode,d=a.countryCallingCodeSource,h=a.carrierCode;if(!n.hasSelectedNumberingPlan()){if(e.v2)throw new bf("INVALID_COUNTRY");return{}}if(!l||l.length<ER){if(e.v2)throw new bf("TOO_SHORT");return{}}if(l.length>PPe){if(e.v2)throw new bf("TOO_LONG");return{}}if(e.v2){var f=new kR(u,l,n.metadata);return c&&(f.country=c),h&&(f.carrierCode=h),s&&(f.ext=s),f.__countryCallingCodeSource=d,f}var g=(e.extended?n.hasSelectedNumberingPlan():c)?vf(l,n.nationalNumberPattern()):!1;return e.extended?{country:c,countryCallingCode:u,carrierCode:h,valid:g,possible:g?!0:!!(e.extended===!0&&n.possibleLengths()&&ote(l,c,n)),phone:l,ext:s}:g?KNe(c,l,s):{}}function HNe(t,e,n){if(t){if(t.length>FNe){if(n)throw new bf("TOO_LONG");return}if(e===!1)return t;var r=t.search(zNe);if(!(r<0))return t.slice(r).replace(WNe,"")}}function VNe(t,e,n){var r=UNe(t,{extractFormattedPhoneNumber:function(o){return HNe(o,n,e)}});if(!r)return{};if(!QPe(r))return XPe(r)?{error:"TOO_SHORT"}:{};var i=ENe(r);return i.ext?i:{number:r}}function KNe(t,e,n){var r={country:t,phone:e};return n&&(r.ext=n),r}function GNe(t,e,n,r){var i=SR(_te(t),void 0,e,n,r.metadata),s=i.countryCallingCodeSource,o=i.countryCallingCode,a=i.number,c;if(o)r.selectNumberingPlan(o);else if(a&&(e||n))r.selectNumberingPlan(e,n),e&&(c=e),o=n||e7(e,r.metadata);else return{};if(!a)return{countryCallingCodeSource:s,countryCallingCode:o};var l=AR(_te(a),c,r),u=l.nationalNumber,d=l.carrierCode,h=_R(o,{nationalNumber:u,metadata:r});return h&&(c=h,h==="001"||r.selectNumberingPlan(c)),{country:c,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:u,carrierCode:d}}function h6(t){"@babel/helpers - typeof";return h6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h6(t)}function kte(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kte(Object(n),!0).forEach(function(r){ZNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kte(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZNe(t,e,n){return(e=YNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YNe(t){var e=JNe(t,"string");return h6(e)=="symbol"?e:e+""}function JNe(t,e){if(h6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(h6(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QNe(t,e,n){return qNe(t,$te($te({},e),{},{v2:!0}),n)}function f6(t){"@babel/helpers - typeof";return f6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f6(t)}function Tte(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XNe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tte(Object(n),!0).forEach(function(r){eOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tte(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eOe(t,e,n){return(e=tOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tOe(t){var e=nOe(t,"string");return f6(e)=="symbol"?e:e+""}function nOe(t,e){if(f6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(f6(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rOe(t,e){return aOe(t)||oOe(t,e)||sOe(t,e)||iOe()}function iOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sOe(t,e){if(t){if(typeof t=="string")return Pte(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pte(t,e):void 0}}function Pte(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function oOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function aOe(t){if(Array.isArray(t))return t}function cOe(t){var e=Array.prototype.slice.call(t),n=rOe(e,4),r=n[0],i=n[1],s=n[2],o=n[3],a,c,l;if(typeof r=="string")a=r;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")o?(c=s,l=o):(c=void 0,l=s),i&&(c=XNe({defaultCountry:i},c));else if(Tm(i))s?(c=i,l=s):l=i;else throw new Error("Invalid second argument: ".concat(i));return{text:a,options:c,metadata:l}}function p6(t){"@babel/helpers - typeof";return p6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p6(t)}function Nte(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ote(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nte(Object(n),!0).forEach(function(r){lOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nte(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lOe(t,e,n){return(e=uOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uOe(t){var e=dOe(t,"string");return p6(e)=="symbol"?e:e+""}function dOe(t,e){if(p6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(p6(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hOe(t,e,n){e&&e.defaultCountry&&!EPe(e.defaultCountry,n)&&(e=Ote(Ote({},e),{},{defaultCountry:void 0}));try{return QNe(t,e,n)}catch(r){if(!(r instanceof bf))throw r}}function g6(t){"@babel/helpers - typeof";return g6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g6(t)}function Rte(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rte(Object(n),!0).forEach(function(r){fOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rte(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fOe(t,e,n){return(e=pOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pOe(t){var e=gOe(t,"string");return g6(e)=="symbol"?e:e+""}function gOe(t,e){if(g6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(g6(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mOe(){var t=cOe(arguments),e=t.text,n=t.options,r=t.metadata;n=Mte(Mte({},n),{},{extract:!1});var i=hOe(e,n,r);return i&&i.isPossible()||!1}function m6(t){"@babel/helpers - typeof";return m6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m6(t)}function yOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bOe(r.key),r)}}function vOe(t,e,n){return e&&wOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bOe(t){var e=xOe(t,"string");return m6(e)=="symbol"?e:e+""}function xOe(t,e){if(m6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(m6(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EOe=function(){function t(e){var n=e.onCountryChange,r=e.onCallingCodeChange;yOe(this,t),this.onCountryChange=n,this.onCallingCodeChange=r}return vOe(t,[{key:"reset",value:function(n){var r=n.country,i=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(r,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(n){for(var r=0,i=Object.keys(n);r<i.length;r++){var s=i[r];this[s]=n[s]}}},{key:"initCountryAndCallingCode",value:function(n,r){this.setCountry(n),this.setCallingCode(r)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,r){this.international=!0,this.initCountryAndCallingCode(n,r)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function COe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=_Oe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Oe(t,e){if(t){if(typeof t=="string")return jte(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jte(t,e):void 0}}function jte(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Pu="x",RR=new RegExp(Pu);function s7(t,e){if(e<1)return"";for(var n="";e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function Dte(t,e){return t[e]===")"&&e++,AOe(t.slice(0,e))}function AOe(t){for(var e=[],n=0;n<t.length;)t[n]==="("?e.push(n):t[n]===")"&&e.pop(),n++;var r=0,i="";e.push(t.length);for(var s=0,o=e;s<o.length;s++){var a=o[s];i+=t.slice(r,a),r=a+1}return i}function SOe(t,e,n){for(var r=COe(n.split("")),i;!(i=r()).done;){var s=i.value;if(t.slice(e+1).search(RR)<0)return;e=t.search(RR),t=t.replace(RR,s)}return[t,e]}function IOe(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(e.pattern(),")$"));if(o.test(t.nationalSignificantNumber))return $Oe(t,e,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function kOe(t,e,n){return t7(t,e,n)==="IS_POSSIBLE"}function $Oe(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var o=Lte(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:r});if(o)return o}return Lte(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:r})}function Lte(t,e,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=pte(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:r});if(i||(t.nationalPrefix?o=t.nationalPrefix+s(e)+o:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(o=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+o)),TOe(o,t))return o}function TOe(t,e){return i7(t)===e.getNationalDigits()}function y6(t){"@babel/helpers - typeof";return y6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y6(t)}function POe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ROe(r.key),r)}}function OOe(t,e,n){return e&&NOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ROe(t){var e=MOe(t,"string");return y6(e)=="symbol"?e:e+""}function MOe(t,e){if(y6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(y6(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jOe=function(){function t(){POe(this,t)}return OOe(t,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var r=this.context[0],i=r.branches,s=r.instructions;if(i)return{op:"|",args:i.concat([MR(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var r=n.match(BOe);if(!r){if(LOe.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var i=r[1],s=n.slice(0,r.index),o=n.slice(r.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext(),c=a.branches;c.push(MR(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:c});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(MR(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:DOe(s)});break;default:throw new Error("Unknown operator: ".concat(i))}o&&this.parsePattern(o)}}])}();function DOe(t){for(var e=[],n=0;n<t.length;){if(t[n]==="-"){if(n===0||n===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var r=t[n-1].charCodeAt(0)+1,i=t[n+1].charCodeAt(0)-1,s=r;s<=i;)e.push(String.fromCharCode(s)),s++}else e.push(t[n]);n++}return e}var LOe=/[\(\)\[\]\?\:\|]/,BOe=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function MR(t){return t.length===1?t[0]:t}function Bte(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=UOe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UOe(t,e){if(t){if(typeof t=="string")return Ute(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ute(t,e):void 0}}function Ute(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function w6(t){"@babel/helpers - typeof";return w6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w6(t)}function FOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qOe(r.key),r)}}function WOe(t,e,n){return e&&zOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qOe(t){var e=HOe(t,"string");return w6(e)=="symbol"?e:e+""}function HOe(t,e){if(w6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(w6(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VOe=function(){function t(e){FOe(this,t),this.matchTree=new jOe().parse(e)}return WOe(t,[{key:"match",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.allowOverflow;if(!n)throw new Error("String is required");var s=jR(n.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}])}();function jR(t,e,n){if(typeof e=="string"){var r=t.join("");return e.indexOf(r)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:r.indexOf(e)===0?n&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),s=0;s<e.length;){var o=e[s],a=jR(i,o,n&&s===e.length-1);if(a){if(a.overflow)return a;if(a.match){if(i=i.slice(a.matchedChars.length),i.length===0)return s===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(a.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(a,null,2)))}}else return;s++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var c,l=Bte(e.args),u;!(u=l()).done;){var d=u.value,h=jR(t,d,n);if(h){if(h.overflow)return h;if(h.match)return{match:!0,matchedChars:h.matchedChars};if(h.partialMatch)c=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(h,null,2)))}}return c?{partialMatch:!0}:void 0;case"[]":for(var f=Bte(e.args),g;!(g=f()).done;){var m=g.value;if(t[0]===m)return t.length===1?{match:!0,matchedChars:t}:n?{overflow:!0}:{match:!0,matchedChars:[m]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function v6(t){"@babel/helpers - typeof";return v6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v6(t)}function Fte(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=KOe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KOe(t,e){if(t){if(typeof t=="string")return zte(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zte(t,e):void 0}}function zte(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function GOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JOe(r.key),r)}}function YOe(t,e,n){return e&&ZOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JOe(t){var e=QOe(t,"string");return v6(e)=="symbol"?e:e+""}function QOe(t,e){if(v6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(v6(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DR="9",XOe=15,eRe=s7(DR,XOe),tRe=/[- ]/,nRe=function(){return/\[([^\[\]])*\]/g},rRe=function(){return/\d(?=[^,}][^,}])/g},iRe=new RegExp("["+Tu+"]*\\$1["+Tu+"]*(\\$\\d["+Tu+"]*)*$"),Wte=3,sRe=function(){function t(e){e.state;var n=e.metadata;GOe(this,t),this.metadata=n,this.resetFormat()}return YOe(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,r){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),r.nationalSignificantNumber&&this.narrowDownMatchingFormats(r)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,r){var i=this;if(kOe(r.nationalSignificantNumber,r.country,this.metadata))for(var s=Fte(this.matchingFormats),o;!(o=s()).done;){var a=o.value,c=IOe(r,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(u){return i.shouldTryNationalPrefixFormattingRule(u,{international:r.international,nationalPrefix:r.nationalPrefix})},getSeparatorAfterNationalPrefix:function(u){return i.getSeparatorAfterNationalPrefix(u)}});if(c)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(c.replace(/\d/g,Pu),r),this.populatedNationalNumberTemplate=c,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Pu),c}return this.formatNationalNumberWithNextDigits(n,r)}},{key:"formatNationalNumberWithNextDigits",value:function(n,r){var i=this.chosenFormat,s=this.chooseFormat(r);if(s)return s===i?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(r.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var r=this,i=n.nationalSignificantNumber,s=n.nationalPrefix,o=n.international,a=i,c=a.length-Wte;c<0&&(c=0),this.matchingFormats=this.matchingFormats.filter(function(l){return r.formatSuits(l,o,s)&&r.formatMatches(l,a,c)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,r,i){return!(i&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!r&&!i&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,r,i){var s=n.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var o=n.leadingDigitsPatterns()[i];if(r.length<Wte)try{return new VOe(o).match(r,{allowOverflow:!0})!==void 0}catch(a){return console.error(a),!0}return new RegExp("^(".concat(o,")")).test(r)}},{key:"getFormatFormat",value:function(n,r){return r?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var r=this,i=function(){var l=a.value;return r.chosenFormat===l?0:iRe.test(r.getFormatFormat(l,n.international))?r.createTemplateForFormat(l,n)?(r.chosenFormat=l,0):(r.matchingFormats=r.matchingFormats.filter(function(u){return u!==l}),1):1},s,o=Fte(this.matchingFormats.slice()),a;!(a=o()).done&&(s=i(),s!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,r){if(!(n.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(n,r);if(i)return this.setNationalNumberTemplate(i,r),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&tRe.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,r){var i=n.IDDPrefix,s=n.missingPlus;return i?r&&r.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var r=-1,i=0,s=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";i<s.length+n.getDigitsWithoutInternationalPrefix().length;)r=this.template.indexOf(Pu,r+1),i++;return Dte(this.template,r+1)}}},{key:"setNationalNumberTemplate",value:function(n,r){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,r.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(r).replace(/[\d\+]/g,Pu)+s7(Pu,r.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,r){var i=r.nationalSignificantNumber,s=r.international,o=r.nationalPrefix,a=r.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,c=n.pattern();c=c.replace(nRe(),"\\d").replace(rRe(),"\\d");var l=eRe.match(c)[0];if(!(i.length>l.length)){var u=new RegExp("^"+c+"$"),d=i.replace(/\d/g,DR);u.test(d)&&(l=d);var h=this.getFormatFormat(n,s),f;if(this.shouldTryNationalPrefixFormattingRule(n,{international:s,nationalPrefix:o})){var g=h.replace(fte,n.nationalPrefixFormattingRule());if(i7(n.nationalPrefixFormattingRule())===(o||"")+i7("$1")&&(h=g,f=!0,o))for(var m=o.length;m>0;)h=h.replace(/\d/,Pu),m--}var y=l.replace(new RegExp(c),h).replace(new RegExp(DR,"g"),Pu);return f||(a?y=s7(Pu,a.length)+" "+y:o&&(y=s7(Pu,o.length)+this.getSeparatorAfterNationalPrefix(n)+y)),s&&(y=hte(y)),y}}},{key:"formatNextNationalNumberDigits",value:function(n){var r=SOe(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!r){this.resetFormat();return}return this.populatedNationalNumberTemplate=r[0],this.populatedNationalNumberTemplatePosition=r[1],Dte(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,r){var i=r.international,s=r.nationalPrefix;if(n.nationalPrefixFormattingRule()){var o=n.usesNationalPrefix();if(o&&s||!o&&!i)return!0}}}])}();function b6(t){"@babel/helpers - typeof";return b6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b6(t)}function qte(t,e){return lRe(t)||cRe(t,e)||aRe(t,e)||oRe()}function oRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aRe(t,e){if(t){if(typeof t=="string")return Hte(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hte(t,e):void 0}}function Hte(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function cRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function lRe(t){if(Array.isArray(t))return t}function uRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fRe(r.key),r)}}function hRe(t,e,n){return e&&dRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fRe(t){var e=pRe(t,"string");return b6(e)=="symbol"?e:e+""}function pRe(t,e){if(b6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(b6(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gRe="["+Tu+ea+"]+",mRe=new RegExp("^"+gRe+"$","i"),yRe="(?:["+n7+"]["+Tu+ea+"]*|["+Tu+ea+"]+)",wRe=new RegExp("[^"+Tu+ea+"]+.*$"),vRe=/[^\d\[\]]/,bRe=function(){function t(e){var n=e.defaultCountry,r=e.defaultCallingCode,i=e.metadata,s=e.onNationalSignificantNumberChange;uRe(this,t),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=s}return hRe(t,[{key:"input",value:function(n,r){var i=CRe(n),s=qte(i,2),o=s[0],a=s[1],c=i7(o),l;return a&&(r.digits||(r.startInternationalNumber(void 0,void 0),c||(l=!0))),c&&this.inputDigits(c,r),{digits:c,justLeadingPlus:l}}},{key:"inputDigits",value:function(n,r){var i=r.digits,s=i.length<3&&i.length+n.length>=3;if(r.appendDigits(n),s&&this.extractIddPrefix(r),this.isWaitingForCountryCallingCode(r)){if(!this.extractCountryCallingCode(r))return}else r.appendNationalSignificantNumberDigits(n);r.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(r.getNationalDigits(),function(o){return r.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var r=n.international,i=n.callingCode;return r&&!i}},{key:"extractCountryCallingCode",value:function(n){var r=SR("+"+n.getDigitsWithoutInternationalPrefix(),n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode,s=r.number;if(i)return n.setCallingCode(i),n.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var r=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=r&&vRe.test(r)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,r){if(this.hasSelectedNumberingPlan){var i=CR(n,this.metadata),s=i.nationalPrefix,o=i.nationalNumber,a=i.carrierCode;if(o!==n)return this.onExtractedNationalNumber(s,a,o,n,r),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,r,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=CR(n,this.metadata),o=s.nationalPrefix,a=s.nationalNumber,c=s.carrierCode;if(a!==r)return this.onExtractedNationalNumber(o,c,a,n,i),!0}}},{key:"onExtractedNationalNumber",value:function(n,r,i,s,o){var a=!1,c,l=s.lastIndexOf(i);if(l<0||l!==s.length-i.length)a=!0;else{var u=s.slice(0,l);u&&u!==n&&(c=u)}o({nationalPrefix:n,carrierCode:r,nationalSignificantNumber:i,nationalSignificantNumberIsModified:a,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:c}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(r){return n.update(r)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var r=n.international,i=n.IDDPrefix,s=n.digits;if(n.nationalSignificantNumber,!(r||i)){var o=cte(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==s)return n.update({IDDPrefix:s.slice(0,s.length-o.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var r=dte(n.digits,n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode;if(i)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(n,r){var i=r.country,s=r.callingCode;n.startInternationalNumber(i,s),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(r){return n.update(r)})}}])}();function xRe(t){var e=t.search(yRe);if(!(e<0)){t=t.slice(e);var n;return t[0]==="+"&&(n=!0,t=t.slice(1)),t=t.replace(wRe,""),n&&(t="+"+t),t}}function ERe(t){var e=xRe(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function CRe(t){var e=ERe(t),n=qte(e,2),r=n[0],i=n[1];return mRe.test(r)||(r=""),[r,i]}function x6(t){"@babel/helpers - typeof";return x6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x6(t)}function _Re(t,e){return kRe(t)||IRe(t,e)||SRe(t,e)||ARe()}function ARe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SRe(t,e){if(t){if(typeof t=="string")return Vte(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vte(t,e):void 0}}function Vte(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function IRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function kRe(t){if(Array.isArray(t))return t}function $Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NRe(r.key),r)}}function PRe(t,e,n){return e&&TRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NRe(t){var e=ORe(t,"string");return x6(e)=="symbol"?e:e+""}function ORe(t,e){if(x6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(x6(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kte=function(){function t(e,n){$Re(this,t),this.metadata=new ts(n);var r=this.getCountryAndCallingCode(e),i=_Re(r,2),s=i[0],o=i[1];this.defaultCountry=s,this.defaultCallingCode=o,this.reset()}return PRe(t,[{key:"getCountryAndCallingCode",value:function(n){var r,i;return n&&(Tm(n)?(r=n.defaultCountry,i=n.defaultCallingCode):r=n),r&&!this.metadata.hasCountry(r)&&(r=void 0),[r,i]}},{key:"input",value:function(n){var r=this.parser.input(n,this.state),i=r.digits,s=r.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(i,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var a=this.state.getNationalDigits();a&&(o=this.formatter.format(a,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new EOe({onCountryChange:function(i){n.country=i},onCallingCodeChange:function(i,s){n.metadata.selectNumberingPlan(s,i),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new sRe({state:this.state,metadata:this.metadata}),this.parser=new bRe({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var r=this;if(this.isInternational()){var i=function(a){return r.formatter.getInternationalPrefixBeforeCountryCallingCode(r.state,{spacing:!!a})+a},s=this.state.callingCode;return i(s?n?"".concat(s," ").concat(n):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,s=n.nationalPrefix,o=r,a=i||s;return a&&(o=a+o),o}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(n?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,Pu)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,r=this.metadata.getCountryCodesForCallingCode(n);return r&&r.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(_R(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,r=n.digits,i=n.callingCode,s=n.country,o=n.nationalSignificantNumber;if(r){if(this.isInternational())return i?"+"+i+o:"+"+r;if(s||i){var a=s?this.metadata.countryCallingCode():i;return"+"+a+o}}}},{key:"getNumber",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.carrierCode,s=n.callingCode,o=this._getCountry();if(r&&!(!o&&!s)){if(o&&o===this.defaultCountry){var a=new ts(this.metadata.metadata);a.selectNumberingPlan(o);var c=a.numberingPlan.callingCode(),l=this.metadata.getCountryCodesForCallingCode(c);if(l.length>1){var u=ute(r,{countries:l,metadata:this.metadata.metadata});u&&(o=u)}}var d=new kR(o||s,r,this.metadata.metadata);return i&&(d.carrierCode=i),d}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function RRe(t){return new ts(t).getCountries()}function MRe(t,e,n){if(e[t])return new kR(t,e[t],n)}function o7(t,{method:e}){var r,i;const n={};return t.transport.type==="fallback"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:c})=>{a==="success"&&e===s&&(n[o]=c.request)})),s=>n[s]||t.request}async function Gte(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:c}=e,l=o7(t,{method:"eth_newFilter"}),u=s?R5({abi:r,args:i,eventName:s}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?Te(o):o,toBlock:typeof c=="bigint"?Te(c):c,topics:u}]});return{abi:r,args:i,eventName:s,id:d,request:l(d),strict:!!a,type:"event"}}class Zte extends pe{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class LR extends pe{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class jRe extends pe{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${xo(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Yte extends pe{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function Nu(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){var l,u,d;const s=i??!1,o=n!==void 0?Te(n):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||r,s]},{dedupe:!!o}),!a)throw new Yte({blockHash:e,blockNumber:n});return(((d=(u=(l=t.chain)==null?void 0:l.formatters)==null?void 0:u.block)==null?void 0:d.format)||cee)(a,"getBlock")}async function BR(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function DRe(t,e){return Jte(t,e)}async function Jte(t,e){var s,o;const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await Je(t,Nu,"getBlock")({}),u=await a({block:l,client:t,request:i});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return xi(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):Je(t,Nu,"getBlock")({}),Je(t,BR,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new LR;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function Qte(t,e){return UR(t,e)}async function UR(t,e){var h,f;const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var g,m;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(o<1)throw new Zte;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),l=g=>g*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await Je(t,Nu,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:i,type:s});if(g!==null)return g}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new LR;const g=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await Jte(t,{block:u,chain:r,request:i}),m=l(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??m+g,maxPriorityFeePerGas:g}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await Je(t,BR,"getGasPrice")({}))}}async function Ld(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Ta(e)}async function FR(t,e){var R,I,D,j,F;const{account:n=t.account,accessList:r,authorizationList:i,chain:s=t.chain,blobVersionedHashes:o,blobs:a,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:g,nonceManager:m,to:y,type:w,value:b,...v}=e,E=await(async()=>{if(!n||!m||typeof g<"u")return g;const M=wr(n),C=s?s.id:await Je(t,Ld,"getChainId")({});return await m.consume({address:M.address,chainId:C,client:t})})();mf(e);const _=(I=(R=s==null?void 0:s.formatters)==null?void 0:R.transactionRequest)==null?void 0:I.format,S=(_||g0)({...Dw(v,{format:_}),account:n?wr(n):void 0,accessList:r,authorizationList:i,blobs:a,blobVersionedHashes:o,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:E,to:y,type:w,value:b},"fillTransaction");try{const M=await t.request({method:"eth_fillTransaction",params:[S]}),x=(((j=(D=s==null?void 0:s.formatters)==null?void 0:D.transaction)==null?void 0:j.format)||HO)(M.tx);delete x.blockHash,delete x.blockNumber,delete x.r,delete x.s,delete x.transactionIndex,delete x.v,delete x.yParity,x.data=x.input,x.gas&&(x.gas=e.gas??x.gas),x.gasPrice&&(x.gasPrice=e.gasPrice??x.gasPrice),x.maxFeePerBlobGas&&(x.maxFeePerBlobGas=e.maxFeePerBlobGas??x.maxFeePerBlobGas),x.maxFeePerGas&&(x.maxFeePerGas=e.maxFeePerGas??x.maxFeePerGas),x.maxPriorityFeePerGas&&(x.maxPriorityFeePerGas=e.maxPriorityFeePerGas??x.maxPriorityFeePerGas),x.nonce&&(x.nonce=e.nonce??x.nonce);const A=await(async()=>{var L,B;if(typeof((L=s==null?void 0:s.fees)==null?void 0:L.baseFeeMultiplier)=="function"){const T=await Je(t,Nu,"getBlock")({});return s.fees.baseFeeMultiplier({block:T,client:t,request:e})}return((B=s==null?void 0:s.fees)==null?void 0:B.baseFeeMultiplier)??1.2})();if(A<1)throw new Zte;const N=10**(((F=A.toString().split(".")[1])==null?void 0:F.length)??0),$=L=>L*BigInt(Math.ceil(A*N))/BigInt(N);return x.maxFeePerGas&&!e.maxFeePerGas&&(x.maxFeePerGas=$(x.maxFeePerGas)),x.gasPrice&&!e.gasPrice&&(x.gasPrice=$(x.gasPrice)),{raw:M.raw,transaction:{from:S.from,...x}}}catch(M){throw GC(M,{...e,chain:t.chain})}}const zR=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Xte=new Map,WR=new pm(128);async function E6(t,e){var E,_,O;let n=e;n.account??(n.account=t.account),n.parameters??(n.parameters=zR);const{account:r,chain:i=t.chain,nonceManager:s,parameters:o}=n,a=(()=>{if(typeof(i==null?void 0:i.prepareTransactionRequest)=="function")return{fn:i.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(i==null?void 0:i.prepareTransactionRequest))return{fn:i.prepareTransactionRequest[0],runAt:i.prepareTransactionRequest[1].runAt}})();let c;async function l(){return c||(typeof n.chainId<"u"?n.chainId:i?i.id:(c=await Je(t,Ld,"getChainId")({}),c))}const u=r&&wr(r);let d=n.nonce;if(o.includes("nonce")&&typeof d>"u"&&u&&s){const S=await l();d=await s.consume({address:u.address,chainId:S,client:t})}a!=null&&a.fn&&((E=a.runAt)!=null&&E.includes("beforeFillTransaction"))&&(n=await a.fn({...n,chain:i},{phase:"beforeFillTransaction"}),d??(d=n.nonce));const f=((o.includes("blobVersionedHashes")||o.includes("sidecars"))&&n.kzg&&n.blobs||WR.get(t.uid)===!1||!["fees","gas"].some(R=>o.includes(R))?!1:!!(o.includes("chainId")&&typeof n.chainId!="number"||o.includes("nonce")&&typeof d!="number"||o.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||o.includes("gas")&&typeof n.gas!="bigint"))?await Je(t,FR,"fillTransaction")({...n,nonce:d}).then(S=>{const{chainId:R,from:I,gas:D,gasPrice:j,nonce:F,maxFeePerBlobGas:M,maxFeePerGas:C,maxPriorityFeePerGas:x,type:A,...P}=S.transaction;return WR.set(t.uid,!0),{...n,...I?{from:I}:{},...A?{type:A}:{},...typeof R<"u"?{chainId:R}:{},...typeof D<"u"?{gas:D}:{},...typeof j<"u"?{gasPrice:j}:{},...typeof F<"u"?{nonce:F}:{},...typeof M<"u"?{maxFeePerBlobGas:M}:{},...typeof C<"u"?{maxFeePerGas:C}:{},...typeof x<"u"?{maxPriorityFeePerGas:x}:{},..."nonceKey"in P&&typeof P.nonceKey<"u"?{nonceKey:P.nonceKey}:{}}}).catch(S=>{var D;const R=S;return R.name!=="TransactionExecutionError"||((D=R.walk)==null?void 0:D.call(R,j=>{const F=j;return F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"}))&&WR.set(t.uid,!1),n}):n;d??(d=f.nonce),n={...f,...u?{from:u==null?void 0:u.address}:{},...d?{nonce:d}:{}};const{blobs:g,gas:m,kzg:y,type:w}=n;a!=null&&a.fn&&((_=a.runAt)!=null&&_.includes("beforeFillParameters"))&&(n=await a.fn({...n,chain:i},{phase:"beforeFillParameters"}));let b;async function v(){return b||(b=await Je(t,Nu,"getBlock")({blockTag:"latest"}),b)}if(o.includes("nonce")&&typeof d>"u"&&u&&!s&&(n.nonce=await Je(t,KO,"getTransactionCount")({address:u.address,blockTag:"pending"})),(o.includes("blobVersionedHashes")||o.includes("sidecars"))&&g&&y){const S=dX({blobs:g,kzg:y});if(o.includes("blobVersionedHashes")){const R=lIe({commitments:S,to:"hex"});n.blobVersionedHashes=R}if(o.includes("sidecars")){const R=hX({blobs:g,commitments:S,kzg:y}),I=fIe({blobs:g,commitments:S,proofs:R,to:"hex"});n.sidecars=I}}if(o.includes("chainId")&&(n.chainId=await l()),(o.includes("fees")||o.includes("type"))&&typeof w>"u")try{n.type=yIe(n)}catch{let S=Xte.get(t.uid);if(typeof S>"u"){const R=await v();S=typeof(R==null?void 0:R.baseFeePerGas)=="bigint",Xte.set(t.uid,S)}n.type=S?"eip1559":"legacy"}if(o.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const S=await v(),{maxFeePerGas:R,maxPriorityFeePerGas:I}=await UR(t,{block:S,chain:i,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<I)throw new jRe({maxPriorityFeePerGas:I});n.maxPriorityFeePerGas=I,n.maxFeePerGas=R}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new LR;if(typeof n.gasPrice>"u"){const S=await v(),{gasPrice:R}=await UR(t,{block:S,chain:i,request:n,type:"legacy"});n.gasPrice=R}}return o.includes("gas")&&typeof m>"u"&&(n.gas=await Je(t,qR,"estimateGas")({...n,account:u,prepare:(u==null?void 0:u.type)==="local"?[]:["blobVersionedHashes"]})),a!=null&&a.fn&&((O=a.runAt)!=null&&O.includes("afterFillParameters"))&&(n=await a.fn({...n,chain:i},{phase:"afterFillParameters"})),mf(n),delete n.parameters,n}async function qR(t,e){var o,a,c;const{account:n=t.account,prepare:r=!0}=e,i=n?wr(n):void 0,s=(()=>{if(Array.isArray(r))return r;if((i==null?void 0:i.type)!=="local")return["blobVersionedHashes"]})();try{const l=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await TC({authorization:e.authorizationList[0]}).catch(()=>{throw new pe("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:u,authorizationList:d,blobs:h,blobVersionedHashes:f,blockNumber:g,blockTag:m,data:y,gas:w,gasPrice:b,maxFeePerBlobGas:v,maxFeePerGas:E,maxPriorityFeePerGas:_,nonce:O,value:S,stateOverride:R,...I}=r?await E6(t,{...e,parameters:s,to:l}):e;if(w&&e.gas!==w)return w;const j=(typeof g=="bigint"?Te(g):void 0)||m,F=KC(R);mf(e);const M=(c=(a=(o=t.chain)==null?void 0:o.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,x=(M||g0)({...Dw(I,{format:M}),account:i,accessList:u,authorizationList:d,blobs:h,blobVersionedHashes:f,data:y,gasPrice:b,maxFeePerBlobGas:v,maxFeePerGas:E,maxPriorityFeePerGas:_,nonce:O,to:l,value:S},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:F?[x,j??t.experimental_blockTag??"latest",F]:j?[x,j]:[x]}))}catch(l){throw $ke(l,{...e,account:i,chain:t.chain})}}async function LRe(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:o,...a}=e,c=Jr({abi:n,args:i,functionName:s});try{return await Je(t,qR,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(l){const u=a.account?wr(a.account):void 0;throw km(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u==null?void 0:u.address})}}async function HR(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:c}={}){const l=c??!1,u=o??(s?[s]:void 0);let d=[];u&&(d=[u.flatMap(m=>R5({abi:[m],eventName:m.name,args:o?void 0:a}))],s&&(d=d[0]));let h;n?h=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):h=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?Te(r):r,toBlock:typeof i=="bigint"?Te(i):i}]});const f=h.map(g=>Dd(g));return u?vO({abi:u,args:a,logs:f,strict:l}):f}async function ene(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:l}=e,u=o?mm({abi:n,name:o}):void 0,d=u?void 0:n.filter(h=>h.type==="event");return Je(t,HR,"getLogs")({address:r,args:i,blockHash:s,event:u,events:d,fromBlock:a,toBlock:c,strict:l})}async function Ma(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=Jr({abi:n,args:i,functionName:s});try{const{data:c}=await Je(t,s6,"call")({...o,data:a,to:r});return ym({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw km(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function BRe(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=e,c=a.account?wr(a.account):t.account,l=Jr({abi:n,args:i,functionName:o});try{const{data:u}=await Je(t,s6,"call")({batch:!1,data:`${l}${s?s.replace("0x",""):""}`,to:r,...a,account:c}),d=ym({abi:n,args:i,functionName:o,data:u||"0x"}),h=n.filter(f=>"name"in f&&f.name===e.functionName);return{result:d,request:{abi:h,address:r,args:i,dataSuffix:s,functionName:o,...a,account:c}}}catch(u){throw km(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const VR=new Map,tne=new Map;let URe=0;function Bd(t,e,n){const r=++URe,i=()=>VR.get(t)||[],s=()=>{const u=i();VR.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=i();if(!u.some(h=>h.id===r))return;const d=tne.get(t);if(u.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}s()},a=i();if(VR.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var f,g;const h=i();if(h.length!==0)for(const m of h)(g=(f=m.fns)[u])==null||g.call(f,...d)};const l=n(c);return typeof l=="function"&&tne.set(t,l),o}function Pm(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const c=await(n==null?void 0:n(a))??r;await MC(c);const l=async()=>{i&&(await t({unpoll:s}),await MC(r),l())};l()})(),s}const FRe=new Map,zRe=new Map;function WRe(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,FRe),r=e(t,zRe);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function qRe(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=WRe(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const HRe=t=>`blockNumber.${t}`;async function C6(t,{cacheTime:e=t.cacheTime}={}){const n=await qRe(()=>t.request({method:"eth_blockNumber"}),{cacheKey:HRe(t.uid),cacheTime:e});return BigInt(n)}async function a7(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>Dd(s));return!("abi"in e)||!e.abi?i:vO({abi:e.abi,logs:i,strict:n})}async function c7(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function VRe(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:u,pollingInterval:d=t.pollingInterval,strict:h}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const y=h??!1,w=di(["watchContractEvent",r,i,s,t.uid,o,d,y,a]);return Bd(w,{onLogs:l,onError:c},b=>{let v;a!==void 0&&(v=a-1n);let E,_=!1;const O=Pm(async()=>{var S;if(!_){try{E=await Je(t,Gte,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:y,fromBlock:a})}catch{}_=!0;return}try{let R;if(E)R=await Je(t,a7,"getFilterChanges")({filter:E});else{const I=await Je(t,C6,"getBlockNumber")({});v&&v<I?R=await Je(t,ene,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:v+1n,toBlock:I,strict:y}):R=[],v=I}if(R.length===0)return;if(s)b.onLogs(R);else for(const I of R)b.onLogs([I])}catch(R){E&&R instanceof p0&&(_=!1),(S=b.onError)==null||S.call(b,R)}},{emitOnBegin:!0,interval:d});return async()=>{E&&await Je(t,c7,"uninstallFilter")({filter:E}),O()}})})():(()=>{const y=h??!1,w=di(["watchContractEvent",r,i,s,t.uid,o,d,y]);let b=!0,v=()=>b=!1;return Bd(w,{onLogs:l,onError:c},E=>((async()=>{try{const _=(()=>{if(t.transport.type==="fallback"){const R=t.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return R?R.value:t.transport}return t.transport})(),O=o?R5({abi:n,eventName:o,args:i}):[],{unsubscribe:S}=await _.subscribe({params:["logs",{address:r,topics:O}],onData(R){var D;if(!b)return;const I=R.result;try{const{eventName:j,args:F}=O5({abi:n,data:I.data,topics:I.topics,strict:h}),M=Dd(I,{args:F,eventName:j});E.onLogs([M])}catch(j){let F,M;if(j instanceof SC||j instanceof sO){if(h)return;F=j.abiItem.name,M=(D=j.abiItem.inputs)==null?void 0:D.some(x=>!("name"in x&&x.name))}const C=Dd(I,{args:M?[]:{},eventName:F});E.onLogs([C])}},onError(R){var I;(I=E.onError)==null||I.call(E,R)}});v=S,b||v()}catch(_){c==null||c(_)}})(),()=>v()))})()}class Ou extends pe{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Nm extends pe{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function KR(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const GR=new pm(128);async function l7(t,e){var b,v,E,_;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,type:g,value:m,...y}=e;if(typeof n>"u")throw new Ou({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?wr(n):null;try{mf(e);const O=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await TC({authorization:s[0]}).catch(()=>{throw new pe("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let S;r!==null&&(S=await Je(t,Ld,"getChainId")({}),qO({currentChainId:S,chain:r}));const R=(E=(v=(b=t.chain)==null?void 0:b.formatters)==null?void 0:v.transactionRequest)==null?void 0:E.format,D=(R||g0)({...Dw(y,{format:R}),accessList:i,account:w,authorizationList:s,blobs:o,chainId:S,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:O,type:g,value:m},"sendTransaction"),j=GR.get(t.uid),F=j?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:F,params:[D]},{retryCount:0})}catch(M){if(j===!1)throw M;const C=M;if(C.name==="InvalidInputRpcError"||C.name==="InvalidParamsRpcError"||C.name==="MethodNotFoundRpcError"||C.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[D]},{retryCount:0}).then(x=>(GR.set(t.uid,!0),x)).catch(x=>{const A=x;throw A.name==="MethodNotFoundRpcError"||A.name==="MethodNotSupportedRpcError"?(GR.set(t.uid,!1),C):A});throw C}}if((w==null?void 0:w.type)==="local"){const S=await Je(t,E6,"prepareTransactionRequest")({account:w,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:w.nonceManager,parameters:[...zR,"sidecars"],type:g,value:m,...y,to:O}),R=(_=r==null?void 0:r.serializers)==null?void 0:_.transaction,I=await w.signTransaction(S,{serializer:R});return await Je(t,KR,"sendRawTransaction")({serializedTransaction:I})}throw(w==null?void 0:w.type)==="smart"?new Nm({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Nm({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch(O){throw O instanceof Nm?O:GC(O,{...e,account:w,chain:e.chain||void 0})}}async function _6(t,e){return _6.internal(t,l7,"sendTransaction",e)}(function(t){async function e(n,r,i,s){const{abi:o,account:a=n.account,address:c,args:l,dataSuffix:u,functionName:d,...h}=s;if(typeof a>"u")throw new Ou({docsPath:"/docs/contract/writeContract"});const f=a?wr(a):null,g=Jr({abi:o,args:l,functionName:d});try{return await Je(n,r,i)({data:`${g}${u?u.replace("0x",""):""}`,to:c,account:f,...h})}catch(m){throw km(m,{abi:o,address:c,args:l,docsPath:"/docs/contract/writeContract",functionName:d,sender:f==null?void 0:f.address})}}t.internal=e})(_6||(_6={}));class KRe extends pe{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const nne="0x5792579257925792579257925792579257925792579257925792579257925792",rne=Te(0,{size:32});async function ine(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=e,u=n?wr(n):null,d=e.calls.map(h=>{const f=h,g=f.abi?Jr({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&g?Xi([g,f.dataSuffix]):g,to:f.to,value:f.value?Te(f.value):void 0}});try{const h=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:Te(i.id),from:u==null?void 0:u.address,id:c,version:l}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const f=h;if(s&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method")||f.details.toLowerCase().includes("feature toggled misconfigured")||f.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(b=>!b.optional)){const b="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Nw(new pe(b,{details:b}))}if(a&&d.length>1){const w="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Ow(new pe(w,{details:w}))}const g=[];for(const w of d){const b=l7(t,{account:u,chain:i,data:w.data,to:w.to,value:w.value?xi(w.value):void 0});g.push(b),o>0&&await new Promise(v=>setTimeout(v,o))}const m=await Promise.allSettled(g);if(m.every(w=>w.status==="rejected"))throw m[0].reason;const y=m.map(w=>w.status==="fulfilled"?w.value:rne);return{id:Xi([...y,Te(i.id,{size:32}),nne])}}throw GC(h,{...e,account:u,chain:e.chain})}}async function sne(t,e){async function n(u){if(u.endsWith(nne.slice(2))){const h=Su(aO(u,-64,-32)),f=aO(u,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(f.map(y=>rne.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),m=g.some(y=>y===null)?100:g.every(y=>(y==null?void 0:y.status)==="0x1")?200:g.every(y=>(y==null?void 0:y.status)==="0x0")?500:600;return{atomic:!1,chainId:Ta(h),receipts:g.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await n(e.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:i?Ta(i):void 0,receipts:(s==null?void 0:s.map(u=>({...u,blockNumber:xi(u.blockNumber),gasUsed:xi(u.gasUsed),status:lee[u.status]})))??[],statusCode:l,status:c,version:o}}async function u7(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:m})=>m===200||m>=300,retryCount:s=4,retryDelay:o=({count:m})=>~~(1<<m)*200,timeout:a=6e4,throwOnFailure:c=!1}=e,l=di(["waitForCallsStatus",t.uid,n]),{promise:u,resolve:d,reject:h}=zO();let f;const g=Bd(l,{resolve:d,reject:h},m=>{const y=Pm(async()=>{const w=b=>{clearTimeout(f),y(),b(),g()};try{const b=await jC(async()=>{const v=await Je(t,sne,"getCallsStatus")({id:n});if(c&&v.status==="failure")throw new KRe(v);return v},{retryCount:s,delay:o});if(!i(b))return;w(()=>m.resolve(b))}catch(b){w(()=>m.reject(b))}},{interval:r,emitOnBegin:!0});return y});return f=a?setTimeout(()=>{g(),clearTimeout(f),h(new GRe({id:n}))},a):void 0,await u}class GRe extends pe{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const ZR=256;let d7=ZR,h7;function one(t=11){if(!h7||d7+t>ZR*2){h7="",d7=0;for(let e=0;e<ZR;e++)h7+=(256+Math.random()*256|0).toString(16).substring(1)}return h7.substring(d7,d7+++t)}function YR(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:s="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),u=t.pollingInterval??l,d=t.cacheTime??u,h=t.account?wr(t.account):void 0,{config:f,request:g,value:m}=t.transport({account:h,chain:n,pollingInterval:u}),y={...f,...m},w={account:h,batch:e,cacheTime:d,ccipRead:r,chain:n,key:i,name:s,pollingInterval:u,request:g,transport:y,type:o,uid:one(),...a?{experimental_blockTag:a}:{}};function b(v){return E=>{const _=E(v);for(const S in w)delete _[S];const O={...v,..._};return Object.assign(O,{extend:b(O)})}}return Object.assign(w,{extend:b(w)})}function JR(t){var n,r,i,s,o,a;if(!(t instanceof pe))return!1;const e=t.walk(c=>c instanceof qC);return e instanceof qC?((n=e.data)==null?void 0:n.errorName)==="HttpError"||((r=e.data)==null?void 0:r.errorName)==="ResolverError"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotContract"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotFound"||((o=e.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=e.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function ane(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return si(e)?e:null}function QR(t){let e=new Uint8Array(32).fill(0);if(!t)return Qi(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=ane(n[r]),s=i?Ew(i):Pr(af(n[r]),"bytes");e=Pr(Xi([e,s]),"bytes")}return Qi(e)}function ZRe(t){return`[${t.slice(2)}]`}function YRe(t){const e=new Uint8Array(32).fill(0);return t?ane(t)||Pr(af(t)):Qi(e)}function XR(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(af(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=af(i[s]);o.byteLength>255&&(o=af(ZRe(YRe(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function JRe(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return jw({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;const d=i!=null?[QR(s),BigInt(i)]:[QR(s)];try{const h=Jr({abi:KX,functionName:"addr",args:d}),f={address:l,abi:HX,functionName:"resolveWithGateways",args:[sr(XR(s)),h,o??[o6]],blockNumber:n,blockTag:r},m=await Je(t,Ma,"readContract")(f);if(m[0]==="0x")return null;const y=ym({abi:KX,args:d,functionName:"addr",data:m[0]});return y==="0x"||Su(y)==="0x00"?null:y}catch(h){if(a)throw h;if(JR(h))return null;throw h}}class QRe extends pe{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class A6 extends pe{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class eM extends pe{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class XRe extends pe{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const eMe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,tMe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,nMe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,rMe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function iMe(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function cne(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function lne({uri:t,gatewayUrls:e}){const n=nMe.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=cne(e==null?void 0:e.ipfs,"https://ipfs.io"),i=cne(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(eMe),{protocol:o,subpath:a,target:c,subtarget:l=""}=(s==null?void 0:s.groups)||{},u=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||tMe.test(t);if(t.startsWith("http")&&!u&&!d){let f=t;return e!=null&&e.arweave&&(f=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:f,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let h=t.replace(rMe,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new eM({uri:t})}function une(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new QRe({data:t});return t.image||t.image_url||t.image_data}async function sMe({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await tM({gatewayUrls:t,uri:une(n)})}catch{throw new eM({uri:e})}}async function tM({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=lne({uri:e,gatewayUrls:t});if(r||await iMe(n))return n;throw new eM({uri:e})}function oMe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,o]=n.split(":"),[a,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new A6({reason:"Only EIP-155 supported"});if(!o)throw new A6({reason:"Chain ID not found"});if(!c)throw new A6({reason:"Contract address not found"});if(!i)throw new A6({reason:"Token ID not found"});if(!a)throw new A6({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function aMe(t,{nft:e}){if(e.namespace==="erc721")return Ma(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Ma(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new XRe({namespace:e.namespace})}async function cMe(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?lMe(t,{gatewayUrls:e,record:n}):tM({uri:n,gatewayUrls:e})}async function lMe(t,{gatewayUrls:e,record:n}){const r=oMe(n),i=await aMe(t,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=lne({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(l);return tM({uri:une(u),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),sMe({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,c)})}async function dne(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return jw({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(d=>s.endsWith(d)))return null;try{const d={address:l,abi:HX,args:[sr(XR(s)),Jr({abi:VX,functionName:"text",args:[QR(s),i]}),o??[o6]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},f=await Je(t,Ma,"readContract")(d);if(f[0]==="0x")return null;const g=ym({abi:VX,functionName:"text",data:f[0]});return g===""?null:g}catch(d){if(a)throw d;if(JR(d))return null;throw d}}async function uMe(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await Je(t,dne,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await cMe(t,{record:c,gatewayUrls:r})}catch{return null}}async function dMe(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return jw({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const u={address:l,abi:rke,args:[n,s,o??[o6]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},d=Je(t,Ma,"readContract"),[h]=await d(u);return h||null}catch(u){if(a)throw u;if(JR(u))return null;throw u}}async function hMe(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return jw({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),a=s==null?void 0:s.ensTlds;if(a&&!a.some(l=>i.endsWith(l)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[c]=await Je(t,Ma,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[sr(XR(i))],blockNumber:n,blockTag:r});return c}async function hne(t,e){var y,w,b;const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:h,value:f,...g}=e,m=n?wr(n):void 0;try{mf(e);const E=(typeof r=="bigint"?Te(r):void 0)||i,_=(b=(w=(y=t.chain)==null?void 0:y.formatters)==null?void 0:w.transactionRequest)==null?void 0:b.format,S=(_||g0)({...Dw(g,{format:_}),account:m,blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:h,value:f},"createAccessList"),R=await t.request({method:"eth_createAccessList",params:[S,E]});return{accessList:R.accessList,gasUsed:BigInt(R.gasUsed)}}catch(v){throw eee(v,{...e,account:m,chain:t.chain})}}async function fMe(t){const e=o7(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function fne(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const c=i??(r?[r]:void 0),l=o7(t,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(f=>R5({abi:[f],eventName:f.name,args:n}))],r&&(u=u[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?Te(s):s,toBlock:typeof a=="bigint"?Te(a):a,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:d,request:l(d),strict:!!o,toBlock:a,type:"event"}}async function pne(t){const e=o7(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function pMe(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?Te(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function gMe(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function mMe(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?Te(n):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),Ta(s)}async function S6(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?Te(n):void 0,s=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(s!=="0x")return s}class yMe extends pe{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function wMe(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,o,a,c,l,u,d]=await Je(t,Ma,"readContract")({abi:vMe,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:l,salt:u},extensions:d,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new yMe({address:n}):o}}const vMe=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function bMe(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function xMe(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=typeof n=="bigint"?Te(n):void 0,o=await t.request({method:"eth_feeHistory",params:[Te(e),s||r,i]},{dedupe:!!s});return bMe(o)}async function EMe(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>Dd(s));return e.abi?vO({abi:e.abi,logs:i,strict:n}):i}function CMe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function _Me(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Ta(t.nonce):void 0,storageProof:t.storageProof?CMe(t.storageProof):void 0}}async function AMe(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",o=n!==void 0?Te(n):void 0,a=await t.request({method:"eth_getProof",params:[e,i,o||s]});return _Me(a)}async function SMe(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?Te(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||r]})}async function nM(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s,sender:o,nonce:a}){var h,f,g;const c=r||"latest",l=n!==void 0?Te(n):void 0;let u=null;if(i?u=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Te(s)]},{dedupe:!0}):typeof s=="number"?u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||c,Te(s)]},{dedupe:!!l}):o&&typeof a=="number"&&(u=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[o,Te(a)]},{dedupe:!0})),!u)throw new cX({blockHash:e,blockNumber:n,blockTag:c,hash:i,index:s});return(((g=(f=(h=t.chain)==null?void 0:h.formatters)==null?void 0:f.transaction)==null?void 0:g.format)||HO)(u,"getTransaction")}async function IMe(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([Je(t,C6,"getBlockNumber")({}),e?Je(t,nM,"getTransaction")({hash:e}):void 0]),s=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return s?r-s+1n:0n}async function f7(t,{hash:e}){var i,s,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new lX({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||VO)(n,"getTransactionReceipt")}async function kMe(t,e){var b;const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:c}=e,l=e.contracts,{batchSize:u=e.batchSize??1024,deployless:d=e.deployless??!1}=typeof((b=t.batch)==null?void 0:b.multicall)=="object"?t.batch.multicall:{},h=(()=>{if(e.multicallAddress)return e.multicallAddress;if(d)return null;if(t.chain)return jw({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),f=[[]];let g=0,m=0;for(let v=0;v<l.length;v++){const{abi:E,address:_,args:O,functionName:S}=l[v];try{const R=Jr({abi:E,args:O,functionName:S});m+=(R.length-2)/2,u>0&&m>u&&f[g].length>0&&(g++,m=(R.length-2)/2,f[g]=[]),f[g]=[...f[g],{allowFailure:!0,callData:R,target:_}]}catch(R){const I=km(R,{abi:E,address:_,args:O,docsPath:"/docs/contract/multicall",functionName:S,sender:n});if(!i)throw I;f[g]=[...f[g],{allowFailure:!0,callData:"0x",target:_}]}}const y=await Promise.allSettled(f.map(v=>Je(t,Ma,"readContract")({...h===null?{code:UO}:{address:h},abi:WC,account:n,args:[v],authorizationList:r,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),w=[];for(let v=0;v<y.length;v++){const E=y[v];if(E.status==="rejected"){if(!i)throw E.reason;for(let O=0;O<f[v].length;O++)w.push({status:"failure",error:E.reason,result:void 0});continue}const _=E.value;for(let O=0;O<_.length;O++){const{returnData:S,success:R}=_[O],{callData:I}=f[v][O],{abi:D,address:j,functionName:F,args:M}=l[w.length];try{if(I==="0x")throw new T5;if(!R)throw new HC({data:S});const C=ym({abi:D,args:M,data:S,functionName:F});w.push(i?{result:C,status:"success"}:C)}catch(C){const x=km(C,{abi:D,address:j,args:M,docsPath:"/docs/contract/multicall",functionName:F});if(!i)throw x;w.push({error:x,result:void 0,status:"failure"})}}}if(w.length!==l.length)throw new pe("multicall results mismatch");return w}async function rM(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const c=[];for(const h of i){const f=h.blockOverrides?WX(h.blockOverrides):void 0,g=h.calls.map(y=>{const w=y,b=w.account?wr(w.account):void 0,v=w.abi?Jr(w):w.data,E={...w,account:b,data:w.dataSuffix?Xi([v||"0x",w.dataSuffix]):v,from:w.from??(b==null?void 0:b.address)};return mf(E),g0(E)}),m=h.stateOverrides?KC(h.stateOverrides):void 0;c.push({blockOverrides:f,calls:g,stateOverrides:m})}const u=(typeof n=="bigint"?Te(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:o,validation:a},u]})).map((h,f)=>({...cee(h),calls:h.calls.map((g,m)=>{var D,j;const{abi:y,args:w,functionName:b,to:v}=i[f].calls[m],E=((D=g.error)==null?void 0:D.data)??g.returnData,_=BigInt(g.gasUsed),O=(j=g.logs)==null?void 0:j.map(F=>Dd(F)),S=g.status==="0x1"?"success":"failure",R=y&&S==="success"&&E!=="0x"?ym({abi:y,data:E,functionName:b}):null,I=(()=>{var M;if(S==="success")return;let F;if(((M=g.error)==null?void 0:M.data)==="0x"?F=new T5:g.error&&(F=new HC(g.error)),!!F)return km(F,{abi:y??[],address:v??"0x",args:w,functionName:b??"<unknown>"})})();return{data:E,gasUsed:_,logs:O,status:S,...S==="success"?{result:R}:{error:I}}})}))}catch(c){const l=c,u=VC(l,{});throw u instanceof M5?l:u}}function iM(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new dn("Unable to normalize signature.");return i}function sM(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ZO(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>sM(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>sM(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function gne(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return gne(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ZO(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ZO(n[r],{strict:!1}):!1)return o}}function mne(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?oQ(t):t;return{...r,...n?{hash:Fw(r)}:{}}}function p7(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=XIe(e,{strict:!1}),o=t.filter(l=>s?l.type==="function"||l.type==="error"?yne(l)===jd(e,0,4):l.type==="event"?Fw(l)===e:!1:"name"in l&&l.name===e);if(o.length===0)throw new g7({name:e});if(o.length===1)return{...o[0],...i?{hash:Fw(o[0])}:{}};let a;for(const l of o){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...i?{hash:Fw(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((d,h)=>{const f="inputs"in l&&l.inputs[h];return f?sM(d,f):!1})){if(a&&"inputs"in a&&a.inputs){const d=gne(l.inputs,a.inputs,r);if(d)throw new TMe({abiItem:l,type:d[0]},{abiItem:a,type:d[1]})}a=l}}const c=(()=>{if(a)return a;const[l,...u]=o;return{...l,overloads:u}})();if(!c)throw new g7({name:e});return{...c,...i?{hash:Fw(c)}:{}}}function yne(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return p7(n,r)}return t[0]})();return jd(Fw(e),0,4)}function $Me(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return p7(r,i)}return t[0]})(),n=typeof e=="string"?e:gC(e);return iM(n)}function Fw(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return p7(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:yee(LO($Me(e)))}class TMe extends dn{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${iM(gC(e.abiItem))}\`, and`,`\`${n.type}\` in \`${iM(gC(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class g7 extends dn{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function PMe(...t){var s;const[e,n]=(()=>{if(Array.isArray(t[0])){const[o,a]=t;return[OMe(o),a]}return t})(),{bytecode:r,args:i}=n;return ku(r,(s=e.inputs)!=null&&s.length&&(i!=null&&i.length)?eR(e.inputs,i):"0x")}function NMe(t){return mne(t)}function OMe(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new g7({name:"constructor"});return e}function RMe(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[l,u,d]=t;return[wne(l,u,{args:d}),d]}const[a,c]=t;return[a,c]})(),{overloads:r}=e,i=r?wne([e,...r],e.name,{args:n}):e,s=MMe(i),o=n.length>0?eR(i.inputs,n):void 0;return o?ku(s,o):s}function zw(t,e={}){return mne(t,e)}function wne(t,e,n){const r=p7(t,e,n);if(r.type!=="function")throw new g7({name:e,type:"function"});return r}function MMe(t){return yne(t)}const jMe="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Ud="0x0000000000000000000000000000000000000000",DMe="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function LMe(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:c}=e,l=e.account?wr(e.account):void 0;if(o&&!l)throw new pe("`account` is required when `traceAssetChanges` is true");const u=l?PMe(NMe("constructor(bytes, bytes)"),{bytecode:YX,args:[DMe,RMe(zw("function getBalance(address)"),[l.address])]}):void 0,d=o?await Promise.all(e.calls.map(async N=>{if(!N.data&&!N.abi)return;const{accessList:$}=await hne(t,{account:l.address,...N,data:N.abi?Jr(N):N.data});return $.map(({address:L,storageKeys:B})=>B.length>0?L:null)})).then(N=>N.flat().filter(Boolean)):[],h=await rM(t,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:u}],stateOverrides:s},{calls:d.map((N,$)=>({abi:[zw("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:N,from:Ud,nonce:$})),stateOverrides:[{address:Ud,nonce:0}]}]:[],{calls:[...i,{}].map(N=>({...N,from:l==null?void 0:l.address})),stateOverrides:s},...o?[{calls:[{data:u}]},{calls:d.map((N,$)=>({abi:[zw("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:N,from:Ud,nonce:$})),stateOverrides:[{address:Ud,nonce:0}]},{calls:d.map((N,$)=>({to:N,abi:[zw("function decimals() returns (uint256)")],functionName:"decimals",from:Ud,nonce:$})),stateOverrides:[{address:Ud,nonce:0}]},{calls:d.map((N,$)=>({to:N,abi:[zw("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Ud,nonce:$})),stateOverrides:[{address:Ud,nonce:0}]},{calls:d.map((N,$)=>({to:N,abi:[zw("function symbol() returns (string)")],functionName:"symbol",from:Ud,nonce:$})),stateOverrides:[{address:Ud,nonce:0}]}]:[]],traceTransfers:a,validation:c}),f=o?h[2]:h[0],[g,m,,y,w,b,v,E]=o?h:[],{calls:_,...O}=f,S=_.slice(0,-1)??[],R=(g==null?void 0:g.calls)??[],I=(m==null?void 0:m.calls)??[],D=[...R,...I].map(N=>N.status==="success"?xi(N.data):null),j=(y==null?void 0:y.calls)??[],F=(w==null?void 0:w.calls)??[],M=[...j,...F].map(N=>N.status==="success"?xi(N.data):null),C=((b==null?void 0:b.calls)??[]).map(N=>N.status==="success"?N.result:null),x=((E==null?void 0:E.calls)??[]).map(N=>N.status==="success"?N.result:null),A=((v==null?void 0:v.calls)??[]).map(N=>N.status==="success"?N.result:null),P=[];for(const[N,$]of M.entries()){const L=D[N];if(typeof $!="bigint"||typeof L!="bigint")continue;const B=C[N-1],T=x[N-1],z=A[N-1],q=N===0?{address:jMe,decimals:18,symbol:"ETH"}:{address:d[N-1],decimals:z||B?Number(B??1):void 0,symbol:T??void 0};P.some(U=>U.token.address===q.address)||P.push({token:q,value:{pre:L,post:$,diff:$-L}})}return{assetChanges:P,block:O,results:S}}const vne="0x6492649264926492649264926492649264926492649264926492649264926492";function BMe(t){if(jd(t,-32)!==vne)throw new zMe(t)}function UMe(t){const{data:e,signature:n,to:r}=t;return ku(eR(_ee("address, bytes, bytes"),[r,e,n]),vne)}function FMe(t){try{return BMe(t),!0}catch{return!1}}class zMe extends dn{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function WMe({r:t,s:e,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new pR.Signature(xi(t),xi(e)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?o:Jo(o)}async function m7(t,e){var c,l,u,d;const{address:n,chain:r=t.chain,hash:i,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??((l=(c=r==null?void 0:r.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:l.address),multicallAddress:o=e.multicallAddress??((d=(u=r==null?void 0:r.contracts)==null?void 0:u.multicall3)==null?void 0:d.address)}=e;if(r!=null&&r.verifyHash)return await r.verifyHash(t,e);const a=(()=>{const h=e.signature;return si(h)?h:typeof h=="object"&&"r"in h&&"s"in h?WMe(h):Qi(h)})();try{return oTe(a)?await qMe(t,{...e,multicallAddress:o,signature:a}):await HMe(t,{...e,verifierAddress:s,signature:a})}catch(h){try{if(wm(Ei(n),await oX({hash:i,signature:a})))return!0}catch{}if(h instanceof Om)return!1;throw h}}async function qMe(t,e){var y;const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:o}=e,{authorization:a,data:c,signature:l,to:u}=sTe(e.signature);if(await S6(t,{address:n,blockNumber:r,blockTag:i})===hf(["0xef0100",a.address]))return await VMe(t,{address:n,blockNumber:r,blockTag:i,hash:s,signature:l});const h={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:Te(a.r,{size:32}),s:Te(a.s,{size:32}),yParity:a.yParity};if(!await wIe({address:n,authorization:h}))throw new Om;const g=await Je(t,Ma,"readContract")({...o?{address:o}:{code:UO},authorizationList:[h],abi:WC,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:u??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Jr({abi:GX,functionName:"isValidSignature",args:[s,l]})}]]}),m=(y=g[g.length-1])==null?void 0:y.returnData;if(m!=null&&m.startsWith("0x1626ba7e"))return!0;throw new Om}async function HMe(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:o,verifierAddress:a,...c}=e,l=await(async()=>!r&&!i||FMe(o)?o:UMe({data:i,signature:o,to:r}))(),u=a?{to:a,data:Jr({abi:ZX,functionName:"isValidSig",args:[n,s,l]}),...c}:{data:$C({abi:ZX,args:[n,s,l],bytecode:ake}),...c},{data:d}=await Je(t,s6,"call")(u).catch(h=>{throw h instanceof QX?new Om:h});if(cAe(d??"0x0"))return!0;throw new Om}async function VMe(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:o}=e;if((await Je(t,Ma,"readContract")({address:n,abi:GX,args:[s,o],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(c=>{throw c instanceof FO?new Om:c})).startsWith("0x1626ba7e"))return!0;throw new Om}class Om extends Error{}async function KMe(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...o}){const a=ZC(n);return Je(t,m7,"verifyHash")({address:e,factory:r,factoryData:i,hash:a,signature:s,...o})}async function GMe(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:o,primaryType:a,types:c,domain:l,...u}=e,d=a6({message:o,primaryType:a,types:c,domain:l});return Je(t,m7,"verifyHash")({address:n,factory:r,factoryData:i,hash:d,signature:s,...u})}function bne(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=di(["watchBlockNumber",t.uid,e,n,o]);return Bd(d,{onBlockNumber:r,onError:i},h=>Pm(async()=>{var f;try{const g=await Je(t,C6,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(g===c)return;if(g-c>1&&n)for(let m=c+1n;m<g;m++)h.onBlockNumber(m,c),c=m}(c===void 0||g>c)&&(h.onBlockNumber(g,c),c=g)}catch(g){(f=h.onError)==null||f.call(h,g)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=di(["watchBlockNumber",t.uid,e,n]);return Bd(d,{onBlockNumber:r,onError:i},h=>{let f=!0,g=()=>f=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:y}=await m.subscribe({params:["newHeads"],onData(w){var v;if(!f)return;const b=xi((v=w.result)==null?void 0:v.number);h.onBlockNumber(b,c),c=b},onError(w){var b;(b=h.onError)==null||b.call(h,w)}});g=y,f||g()}catch(m){i==null||i(m)}})(),()=>g()})})()}async function xne(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:_})=>~~(1<<_)*200,timeout:c=18e4}=e,l=di(["waitForTransactionReceipt",t.uid,i]),u=(()=>{var _;return e.pollingInterval?e.pollingInterval:(_=t.chain)!=null&&_.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let d,h,f,g=!1,m,y;const{promise:w,resolve:b,reject:v}=zO(),E=c?setTimeout(()=>{y==null||y(),m==null||m(),v(new YSe({hash:i}))},c):void 0;return m=Bd(l,{onReplaced:s,resolve:b,reject:v},async _=>{if(f=await Je(t,f7,"getTransactionReceipt")({hash:i}).catch(()=>{}),f&&r<=1){clearTimeout(E),_.resolve(f),m==null||m();return}y=Je(t,bne,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(O){const S=I=>{clearTimeout(E),y==null||y(),I(),m==null||m()};let R=O;if(!g)try{if(f){if(r>1&&(!f.blockNumber||R-f.blockNumber+1n<r))return;S(()=>_.resolve(f));return}if(n&&!d&&(g=!0,await jC(async()=>{d=await Je(t,nM,"getTransaction")({hash:i}),d.blockNumber&&(R=d.blockNumber)},{delay:a,retryCount:o}),g=!1),f=await Je(t,f7,"getTransactionReceipt")({hash:i}),r>1&&(!f.blockNumber||R-f.blockNumber+1n<r))return;S(()=>_.resolve(f))}catch(I){if(I instanceof cX||I instanceof lX){if(!d){g=!1;return}try{h=d,g=!0;const D=await jC(()=>Je(t,Nu,"getBlock")({blockNumber:R,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:M})=>M instanceof Yte});g=!1;const j=D.transactions.find(({from:M,nonce:C})=>M===h.from&&C===h.nonce);if(!j||(f=await Je(t,f7,"getTransactionReceipt")({hash:j.hash}),r>1&&(!f.blockNumber||R-f.blockNumber+1n<r)))return;let F="replaced";j.to===h.to&&j.value===h.value&&j.input===h.input?F="repriced":j.from===j.to&&j.value===0n&&(F="cancelled"),S(()=>{var M;(M=_.onReplaced)==null||M.call(_,{reason:F,replacedTransaction:h,transaction:j,transactionReceipt:f}),_.resolve(f)})}catch(D){S(()=>_.reject(D))}}else S(()=>_.reject(I))}}})}),w}function ZMe(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=t.pollingInterval}){const l=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=o??!1;let d;return l?(()=>{const g=di(["watchBlocks",t.uid,e,n,r,u,c]);return Bd(g,{onBlock:i,onError:s},m=>Pm(async()=>{var y;try{const w=await Je(t,Nu,"getBlock")({blockTag:e,includeTransactions:u});if(w.number!==null&&(d==null?void 0:d.number)!=null){if(w.number===d.number)return;if(w.number-d.number>1&&n)for(let b=(d==null?void 0:d.number)+1n;b<w.number;b++){const v=await Je(t,Nu,"getBlock")({blockNumber:b,includeTransactions:u});m.onBlock(v,d),d=v}}((d==null?void 0:d.number)==null||e==="pending"&&(w==null?void 0:w.number)==null||w.number!==null&&w.number>d.number)&&(m.onBlock(w,d),d=w)}catch(w){(y=m.onError)==null||y.call(m,w)}},{emitOnBegin:r,interval:c}))})():(()=>{let g=!0,m=!0,y=()=>g=!1;return(async()=>{try{r&&Je(t,Nu,"getBlock")({blockTag:e,includeTransactions:u}).then(v=>{g&&m&&(i(v,void 0),m=!1)}).catch(s);const w=(()=>{if(t.transport.type==="fallback"){const v=t.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return v?v.value:t.transport}return t.transport})(),{unsubscribe:b}=await w.subscribe({params:["newHeads"],async onData(v){var _;if(!g)return;const E=await Je(t,Nu,"getBlock")({blockNumber:(_=v.result)==null?void 0:_.number,includeTransactions:u}).catch(()=>{});g&&(i(E,d),m=!1,d=E)},onError(v){s==null||s(v)}});y=b,g||y()}catch(w){s==null||s(w)}})(),()=>y()})()}function YMe(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:u=t.pollingInterval,strict:d}){const h=typeof l<"u"?l:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),f=d??!1;return h?(()=>{const y=di(["watchEvent",e,n,r,t.uid,i,u,o]);return Bd(y,{onLogs:c,onError:a},w=>{let b;o!==void 0&&(b=o-1n);let v,E=!1;const _=Pm(async()=>{var O;if(!E){try{v=await Je(t,fne,"createEventFilter")({address:e,args:n,event:i,events:s,strict:f,fromBlock:o})}catch{}E=!0;return}try{let S;if(v)S=await Je(t,a7,"getFilterChanges")({filter:v});else{const R=await Je(t,C6,"getBlockNumber")({});b&&b!==R?S=await Je(t,HR,"getLogs")({address:e,args:n,event:i,events:s,fromBlock:b+1n,toBlock:R}):S=[],b=R}if(S.length===0)return;if(r)w.onLogs(S);else for(const R of S)w.onLogs([R])}catch(S){v&&S instanceof p0&&(E=!1),(O=w.onError)==null||O.call(w,S)}},{emitOnBegin:!0,interval:u});return async()=>{v&&await Je(t,c7,"uninstallFilter")({filter:v}),_()}})})():(()=>{let y=!0,w=()=>y=!1;return(async()=>{try{const b=(()=>{if(t.transport.type==="fallback"){const O=t.transport.transports.find(S=>S.config.type==="webSocket"||S.config.type==="ipc");return O?O.value:t.transport}return t.transport})(),v=s??(i?[i]:void 0);let E=[];v&&(E=[v.flatMap(S=>R5({abi:[S],eventName:S.name,args:n}))],i&&(E=E[0]));const{unsubscribe:_}=await b.subscribe({params:["logs",{address:e,topics:E}],onData(O){var R;if(!y)return;const S=O.result;try{const{eventName:I,args:D}=O5({abi:v??[],data:S.data,topics:S.topics,strict:f}),j=Dd(S,{args:D,eventName:I});c([j])}catch(I){let D,j;if(I instanceof SC||I instanceof sO){if(d)return;D=I.abiItem.name,j=(R=I.abiItem.inputs)==null?void 0:R.some(M=>!("name"in M&&M.name))}const F=Dd(S,{args:j?[]:{},eventName:D});c([F])}},onError(O){a==null||a(O)}});w=_,y||w()}catch(b){a==null||a(b)}})(),()=>w()})()}function JMe(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=di(["watchPendingTransactions",t.uid,e,s]);return Bd(l,{onTransactions:r,onError:n},u=>{let d;const h=Pm(async()=>{var f;try{if(!d)try{d=await Je(t,pne,"createPendingTransactionFilter")({});return}catch(m){throw h(),m}const g=await Je(t,a7,"getFilterChanges")({filter:d});if(g.length===0)return;if(e)u.onTransactions(g);else for(const m of g)u.onTransactions([m])}catch(g){(f=u.onError)==null||f.call(u,g)}},{emitOnBegin:!0,interval:s});return async()=>{d&&await Je(t,c7,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n==null||n(h)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}function QMe(t){var d,h,f;const{scheme:e,statement:n,...r}=((d=t.match(XMe))==null?void 0:d.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...l}=((h=t.match(eje))==null?void 0:h.groups)??{},u=(f=t.split("Resources:")[1])==null?void 0:f.split(`
- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const XMe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,eje=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function tje(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!Li(r.address,{strict:!1})||e&&!wm(r.address,e))return!1}catch{return!1}return!0}async function nje(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...l}=e,u=QMe(i);if(!u.address||!tje({address:n,domain:r,message:u,nonce:s,scheme:o,time:c}))return!1;const h=ZC(i);return m7(t,{address:u.address,hash:h,signature:a,...l})}async function oM(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){var a,c,l;const i=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,Te(r)]:[e]},{retryCount:0}),o=(((l=(c=(a=t.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:l.format)||VO)(i);if(o.status==="reverted"&&n)throw new uX({receipt:o});return o}function aM(t){return{call:e=>s6(t,e),createAccessList:e=>hne(t,e),createBlockFilter:()=>fMe(t),createContractEventFilter:e=>Gte(t,e),createEventFilter:e=>fne(t,e),createPendingTransactionFilter:()=>pne(t),estimateContractGas:e=>LRe(t,e),estimateGas:e=>qR(t,e),getBalance:e=>pMe(t,e),getBlobBaseFee:()=>gMe(t),getBlock:e=>Nu(t,e),getBlockNumber:e=>C6(t,e),getBlockTransactionCount:e=>mMe(t,e),getBytecode:e=>S6(t,e),getChainId:()=>Ld(t),getCode:e=>S6(t,e),getContractEvents:e=>ene(t,e),getEip712Domain:e=>wMe(t,e),getEnsAddress:e=>JRe(t,e),getEnsAvatar:e=>uMe(t,e),getEnsName:e=>dMe(t,e),getEnsResolver:e=>hMe(t,e),getEnsText:e=>dne(t,e),getFeeHistory:e=>xMe(t,e),estimateFeesPerGas:e=>Qte(t,e),getFilterChanges:e=>a7(t,e),getFilterLogs:e=>EMe(t,e),getGasPrice:()=>BR(t),getLogs:e=>HR(t,e),getProof:e=>AMe(t,e),estimateMaxPriorityFeePerGas:e=>DRe(t,e),fillTransaction:e=>FR(t,e),getStorageAt:e=>SMe(t,e),getTransaction:e=>nM(t,e),getTransactionConfirmations:e=>IMe(t,e),getTransactionCount:e=>KO(t,e),getTransactionReceipt:e=>f7(t,e),multicall:e=>kMe(t,e),prepareTransactionRequest:e=>E6(t,e),readContract:e=>Ma(t,e),sendRawTransaction:e=>KR(t,e),sendRawTransactionSync:e=>oM(t,e),simulate:e=>rM(t,e),simulateBlocks:e=>rM(t,e),simulateCalls:e=>LMe(t,e),simulateContract:e=>BRe(t,e),verifyHash:e=>m7(t,e),verifyMessage:e=>KMe(t,e),verifySiweMessage:e=>nje(t,e),verifyTypedData:e=>GMe(t,e),uninstallFilter:e=>c7(t,e),waitForTransactionReceipt:e=>xne(t,e),watchBlocks:e=>ZMe(t,e),watchBlockNumber:e=>bne(t,e),watchContractEvent:e=>VRe(t,e),watchEvent:e=>YMe(t,e),watchPendingTransactions:e=>JMe(t,e)}}function Fd(t){const{key:e="public",name:n="Public Client"}=t;return YR({...t,key:e,name:n,type:"publicClient"}).extend(aM)}async function rje(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Te(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function ije(t,e){const{abi:n,args:r,bytecode:i,...s}=e,o=$C({abi:n,args:r,bytecode:i});return l7(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function sje(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>$5(r))}async function oje(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?wr(n):void 0,s=r?[i==null?void 0:i.address,[Te(r)]]:[i==null?void 0:i.address],o=await t.request({method:"wallet_getCapabilities",params:s}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof r=="number"?a[r]:a}async function aje(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function cM(t,e){var c;const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Ou({docsPath:"/docs/eip7702/prepareAuthorization"});const s=wr(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:wr(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await Je(t,Ld,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Je(t,KO,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&wm(o.address,s.address))&&(a.nonce+=1)),a}async function cje(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Ei(n))}async function lje(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function uje(t,e){const{chain:n=t.chain}=e,r=e.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),i=await ine(t,e);return await u7(t,{...e,id:i.id,timeout:r})}const lM=new pm(128);async function Ene(t,e){var _,O,S,R;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,pollingInterval:g,throwOnReceiptRevert:m,type:y,value:w,...b}=e,v=e.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new Ou({docsPath:"/docs/actions/wallet/sendTransactionSync"});const E=n?wr(n):null;try{mf(e);const I=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await TC({authorization:s[0]}).catch(()=>{throw new pe("`to` is required. Could not infer from `authorizationList`.")})})();if((E==null?void 0:E.type)==="json-rpc"||E===null){let D;r!==null&&(D=await Je(t,Ld,"getChainId")({}),qO({currentChainId:D,chain:r}));const j=(S=(O=(_=t.chain)==null?void 0:_.formatters)==null?void 0:O.transactionRequest)==null?void 0:S.format,M=(j||g0)({...Dw(b,{format:j}),accessList:i,account:E,authorizationList:s,blobs:o,chainId:D,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:I,type:y,value:w},"sendTransaction"),C=lM.get(t.uid),x=C?"wallet_sendTransaction":"eth_sendTransaction",A=await(async()=>{try{return await t.request({method:x,params:[M]},{retryCount:0})}catch(N){if(C===!1)throw N;const $=N;if($.name==="InvalidInputRpcError"||$.name==="InvalidParamsRpcError"||$.name==="MethodNotFoundRpcError"||$.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[M]},{retryCount:0}).then(L=>(lM.set(t.uid,!0),L)).catch(L=>{const B=L;throw B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError"?(lM.set(t.uid,!1),$):B});throw $}})(),P=await Je(t,xne,"waitForTransactionReceipt")({checkReplacement:!1,hash:A,pollingInterval:g,timeout:v});if(m&&P.status==="reverted")throw new uX({receipt:P});return P}if((E==null?void 0:E.type)==="local"){const D=await Je(t,E6,"prepareTransactionRequest")({account:E,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:E.nonceManager,parameters:[...zR,"sidecars"],type:y,value:w,...b,to:I}),j=(R=r==null?void 0:r.serializers)==null?void 0:R.transaction,F=await E.signTransaction(D,{serializer:j});return await Je(t,oM,"sendRawTransactionSync")({serializedTransaction:F,throwOnReceiptRevert:m,timeout:e.timeout})}throw(E==null?void 0:E.type)==="smart"?new Nm({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Nm({docsPath:"/docs/actions/wallet/sendTransactionSync",type:E==null?void 0:E.type})}catch(I){throw I instanceof Nm?I:GC(I,{...e,account:E,chain:e.chain||void 0})}}async function dje(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function hje(t,e){const{account:n=t.account}=e;if(!n)throw new Ou({docsPath:"/docs/eip7702/signAuthorization"});const r=wr(n);if(!r.signAuthorization)throw new Nm({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await cM(t,e);return r.signAuthorization(i)}async function fje(t,{account:e=t.account,message:n}){if(!e)throw new Ou({docsPath:"/docs/actions/wallet/signMessage"});const r=wr(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?o0(n):n.raw instanceof Uint8Array?sr(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function pje(t,e){var l,u,d,h;const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Ou({docsPath:"/docs/actions/wallet/signTransaction"});const s=wr(n);mf({account:s,...e});const o=await Je(t,Ld,"getChainId")({});r!==null&&qO({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||g0;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:(h=(d=t.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await t.request({method:"eth_signTransaction",params:[{...c({...i,account:s},"signTransaction"),chainId:Te(o),from:s.address}]},{retryCount:0})}async function gje(t,e){const{account:n=t.account,domain:r,message:i,primaryType:s}=e;if(!n)throw new Ou({docsPath:"/docs/actions/wallet/signTypedData"});const o=wr(n),a={EIP712Domain:hee({domain:r}),...e.types};if(dee({domain:r,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:i,primaryType:s,types:a});const c=Fke({domain:r,message:i,primaryType:s,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function mje(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Te(e)}]},{retryCount:0})}async function yje(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function wje(t,e){return _6.internal(t,Ene,"sendTransactionSync",e)}function vje(t){return{addChain:e=>rje(t,e),deployContract:e=>ije(t,e),fillTransaction:e=>FR(t,e),getAddresses:()=>sje(t),getCallsStatus:e=>sne(t,e),getCapabilities:e=>oje(t,e),getChainId:()=>Ld(t),getPermissions:()=>aje(t),prepareAuthorization:e=>cM(t,e),prepareTransactionRequest:e=>E6(t,e),requestAddresses:()=>cje(t),requestPermissions:e=>lje(t,e),sendCalls:e=>ine(t,e),sendCallsSync:e=>uje(t,e),sendRawTransaction:e=>KR(t,e),sendRawTransactionSync:e=>oM(t,e),sendTransaction:e=>l7(t,e),sendTransactionSync:e=>Ene(t,e),showCallsStatus:e=>dje(t,e),signAuthorization:e=>hje(t,e),signMessage:e=>fje(t,e),signTransaction:e=>pje(t,e),signTypedData:e=>gje(t,e),switchChain:e=>mje(t,e),waitForCallsStatus:e=>u7(t,e),watchAsset:e=>yje(t,e),writeContract:e=>_6(t,e),writeContractSync:e=>wje(t,e)}}function Cne(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return YR({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(vje)}function uM({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=one();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:CIe(r,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function _ne(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>uM({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}function Ane(t,e={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,shouldThrow:s=bje,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const g=uM({key:n,name:r,async request({method:m,params:y}){let w;const b=async(v=0)=>{const E=h[v]({...d,chain:c,retryCount:0,timeout:u});try{const _=await E.request({method:m,params:y});return f({method:m,params:y,response:_,transport:E,status:"success"}),_}catch(_){if(f({error:_,method:m,params:y,transport:E,status:"error"}),s(_)||v===h.length-1||(w??(w=h.slice(v+1).some(O=>{const{include:S,exclude:R}=O({chain:c}).config.methods||{};return S?S.includes(m):R?!R.includes(m):!0})),!w))throw _;return b(v+1)}};return b()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:m=>f=m,transports:h.map(m=>m({chain:c,retryCount:0}))});if(i){const m=typeof i=="object"?i:{};xje({chain:c,interval:m.interval??l,onTransports:y=>h=y,ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:h,weights:m.weights})}return g}}function bje(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Tw.code||t.code===_m.code||bm.nodeMessage.test(t.message)||t.code===5e3))}function xje({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async m=>{const y=m({chain:t,retryCount:0,timeout:s}),w=Date.now();let b,v;try{await(r?r({transport:y}):y.request({method:"net_listening"})),v=1}catch{v=0}finally{b=Date.now()}return{latency:b-w,success:v}}));u.push(h),u.length>i&&u.shift();const f=Math.max(...u.map(m=>Math.max(...m.map(({latency:y})=>y)))),g=o.map((m,y)=>{const w=u.map(O=>O[y].latency),v=1-w.reduce((O,S)=>O+S,0)/w.length/f,E=u.map(O=>O[y].success),_=E.reduce((O,S)=>O+S,0)/E.length;return _===0?[0,y]:[l*v+c*_,y]}).sort((m,y)=>y[0]-m[0]);n(g.map(([,m])=>o[m])),await MC(e),d()};d()}class Eje extends pe{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function ta(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=e;return({chain:h,retryCount:f,timeout:g})=>{const{batchSize:m=1e3,wait:y=0}=typeof n=="object"?n:{},w=e.retryCount??f,b=g??e.timeout??1e4,v=t||(h==null?void 0:h.rpcUrls.default.http[0]);if(!v)throw new Eje;const E=Rke(v,{fetchFn:r,fetchOptions:i,onRequest:c,onResponse:l,timeout:b});return uM({key:s,methods:o,name:a,async request({method:_,params:O}){const S={method:_,params:O},{schedule:R}=tee({id:v,wait:y,shouldSplitBatch(F){return F.length>m},fn:F=>E.request({body:F}),sort:(F,M)=>F.id-M.id}),I=async F=>n?R(F):[await E.request({body:F})],[{error:D,result:j}]=await I(S);if(d)return{error:D,result:j};if(D)throw new PO({body:S,error:D,url:v});return j},retryCount:w,retryDelay:u,timeout:b,type:"http"},{fetchOptions:i,url:v})}}function Cje(t){const{r:e,s:n}=pR.Signature.fromCompact(t.slice(2,130)),r=+`0x${t.slice(130)}`,[i,s]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof i<"u"?{r:Te(e,{size:32}),s:Te(n,{size:32}),v:i,yParity:s}:{r:Te(e,{size:32}),s:Te(n,{size:32}),yParity:s}}let _je=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(QTe,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const Aje=new TextEncoder,Sne=new TextDecoder,Sje=t=>{let e=t;typeof e=="string"&&(e=Aje.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},Ije=t=>Sje(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),kje=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},$je=t=>{let e=t;e instanceof Uint8Array&&(e=Sne.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return kje(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Tje extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class Rm extends Tje{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function Pje(t){return typeof t=="object"&&t!==null}function Nje(t){if(!Pje(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Mm=Ije,Oje=$je;function dM(t){if(typeof t!="string")throw new Rm("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new Rm("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Rm("Invalid JWT");if(!e)throw new Rm("JWTs must contain a payload");let r;try{r=Oje(e)}catch{throw new Rm("Failed to base64url decode the payload")}let i;try{i=JSON.parse(Sne.decode(r))}catch{throw new Rm("Failed to parse the decoded payload as JSON")}if(!Nje(i))throw new Rm("Invalid JWT Claims Set");return i}let I6=class iEe{static parse(e){try{return new iEe(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=dM(e)}},Ine=class xK{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=xK.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=xK.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new I6(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(fTe,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};Ine.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let Rje=class{async revoke(){await this._privyInternal.fetch(uPe,{})}constructor(e){this._privyInternal=e}};function Mje(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const kl={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},y7={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},Ww={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},hM={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},$l={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},w7={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},jje={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},v7={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},Dje={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},Lje={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},Bje={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},Uje={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},Fje={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},kne={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},zje={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},Wje={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},Tl={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},zd={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},b7={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},ja={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},k6={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},qje={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},fM={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},pM={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},$ne={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},Tne={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},$6=[Tl,fM,Fje,kl,y7,zd,b7,ja,k6,v7,Dje,Lje,Bje,$l,w7,jje,Wje,kne,zje,Ww,hM,pM,Tne,$ne,qje,Uje],Pne=new Set($6.map(t=>t.id));function gM(t){let e=t.filter(n=>!Pne.has(n.id));return $6.concat(e)}const Nne=t=>t.map(e=>{var i;if(e.rpcUrls.privyWalletOverride)return e;let n=$6.find(s=>s.id===e.id),r=(i=n==null?void 0:n.rpcUrls.privy)==null?void 0:i.http[0];return r?Mje(e,r):e});let mM=class extends Error{constructor({error:e,code:n}){super(e),this.error=e,this.code=n}},Dn=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},Hje=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const m0=t=>!!t.id&&t.recovery_method==="privy-v2";let Vje=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(m0(this._account))throw new Dn({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessToken())throw new Dn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Dn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s}};const Kje=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var Da;(Da={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Da.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Da.INVALID_DATA="invalid_data",Da.LINKED_TO_ANOTHER_USER="linked_to_another_user",Da.ALLOWLIST_REJECTED="allowlist_rejected",Da.OAUTH_USER_DENIED="oauth_user_denied",Da.UNKNOWN_AUTH_ERROR="unknown_auth_error",Da.USER_EXITED_AUTH_FLOW="exited_auth_flow",Da.MUST_BE_AUTHENTICATED="must_be_authenticated",Da.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Da.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Da.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Da.INVALID_CREDENTIALS="invalid_credentials";let Gje=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},x7=class extends Error{constructor(e,n){super(n),this.type=e}},One=class extends Gje{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},Rne=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const Ru={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function Zje(t){let e=t.type;return typeof e=="string"&&Kje.includes(e)}function yM(t){return Zje(t)&&t.type==="wallet_not_on_device"}async function wM(t,{request:e}){return await t.fetchPrivyRoute(lPe,{body:e})}async function vM({context:t,chainType:e}){return{wallet:await wM(t,{request:{chain_type:e,owner_id:void 0}})}}const Yje="logger/5.8.0";let Mne=!1,jne=!1;const E7={debug:1,default:2,info:2,warning:3,error:4,off:5};let Dne=E7.default,bM=null;function Jje(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const Lne=Jje();var xM;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(xM||(xM={}));var Mu;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Mu||(Mu={}));const Bne="0123456789abcdef";class be{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();E7[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Dne>E7[r])&&console.log.apply(console,n)}debug(...e){this._log(be.levels.DEBUG,e)}info(...e){this._log(be.levels.INFO,e)}warn(...e){this._log(be.levels.WARNING,e)}makeError(e,n,r){if(jne)return this.makeError("censored error",n,{});n||(n=be.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(c=>{const l=r[c];try{if(l instanceof Uint8Array){let u="";for(let d=0;d<l.length;d++)u+=Bne[l[d]>>4],u+=Bne[l[d]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(r[c].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const s=e;let o="";switch(n){case Mu.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Mu.CALL_EXCEPTION:case Mu.INSUFFICIENT_FUNDS:case Mu.MISSING_NEW:case Mu.NONCE_EXPIRED:case Mu.REPLACEMENT_UNDERPRICED:case Mu.TRANSACTION_REPLACED:case Mu.UNPREDICTABLE_GAS_LIMIT:o=n;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=n,Object.keys(r).forEach(function(c){a[c]=r[c]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,be.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){Lne&&this.throwError("platform missing String.prototype.normalize",be.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Lne})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,be.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,be.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,be.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,be.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",be.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",be.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",be.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return bM||(bM=new be(Yje)),bM}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",be.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Mne){if(!e)return;this.globalLogger().throwError("error censorship permanent",be.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}jne=!!e,Mne=!!n}static setLogLevel(e){const n=E7[e.toLowerCase()];if(n==null){be.globalLogger().warn("invalid log level - "+e);return}Dne=n}static from(e){return new be(e)}}be.errors=Mu,be.levels=xM;const Qje="properties/5.8.0";var Xje=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const C7=new be(Qje);function yn(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function T6(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Bs(t){return Xje(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(s=>({key:r,value:s}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}function eDe(t,e){(!t||typeof t!="object")&&C7.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||C7.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function La(t){const e={};for(const n in t)e[n]=t[n];return e}const tDe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Une(t){if(t==null||tDe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!Une(r))return!1}return!0}return C7.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function nDe(t){if(Une(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>P6(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&yn(e,n,P6(r))}return e}return C7.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function P6(t){return nDe(t)}class rDe{constructor(e){for(const n in e)this[n]=P6(e[n])}}const iDe="abstract-signer/5.8.0";var ju=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Pl=new be(iDe),sDe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],oDe=[be.errors.INSUFFICIENT_FUNDS,be.errors.NONCE_EXPIRED,be.errors.REPLACEMENT_UNDERPRICED];let Fne=class sEe{constructor(){Pl.checkAbstract(new.target,sEe),yn(this,"_isSigner",!0)}getBalance(e){return ju(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return ju(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return ju(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield Bs(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return ju(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield Bs(this.checkTransaction(e));return yield this.provider.call(r,n)})}sendTransaction(e){return ju(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),r=yield this.signTransaction(n);return yield this.provider.sendTransaction(r)})}getChainId(){return ju(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return ju(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return ju(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return ju(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)sDe.indexOf(r)===-1&&Pl.throwArgumentError("invalid transaction key: "+r,"transaction",e);const n=La(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&Pl.throwArgumentError("from address mismatch","transaction",e),r[0])),n}populateTransaction(e){return ju(this,void 0,void 0,function*(){const n=yield Bs(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(i=>ju(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Pl.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),n.to.catch(i=>{}));const r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?Pl.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&r&&Pl.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(n.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const s=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=s,n.maxPriorityFeePerGas=s}else n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&Pl.throwError("network does not support EIP-1559",be.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=i.gasPrice),n.type=0):Pl.throwError("failed to get consistent fee data",be.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(i=>{if(oDe.indexOf(i.code)>=0)throw i;return Pl.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",be.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Pl.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Bs(n)})}_checkProvider(e){this.provider||Pl.throwError("missing provider",be.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}};class EM extends Fne{constructor(e,n){super(),yn(this,"address",e),yn(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{Pl.throwError(e,be.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new EM(this.address,e)}}var CM={exports:{}};const aDe=ZE(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));CM.exports,function(t){(function(e,n){function r(M,C){if(!M)throw new Error(C||"Assertion failed")}function i(M,C){M.super_=C;var x=function(){};x.prototype=C.prototype,M.prototype=new x,M.prototype.constructor=M}function s(M,C,x){if(s.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((C==="le"||C==="be")&&(x=C,C=10),this._init(M||0,C||10,x||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=aDe.Buffer}catch{}s.isBN=function(C){return C instanceof s?!0:C!==null&&typeof C=="object"&&C.constructor.wordSize===s.wordSize&&Array.isArray(C.words)},s.max=function(C,x){return C.cmp(x)>0?C:x},s.min=function(C,x){return C.cmp(x)<0?C:x},s.prototype._init=function(C,x,A){if(typeof C=="number")return this._initNumber(C,x,A);if(typeof C=="object")return this._initArray(C,x,A);x==="hex"&&(x=16),r(x===(x|0)&&x>=2&&x<=36),C=C.toString().replace(/\s+/g,"");var P=0;C[0]==="-"&&(P++,this.negative=1),P<C.length&&(x===16?this._parseHex(C,P,A):(this._parseBase(C,x,P),A==="le"&&this._initArray(this.toArray(),x,A)))},s.prototype._initNumber=function(C,x,A){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[C&67108863],this.length=1):C<4503599627370496?(this.words=[C&67108863,C/67108864&67108863],this.length=2):(r(C<9007199254740992),this.words=[C&67108863,C/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),x,A)},s.prototype._initArray=function(C,x,A){if(r(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var N,$,L=0;if(A==="be")for(P=C.length-1,N=0;P>=0;P-=3)$=C[P]|C[P-1]<<8|C[P-2]<<16,this.words[N]|=$<<L&67108863,this.words[N+1]=$>>>26-L&67108863,L+=24,L>=26&&(L-=26,N++);else if(A==="le")for(P=0,N=0;P<C.length;P+=3)$=C[P]|C[P+1]<<8|C[P+2]<<16,this.words[N]|=$<<L&67108863,this.words[N+1]=$>>>26-L&67108863,L+=24,L>=26&&(L-=26,N++);return this._strip()};function a(M,C){var x=M.charCodeAt(C);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;r(!1,"Invalid character in "+M)}function c(M,C,x){var A=a(M,x);return x-1>=C&&(A|=a(M,x-1)<<4),A}s.prototype._parseHex=function(C,x,A){this.length=Math.ceil((C.length-x)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var N=0,$=0,L;if(A==="be")for(P=C.length-1;P>=x;P-=2)L=c(C,x,P)<<N,this.words[$]|=L&67108863,N>=18?(N-=18,$+=1,this.words[$]|=L>>>26):N+=8;else{var B=C.length-x;for(P=B%2===0?x+1:x;P<C.length;P+=2)L=c(C,x,P)<<N,this.words[$]|=L&67108863,N>=18?(N-=18,$+=1,this.words[$]|=L>>>26):N+=8}this._strip()};function l(M,C,x,A){for(var P=0,N=0,$=Math.min(M.length,x),L=C;L<$;L++){var B=M.charCodeAt(L)-48;P*=A,B>=49?N=B-49+10:B>=17?N=B-17+10:N=B,r(B>=0&&N<A,"Invalid character"),P+=N}return P}s.prototype._parseBase=function(C,x,A){this.words=[0],this.length=1;for(var P=0,N=1;N<=67108863;N*=x)P++;P--,N=N/x|0;for(var $=C.length-A,L=$%P,B=Math.min($,$-L)+A,T=0,z=A;z<B;z+=P)T=l(C,z,z+P,x),this.imuln(N),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(L!==0){var q=1;for(T=l(C,z,C.length,x),z=0;z<L;z++)q*=x;this.imuln(q),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this._strip()},s.prototype.copy=function(C){C.words=new Array(this.length);for(var x=0;x<this.length;x++)C.words[x]=this.words[x];C.length=this.length,C.negative=this.negative,C.red=this.red};function u(M,C){M.words=C.words,M.length=C.length,M.negative=C.negative,M.red=C.red}if(s.prototype._move=function(C){u(C,this)},s.prototype.clone=function(){var C=new s(null);return this.copy(C),C},s.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(C,x){C=C||10,x=x|0||1;var A;if(C===16||C==="hex"){A="";for(var P=0,N=0,$=0;$<this.length;$++){var L=this.words[$],B=((L<<P|N)&16777215).toString(16);N=L>>>24-P&16777215,P+=2,P>=26&&(P-=26,$--),N!==0||$!==this.length-1?A=h[6-B.length]+B+A:A=B+A}for(N!==0&&(A=N.toString(16)+A);A.length%x!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(C===(C|0)&&C>=2&&C<=36){var T=f[C],z=g[C];A="";var q=this.clone();for(q.negative=0;!q.isZero();){var U=q.modrn(z).toString(C);q=q.idivn(z),q.isZero()?A=U+A:A=h[T-U.length]+U+A}for(this.isZero()&&(A="0"+A);A.length%x!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=this.words[1]*67108864:this.length===3&&this.words[2]===1?C+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(C,x){return this.toArrayLike(o,C,x)}),s.prototype.toArray=function(C,x){return this.toArrayLike(Array,C,x)};var m=function(C,x){return C.allocUnsafe?C.allocUnsafe(x):new C(x)};s.prototype.toArrayLike=function(C,x,A){this._strip();var P=this.byteLength(),N=A||Math.max(1,P);r(P<=N,"byte array longer than desired length"),r(N>0,"Requested array length <= 0");var $=m(C,N),L=x==="le"?"LE":"BE";return this["_toArrayLike"+L]($,P),$},s.prototype._toArrayLikeLE=function(C,x){for(var A=0,P=0,N=0,$=0;N<this.length;N++){var L=this.words[N]<<$|P;C[A++]=L&255,A<C.length&&(C[A++]=L>>8&255),A<C.length&&(C[A++]=L>>16&255),$===6?(A<C.length&&(C[A++]=L>>24&255),P=0,$=0):(P=L>>>24,$+=2)}if(A<C.length)for(C[A++]=P;A<C.length;)C[A++]=0},s.prototype._toArrayLikeBE=function(C,x){for(var A=C.length-1,P=0,N=0,$=0;N<this.length;N++){var L=this.words[N]<<$|P;C[A--]=L&255,A>=0&&(C[A--]=L>>8&255),A>=0&&(C[A--]=L>>16&255),$===6?(A>=0&&(C[A--]=L>>24&255),P=0,$=0):(P=L>>>24,$+=2)}if(A>=0)for(C[A--]=P;A>=0;)C[A--]=0},Math.clz32?s.prototype._countBits=function(C){return 32-Math.clz32(C)}:s.prototype._countBits=function(C){var x=C,A=0;return x>=4096&&(A+=13,x>>>=13),x>=64&&(A+=7,x>>>=7),x>=8&&(A+=4,x>>>=4),x>=2&&(A+=2,x>>>=2),A+x},s.prototype._zeroBits=function(C){if(C===0)return 26;var x=C,A=0;return x&8191||(A+=13,x>>>=13),x&127||(A+=7,x>>>=7),x&15||(A+=4,x>>>=4),x&3||(A+=2,x>>>=2),x&1||A++,A},s.prototype.bitLength=function(){var C=this.words[this.length-1],x=this._countBits(C);return(this.length-1)*26+x};function y(M){for(var C=new Array(M.bitLength()),x=0;x<C.length;x++){var A=x/26|0,P=x%26;C[x]=M.words[A]>>>P&1}return C}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,x=0;x<this.length;x++){var A=this._zeroBits(this.words[x]);if(C+=A,A!==26)break}return C},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},s.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var x=0;x<C.length;x++)this.words[x]=this.words[x]|C.words[x];return this._strip()},s.prototype.ior=function(C){return r((this.negative|C.negative)===0),this.iuor(C)},s.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},s.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},s.prototype.iuand=function(C){var x;this.length>C.length?x=C:x=this;for(var A=0;A<x.length;A++)this.words[A]=this.words[A]&C.words[A];return this.length=x.length,this._strip()},s.prototype.iand=function(C){return r((this.negative|C.negative)===0),this.iuand(C)},s.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},s.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},s.prototype.iuxor=function(C){var x,A;this.length>C.length?(x=this,A=C):(x=C,A=this);for(var P=0;P<A.length;P++)this.words[P]=x.words[P]^A.words[P];if(this!==x)for(;P<x.length;P++)this.words[P]=x.words[P];return this.length=x.length,this._strip()},s.prototype.ixor=function(C){return r((this.negative|C.negative)===0),this.iuxor(C)},s.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},s.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},s.prototype.inotn=function(C){r(typeof C=="number"&&C>=0);var x=Math.ceil(C/26)|0,A=C%26;this._expand(x),A>0&&x--;for(var P=0;P<x;P++)this.words[P]=~this.words[P]&67108863;return A>0&&(this.words[P]=~this.words[P]&67108863>>26-A),this._strip()},s.prototype.notn=function(C){return this.clone().inotn(C)},s.prototype.setn=function(C,x){r(typeof C=="number"&&C>=0);var A=C/26|0,P=C%26;return this._expand(A+1),x?this.words[A]=this.words[A]|1<<P:this.words[A]=this.words[A]&~(1<<P),this._strip()},s.prototype.iadd=function(C){var x;if(this.negative!==0&&C.negative===0)return this.negative=0,x=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,x=this.isub(C),C.negative=1,x._normSign();var A,P;this.length>C.length?(A=this,P=C):(A=C,P=this);for(var N=0,$=0;$<P.length;$++)x=(A.words[$]|0)+(P.words[$]|0)+N,this.words[$]=x&67108863,N=x>>>26;for(;N!==0&&$<A.length;$++)x=(A.words[$]|0)+N,this.words[$]=x&67108863,N=x>>>26;if(this.length=A.length,N!==0)this.words[this.length]=N,this.length++;else if(A!==this)for(;$<A.length;$++)this.words[$]=A.words[$];return this},s.prototype.add=function(C){var x;return C.negative!==0&&this.negative===0?(C.negative=0,x=this.sub(C),C.negative^=1,x):C.negative===0&&this.negative!==0?(this.negative=0,x=C.sub(this),this.negative=1,x):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},s.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var x=this.iadd(C);return C.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var A=this.cmp(C);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,N;A>0?(P=this,N=C):(P=C,N=this);for(var $=0,L=0;L<N.length;L++)x=(P.words[L]|0)-(N.words[L]|0)+$,$=x>>26,this.words[L]=x&67108863;for(;$!==0&&L<P.length;L++)x=(P.words[L]|0)+$,$=x>>26,this.words[L]=x&67108863;if($===0&&L<P.length&&P!==this)for(;L<P.length;L++)this.words[L]=P.words[L];return this.length=Math.max(this.length,L),P!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(C){return this.clone().isub(C)};function w(M,C,x){x.negative=C.negative^M.negative;var A=M.length+C.length|0;x.length=A,A=A-1|0;var P=M.words[0]|0,N=C.words[0]|0,$=P*N,L=$&67108863,B=$/67108864|0;x.words[0]=L;for(var T=1;T<A;T++){for(var z=B>>>26,q=B&67108863,U=Math.min(T,C.length-1),V=Math.max(0,T-M.length+1);V<=U;V++){var Z=T-V|0;P=M.words[Z]|0,N=C.words[V]|0,$=P*N+q,z+=$/67108864|0,q=$&67108863}x.words[T]=q|0,B=z|0}return B!==0?x.words[T]=B|0:x.length--,x._strip()}var b=function(C,x,A){var P=C.words,N=x.words,$=A.words,L=0,B,T,z,q=P[0]|0,U=q&8191,V=q>>>13,Z=P[1]|0,K=Z&8191,J=Z>>>13,oe=P[2]|0,se=oe&8191,ae=oe>>>13,fe=P[3]|0,ce=fe&8191,de=fe>>>13,ot=P[4]|0,he=ot&8191,Ae=ot>>>13,_e=P[5]|0,ge=_e&8191,Ee=_e>>>13,Wt=P[6]|0,ye=Wt&8191,je=Wt>>>13,Ye=P[7]|0,bt=Ye&8191,ft=Ye>>>13,Xt=P[8]|0,Ot=Xt&8191,At=Xt>>>13,Oe=P[9]|0,Le=Oe&8191,we=Oe>>>13,lt=N[0]|0,St=lt&8191,ht=lt>>>13,It=N[1]|0,Ue=It&8191,Nt=It>>>13,Kt=N[2]|0,qt=Kt&8191,tt=Kt>>>13,Dr=N[3]|0,ut=Dr&8191,mn=Dr>>>13,xa=N[4]|0,jn=xa&8191,Pn=xa>>>13,W=N[5]|0,H=W&8191,Y=W>>>13,Q=N[6]|0,te=Q&8191,ie=Q>>>13,xe=N[7]|0,ve=xe&8191,nt=xe>>>13,Ht=N[8]|0,Ie=Ht&8191,Ze=Ht>>>13,kt=N[9]|0,Xe=kt&8191,Se=kt>>>13;A.negative=C.negative^x.negative,A.length=19,B=Math.imul(U,St),T=Math.imul(U,ht),T=T+Math.imul(V,St)|0,z=Math.imul(V,ht);var Mt=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,B=Math.imul(K,St),T=Math.imul(K,ht),T=T+Math.imul(J,St)|0,z=Math.imul(J,ht),B=B+Math.imul(U,Ue)|0,T=T+Math.imul(U,Nt)|0,T=T+Math.imul(V,Ue)|0,z=z+Math.imul(V,Nt)|0;var Jt=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,B=Math.imul(se,St),T=Math.imul(se,ht),T=T+Math.imul(ae,St)|0,z=Math.imul(ae,ht),B=B+Math.imul(K,Ue)|0,T=T+Math.imul(K,Nt)|0,T=T+Math.imul(J,Ue)|0,z=z+Math.imul(J,Nt)|0,B=B+Math.imul(U,qt)|0,T=T+Math.imul(U,tt)|0,T=T+Math.imul(V,qt)|0,z=z+Math.imul(V,tt)|0;var pn=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(pn>>>26)|0,pn&=67108863,B=Math.imul(ce,St),T=Math.imul(ce,ht),T=T+Math.imul(de,St)|0,z=Math.imul(de,ht),B=B+Math.imul(se,Ue)|0,T=T+Math.imul(se,Nt)|0,T=T+Math.imul(ae,Ue)|0,z=z+Math.imul(ae,Nt)|0,B=B+Math.imul(K,qt)|0,T=T+Math.imul(K,tt)|0,T=T+Math.imul(J,qt)|0,z=z+Math.imul(J,tt)|0,B=B+Math.imul(U,ut)|0,T=T+Math.imul(U,mn)|0,T=T+Math.imul(V,ut)|0,z=z+Math.imul(V,mn)|0;var kn=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(kn>>>26)|0,kn&=67108863,B=Math.imul(he,St),T=Math.imul(he,ht),T=T+Math.imul(Ae,St)|0,z=Math.imul(Ae,ht),B=B+Math.imul(ce,Ue)|0,T=T+Math.imul(ce,Nt)|0,T=T+Math.imul(de,Ue)|0,z=z+Math.imul(de,Nt)|0,B=B+Math.imul(se,qt)|0,T=T+Math.imul(se,tt)|0,T=T+Math.imul(ae,qt)|0,z=z+Math.imul(ae,tt)|0,B=B+Math.imul(K,ut)|0,T=T+Math.imul(K,mn)|0,T=T+Math.imul(J,ut)|0,z=z+Math.imul(J,mn)|0,B=B+Math.imul(U,jn)|0,T=T+Math.imul(U,Pn)|0,T=T+Math.imul(V,jn)|0,z=z+Math.imul(V,Pn)|0;var Nn=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,B=Math.imul(ge,St),T=Math.imul(ge,ht),T=T+Math.imul(Ee,St)|0,z=Math.imul(Ee,ht),B=B+Math.imul(he,Ue)|0,T=T+Math.imul(he,Nt)|0,T=T+Math.imul(Ae,Ue)|0,z=z+Math.imul(Ae,Nt)|0,B=B+Math.imul(ce,qt)|0,T=T+Math.imul(ce,tt)|0,T=T+Math.imul(de,qt)|0,z=z+Math.imul(de,tt)|0,B=B+Math.imul(se,ut)|0,T=T+Math.imul(se,mn)|0,T=T+Math.imul(ae,ut)|0,z=z+Math.imul(ae,mn)|0,B=B+Math.imul(K,jn)|0,T=T+Math.imul(K,Pn)|0,T=T+Math.imul(J,jn)|0,z=z+Math.imul(J,Pn)|0,B=B+Math.imul(U,H)|0,T=T+Math.imul(U,Y)|0,T=T+Math.imul(V,H)|0,z=z+Math.imul(V,Y)|0;var $n=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+($n>>>26)|0,$n&=67108863,B=Math.imul(ye,St),T=Math.imul(ye,ht),T=T+Math.imul(je,St)|0,z=Math.imul(je,ht),B=B+Math.imul(ge,Ue)|0,T=T+Math.imul(ge,Nt)|0,T=T+Math.imul(Ee,Ue)|0,z=z+Math.imul(Ee,Nt)|0,B=B+Math.imul(he,qt)|0,T=T+Math.imul(he,tt)|0,T=T+Math.imul(Ae,qt)|0,z=z+Math.imul(Ae,tt)|0,B=B+Math.imul(ce,ut)|0,T=T+Math.imul(ce,mn)|0,T=T+Math.imul(de,ut)|0,z=z+Math.imul(de,mn)|0,B=B+Math.imul(se,jn)|0,T=T+Math.imul(se,Pn)|0,T=T+Math.imul(ae,jn)|0,z=z+Math.imul(ae,Pn)|0,B=B+Math.imul(K,H)|0,T=T+Math.imul(K,Y)|0,T=T+Math.imul(J,H)|0,z=z+Math.imul(J,Y)|0,B=B+Math.imul(U,te)|0,T=T+Math.imul(U,ie)|0,T=T+Math.imul(V,te)|0,z=z+Math.imul(V,ie)|0;var fr=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(fr>>>26)|0,fr&=67108863,B=Math.imul(bt,St),T=Math.imul(bt,ht),T=T+Math.imul(ft,St)|0,z=Math.imul(ft,ht),B=B+Math.imul(ye,Ue)|0,T=T+Math.imul(ye,Nt)|0,T=T+Math.imul(je,Ue)|0,z=z+Math.imul(je,Nt)|0,B=B+Math.imul(ge,qt)|0,T=T+Math.imul(ge,tt)|0,T=T+Math.imul(Ee,qt)|0,z=z+Math.imul(Ee,tt)|0,B=B+Math.imul(he,ut)|0,T=T+Math.imul(he,mn)|0,T=T+Math.imul(Ae,ut)|0,z=z+Math.imul(Ae,mn)|0,B=B+Math.imul(ce,jn)|0,T=T+Math.imul(ce,Pn)|0,T=T+Math.imul(de,jn)|0,z=z+Math.imul(de,Pn)|0,B=B+Math.imul(se,H)|0,T=T+Math.imul(se,Y)|0,T=T+Math.imul(ae,H)|0,z=z+Math.imul(ae,Y)|0,B=B+Math.imul(K,te)|0,T=T+Math.imul(K,ie)|0,T=T+Math.imul(J,te)|0,z=z+Math.imul(J,ie)|0,B=B+Math.imul(U,ve)|0,T=T+Math.imul(U,nt)|0,T=T+Math.imul(V,ve)|0,z=z+Math.imul(V,nt)|0;var Et=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(Et>>>26)|0,Et&=67108863,B=Math.imul(Ot,St),T=Math.imul(Ot,ht),T=T+Math.imul(At,St)|0,z=Math.imul(At,ht),B=B+Math.imul(bt,Ue)|0,T=T+Math.imul(bt,Nt)|0,T=T+Math.imul(ft,Ue)|0,z=z+Math.imul(ft,Nt)|0,B=B+Math.imul(ye,qt)|0,T=T+Math.imul(ye,tt)|0,T=T+Math.imul(je,qt)|0,z=z+Math.imul(je,tt)|0,B=B+Math.imul(ge,ut)|0,T=T+Math.imul(ge,mn)|0,T=T+Math.imul(Ee,ut)|0,z=z+Math.imul(Ee,mn)|0,B=B+Math.imul(he,jn)|0,T=T+Math.imul(he,Pn)|0,T=T+Math.imul(Ae,jn)|0,z=z+Math.imul(Ae,Pn)|0,B=B+Math.imul(ce,H)|0,T=T+Math.imul(ce,Y)|0,T=T+Math.imul(de,H)|0,z=z+Math.imul(de,Y)|0,B=B+Math.imul(se,te)|0,T=T+Math.imul(se,ie)|0,T=T+Math.imul(ae,te)|0,z=z+Math.imul(ae,ie)|0,B=B+Math.imul(K,ve)|0,T=T+Math.imul(K,nt)|0,T=T+Math.imul(J,ve)|0,z=z+Math.imul(J,nt)|0,B=B+Math.imul(U,Ie)|0,T=T+Math.imul(U,Ze)|0,T=T+Math.imul(V,Ie)|0,z=z+Math.imul(V,Ze)|0;var vi=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(vi>>>26)|0,vi&=67108863,B=Math.imul(Le,St),T=Math.imul(Le,ht),T=T+Math.imul(we,St)|0,z=Math.imul(we,ht),B=B+Math.imul(Ot,Ue)|0,T=T+Math.imul(Ot,Nt)|0,T=T+Math.imul(At,Ue)|0,z=z+Math.imul(At,Nt)|0,B=B+Math.imul(bt,qt)|0,T=T+Math.imul(bt,tt)|0,T=T+Math.imul(ft,qt)|0,z=z+Math.imul(ft,tt)|0,B=B+Math.imul(ye,ut)|0,T=T+Math.imul(ye,mn)|0,T=T+Math.imul(je,ut)|0,z=z+Math.imul(je,mn)|0,B=B+Math.imul(ge,jn)|0,T=T+Math.imul(ge,Pn)|0,T=T+Math.imul(Ee,jn)|0,z=z+Math.imul(Ee,Pn)|0,B=B+Math.imul(he,H)|0,T=T+Math.imul(he,Y)|0,T=T+Math.imul(Ae,H)|0,z=z+Math.imul(Ae,Y)|0,B=B+Math.imul(ce,te)|0,T=T+Math.imul(ce,ie)|0,T=T+Math.imul(de,te)|0,z=z+Math.imul(de,ie)|0,B=B+Math.imul(se,ve)|0,T=T+Math.imul(se,nt)|0,T=T+Math.imul(ae,ve)|0,z=z+Math.imul(ae,nt)|0,B=B+Math.imul(K,Ie)|0,T=T+Math.imul(K,Ze)|0,T=T+Math.imul(J,Ie)|0,z=z+Math.imul(J,Ze)|0,B=B+Math.imul(U,Xe)|0,T=T+Math.imul(U,Se)|0,T=T+Math.imul(V,Xe)|0,z=z+Math.imul(V,Se)|0;var Qt=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,B=Math.imul(Le,Ue),T=Math.imul(Le,Nt),T=T+Math.imul(we,Ue)|0,z=Math.imul(we,Nt),B=B+Math.imul(Ot,qt)|0,T=T+Math.imul(Ot,tt)|0,T=T+Math.imul(At,qt)|0,z=z+Math.imul(At,tt)|0,B=B+Math.imul(bt,ut)|0,T=T+Math.imul(bt,mn)|0,T=T+Math.imul(ft,ut)|0,z=z+Math.imul(ft,mn)|0,B=B+Math.imul(ye,jn)|0,T=T+Math.imul(ye,Pn)|0,T=T+Math.imul(je,jn)|0,z=z+Math.imul(je,Pn)|0,B=B+Math.imul(ge,H)|0,T=T+Math.imul(ge,Y)|0,T=T+Math.imul(Ee,H)|0,z=z+Math.imul(Ee,Y)|0,B=B+Math.imul(he,te)|0,T=T+Math.imul(he,ie)|0,T=T+Math.imul(Ae,te)|0,z=z+Math.imul(Ae,ie)|0,B=B+Math.imul(ce,ve)|0,T=T+Math.imul(ce,nt)|0,T=T+Math.imul(de,ve)|0,z=z+Math.imul(de,nt)|0,B=B+Math.imul(se,Ie)|0,T=T+Math.imul(se,Ze)|0,T=T+Math.imul(ae,Ie)|0,z=z+Math.imul(ae,Ze)|0,B=B+Math.imul(K,Xe)|0,T=T+Math.imul(K,Se)|0,T=T+Math.imul(J,Xe)|0,z=z+Math.imul(J,Se)|0;var pr=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(pr>>>26)|0,pr&=67108863,B=Math.imul(Le,qt),T=Math.imul(Le,tt),T=T+Math.imul(we,qt)|0,z=Math.imul(we,tt),B=B+Math.imul(Ot,ut)|0,T=T+Math.imul(Ot,mn)|0,T=T+Math.imul(At,ut)|0,z=z+Math.imul(At,mn)|0,B=B+Math.imul(bt,jn)|0,T=T+Math.imul(bt,Pn)|0,T=T+Math.imul(ft,jn)|0,z=z+Math.imul(ft,Pn)|0,B=B+Math.imul(ye,H)|0,T=T+Math.imul(ye,Y)|0,T=T+Math.imul(je,H)|0,z=z+Math.imul(je,Y)|0,B=B+Math.imul(ge,te)|0,T=T+Math.imul(ge,ie)|0,T=T+Math.imul(Ee,te)|0,z=z+Math.imul(Ee,ie)|0,B=B+Math.imul(he,ve)|0,T=T+Math.imul(he,nt)|0,T=T+Math.imul(Ae,ve)|0,z=z+Math.imul(Ae,nt)|0,B=B+Math.imul(ce,Ie)|0,T=T+Math.imul(ce,Ze)|0,T=T+Math.imul(de,Ie)|0,z=z+Math.imul(de,Ze)|0,B=B+Math.imul(se,Xe)|0,T=T+Math.imul(se,Se)|0,T=T+Math.imul(ae,Xe)|0,z=z+Math.imul(ae,Se)|0;var $t=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+($t>>>26)|0,$t&=67108863,B=Math.imul(Le,ut),T=Math.imul(Le,mn),T=T+Math.imul(we,ut)|0,z=Math.imul(we,mn),B=B+Math.imul(Ot,jn)|0,T=T+Math.imul(Ot,Pn)|0,T=T+Math.imul(At,jn)|0,z=z+Math.imul(At,Pn)|0,B=B+Math.imul(bt,H)|0,T=T+Math.imul(bt,Y)|0,T=T+Math.imul(ft,H)|0,z=z+Math.imul(ft,Y)|0,B=B+Math.imul(ye,te)|0,T=T+Math.imul(ye,ie)|0,T=T+Math.imul(je,te)|0,z=z+Math.imul(je,ie)|0,B=B+Math.imul(ge,ve)|0,T=T+Math.imul(ge,nt)|0,T=T+Math.imul(Ee,ve)|0,z=z+Math.imul(Ee,nt)|0,B=B+Math.imul(he,Ie)|0,T=T+Math.imul(he,Ze)|0,T=T+Math.imul(Ae,Ie)|0,z=z+Math.imul(Ae,Ze)|0,B=B+Math.imul(ce,Xe)|0,T=T+Math.imul(ce,Se)|0,T=T+Math.imul(de,Xe)|0,z=z+Math.imul(de,Se)|0;var en=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(en>>>26)|0,en&=67108863,B=Math.imul(Le,jn),T=Math.imul(Le,Pn),T=T+Math.imul(we,jn)|0,z=Math.imul(we,Pn),B=B+Math.imul(Ot,H)|0,T=T+Math.imul(Ot,Y)|0,T=T+Math.imul(At,H)|0,z=z+Math.imul(At,Y)|0,B=B+Math.imul(bt,te)|0,T=T+Math.imul(bt,ie)|0,T=T+Math.imul(ft,te)|0,z=z+Math.imul(ft,ie)|0,B=B+Math.imul(ye,ve)|0,T=T+Math.imul(ye,nt)|0,T=T+Math.imul(je,ve)|0,z=z+Math.imul(je,nt)|0,B=B+Math.imul(ge,Ie)|0,T=T+Math.imul(ge,Ze)|0,T=T+Math.imul(Ee,Ie)|0,z=z+Math.imul(Ee,Ze)|0,B=B+Math.imul(he,Xe)|0,T=T+Math.imul(he,Se)|0,T=T+Math.imul(Ae,Xe)|0,z=z+Math.imul(Ae,Se)|0;var yr=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(yr>>>26)|0,yr&=67108863,B=Math.imul(Le,H),T=Math.imul(Le,Y),T=T+Math.imul(we,H)|0,z=Math.imul(we,Y),B=B+Math.imul(Ot,te)|0,T=T+Math.imul(Ot,ie)|0,T=T+Math.imul(At,te)|0,z=z+Math.imul(At,ie)|0,B=B+Math.imul(bt,ve)|0,T=T+Math.imul(bt,nt)|0,T=T+Math.imul(ft,ve)|0,z=z+Math.imul(ft,nt)|0,B=B+Math.imul(ye,Ie)|0,T=T+Math.imul(ye,Ze)|0,T=T+Math.imul(je,Ie)|0,z=z+Math.imul(je,Ze)|0,B=B+Math.imul(ge,Xe)|0,T=T+Math.imul(ge,Se)|0,T=T+Math.imul(Ee,Xe)|0,z=z+Math.imul(Ee,Se)|0;var Gr=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,B=Math.imul(Le,te),T=Math.imul(Le,ie),T=T+Math.imul(we,te)|0,z=Math.imul(we,ie),B=B+Math.imul(Ot,ve)|0,T=T+Math.imul(Ot,nt)|0,T=T+Math.imul(At,ve)|0,z=z+Math.imul(At,nt)|0,B=B+Math.imul(bt,Ie)|0,T=T+Math.imul(bt,Ze)|0,T=T+Math.imul(ft,Ie)|0,z=z+Math.imul(ft,Ze)|0,B=B+Math.imul(ye,Xe)|0,T=T+Math.imul(ye,Se)|0,T=T+Math.imul(je,Xe)|0,z=z+Math.imul(je,Se)|0;var Ho=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,B=Math.imul(Le,ve),T=Math.imul(Le,nt),T=T+Math.imul(we,ve)|0,z=Math.imul(we,nt),B=B+Math.imul(Ot,Ie)|0,T=T+Math.imul(Ot,Ze)|0,T=T+Math.imul(At,Ie)|0,z=z+Math.imul(At,Ze)|0,B=B+Math.imul(bt,Xe)|0,T=T+Math.imul(bt,Se)|0,T=T+Math.imul(ft,Xe)|0,z=z+Math.imul(ft,Se)|0;var zy=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(zy>>>26)|0,zy&=67108863,B=Math.imul(Le,Ie),T=Math.imul(Le,Ze),T=T+Math.imul(we,Ie)|0,z=Math.imul(we,Ze),B=B+Math.imul(Ot,Xe)|0,T=T+Math.imul(Ot,Se)|0,T=T+Math.imul(At,Xe)|0,z=z+Math.imul(At,Se)|0;var GE=(L+B|0)+((T&8191)<<13)|0;L=(z+(T>>>13)|0)+(GE>>>26)|0,GE&=67108863,B=Math.imul(Le,Xe),T=Math.imul(Le,Se),T=T+Math.imul(we,Xe)|0,z=Math.imul(we,Se);var wK=(L+B|0)+((T&8191)<<13)|0;return L=(z+(T>>>13)|0)+(wK>>>26)|0,wK&=67108863,$[0]=Mt,$[1]=Jt,$[2]=pn,$[3]=kn,$[4]=Nn,$[5]=$n,$[6]=fr,$[7]=Et,$[8]=vi,$[9]=Qt,$[10]=pr,$[11]=$t,$[12]=en,$[13]=yr,$[14]=Gr,$[15]=Ho,$[16]=zy,$[17]=GE,$[18]=wK,L!==0&&($[19]=L,A.length++),A};Math.imul||(b=w);function v(M,C,x){x.negative=C.negative^M.negative,x.length=M.length+C.length;for(var A=0,P=0,N=0;N<x.length-1;N++){var $=P;P=0;for(var L=A&67108863,B=Math.min(N,C.length-1),T=Math.max(0,N-M.length+1);T<=B;T++){var z=N-T,q=M.words[z]|0,U=C.words[T]|0,V=q*U,Z=V&67108863;$=$+(V/67108864|0)|0,Z=Z+L|0,L=Z&67108863,$=$+(Z>>>26)|0,P+=$>>>26,$&=67108863}x.words[N]=L,A=$,$=P}return A!==0?x.words[N]=A:x.length--,x._strip()}function E(M,C,x){return v(M,C,x)}s.prototype.mulTo=function(C,x){var A,P=this.length+C.length;return this.length===10&&C.length===10?A=b(this,C,x):P<63?A=w(this,C,x):P<1024?A=v(this,C,x):A=E(this,C,x),A},s.prototype.mul=function(C){var x=new s(null);return x.words=new Array(this.length+C.length),this.mulTo(C,x)},s.prototype.mulf=function(C){var x=new s(null);return x.words=new Array(this.length+C.length),E(this,C,x)},s.prototype.imul=function(C){return this.clone().mulTo(C,this)},s.prototype.imuln=function(C){var x=C<0;x&&(C=-C),r(typeof C=="number"),r(C<67108864);for(var A=0,P=0;P<this.length;P++){var N=(this.words[P]|0)*C,$=(N&67108863)+(A&67108863);A>>=26,A+=N/67108864|0,A+=$>>>26,this.words[P]=$&67108863}return A!==0&&(this.words[P]=A,this.length++),this.length=C===0?1:this.length,x?this.ineg():this},s.prototype.muln=function(C){return this.clone().imuln(C)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(C){var x=y(C);if(x.length===0)return new s(1);for(var A=this,P=0;P<x.length&&x[P]===0;P++,A=A.sqr());if(++P<x.length)for(var N=A.sqr();P<x.length;P++,N=N.sqr())x[P]!==0&&(A=A.mul(N));return A},s.prototype.iushln=function(C){r(typeof C=="number"&&C>=0);var x=C%26,A=(C-x)/26,P=67108863>>>26-x<<26-x,N;if(x!==0){var $=0;for(N=0;N<this.length;N++){var L=this.words[N]&P,B=(this.words[N]|0)-L<<x;this.words[N]=B|$,$=L>>>26-x}$&&(this.words[N]=$,this.length++)}if(A!==0){for(N=this.length-1;N>=0;N--)this.words[N+A]=this.words[N];for(N=0;N<A;N++)this.words[N]=0;this.length+=A}return this._strip()},s.prototype.ishln=function(C){return r(this.negative===0),this.iushln(C)},s.prototype.iushrn=function(C,x,A){r(typeof C=="number"&&C>=0);var P;x?P=(x-x%26)/26:P=0;var N=C%26,$=Math.min((C-N)/26,this.length),L=67108863^67108863>>>N<<N,B=A;if(P-=$,P=Math.max(0,P),B){for(var T=0;T<$;T++)B.words[T]=this.words[T];B.length=$}if($!==0)if(this.length>$)for(this.length-=$,T=0;T<this.length;T++)this.words[T]=this.words[T+$];else this.words[0]=0,this.length=1;var z=0;for(T=this.length-1;T>=0&&(z!==0||T>=P);T--){var q=this.words[T]|0;this.words[T]=z<<26-N|q>>>N,z=q&L}return B&&z!==0&&(B.words[B.length++]=z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(C,x,A){return r(this.negative===0),this.iushrn(C,x,A)},s.prototype.shln=function(C){return this.clone().ishln(C)},s.prototype.ushln=function(C){return this.clone().iushln(C)},s.prototype.shrn=function(C){return this.clone().ishrn(C)},s.prototype.ushrn=function(C){return this.clone().iushrn(C)},s.prototype.testn=function(C){r(typeof C=="number"&&C>=0);var x=C%26,A=(C-x)/26,P=1<<x;if(this.length<=A)return!1;var N=this.words[A];return!!(N&P)},s.prototype.imaskn=function(C){r(typeof C=="number"&&C>=0);var x=C%26,A=(C-x)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(x!==0&&A++,this.length=Math.min(A,this.length),x!==0){var P=67108863^67108863>>>x<<x;this.words[this.length-1]&=P}return this._strip()},s.prototype.maskn=function(C){return this.clone().imaskn(C)},s.prototype.iaddn=function(C){return r(typeof C=="number"),r(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(this.words[0]|0)<=C?(this.words[0]=C-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},s.prototype._iaddn=function(C){this.words[0]+=C;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},s.prototype.isubn=function(C){if(r(typeof C=="number"),r(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},s.prototype.addn=function(C){return this.clone().iaddn(C)},s.prototype.subn=function(C){return this.clone().isubn(C)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(C,x,A){var P=C.length+A,N;this._expand(P);var $,L=0;for(N=0;N<C.length;N++){$=(this.words[N+A]|0)+L;var B=(C.words[N]|0)*x;$-=B&67108863,L=($>>26)-(B/67108864|0),this.words[N+A]=$&67108863}for(;N<this.length-A;N++)$=(this.words[N+A]|0)+L,L=$>>26,this.words[N+A]=$&67108863;if(L===0)return this._strip();for(r(L===-1),L=0,N=0;N<this.length;N++)$=-(this.words[N]|0)+L,L=$>>26,this.words[N]=$&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(C,x){var A=this.length-C.length,P=this.clone(),N=C,$=N.words[N.length-1]|0,L=this._countBits($);A=26-L,A!==0&&(N=N.ushln(A),P.iushln(A),$=N.words[N.length-1]|0);var B=P.length-N.length,T;if(x!=="mod"){T=new s(null),T.length=B+1,T.words=new Array(T.length);for(var z=0;z<T.length;z++)T.words[z]=0}var q=P.clone()._ishlnsubmul(N,1,B);q.negative===0&&(P=q,T&&(T.words[B]=1));for(var U=B-1;U>=0;U--){var V=(P.words[N.length+U]|0)*67108864+(P.words[N.length+U-1]|0);for(V=Math.min(V/$|0,67108863),P._ishlnsubmul(N,V,U);P.negative!==0;)V--,P.negative=0,P._ishlnsubmul(N,1,U),P.isZero()||(P.negative^=1);T&&(T.words[U]=V)}return T&&T._strip(),P._strip(),x!=="div"&&A!==0&&P.iushrn(A),{div:T||null,mod:P}},s.prototype.divmod=function(C,x,A){if(r(!C.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var P,N,$;return this.negative!==0&&C.negative===0?($=this.neg().divmod(C,x),x!=="mod"&&(P=$.div.neg()),x!=="div"&&(N=$.mod.neg(),A&&N.negative!==0&&N.iadd(C)),{div:P,mod:N}):this.negative===0&&C.negative!==0?($=this.divmod(C.neg(),x),x!=="mod"&&(P=$.div.neg()),{div:P,mod:$.mod}):this.negative&C.negative?($=this.neg().divmod(C.neg(),x),x!=="div"&&(N=$.mod.neg(),A&&N.negative!==0&&N.isub(C)),{div:$.div,mod:N}):C.length>this.length||this.cmp(C)<0?{div:new s(0),mod:this}:C.length===1?x==="div"?{div:this.divn(C.words[0]),mod:null}:x==="mod"?{div:null,mod:new s(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new s(this.modrn(C.words[0]))}:this._wordDiv(C,x)},s.prototype.div=function(C){return this.divmod(C,"div",!1).div},s.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},s.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},s.prototype.divRound=function(C){var x=this.divmod(C);if(x.mod.isZero())return x.div;var A=x.div.negative!==0?x.mod.isub(C):x.mod,P=C.ushrn(1),N=C.andln(1),$=A.cmp(P);return $<0||N===1&&$===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},s.prototype.modrn=function(C){var x=C<0;x&&(C=-C),r(C<=67108863);for(var A=(1<<26)%C,P=0,N=this.length-1;N>=0;N--)P=(A*P+(this.words[N]|0))%C;return x?-P:P},s.prototype.modn=function(C){return this.modrn(C)},s.prototype.idivn=function(C){var x=C<0;x&&(C=-C),r(C<=67108863);for(var A=0,P=this.length-1;P>=0;P--){var N=(this.words[P]|0)+A*67108864;this.words[P]=N/C|0,A=N%C}return this._strip(),x?this.ineg():this},s.prototype.divn=function(C){return this.clone().idivn(C)},s.prototype.egcd=function(C){r(C.negative===0),r(!C.isZero());var x=this,A=C.clone();x.negative!==0?x=x.umod(C):x=x.clone();for(var P=new s(1),N=new s(0),$=new s(0),L=new s(1),B=0;x.isEven()&&A.isEven();)x.iushrn(1),A.iushrn(1),++B;for(var T=A.clone(),z=x.clone();!x.isZero();){for(var q=0,U=1;!(x.words[0]&U)&&q<26;++q,U<<=1);if(q>0)for(x.iushrn(q);q-- >0;)(P.isOdd()||N.isOdd())&&(P.iadd(T),N.isub(z)),P.iushrn(1),N.iushrn(1);for(var V=0,Z=1;!(A.words[0]&Z)&&V<26;++V,Z<<=1);if(V>0)for(A.iushrn(V);V-- >0;)($.isOdd()||L.isOdd())&&($.iadd(T),L.isub(z)),$.iushrn(1),L.iushrn(1);x.cmp(A)>=0?(x.isub(A),P.isub($),N.isub(L)):(A.isub(x),$.isub(P),L.isub(N))}return{a:$,b:L,gcd:A.iushln(B)}},s.prototype._invmp=function(C){r(C.negative===0),r(!C.isZero());var x=this,A=C.clone();x.negative!==0?x=x.umod(C):x=x.clone();for(var P=new s(1),N=new s(0),$=A.clone();x.cmpn(1)>0&&A.cmpn(1)>0;){for(var L=0,B=1;!(x.words[0]&B)&&L<26;++L,B<<=1);if(L>0)for(x.iushrn(L);L-- >0;)P.isOdd()&&P.iadd($),P.iushrn(1);for(var T=0,z=1;!(A.words[0]&z)&&T<26;++T,z<<=1);if(T>0)for(A.iushrn(T);T-- >0;)N.isOdd()&&N.iadd($),N.iushrn(1);x.cmp(A)>=0?(x.isub(A),P.isub(N)):(A.isub(x),N.isub(P))}var q;return x.cmpn(1)===0?q=P:q=N,q.cmpn(0)<0&&q.iadd(C),q},s.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var x=this.clone(),A=C.clone();x.negative=0,A.negative=0;for(var P=0;x.isEven()&&A.isEven();P++)x.iushrn(1),A.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;A.isEven();)A.iushrn(1);var N=x.cmp(A);if(N<0){var $=x;x=A,A=$}else if(N===0||A.cmpn(1)===0)break;x.isub(A)}while(!0);return A.iushln(P)},s.prototype.invm=function(C){return this.egcd(C).a.umod(C)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(C){return this.words[0]&C},s.prototype.bincn=function(C){r(typeof C=="number");var x=C%26,A=(C-x)/26,P=1<<x;if(this.length<=A)return this._expand(A+1),this.words[A]|=P,this;for(var N=P,$=A;N!==0&&$<this.length;$++){var L=this.words[$]|0;L+=N,N=L>>>26,L&=67108863,this.words[$]=L}return N!==0&&(this.words[$]=N,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(C){var x=C<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var A;if(this.length>1)A=1;else{x&&(C=-C),r(C<=67108863,"Number is too big");var P=this.words[0]|0;A=P===C?0:P<C?-1:1}return this.negative!==0?-A|0:A},s.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var x=this.ucmp(C);return this.negative!==0?-x|0:x},s.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var x=0,A=this.length-1;A>=0;A--){var P=this.words[A]|0,N=C.words[A]|0;if(P!==N){P<N?x=-1:P>N&&(x=1);break}}return x},s.prototype.gtn=function(C){return this.cmpn(C)===1},s.prototype.gt=function(C){return this.cmp(C)===1},s.prototype.gten=function(C){return this.cmpn(C)>=0},s.prototype.gte=function(C){return this.cmp(C)>=0},s.prototype.ltn=function(C){return this.cmpn(C)===-1},s.prototype.lt=function(C){return this.cmp(C)===-1},s.prototype.lten=function(C){return this.cmpn(C)<=0},s.prototype.lte=function(C){return this.cmp(C)<=0},s.prototype.eqn=function(C){return this.cmpn(C)===0},s.prototype.eq=function(C){return this.cmp(C)===0},s.red=function(C){return new j(C)},s.prototype.toRed=function(C){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(C){return this.red=C,this},s.prototype.forceRed=function(C){return r(!this.red,"Already a number in reduction context"),this._forceRed(C)},s.prototype.redAdd=function(C){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},s.prototype.redIAdd=function(C){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},s.prototype.redSub=function(C){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},s.prototype.redISub=function(C){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},s.prototype.redShl=function(C){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},s.prototype.redMul=function(C){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},s.prototype.redIMul=function(C){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(C){return r(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var _={k256:null,p224:null,p192:null,p25519:null};function O(M,C){this.name=M,this.p=new s(C,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var C=new s(null);return C.words=new Array(Math.ceil(this.n/13)),C},O.prototype.ireduce=function(C){var x=C,A;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),A=x.bitLength();while(A>this.n);var P=A<this.n?-1:x.ucmp(this.p);return P===0?(x.words[0]=0,x.length=1):P>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},O.prototype.split=function(C,x){C.iushrn(this.n,0,x)},O.prototype.imulK=function(C){return C.imul(this.k)};function S(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(S,O),S.prototype.split=function(C,x){for(var A=4194303,P=Math.min(C.length,9),N=0;N<P;N++)x.words[N]=C.words[N];if(x.length=P,C.length<=9){C.words[0]=0,C.length=1;return}var $=C.words[9];for(x.words[x.length++]=$&A,N=10;N<C.length;N++){var L=C.words[N]|0;C.words[N-10]=(L&A)<<4|$>>>22,$=L}$>>>=22,C.words[N-10]=$,$===0&&C.length>10?C.length-=10:C.length-=9},S.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var x=0,A=0;A<C.length;A++){var P=C.words[A]|0;x+=P*977,C.words[A]=x&67108863,x=P*64+(x/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C};function R(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(R,O);function I(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(I,O);function D(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(D,O),D.prototype.imulK=function(C){for(var x=0,A=0;A<C.length;A++){var P=(C.words[A]|0)*19+x,N=P&67108863;P>>>=26,C.words[A]=N,x=P}return x!==0&&(C.words[C.length++]=x),C},s._prime=function(C){if(_[C])return _[C];var x;if(C==="k256")x=new S;else if(C==="p224")x=new R;else if(C==="p192")x=new I;else if(C==="p25519")x=new D;else throw new Error("Unknown prime "+C);return _[C]=x,x};function j(M){if(typeof M=="string"){var C=s._prime(M);this.m=C.p,this.prime=C}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}j.prototype._verify1=function(C){r(C.negative===0,"red works only with positives"),r(C.red,"red works only with red numbers")},j.prototype._verify2=function(C,x){r((C.negative|x.negative)===0,"red works only with positives"),r(C.red&&C.red===x.red,"red works only with red numbers")},j.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(u(C,C.umod(this.m)._forceRed(this)),C)},j.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},j.prototype.add=function(C,x){this._verify2(C,x);var A=C.add(x);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},j.prototype.iadd=function(C,x){this._verify2(C,x);var A=C.iadd(x);return A.cmp(this.m)>=0&&A.isub(this.m),A},j.prototype.sub=function(C,x){this._verify2(C,x);var A=C.sub(x);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},j.prototype.isub=function(C,x){this._verify2(C,x);var A=C.isub(x);return A.cmpn(0)<0&&A.iadd(this.m),A},j.prototype.shl=function(C,x){return this._verify1(C),this.imod(C.ushln(x))},j.prototype.imul=function(C,x){return this._verify2(C,x),this.imod(C.imul(x))},j.prototype.mul=function(C,x){return this._verify2(C,x),this.imod(C.mul(x))},j.prototype.isqr=function(C){return this.imul(C,C.clone())},j.prototype.sqr=function(C){return this.mul(C,C)},j.prototype.sqrt=function(C){if(C.isZero())return C.clone();var x=this.m.andln(3);if(r(x%2===1),x===3){var A=this.m.add(new s(1)).iushrn(2);return this.pow(C,A)}for(var P=this.m.subn(1),N=0;!P.isZero()&&P.andln(1)===0;)N++,P.iushrn(1);r(!P.isZero());var $=new s(1).toRed(this),L=$.redNeg(),B=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new s(2*T*T).toRed(this);this.pow(T,B).cmp(L)!==0;)T.redIAdd(L);for(var z=this.pow(T,P),q=this.pow(C,P.addn(1).iushrn(1)),U=this.pow(C,P),V=N;U.cmp($)!==0;){for(var Z=U,K=0;Z.cmp($)!==0;K++)Z=Z.redSqr();r(K<V);var J=this.pow(z,new s(1).iushln(V-K-1));q=q.redMul(J),z=J.redSqr(),U=U.redMul(z),V=K}return q},j.prototype.invm=function(C){var x=C._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},j.prototype.pow=function(C,x){if(x.isZero())return new s(1).toRed(this);if(x.cmpn(1)===0)return C.clone();var A=4,P=new Array(1<<A);P[0]=new s(1).toRed(this),P[1]=C;for(var N=2;N<P.length;N++)P[N]=this.mul(P[N-1],C);var $=P[0],L=0,B=0,T=x.bitLength()%26;for(T===0&&(T=26),N=x.length-1;N>=0;N--){for(var z=x.words[N],q=T-1;q>=0;q--){var U=z>>q&1;if($!==P[0]&&($=this.sqr($)),U===0&&L===0){B=0;continue}L<<=1,L|=U,B++,!(B!==A&&(N!==0||q!==0))&&($=this.mul($,P[L]),B=0,L=0)}T=26}return $},j.prototype.convertTo=function(C){var x=C.umod(this.m);return x===C?x.clone():x},j.prototype.convertFrom=function(C){var x=C.clone();return x.red=null,x},s.mont=function(C){return new F(C)};function F(M){j.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(F,j),F.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},F.prototype.convertFrom=function(C){var x=this.imod(C.mul(this.rinv));return x.red=null,x},F.prototype.imul=function(C,x){if(C.isZero()||x.isZero())return C.words[0]=0,C.length=1,C;var A=C.imul(x),P=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=A.isub(P).iushrn(this.shift),$=N;return N.cmp(this.m)>=0?$=N.isub(this.m):N.cmpn(0)<0&&($=N.iadd(this.m)),$._forceRed(this)},F.prototype.mul=function(C,x){if(C.isZero()||x.isZero())return new s(0)._forceRed(this);var A=C.mul(x),P=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=A.isub(P).iushrn(this.shift),$=N;return N.cmp(this.m)>=0?$=N.isub(this.m):N.cmpn(0)<0&&($=N.iadd(this.m)),$._forceRed(this)},F.prototype.invm=function(C){var x=this.imod(C._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(t,Ea)}(CM);var cDe=CM.exports;const Vt=Vo(cDe),lDe="bytes/5.8.0",hi=new be(lDe);function zne(t){return!!t.toHexString}function qw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return qw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function _M(t){return vr(t)&&!(t.length%2)||Hw(t)}function Wne(t){return typeof t=="number"&&t==t&&t%1===0}function Hw(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Wne(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!Wne(n)||n<0||n>=256)return!1}return!0}function sn(t,e){if(e||(e={}),typeof t=="number"){hi.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),qw(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),zne(t)&&(t=t.toHexString()),vr(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":hi.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return qw(new Uint8Array(r))}return Hw(t)?qw(new Uint8Array(t)):hi.throwArgumentError("invalid arrayify value","value",t)}function jm(t){const e=t.map(i=>sn(i)),n=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(n);return e.reduce((i,s)=>(r.set(s,i),i+s.length),0),qw(r)}function Vw(t){let e=sn(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function uDe(t,e){t=sn(t),t.length>e&&hi.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),qw(n)}function vr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const AM="0123456789abcdef";function on(t,e){if(e||(e={}),typeof t=="number"){hi.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=AM[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),zne(t))return t.toHexString();if(vr(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":hi.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Hw(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=AM[(i&240)>>4]+AM[i&15]}return n}return hi.throwArgumentError("invalid hexlify value","value",t)}function Dm(t){if(typeof t!="string")t=on(t);else if(!vr(t)||t.length%2)return null;return(t.length-2)/2}function na(t,e,n){return typeof t!="string"?t=on(t):(!vr(t)||t.length%2)&&hi.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function Mc(t){let e="0x";return t.forEach(n=>{e+=on(n).substring(2)}),e}function SM(t){const e=dDe(on(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function dDe(t){typeof t!="string"&&(t=on(t)),vr(t)||hi.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function fi(t,e){for(typeof t!="string"?t=on(t):vr(t)||hi.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&hi.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function _7(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(_M(t)){let n=sn(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=on(n.slice(0,32)),e.s=on(n.slice(32,64))):n.length===65?(e.r=on(n.slice(0,32)),e.s=on(n.slice(32,64)),e.v=n[64]):hi.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:hi.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=on(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=uDe(sn(e._vs),32);e._vs=on(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&hi.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=on(i);e.s==null?e.s=o:e.s!==o&&hi.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?hi.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&hi.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!vr(e.r)?hi.throwArgumentError("signature missing or invalid r","signature",t):e.r=fi(e.r,32),e.s==null||!vr(e.s)?hi.throwArgumentError("signature missing or invalid s","signature",t):e.s=fi(e.s,32);const n=sn(e.s);n[0]>=128&&hi.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=on(n);e._vs&&(vr(e._vs)||hi.throwArgumentError("signature invalid _vs","signature",t),e._vs=fi(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&hi.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const qne="bignumber/5.8.0";var A7=Vt.BN;const xf=new be(qne),IM={},Hne=9007199254740991;function hDe(t){return t!=null&&(et.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||vr(t)||typeof t=="bigint"||Hw(t))}let Vne=!1;class et{constructor(e,n){e!==IM&&xf.throwError("cannot call constructor directly; use BigNumber.from",be.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ba(wn(this).fromTwos(e))}toTwos(e){return Ba(wn(this).toTwos(e))}abs(){return this._hex[0]==="-"?et.from(this._hex.substring(1)):this}add(e){return Ba(wn(this).add(wn(e)))}sub(e){return Ba(wn(this).sub(wn(e)))}div(e){return et.from(e).isZero()&&Nl("division-by-zero","div"),Ba(wn(this).div(wn(e)))}mul(e){return Ba(wn(this).mul(wn(e)))}mod(e){const n=wn(e);return n.isNeg()&&Nl("division-by-zero","mod"),Ba(wn(this).umod(n))}pow(e){const n=wn(e);return n.isNeg()&&Nl("negative-power","pow"),Ba(wn(this).pow(n))}and(e){const n=wn(e);return(this.isNegative()||n.isNeg())&&Nl("unbound-bitwise-result","and"),Ba(wn(this).and(n))}or(e){const n=wn(e);return(this.isNegative()||n.isNeg())&&Nl("unbound-bitwise-result","or"),Ba(wn(this).or(n))}xor(e){const n=wn(e);return(this.isNegative()||n.isNeg())&&Nl("unbound-bitwise-result","xor"),Ba(wn(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&Nl("negative-width","mask"),Ba(wn(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Nl("negative-width","shl"),Ba(wn(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Nl("negative-width","shr"),Ba(wn(this).shrn(e))}eq(e){return wn(this).eq(wn(e))}lt(e){return wn(this).lt(wn(e))}lte(e){return wn(this).lte(wn(e))}gt(e){return wn(this).gt(wn(e))}gte(e){return wn(this).gte(wn(e))}isNegative(){return this._hex[0]==="-"}isZero(){return wn(this).isZero()}toNumber(){try{return wn(this).toNumber()}catch{Nl("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return xf.throwError("this platform does not support BigInt",be.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Vne||(Vne=!0,xf.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?xf.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",be.errors.UNEXPECTED_ARGUMENT,{}):xf.throwError("BigNumber.toString does not accept parameters",be.errors.UNEXPECTED_ARGUMENT,{})),wn(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof et)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new et(IM,N6(e)):e.match(/^-?[0-9]+$/)?new et(IM,N6(new A7(e))):xf.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Nl("underflow","BigNumber.from",e),(e>=Hne||e<=-Hne)&&Nl("overflow","BigNumber.from",e),et.from(String(e));const n=e;if(typeof n=="bigint")return et.from(n.toString());if(Hw(n))return et.from(on(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return et.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(vr(r)||r[0]==="-"&&vr(r.substring(1))))return et.from(r)}return xf.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function N6(t){if(typeof t!="string")return N6(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&xf.throwArgumentError("invalid hex","value",t),t=N6(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Ba(t){return et.from(N6(t))}function wn(t){const e=et.from(t).toHexString();return e[0]==="-"?new A7("-"+e.substring(3),16):new A7(e.substring(2),16)}function Nl(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),xf.throwError(t,be.errors.NUMERIC_FAULT,r)}function fDe(t){return new A7(t,36).toString(16)}const ra=new be(qne),O6={},Kne=et.from(0),Gne=et.from(-1);function Zne(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),ra.throwError(t,be.errors.NUMERIC_FAULT,i)}let R6="0";for(;R6.length<256;)R6+=R6;function kM(t){if(typeof t!="number")try{t=et.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+R6.substring(0,t):ra.throwArgumentError("invalid decimal size","decimals",t)}function $M(t,e){e==null&&(e=0);const n=kM(e);t=et.from(t);const r=t.lt(Kne);r&&(t=t.mul(Gne));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(n).toString();return n.length===1?t=s:t=s+"."+i,r&&(t="-"+t),t}function Wd(t,e){e==null&&(e=0);const n=kM(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&ra.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&ra.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&ra.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>n.length-1&&Zne("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<n.length-1;)o+="0";const a=et.from(s),c=et.from(o);let l=a.mul(n).add(c);return r&&(l=l.mul(Gne)),l}class Kw{constructor(e,n,r,i){e!==O6&&ra.throwError("cannot use FixedFormat constructor; use FixedFormat.from",be.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=kM(i),Object.freeze(this)}static from(e){if(e instanceof Kw)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||ra.throwArgumentError("invalid fixed format","format",e),n=s[1]!=="u",r=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&ra.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);n=s("signed","boolean",n),r=s("width","number",r),i=s("decimals","number",i)}return r%8&&ra.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&ra.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Kw(O6,n,r,i)}}class Us{constructor(e,n,r,i){e!==O6&&ra.throwError("cannot use FixedNumber constructor; use FixedNumber.from",be.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&ra.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=Wd(this._value,this.format.decimals),r=Wd(e._value,e.format.decimals);return Us.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=Wd(this._value,this.format.decimals),r=Wd(e._value,e.format.decimals);return Us.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=Wd(this._value,this.format.decimals),r=Wd(e._value,e.format.decimals);return Us.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=Wd(this._value,this.format.decimals),r=Wd(e._value,e.format.decimals);return Us.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Us.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(Yne.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Us.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(Yne.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&ra.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=Us.from("1"+R6.substring(0,e),this.format),i=pDe.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&ra.throwArgumentError("invalid byte width","width",e);const n=et.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return fi(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Us.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!hDe(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),Us.fromString($M(e,n),Kw.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=Kw.from(n),i=Wd(e,r.decimals);!r.signed&&i.lt(Kne)&&Zne("unsigned value cannot be negative","overflow","value",e);let s=null;r.signed?s=i.toTwos(r.width).toHexString():(s=i.toHexString(),s=fi(s,r.width/8));const o=$M(i,r.decimals);return new Us(O6,s,o,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=Kw.from(n);if(sn(e).length>r.width/8)throw new Error("overflow");let i=et.from(e);r.signed&&(i=i.fromTwos(r.width));const s=i.toTwos((r.signed?0:1)+r.width).toHexString(),o=$M(i,r.decimals);return new Us(O6,s,o,r)}static from(e,n){if(typeof e=="string")return Us.fromString(e,n);if(Hw(e))return Us.fromBytes(e,n);try{return Us.fromValue(e,0,n)}catch(r){if(r.code!==be.errors.INVALID_ARGUMENT)throw r}return ra.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const Yne=Us.from(1),pDe=Us.from("0.5"),gDe="abstract-provider/5.8.0";var mDe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const yDe=new be(gDe);class wDe extends rDe{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class TM{constructor(){yDe.checkAbstract(new.target,TM),yn(this,"_isProvider",!0)}getFeeData(){return mDe(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield Bs({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let r=null,i=null,s=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,s=et.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}}const vDe="networks/5.8.0",Jne=new be(vDe);function bDe(t){return t&&typeof t.renetwork=="function"}function Du(t){const e=function(n,r){r==null&&(r={});const i=[];if(n.InfuraProvider&&r.infura!=="-")try{i.push(new n.InfuraProvider(t,r.infura))}catch{}if(n.EtherscanProvider&&r.etherscan!=="-")try{i.push(new n.EtherscanProvider(t,r.etherscan))}catch{}if(n.AlchemyProvider&&r.alchemy!=="-")try{i.push(new n.AlchemyProvider(t,r.alchemy))}catch{}if(n.PocketProvider&&r.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new n.PocketProvider(t,r.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(n.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&r.ankr!=="-")try{const s=["ropsten"],o=new n.AnkrProvider(t,r.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(n.QuickNodeProvider&&r.quicknode!=="-")try{i.push(new n.QuickNodeProvider(t,r.quicknode))}catch{}if(i.length===0)return null;if(n.FallbackProvider){let s=1;return r.quorum!=null?s=r.quorum:t==="homestead"&&(s=2),new n.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(n){return Du(n)},e}function S7(t,e){const n=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return n.renetwork=function(r){return S7(t,r)},n}const Qne={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Du("homestead")},Xne={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Du("ropsten")},ere={chainId:63,name:"classicMordor",_defaultProvider:S7("https://www.ethercluster.com/mordor","classicMordor")},I7={unspecified:{chainId:0,name:"unspecified"},homestead:Qne,mainnet:Qne,morden:{chainId:2,name:"morden"},ropsten:Xne,testnet:Xne,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Du("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Du("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Du("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Du("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Du("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:S7("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:ere,classicTestnet:ere,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:S7("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Du("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Du("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Du("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function xDe(t){if(t==null)return null;if(typeof t=="number"){for(const r in I7){const i=I7[r];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const r=I7[t];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=I7[t.name];if(!e)return typeof t.chainId!="number"&&Jne.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&Jne.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(bDe(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}function tre(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return sn(e)}function nre(t){t=sn(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}class rre{constructor(e){yn(this,"alphabet",e),yn(this,"base",e.length),yn(this,"_alphabetMap",{}),yn(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=sn(e);if(n.length===0)return"";let r=[0];for(let s=0;s<n.length;++s){let o=n[s];for(let a=0;a<r.length;++a)o+=r[a]<<8,r[a]=o%this.base,o=o/this.base|0;for(;o>0;)r.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;n[s]===0&&s<n.length-1;++s)i+=this._leader;for(let s=r.length-1;s>=0;--s)i+=this.alphabet[r[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<n.length;++o)s+=n[o]*this.base,n[o]=s&255,s>>=8;for(;s>0;)n.push(s&255),s>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)n.push(0);return sn(new Uint8Array(n.reverse()))}}new rre("abcdefghijklmnopqrstuvwxyz234567");const PM=new rre("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),EDe="0x0000000000000000000000000000000000000000",CDe=et.from(0),_De="0x0000000000000000000000000000000000000000000000000000000000000000";var ire={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Ea:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],h=[1,256,65536,16777216],f=[6,1536,393216,100663296],g=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],w=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(U){return Object.prototype.toString.call(U)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(U){return typeof U=="object"&&U.buffer&&U.buffer.constructor===ArrayBuffer});for(var E=function(U,V,Z){return function(K){return new T(U,V,U).update(K)[Z]()}},_=function(U,V,Z){return function(K,J){return new T(U,V,J).update(K)[Z]()}},O=function(U,V,Z){return function(K,J,oe,se){return C["cshake"+U].update(K,J,oe,se)[Z]()}},S=function(U,V,Z){return function(K,J,oe,se){return C["kmac"+U].update(K,J,oe,se)[Z]()}},R=function(U,V,Z,K){for(var J=0;J<b.length;++J){var oe=b[J];U[oe]=V(Z,K,oe)}return U},I=function(U,V){var Z=E(U,V,"hex");return Z.create=function(){return new T(U,V,U)},Z.update=function(K){return Z.create().update(K)},R(Z,E,U,V)},D=function(U,V){var Z=_(U,V,"hex");return Z.create=function(K){return new T(U,V,K)},Z.update=function(K,J){return Z.create(J).update(K)},R(Z,_,U,V)},j=function(U,V){var Z=v[U],K=O(U,V,"hex");return K.create=function(J,oe,se){return!oe&&!se?C["shake"+U].create(J):new T(U,V,J).bytepad([oe,se],Z)},K.update=function(J,oe,se,ae){return K.create(oe,se,ae).update(J)},R(K,O,U,V)},F=function(U,V){var Z=v[U],K=S(U,V,"hex");return K.create=function(J,oe,se){return new z(U,V,oe).bytepad(["KMAC",se],Z).bytepad([J],Z)},K.update=function(J,oe,se,ae){return K.create(J,se,ae).update(oe)},R(K,S,U,V)},M=[{name:"keccak",padding:h,bits:y,createMethod:I},{name:"sha3",padding:f,bits:y,createMethod:I},{name:"shake",padding:u,bits:w,createMethod:D},{name:"cshake",padding:d,bits:w,createMethod:j},{name:"kmac",padding:d,bits:w,createMethod:F}],C={},x=[],A=0;A<M.length;++A)for(var P=M[A],N=P.bits,$=0;$<N.length;++$){var L=P.name+"_"+N[$];if(x.push(L),C[L]=P.createMethod(N[$],P.padding),P.name!=="sha3"){var B=P.name+N[$];x.push(B),C[B]=C[L]}}function T(U,V,Z){this.blocks=[],this.s=[],this.padding=V,this.outputBits=Z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(U<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Z>>5,this.extraBytes=(Z&31)>>3;for(var K=0;K<50;++K)this.s[K]=0}T.prototype.update=function(U){if(this.finalized)throw new Error(n);var V,Z=typeof U;if(Z!=="string"){if(Z==="object"){if(U===null)throw new Error(e);if(c&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!c||!ArrayBuffer.isView(U)))throw new Error(e)}else throw new Error(e);V=!0}for(var K=this.blocks,J=this.byteCount,oe=U.length,se=this.blockCount,ae=0,fe=this.s,ce,de;ae<oe;){if(this.reset)for(this.reset=!1,K[0]=this.block,ce=1;ce<se+1;++ce)K[ce]=0;if(V)for(ce=this.start;ae<oe&&ce<J;++ae)K[ce>>2]|=U[ae]<<g[ce++&3];else for(ce=this.start;ae<oe&&ce<J;++ae)de=U.charCodeAt(ae),de<128?K[ce>>2]|=de<<g[ce++&3]:de<2048?(K[ce>>2]|=(192|de>>6)<<g[ce++&3],K[ce>>2]|=(128|de&63)<<g[ce++&3]):de<55296||de>=57344?(K[ce>>2]|=(224|de>>12)<<g[ce++&3],K[ce>>2]|=(128|de>>6&63)<<g[ce++&3],K[ce>>2]|=(128|de&63)<<g[ce++&3]):(de=65536+((de&1023)<<10|U.charCodeAt(++ae)&1023),K[ce>>2]|=(240|de>>18)<<g[ce++&3],K[ce>>2]|=(128|de>>12&63)<<g[ce++&3],K[ce>>2]|=(128|de>>6&63)<<g[ce++&3],K[ce>>2]|=(128|de&63)<<g[ce++&3]);if(this.lastByteIndex=ce,ce>=J){for(this.start=ce-J,this.block=K[se],ce=0;ce<se;++ce)fe[ce]^=K[ce];q(fe),this.reset=!0}else this.start=ce}return this},T.prototype.encode=function(U,V){var Z=U&255,K=1,J=[Z];for(U=U>>8,Z=U&255;Z>0;)J.unshift(Z),U=U>>8,Z=U&255,++K;return V?J.push(K):J.unshift(K),this.update(J),J.length},T.prototype.encodeString=function(U){var V,Z=typeof U;if(Z!=="string"){if(Z==="object"){if(U===null)throw new Error(e);if(c&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!c||!ArrayBuffer.isView(U)))throw new Error(e)}else throw new Error(e);V=!0}var K=0,J=U.length;if(V)K=J;else for(var oe=0;oe<U.length;++oe){var se=U.charCodeAt(oe);se<128?K+=1:se<2048?K+=2:se<55296||se>=57344?K+=3:(se=65536+((se&1023)<<10|U.charCodeAt(++oe)&1023),K+=4)}return K+=this.encode(K*8),this.update(U),K},T.prototype.bytepad=function(U,V){for(var Z=this.encode(V),K=0;K<U.length;++K)Z+=this.encodeString(U[K]);var J=V-Z%V,oe=[];return oe.length=J,this.update(oe),this},T.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var U=this.blocks,V=this.lastByteIndex,Z=this.blockCount,K=this.s;if(U[V>>2]|=this.padding[V&3],this.lastByteIndex===this.byteCount)for(U[0]=U[Z],V=1;V<Z+1;++V)U[V]=0;for(U[Z-1]|=2147483648,V=0;V<Z;++V)K[V]^=U[V];q(K)}},T.prototype.toString=T.prototype.hex=function(){this.finalize();for(var U=this.blockCount,V=this.s,Z=this.outputBlocks,K=this.extraBytes,J=0,oe=0,se="",ae;oe<Z;){for(J=0;J<U&&oe<Z;++J,++oe)ae=V[J],se+=l[ae>>4&15]+l[ae&15]+l[ae>>12&15]+l[ae>>8&15]+l[ae>>20&15]+l[ae>>16&15]+l[ae>>28&15]+l[ae>>24&15];oe%U===0&&(q(V),J=0)}return K&&(ae=V[J],se+=l[ae>>4&15]+l[ae&15],K>1&&(se+=l[ae>>12&15]+l[ae>>8&15]),K>2&&(se+=l[ae>>20&15]+l[ae>>16&15])),se},T.prototype.arrayBuffer=function(){this.finalize();var U=this.blockCount,V=this.s,Z=this.outputBlocks,K=this.extraBytes,J=0,oe=0,se=this.outputBits>>3,ae;K?ae=new ArrayBuffer(Z+1<<2):ae=new ArrayBuffer(se);for(var fe=new Uint32Array(ae);oe<Z;){for(J=0;J<U&&oe<Z;++J,++oe)fe[oe]=V[J];oe%U===0&&q(V)}return K&&(fe[J]=V[J],ae=ae.slice(0,se)),ae},T.prototype.buffer=T.prototype.arrayBuffer,T.prototype.digest=T.prototype.array=function(){this.finalize();for(var U=this.blockCount,V=this.s,Z=this.outputBlocks,K=this.extraBytes,J=0,oe=0,se=[],ae,fe;oe<Z;){for(J=0;J<U&&oe<Z;++J,++oe)ae=oe<<2,fe=V[J],se[ae]=fe&255,se[ae+1]=fe>>8&255,se[ae+2]=fe>>16&255,se[ae+3]=fe>>24&255;oe%U===0&&q(V)}return K&&(ae=oe<<2,fe=V[J],se[ae]=fe&255,K>1&&(se[ae+1]=fe>>8&255),K>2&&(se[ae+2]=fe>>16&255)),se};function z(U,V,Z){T.call(this,U,V,Z)}z.prototype=new T,z.prototype.finalize=function(){return this.encode(this.outputBits,!0),T.prototype.finalize.call(this)};var q=function(U){var V,Z,K,J,oe,se,ae,fe,ce,de,ot,he,Ae,_e,ge,Ee,Wt,ye,je,Ye,bt,ft,Xt,Ot,At,Oe,Le,we,lt,St,ht,It,Ue,Nt,Kt,qt,tt,Dr,ut,mn,xa,jn,Pn,W,H,Y,Q,te,ie,xe,ve,nt,Ht,Ie,Ze,kt,Xe,Se,Mt,Jt,pn,kn,Nn;for(K=0;K<48;K+=2)J=U[0]^U[10]^U[20]^U[30]^U[40],oe=U[1]^U[11]^U[21]^U[31]^U[41],se=U[2]^U[12]^U[22]^U[32]^U[42],ae=U[3]^U[13]^U[23]^U[33]^U[43],fe=U[4]^U[14]^U[24]^U[34]^U[44],ce=U[5]^U[15]^U[25]^U[35]^U[45],de=U[6]^U[16]^U[26]^U[36]^U[46],ot=U[7]^U[17]^U[27]^U[37]^U[47],he=U[8]^U[18]^U[28]^U[38]^U[48],Ae=U[9]^U[19]^U[29]^U[39]^U[49],V=he^(se<<1|ae>>>31),Z=Ae^(ae<<1|se>>>31),U[0]^=V,U[1]^=Z,U[10]^=V,U[11]^=Z,U[20]^=V,U[21]^=Z,U[30]^=V,U[31]^=Z,U[40]^=V,U[41]^=Z,V=J^(fe<<1|ce>>>31),Z=oe^(ce<<1|fe>>>31),U[2]^=V,U[3]^=Z,U[12]^=V,U[13]^=Z,U[22]^=V,U[23]^=Z,U[32]^=V,U[33]^=Z,U[42]^=V,U[43]^=Z,V=se^(de<<1|ot>>>31),Z=ae^(ot<<1|de>>>31),U[4]^=V,U[5]^=Z,U[14]^=V,U[15]^=Z,U[24]^=V,U[25]^=Z,U[34]^=V,U[35]^=Z,U[44]^=V,U[45]^=Z,V=fe^(he<<1|Ae>>>31),Z=ce^(Ae<<1|he>>>31),U[6]^=V,U[7]^=Z,U[16]^=V,U[17]^=Z,U[26]^=V,U[27]^=Z,U[36]^=V,U[37]^=Z,U[46]^=V,U[47]^=Z,V=de^(J<<1|oe>>>31),Z=ot^(oe<<1|J>>>31),U[8]^=V,U[9]^=Z,U[18]^=V,U[19]^=Z,U[28]^=V,U[29]^=Z,U[38]^=V,U[39]^=Z,U[48]^=V,U[49]^=Z,_e=U[0],ge=U[1],Y=U[11]<<4|U[10]>>>28,Q=U[10]<<4|U[11]>>>28,we=U[20]<<3|U[21]>>>29,lt=U[21]<<3|U[20]>>>29,Jt=U[31]<<9|U[30]>>>23,pn=U[30]<<9|U[31]>>>23,jn=U[40]<<18|U[41]>>>14,Pn=U[41]<<18|U[40]>>>14,Nt=U[2]<<1|U[3]>>>31,Kt=U[3]<<1|U[2]>>>31,Ee=U[13]<<12|U[12]>>>20,Wt=U[12]<<12|U[13]>>>20,te=U[22]<<10|U[23]>>>22,ie=U[23]<<10|U[22]>>>22,St=U[33]<<13|U[32]>>>19,ht=U[32]<<13|U[33]>>>19,kn=U[42]<<2|U[43]>>>30,Nn=U[43]<<2|U[42]>>>30,Ie=U[5]<<30|U[4]>>>2,Ze=U[4]<<30|U[5]>>>2,qt=U[14]<<6|U[15]>>>26,tt=U[15]<<6|U[14]>>>26,ye=U[25]<<11|U[24]>>>21,je=U[24]<<11|U[25]>>>21,xe=U[34]<<15|U[35]>>>17,ve=U[35]<<15|U[34]>>>17,It=U[45]<<29|U[44]>>>3,Ue=U[44]<<29|U[45]>>>3,Ot=U[6]<<28|U[7]>>>4,At=U[7]<<28|U[6]>>>4,kt=U[17]<<23|U[16]>>>9,Xe=U[16]<<23|U[17]>>>9,Dr=U[26]<<25|U[27]>>>7,ut=U[27]<<25|U[26]>>>7,Ye=U[36]<<21|U[37]>>>11,bt=U[37]<<21|U[36]>>>11,nt=U[47]<<24|U[46]>>>8,Ht=U[46]<<24|U[47]>>>8,W=U[8]<<27|U[9]>>>5,H=U[9]<<27|U[8]>>>5,Oe=U[18]<<20|U[19]>>>12,Le=U[19]<<20|U[18]>>>12,Se=U[29]<<7|U[28]>>>25,Mt=U[28]<<7|U[29]>>>25,mn=U[38]<<8|U[39]>>>24,xa=U[39]<<8|U[38]>>>24,ft=U[48]<<14|U[49]>>>18,Xt=U[49]<<14|U[48]>>>18,U[0]=_e^~Ee&ye,U[1]=ge^~Wt&je,U[10]=Ot^~Oe&we,U[11]=At^~Le&lt,U[20]=Nt^~qt&Dr,U[21]=Kt^~tt&ut,U[30]=W^~Y&te,U[31]=H^~Q&ie,U[40]=Ie^~kt&Se,U[41]=Ze^~Xe&Mt,U[2]=Ee^~ye&Ye,U[3]=Wt^~je&bt,U[12]=Oe^~we&St,U[13]=Le^~lt&ht,U[22]=qt^~Dr&mn,U[23]=tt^~ut&xa,U[32]=Y^~te&xe,U[33]=Q^~ie&ve,U[42]=kt^~Se&Jt,U[43]=Xe^~Mt&pn,U[4]=ye^~Ye&ft,U[5]=je^~bt&Xt,U[14]=we^~St&It,U[15]=lt^~ht&Ue,U[24]=Dr^~mn&jn,U[25]=ut^~xa&Pn,U[34]=te^~xe&nt,U[35]=ie^~ve&Ht,U[44]=Se^~Jt&kn,U[45]=Mt^~pn&Nn,U[6]=Ye^~ft&_e,U[7]=bt^~Xt&ge,U[16]=St^~It&Ot,U[17]=ht^~Ue&At,U[26]=mn^~jn&Nt,U[27]=xa^~Pn&Kt,U[36]=xe^~nt&W,U[37]=ve^~Ht&H,U[46]=Jt^~kn&Ie,U[47]=pn^~Nn&Ze,U[8]=ft^~_e&Ee,U[9]=Xt^~ge&Wt,U[18]=It^~Ot&Oe,U[19]=Ue^~At&Le,U[28]=jn^~Nt&qt,U[29]=Pn^~Kt&tt,U[38]=nt^~W&Y,U[39]=Ht^~H&Q,U[48]=kn^~Ie&kt,U[49]=Nn^~Ze&Xe,U[0]^=m[K],U[1]^=m[K+1]};if(a)t.exports=C;else for(A=0;A<x.length;++A)i[x[A]]=C[x[A]]})()})(ire);var ADe=ire.exports;const SDe=Vo(ADe);function Fs(t){return"0x"+SDe.keccak_256(sn(t))}const IDe="strings/5.8.0",sre=new be(IDe);var M6;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(M6||(M6={}));var jc;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(jc||(jc={}));function kDe(t,e,n,r,i){return sre.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function ore(t,e,n,r,i){if(t===jc.BAD_PREFIX||t===jc.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t===jc.OVERRUN?n.length-e-1:0}function $De(t,e,n,r,i){return t===jc.OVERLONG?(r.push(i),0):(r.push(65533),ore(t,e,n))}const TDe=Object.freeze({error:kDe,ignore:ore,replace:$De});function are(t,e){e==null&&(e=TDe.error),t=sn(t);const n=[];let r=0;for(;r<t.length;){const i=t[r++];if(!(i>>7)){n.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?r+=e(jc.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(jc.BAD_PREFIX,r-1,t,n);continue}if(r-1+s>=t.length){r+=e(jc.OVERRUN,r-1,t,n);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[r];if((l&192)!=128){r+=e(jc.MISSING_CONTINUE,r,t,n),a=null;break}a=a<<6|l&63,r++}if(a!==null){if(a>1114111){r+=e(jc.OUT_OF_RANGE,r-1-s,t,n,a);continue}if(a>=55296&&a<=57343){r+=e(jc.UTF16_SURROGATE,r-1-s,t,n,a);continue}if(a<=o){r+=e(jc.OVERLONG,r-1-s,t,n,a);continue}n.push(a)}}return n}function Ef(t,e=M6.current){e!=M6.current&&(sre.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);if(r>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return sn(n)}function PDe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function k7(t,e){return PDe(are(t,e))}function NDe(t,e=M6.current){return are(Ef(t,e))}function cre(t){return Fs(Ef(t))}const lre="hash/5.8.0";function ure(t,e){e==null&&(e=1);const n=[],r=n.forEach,i=function(s,o){r.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):n.push(a)})};return i(t,e),n}function ODe(t){const e={};for(let n=0;n<t.length;n++){const r=t[n];e[r[0]]=r[1]}return e}function RDe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let _=1;_<r;_++)s.push(i+=n());let o=n(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const d=31,h=Math.pow(2,d),f=h>>>1,g=f>>1,m=h-1;let y=0;for(let _=0;_<d;_++)y=y<<1|u();let w=[],b=0,v=h;for(;;){let _=Math.floor(((y-b+1)*i-1)/v),O=0,S=r;for(;S-O>1;){let D=O+S>>>1;_<s[D]?S=D:O=D}if(O==0)break;w.push(O);let R=b+Math.floor(v*s[O]/i),I=b+Math.floor(v*s[O+1]/i)-1;for(;!((R^I)&f);)y=y<<1&m|u(),R=R<<1&m,I=I<<1&m|1;for(;R&~I&g;)y=y&f|y<<1&m>>>1|u(),R=R<<1^f,I=(I^f)<<1|f|1;b=R,v=1+I-R}let E=r-4;return w.map(_=>{switch(_-E){case 3:return E+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return E+256+(t[a++]<<8|t[a++]);case 1:return E+t[a++];default:return _-1}})}function MDe(t){let e=0;return()=>t[e++]}function jDe(t){return MDe(RDe(t))}function DDe(t){return t&1?~t>>1:t>>1}function LDe(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=1+e();return n}function dre(t,e){let n=Array(t);for(let r=0,i=-1;r<t;r++)n[r]=i+=1+e();return n}function BDe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=DDe(e());return n}function $7(t,e){let n=dre(t(),t),r=t(),i=dre(r,t),s=LDe(r,t);for(let o=0;o<r;o++)for(let a=0;a<s[o];a++)n.push(i[o]+a);return e?n.map(o=>e[o]):n}function UDe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(zDe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(WDe(n,t))}return ODe(ure(e))}function FDe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function hre(t,e,n){let r=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)BDe(t,n).forEach((s,o)=>r[o].push(s));return r}function zDe(t,e){let n=1+e(),r=e(),i=FDe(e),s=hre(i.length,1+t,e);return ure(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,d)=>{let h=d*r;return[c+d*n,l.map(f=>f+h)]})}))}function WDe(t,e){let n=1+e();return hre(n,1+t,e).map(i=>[i[0],i.slice(1)])}function qDe(t){let e=$7(t).sort((r,i)=>r-i);return n();function n(){let r=[];for(;;){let l=$7(t,e);if(l.length==0)break;r.push({set:new Set(l),node:n()})}r.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:r,valid:s,fe0f:o,save:a,check:c}}}function HDe(){return jDe(tre("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const T7=HDe(),VDe=new Set($7(T7)),KDe=new Set($7(T7)),GDe=UDe(T7),ZDe=qDe(T7),fre=45,pre=95;function gre(t){return NDe(t)}function YDe(t){return t.filter(e=>e!=65039)}function mre(t){for(let e of t.split(".")){let n=gre(e);try{for(let r=n.lastIndexOf(pre)-1;r>=0;r--)if(n[r]!==pre)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(r=>r<128)&&n[2]===fre&&n[3]===fre)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return t}function JDe(t){return mre(QDe(t,YDe))}function QDe(t,e){let n=gre(t).reverse(),r=[];for(;n.length;){let i=eLe(n);if(i){r.push(...e(i));continue}let s=n.pop();if(VDe.has(s)){r.push(s);continue}if(KDe.has(s))continue;let o=GDe[s];if(o){r.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return mre(XDe(String.fromCodePoint(...r)))}function XDe(t){return t.normalize("NFC")}function eLe(t,e){var n;let r=ZDe,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(r=(n=r.branches.find(l=>l.set.has(c)))===null||n===void 0?void 0:n.node,!r)break;if(r.save)s=c;else if(r.check&&c===s)break;o.push(c),r.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),r.valid&&(i=o.slice(),r.valid==2&&i.splice(1,1),t.length=a)}return i}const tLe=new be(lre),yre=new Uint8Array(32);yre.fill(0);function wre(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function vre(t){const e=Ef(JDe(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(wre(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return n.push(wre(e.slice(r))),n}function P7(t){typeof t!="string"&&tLe.throwArgumentError("invalid ENS name; not a string","name",t);let e=yre;const n=vre(t);for(;n.length;)e=Fs(jm([e,Fs(n.pop())]));return on(e)}function nLe(t){return on(jm(vre(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}const rLe="rlp/5.8.0",qd=new be(rLe);function bre(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function xre(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function Ere(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(Ere(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=bre(r.length);return i.unshift(247+i.length),i.concat(r)}_M(t)||qd.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(sn(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=bre(e.length);return n.unshift(183+n.length),n.concat(e)}function N7(t){return on(Ere(t))}function Cre(t,e,n,r){const i=[];for(;n<e+1+r;){const s=_re(t,n);i.push(s.result),n+=s.consumed,n>e+1+r&&qd.throwError("child data too short",be.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function _re(t,e){if(t.length===0&&qd.throwError("data too short",be.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&qd.throwError("data short segment too short",be.errors.BUFFER_OVERRUN,{});const r=xre(t,e+1,n);return e+1+n+r>t.length&&qd.throwError("data long segment too short",be.errors.BUFFER_OVERRUN,{}),Cre(t,e,e+1+n,n+r)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&qd.throwError("data array too short",be.errors.BUFFER_OVERRUN,{}),Cre(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&qd.throwError("data array too short",be.errors.BUFFER_OVERRUN,{});const r=xre(t,e+1,n);e+1+n+r>t.length&&qd.throwError("data array too short",be.errors.BUFFER_OVERRUN,{});const i=on(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:i}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&qd.throwError("data too short",be.errors.BUFFER_OVERRUN,{});const r=on(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:on(t[e])}}function NM(t){const e=sn(t),n=_re(e,0);return n.consumed!==e.length&&qd.throwArgumentError("invalid rlp data","data",t),n.result}const iLe="address/5.8.0",Gw=new be(iLe);function Are(t){vr(t,20)||Gw.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=sn(Fs(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const sLe=9007199254740991;function oLe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const OM={};for(let t=0;t<10;t++)OM[String(t)]=String(t);for(let t=0;t<26;t++)OM[String.fromCharCode(65+t)]=String(10+t);const Sre=Math.floor(oLe(sLe));function aLe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>OM[r]).join("");for(;e.length>=Sre;){let r=e.substring(0,Sre);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function Lu(t){let e=null;if(typeof t!="string"&&Gw.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Are(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Gw.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==aLe(t)&&Gw.throwArgumentError("bad icap checksum","address",t),e=fDe(t.substring(4));e.length<40;)e="0"+e;e=Are("0x"+e)}else Gw.throwArgumentError("invalid address","address",t);return e}function cLe(t){let e=null;try{e=Lu(t.from)}catch{Gw.throwArgumentError("missing from address","transaction",t)}const n=Vw(sn(et.from(t.nonce).toHexString()));return Lu(na(Fs(N7([e,n])),12))}var lLe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const oi=new be(lre),Ire=new Uint8Array(32);Ire.fill(0);const uLe=et.from(-1),kre=et.from(0),$re=et.from(1),dLe=et.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hLe(t){const e=sn(t),n=e.length%32;return n?Mc([e,Ire.slice(n)]):on(e)}const fLe=fi($re.toHexString(),32),pLe=fi(kre.toHexString(),32),Tre={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},RM=["name","version","chainId","verifyingContract","salt"];function Pre(t){return function(e){return typeof e!="string"&&oi.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const gLe={name:Pre("name"),version:Pre("version"),chainId:function(t){try{return et.from(t).toString()}catch{}return oi.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Lu(t).toLowerCase()}catch{}return oi.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=sn(t);if(e.length!==32)throw new Error("bad length");return on(e)}catch{}return oi.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function MM(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&oi.throwArgumentError("invalid numeric width","type",t);const i=dLe.mask(n?r-1:r),s=n?i.add($re).mul(uLe):kre;return function(o){const a=et.from(o);return(a.lt(s)||a.gt(i))&&oi.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),fi(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&oi.throwArgumentError("invalid bytes width","type",t),function(r){return sn(r).length!==n&&oi.throwArgumentError(`invalid length for ${t}`,"value",r),hLe(r)}}}switch(t){case"address":return function(e){return fi(Lu(e),32)};case"bool":return function(e){return e?fLe:pLe};case"bytes":return function(e){return Fs(e)};case"string":return function(e){return cre(e)}}return null}function Nre(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}class Dc{constructor(e){yn(this,"types",Object.freeze(P6(e))),yn(this,"_encoderCache",{}),yn(this,"_types",{});const n={},r={},i={};Object.keys(e).forEach(a=>{n[a]={},r[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&oi.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&oi.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!MM(u)&&(r[u]||oi.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),r[u].push(a),n[a][u]=!0)})}const s=Object.keys(r).filter(a=>r[a].length===0);s.length===0?oi.throwArgumentError("missing primary type","types",e):s.length>1&&oi.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),yn(this,"primaryType",s[0]);function o(a,c){c[a]&&oi.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(n[a]).forEach(l=>{r[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=Nre(a,e[a])+c.map(l=>Nre(l,e[l])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const i=MM(e);if(i)return i}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const i=n[1],s=this.getEncoder(i),o=parseInt(n[3]);return a=>{o>=0&&a.length!==o&&oi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(Fs)),Fs(Mc(c))}}const r=this.types[e];if(r){const i=cre(this._types[e]);return s=>{const o=r.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?Fs(l):l});return o.unshift(i),Mc(o)}}return oi.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||oi.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Fs(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(MM(e))return r(e,n);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&n.length!==a&&oi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(c=>this._visit(o,c,r))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,n[a],r),o),{}):oi.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Dc(e)}static getPrimaryType(e){return Dc.from(e).primaryType}static hashStruct(e,n,r){return Dc.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){const i=Tre[r];i||oi.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>RM.indexOf(r.name)-RM.indexOf(i.name)),Dc.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Mc(["0x1901",Dc.hashDomain(e),Dc.from(n).hash(r)])}static hash(e,n,r){return Fs(Dc.encode(e,n,r))}static resolveNames(e,n,r,i){return lLe(this,void 0,void 0,function*(){e=La(e);const s={};e.verifyingContract&&!vr(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Dc.from(n);o.visit(r,(a,c)=>(a==="address"&&!vr(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:r}})}static getPayload(e,n,r){Dc.hashDomain(e);const i={},s=[];RM.forEach(c=>{const l=e[c];l!=null&&(i[c]=gLe[c](l),s.push({name:c,type:Tre[c]}))});const o=Dc.from(n),a=La(n);return a.EIP712Domain?oi.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return on(sn(l));if(c.match(/^u?int/))return et.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&oi.throwArgumentError("invalid string","value",l),l}return oi.throwArgumentError("unsupported type","type",c)})}}}var Ore={},vn={},j6=Rre;function Rre(t,e){if(!t)throw new Error(e||"Assertion failed")}Rre.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var jM={exports:{}};typeof Object.create=="function"?jM.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:jM.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var mLe=jM.exports,yLe=j6,wLe=mLe;vn.inherits=wLe;function vLe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function bLe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=s&63|128):vLe(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=s&63|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=s&63|128)}else for(i=0;i<t.length;i++)n[i]=t[i]|0;return n}vn.toArray=bLe;function xLe(t){for(var e="",n=0;n<t.length;n++)e+=jre(t[n].toString(16));return e}vn.toHex=xLe;function Mre(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}vn.htonl=Mre;function ELe(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];e==="little"&&(i=Mre(i)),n+=Dre(i.toString(16))}return n}vn.toHex32=ELe;function jre(t){return t.length===1?"0"+t:t}vn.zero2=jre;function Dre(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}vn.zero8=Dre;function CLe(t,e,n,r){var i=n-e;yLe(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;r==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=c>>>0}return s}vn.join32=CLe;function _Le(t,e){for(var n=new Array(t.length*4),r=0,i=0;r<t.length;r++,i+=4){var s=t[r];e==="big"?(n[i]=s>>>24,n[i+1]=s>>>16&255,n[i+2]=s>>>8&255,n[i+3]=s&255):(n[i+3]=s>>>24,n[i+2]=s>>>16&255,n[i+1]=s>>>8&255,n[i]=s&255)}return n}vn.split32=_Le;function ALe(t,e){return t>>>e|t<<32-e}vn.rotr32=ALe;function SLe(t,e){return t<<e|t>>>32-e}vn.rotl32=SLe;function ILe(t,e){return t+e>>>0}vn.sum32=ILe;function kLe(t,e,n){return t+e+n>>>0}vn.sum32_3=kLe;function $Le(t,e,n,r){return t+e+n+r>>>0}vn.sum32_4=$Le;function TLe(t,e,n,r,i){return t+e+n+r+i>>>0}vn.sum32_5=TLe;function PLe(t,e,n,r){var i=t[e],s=t[e+1],o=r+s>>>0,a=(o<r?1:0)+n+i;t[e]=a>>>0,t[e+1]=o}vn.sum64=PLe;function NLe(t,e,n,r){var i=e+r>>>0,s=(i<e?1:0)+t+n;return s>>>0}vn.sum64_hi=NLe;function OLe(t,e,n,r){var i=e+r;return i>>>0}vn.sum64_lo=OLe;function RLe(t,e,n,r,i,s,o,a){var c=0,l=e;l=l+r>>>0,c+=l<e?1:0,l=l+s>>>0,c+=l<s?1:0,l=l+a>>>0,c+=l<a?1:0;var u=t+n+i+o+c;return u>>>0}vn.sum64_4_hi=RLe;function MLe(t,e,n,r,i,s,o,a){var c=e+r+s+a;return c>>>0}vn.sum64_4_lo=MLe;function jLe(t,e,n,r,i,s,o,a,c,l){var u=0,d=e;d=d+r>>>0,u+=d<e?1:0,d=d+s>>>0,u+=d<s?1:0,d=d+a>>>0,u+=d<a?1:0,d=d+l>>>0,u+=d<l?1:0;var h=t+n+i+o+c+u;return h>>>0}vn.sum64_5_hi=jLe;function DLe(t,e,n,r,i,s,o,a,c,l){var u=e+r+s+a+l;return u>>>0}vn.sum64_5_lo=DLe;function LLe(t,e,n){var r=e<<32-n|t>>>n;return r>>>0}vn.rotr64_hi=LLe;function BLe(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}vn.rotr64_lo=BLe;function ULe(t,e,n){return t>>>n}vn.shr64_hi=ULe;function FLe(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}vn.shr64_lo=FLe;var Zw={},Lre=vn,zLe=j6;function O7(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Zw.BlockHash=O7,O7.prototype.update=function(e,n){if(e=Lre.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=Lre.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},O7.prototype.digest=function(e){return this.update(this._pad()),zLe(this.pending===null),this._digest(e)},O7.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,r=n-(e+this.padLength)%n,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Yw={},Hd={},WLe=vn,Vd=WLe.rotr32;function qLe(t,e,n,r){if(t===0)return Bre(e,n,r);if(t===1||t===3)return Fre(e,n,r);if(t===2)return Ure(e,n,r)}Hd.ft_1=qLe;function Bre(t,e,n){return t&e^~t&n}Hd.ch32=Bre;function Ure(t,e,n){return t&e^t&n^e&n}Hd.maj32=Ure;function Fre(t,e,n){return t^e^n}Hd.p32=Fre;function HLe(t){return Vd(t,2)^Vd(t,13)^Vd(t,22)}Hd.s0_256=HLe;function VLe(t){return Vd(t,6)^Vd(t,11)^Vd(t,25)}Hd.s1_256=VLe;function KLe(t){return Vd(t,7)^Vd(t,18)^t>>>3}Hd.g0_256=KLe;function GLe(t){return Vd(t,17)^Vd(t,19)^t>>>10}Hd.g1_256=GLe;var Jw=vn,ZLe=Zw,YLe=Hd,DM=Jw.rotl32,D6=Jw.sum32,JLe=Jw.sum32_5,QLe=YLe.ft_1,zre=ZLe.BlockHash,XLe=[1518500249,1859775393,2400959708,3395469782];function Kd(){if(!(this instanceof Kd))return new Kd;zre.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Jw.inherits(Kd,zre);var eBe=Kd;Kd.blockSize=512,Kd.outSize=160,Kd.hmacStrength=80,Kd.padLength=64,Kd.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=DM(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),d=JLe(DM(s,5),QLe(u,o,a,c),l,r[i],XLe[u]);l=c,c=a,a=DM(o,30),o=s,s=d}this.h[0]=D6(this.h[0],s),this.h[1]=D6(this.h[1],o),this.h[2]=D6(this.h[2],a),this.h[3]=D6(this.h[3],c),this.h[4]=D6(this.h[4],l)},Kd.prototype._digest=function(e){return e==="hex"?Jw.toHex32(this.h,"big"):Jw.split32(this.h,"big")};var Qw=vn,tBe=Zw,Xw=Hd,nBe=j6,Bu=Qw.sum32,rBe=Qw.sum32_4,iBe=Qw.sum32_5,sBe=Xw.ch32,oBe=Xw.maj32,aBe=Xw.s0_256,cBe=Xw.s1_256,lBe=Xw.g0_256,uBe=Xw.g1_256,Wre=tBe.BlockHash,dBe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Gd(){if(!(this instanceof Gd))return new Gd;Wre.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=dBe,this.W=new Array(64)}Qw.inherits(Gd,Wre);var qre=Gd;Gd.blockSize=512,Gd.outSize=256,Gd.hmacStrength=192,Gd.padLength=64,Gd.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=rBe(uBe(r[i-2]),r[i-7],lBe(r[i-15]),r[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4],u=this.h[5],d=this.h[6],h=this.h[7];for(nBe(this.k.length===r.length),i=0;i<r.length;i++){var f=iBe(h,cBe(l),sBe(l,u,d),this.k[i],r[i]),g=Bu(aBe(s),oBe(s,o,a));h=d,d=u,u=l,l=Bu(c,f),c=a,a=o,o=s,s=Bu(f,g)}this.h[0]=Bu(this.h[0],s),this.h[1]=Bu(this.h[1],o),this.h[2]=Bu(this.h[2],a),this.h[3]=Bu(this.h[3],c),this.h[4]=Bu(this.h[4],l),this.h[5]=Bu(this.h[5],u),this.h[6]=Bu(this.h[6],d),this.h[7]=Bu(this.h[7],h)},Gd.prototype._digest=function(e){return e==="hex"?Qw.toHex32(this.h,"big"):Qw.split32(this.h,"big")};var LM=vn,Hre=qre;function Cf(){if(!(this instanceof Cf))return new Cf;Hre.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}LM.inherits(Cf,Hre);var hBe=Cf;Cf.blockSize=512,Cf.outSize=224,Cf.hmacStrength=192,Cf.padLength=64,Cf.prototype._digest=function(e){return e==="hex"?LM.toHex32(this.h.slice(0,7),"big"):LM.split32(this.h.slice(0,7),"big")};var Ua=vn,fBe=Zw,pBe=j6,Zd=Ua.rotr64_hi,Yd=Ua.rotr64_lo,Vre=Ua.shr64_hi,Kre=Ua.shr64_lo,y0=Ua.sum64,BM=Ua.sum64_hi,UM=Ua.sum64_lo,gBe=Ua.sum64_4_hi,mBe=Ua.sum64_4_lo,yBe=Ua.sum64_5_hi,wBe=Ua.sum64_5_lo,Gre=fBe.BlockHash,vBe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Uu(){if(!(this instanceof Uu))return new Uu;Gre.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=vBe,this.W=new Array(160)}Ua.inherits(Uu,Gre);var Zre=Uu;Uu.blockSize=1024,Uu.outSize=512,Uu.hmacStrength=192,Uu.padLength=128,Uu.prototype._prepareBlock=function(e,n){for(var r=this.W,i=0;i<32;i++)r[i]=e[n+i];for(;i<r.length;i+=2){var s=TBe(r[i-4],r[i-3]),o=PBe(r[i-4],r[i-3]),a=r[i-14],c=r[i-13],l=kBe(r[i-30],r[i-29]),u=$Be(r[i-30],r[i-29]),d=r[i-32],h=r[i-31];r[i]=gBe(s,o,a,c,l,u,d,h),r[i+1]=mBe(s,o,a,c,l,u,d,h)}},Uu.prototype._update=function(e,n){this._prepareBlock(e,n);var r=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],d=this.h[7],h=this.h[8],f=this.h[9],g=this.h[10],m=this.h[11],y=this.h[12],w=this.h[13],b=this.h[14],v=this.h[15];pBe(this.k.length===r.length);for(var E=0;E<r.length;E+=2){var _=b,O=v,S=SBe(h,f),R=IBe(h,f),I=bBe(h,f,g,m,y),D=xBe(h,f,g,m,y,w),j=this.k[E],F=this.k[E+1],M=r[E],C=r[E+1],x=yBe(_,O,S,R,I,D,j,F,M,C),A=wBe(_,O,S,R,I,D,j,F,M,C);_=_Be(i,s),O=ABe(i,s),S=EBe(i,s,o,a,c),R=CBe(i,s,o,a,c,l);var P=BM(_,O,S,R),N=UM(_,O,S,R);b=y,v=w,y=g,w=m,g=h,m=f,h=BM(u,d,x,A),f=UM(d,d,x,A),u=c,d=l,c=o,l=a,o=i,a=s,i=BM(x,A,P,N),s=UM(x,A,P,N)}y0(this.h,0,i,s),y0(this.h,2,o,a),y0(this.h,4,c,l),y0(this.h,6,u,d),y0(this.h,8,h,f),y0(this.h,10,g,m),y0(this.h,12,y,w),y0(this.h,14,b,v)},Uu.prototype._digest=function(e){return e==="hex"?Ua.toHex32(this.h,"big"):Ua.split32(this.h,"big")};function bBe(t,e,n,r,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function xBe(t,e,n,r,i,s){var o=e&r^~e&s;return o<0&&(o+=4294967296),o}function EBe(t,e,n,r,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function CBe(t,e,n,r,i,s){var o=e&r^e&s^r&s;return o<0&&(o+=4294967296),o}function _Be(t,e){var n=Zd(t,e,28),r=Zd(e,t,2),i=Zd(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function ABe(t,e){var n=Yd(t,e,28),r=Yd(e,t,2),i=Yd(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function SBe(t,e){var n=Zd(t,e,14),r=Zd(t,e,18),i=Zd(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function IBe(t,e){var n=Yd(t,e,14),r=Yd(t,e,18),i=Yd(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function kBe(t,e){var n=Zd(t,e,1),r=Zd(t,e,8),i=Vre(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function $Be(t,e){var n=Yd(t,e,1),r=Yd(t,e,8),i=Kre(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function TBe(t,e){var n=Zd(t,e,19),r=Zd(e,t,29),i=Vre(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}function PBe(t,e){var n=Yd(t,e,19),r=Yd(e,t,29),i=Kre(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}var FM=vn,Yre=Zre;function _f(){if(!(this instanceof _f))return new _f;Yre.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}FM.inherits(_f,Yre);var NBe=_f;_f.blockSize=1024,_f.outSize=384,_f.hmacStrength=192,_f.padLength=128,_f.prototype._digest=function(e){return e==="hex"?FM.toHex32(this.h.slice(0,12),"big"):FM.split32(this.h.slice(0,12),"big")},Yw.sha1=eBe,Yw.sha224=hBe,Yw.sha256=qre,Yw.sha384=NBe,Yw.sha512=Zre;var Jre={},Lm=vn,OBe=Zw,R7=Lm.rotl32,Qre=Lm.sum32,L6=Lm.sum32_3,Xre=Lm.sum32_4,eie=OBe.BlockHash;function Jd(){if(!(this instanceof Jd))return new Jd;eie.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Lm.inherits(Jd,eie),Jre.ripemd160=Jd,Jd.blockSize=512,Jd.outSize=160,Jd.hmacStrength=192,Jd.padLength=64,Jd.prototype._update=function(e,n){for(var r=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=r,l=i,u=s,d=o,h=a,f=0;f<80;f++){var g=Qre(R7(Xre(r,tie(f,i,s,o),e[jBe[f]+n],RBe(f)),LBe[f]),a);r=a,a=o,o=R7(s,10),s=i,i=g,g=Qre(R7(Xre(c,tie(79-f,l,u,d),e[DBe[f]+n],MBe(f)),BBe[f]),h),c=h,h=d,d=R7(u,10),u=l,l=g}g=L6(this.h[1],s,d),this.h[1]=L6(this.h[2],o,h),this.h[2]=L6(this.h[3],a,c),this.h[3]=L6(this.h[4],r,l),this.h[4]=L6(this.h[0],i,u),this.h[0]=g},Jd.prototype._digest=function(e){return e==="hex"?Lm.toHex32(this.h,"little"):Lm.split32(this.h,"little")};function tie(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function RBe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function MBe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var jBe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],DBe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],LBe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],BBe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],UBe=vn,FBe=j6;function ev(t,e,n){if(!(this instanceof ev))return new ev(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(UBe.toArray(e,n))}var zBe=ev;ev.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),FBe(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)},ev.prototype.update=function(e,n){return this.inner.update(e,n),this},ev.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(t){var e=t;e.utils=vn,e.common=Zw,e.sha=Yw,e.ripemd=Jre,e.hmac=zBe,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Ore);const Qd=Vo(Ore);function nie(t){return"0x"+Qd.sha256().update(sn(t)).digest("hex")}const WBe="web/5.8.0";var qBe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function HBe(t,e){return qBe(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(n.mode=o.mode),o.cache&&(n.cache=o.cache),o.credentials&&(n.credentials=o.credentials),o.redirect&&(n.redirect=o.redirect),o.referrer&&(n.referrer=o.referrer)}const r=yield fetch(t,n),i=yield r.arrayBuffer(),s={};return r.headers.forEach?r.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):r.headers.keys().forEach(o=>{s[o.toLowerCase()]=r.headers.get(o)}),{headers:s,statusCode:r.status,statusMessage:r.statusText,body:sn(new Uint8Array(i))}})}var VBe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Fu=new be(WBe);function rie(t){return new Promise(e=>{setTimeout(e,t)})}function w0(t,e){if(t==null)return null;if(typeof t=="string")return t;if(_M(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return k7(t)}catch{}return on(t)}return t}function KBe(t){return Ef(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function GBe(t,e,n){const r=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Fu.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Fu.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,d=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Fu.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(d=t.timeout),t.headers)for(const w in t.headers)a[w.toLowerCase()]={key:w,value:String(t.headers[w])},["if-none-match","if-modified-since"].indexOf(w.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Fu.throwError("basic authentication requires a secure https url",be.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const w=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+nre(Ef(w))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=La(t.fetchOptions))}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),f=c?c.match(h):null;if(f)try{const w={statusCode:200,statusMessage:"OK",headers:{"content-type":f[1]||"text/plain"},body:f[2]?tre(f[3]):KBe(f[3])};let b=w.body;return n&&(b=n(w.body,w)),Promise.resolve(b)}catch(w){Fu.throwError("processing response error",be.errors.SERVER_ERROR,{body:w0(f[1],f[2]),error:w,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const g={};Object.keys(a).forEach(w=>{const b=a[w];g[b.key]=b.value}),l.headers=g;const m=function(){let w=null;return{promise:new Promise(function(E,_){d&&(w=setTimeout(()=>{w!=null&&(w=null,_(Fu.makeError("timeout",be.errors.TIMEOUT,{requestBody:w0(l.body,g["content-type"]),requestMethod:l.method,timeout:d,url:c})))},d))}),cancel:function(){w!=null&&(clearTimeout(w),w=null)}}}(),y=function(){return VBe(this,void 0,void 0,function*(){for(let w=0;w<r;w++){let b=null;try{if(b=yield HBe(c,l),w<r){if(b.statusCode===301||b.statusCode===302){const E=b.headers.location||"";if(l.method==="GET"&&E.match(/^https:/)){c=b.headers.location;continue}}else if(b.statusCode===429){let E=!0;if(i&&(E=yield i(w,c)),E){let _=0;const O=b.headers["retry-after"];typeof O=="string"&&O.match(/^[1-9][0-9]*$/)?_=parseInt(O)*1e3:_=s*parseInt(String(Math.random()*Math.pow(2,w))),yield rie(_);continue}}}}catch(E){b=E.response,b==null&&(m.cancel(),Fu.throwError("missing response",be.errors.SERVER_ERROR,{requestBody:w0(l.body,g["content-type"]),requestMethod:l.method,serverError:E,url:c}))}let v=b.body;if(u&&b.statusCode===304?v=null:!o&&(b.statusCode<200||b.statusCode>=300)&&(m.cancel(),Fu.throwError("bad response",be.errors.SERVER_ERROR,{status:b.statusCode,headers:b.headers,body:w0(v,b.headers?b.headers["content-type"]:null),requestBody:w0(l.body,g["content-type"]),requestMethod:l.method,url:c})),n)try{const E=yield n(v,b);return m.cancel(),E}catch(E){if(E.throttleRetry&&w<r){let _=!0;if(i&&(_=yield i(w,c)),_){const O=s*parseInt(String(Math.random()*Math.pow(2,w)));yield rie(O);continue}}m.cancel(),Fu.throwError("processing response error",be.errors.SERVER_ERROR,{body:w0(v,b.headers?b.headers["content-type"]:null),error:E,requestBody:w0(l.body,g["content-type"]),requestMethod:l.method,url:c})}return m.cancel(),v}return Fu.throwError("failed response",be.errors.SERVER_ERROR,{requestBody:w0(l.body,g["content-type"]),requestMethod:l.method,url:c})})}();return Promise.race([m.promise,y])}function zM(t,e,n){let r=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(k7(s))}catch(c){Fu.throwError("invalid JSON",be.errors.SERVER_ERROR,{body:s,error:c})}return n&&(a=n(a,o)),a},i=null;if(e!=null){i=Ef(e);const s=typeof t=="string"?{url:t}:La(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=La(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return GBe(t,i,r)}function B6(t,e){return e||(e={}),e=La(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,r){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&r(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)o()&&n(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&r(new Error("retry limit reached"));return}let d=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));d<e.floor&&(d=e.floor),d>e.ceiling&&(d=e.ceiling),setTimeout(l,d)}return null},function(u){o()&&r(u)})}l()})}for(var M7="qpzry9x8gf2tvdw0s3jn54khce6mua7l",WM={},j7=0;j7<M7.length;j7++){var qM=M7.charAt(j7);if(WM[qM]!==void 0)throw new TypeError(qM+" is ambiguous");WM[qM]=j7}function tv(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function iie(t){for(var e=1,n=0;n<t.length;++n){var r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=tv(e)^r>>5}for(e=tv(e),n=0;n<t.length;++n){var i=t.charCodeAt(n);e=tv(e)^i&31}return e}function ZBe(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var r=iie(t);if(typeof r=="string")throw new Error(r);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");r=tv(r)^o,i+=M7.charAt(o)}for(s=0;s<6;++s)r=tv(r);for(r^=1,s=0;s<6;++s){var a=r>>(5-s)*5&31;i+=M7.charAt(a)}return i}function sie(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),r=t.toUpperCase();if(t!==n&&t!==r)return"Mixed-case string "+t;t=n;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=iie(s);if(typeof a=="string")return a;for(var c=[],l=0;l<o.length;++l){var u=o.charAt(l),d=WM[u];if(d===void 0)return"Unknown character "+u;a=tv(a)^d,!(l+6>=o.length)&&c.push(d)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:c}}function YBe(){var t=sie.apply(null,arguments);if(typeof t=="object")return t}function JBe(t){var e=sie.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function D7(t,e,n,r){for(var i=0,s=0,o=(1<<n)-1,a=[],c=0;c<t.length;++c)for(i=i<<e|t[c],s+=e;s>=n;)s-=n,a.push(i>>s&o);if(r)s>0&&a.push(i<<n-s&o);else{if(s>=e)return"Excess padding";if(i<<n-s&o)return"Non-zero padding"}return a}function QBe(t){var e=D7(t,8,5,!0);if(Array.isArray(e))return e}function XBe(t){var e=D7(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function eUe(t){var e=D7(t,5,8,!1);if(Array.isArray(e))return e}function tUe(t){var e=D7(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var nUe={decodeUnsafe:YBe,decode:JBe,encode:ZBe,toWordsUnsafe:QBe,toWords:XBe,fromWordsUnsafe:eUe,fromWords:tUe};const oie=Vo(nUe),L7="providers/5.8.0";function nv(t,e,n){return n={path:e,exports:{},require:function(r,i){return rUe(r,i??n.path)}},t(n,n.exports),n.exports}function rUe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var HM=aie;function aie(t,e){if(!t)throw new Error(e||"Assertion failed")}aie.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var zu=nv(function(t,e){var n=e;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),d=u>>8,h=u&255;d?c.push(d,h):c.push(h)}return c}n.toArray=r;function i(o){return o.length===1?"0"+o:o}n.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}n.toHex=s,n.encode=function(a,c){return c==="hex"?s(a):a}}),Lc=nv(function(t,e){var n=e;n.assert=HM,n.toArray=zu.toArray,n.zero2=zu.zero2,n.toHex=zu.toHex,n.encode=zu.encode;function r(c,l,u){var d=new Array(Math.max(c.bitLength(),u)+1),h;for(h=0;h<d.length;h+=1)d[h]=0;var f=1<<l+1,g=c.clone();for(h=0;h<d.length;h++){var m,y=g.andln(f-1);g.isOdd()?(y>(f>>1)-1?m=(f>>1)-y:m=y,g.isubn(m)):m=0,d[h]=m,g.iushrn(1)}return d}n.getNAF=r;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var d=0,h=0,f;c.cmpn(-d)>0||l.cmpn(-h)>0;){var g=c.andln(3)+d&3,m=l.andln(3)+h&3;g===3&&(g=-1),m===3&&(m=-1);var y;g&1?(f=c.andln(7)+d&7,(f===3||f===5)&&m===2?y=-g:y=g):y=0,u[0].push(y);var w;m&1?(f=l.andln(7)+h&7,(f===3||f===5)&&g===2?w=-m:w=m):w=0,u[1].push(w),2*d===y+1&&(d=1-d),2*h===w+1&&(h=1-h),c.iushrn(1),l.iushrn(1)}return u}n.getJSF=i;function s(c,l,u){var d="_"+l;c.prototype[l]=function(){return this[d]!==void 0?this[d]:this[d]=u.call(this)}}n.cachedProperty=s;function o(c){return typeof c=="string"?n.toArray(c,"hex"):c}n.parseBytes=o;function a(c){return new Vt(c,"hex","le")}n.intFromLE=a}),B7=Lc.getNAF,iUe=Lc.getJSF,U7=Lc.assert;function v0(t,e){this.type=t,this.p=new Vt(e.p,16),this.red=e.prime?Vt.red(e.prime):Vt.mont(this.p),this.zero=new Vt(0).toRed(this.red),this.one=new Vt(1).toRed(this.red),this.two=new Vt(2).toRed(this.red),this.n=e.n&&new Vt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Bm=v0;v0.prototype.point=function(){throw new Error("Not implemented")},v0.prototype.validate=function(){throw new Error("Not implemented")},v0.prototype._fixedNafMul=function(e,n){U7(e.precomputed);var r=e._getDoubles(),i=B7(n,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=r.step){c=0;for(var l=a+r.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?d=d.mixedAdd(r.points[a]):c===-h&&(d=d.mixedAdd(r.points[a].neg()));u=u.add(d)}return u.toP()},v0.prototype._wnafMul=function(e,n){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,o=B7(n,r,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];U7(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a},v0.prototype._wnafMulAdd=function(e,n,r,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,d,h;for(u=0;u<i;u++){h=n[u];var f=h._getNAFPoints(e);o[u]=f.wnd,a[u]=f.points}for(u=i-1;u>=1;u-=2){var g=u-1,m=u;if(o[g]!==1||o[m]!==1){c[g]=B7(r[g],o[g],this._bitLength),c[m]=B7(r[m],o[m],this._bitLength),l=Math.max(c[g].length,l),l=Math.max(c[m].length,l);continue}var y=[n[g],null,null,n[m]];n[g].y.cmp(n[m].y)===0?(y[1]=n[g].add(n[m]),y[2]=n[g].toJ().mixedAdd(n[m].neg())):n[g].y.cmp(n[m].y.redNeg())===0?(y[1]=n[g].toJ().mixedAdd(n[m]),y[2]=n[g].add(n[m].neg())):(y[1]=n[g].toJ().mixedAdd(n[m]),y[2]=n[g].toJ().mixedAdd(n[m].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],b=iUe(r[g],r[m]);for(l=Math.max(b[0].length,l),c[g]=new Array(l),c[m]=new Array(l),d=0;d<l;d++){var v=b[0][d]|0,E=b[1][d]|0;c[g][d]=w[(v+1)*3+(E+1)],c[m][d]=0,a[g]=y}}var _=this.jpoint(null,null,null),O=this._wnafT4;for(u=l;u>=0;u--){for(var S=0;u>=0;){var R=!0;for(d=0;d<i;d++)O[d]=c[d][u]|0,O[d]!==0&&(R=!1);if(!R)break;S++,u--}if(u>=0&&S++,_=_.dblp(S),u<0)break;for(d=0;d<i;d++){var I=O[d];I!==0&&(I>0?h=a[d][I-1>>1]:I<0&&(h=a[d][-I-1>>1].neg()),h.type==="affine"?_=_.mixedAdd(h):_=_.add(h))}}for(u=0;u<i;u++)a[u]=null;return s?_:_.toP()};function Ol(t,e){this.curve=t,this.type=e,this.precomputed=null}v0.BasePoint=Ol,Ol.prototype.eq=function(){throw new Error("Not implemented")},Ol.prototype.validate=function(){return this.curve.validate(this)},v0.prototype.decodePoint=function(e,n){e=Lc.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?U7(e[e.length-1]%2===0):e[0]===7&&U7(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},Ol.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Ol.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))},Ol.prototype.encode=function(e,n){return Lc.encode(this._encode(n),e)},Ol.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this},Ol.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1},Ol.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<n;s+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}},Ol.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)n[s]=n[s-1].add(i);return{wnd:e,points:n}},Ol.prototype._getBeta=function(){return null},Ol.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n};var VM=nv(function(t){typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}}),sUe=Lc.assert;function Rl(t){Bm.call(this,"short",t),this.a=new Vt(t.a,16).toRed(this.red),this.b=new Vt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}VM(Rl,Bm);var oUe=Rl;Rl.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new Vt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);n=i[0].cmp(i[1])<0?i[0]:i[1],n=n.toRed(this.red)}if(e.lambda)r=new Vt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(n))===0?r=s[0]:(r=s[1],sUe(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Vt(a.a,16),b:new Vt(a.b,16)}}):o=this._getEndoBasis(r),{beta:n,lambda:r,basis:o}}},Rl.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:Vt.mont(e),r=new Vt(2).toRed(n).redInvm(),i=r.redNeg(),s=new Vt(3).toRed(n).redNeg().redSqrt().redMul(r),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]},Rl.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new Vt(1),o=new Vt(0),a=new Vt(0),c=new Vt(1),l,u,d,h,f,g,m,y=0,w,b;r.cmpn(0)!==0;){var v=i.div(r);w=i.sub(v.mul(r)),b=a.sub(v.mul(s));var E=c.sub(v.mul(o));if(!d&&w.cmp(n)<0)l=m.neg(),u=s,d=w.neg(),h=b;else if(d&&++y===2)break;m=w,i=r,r=w,a=s,s=b,c=o,o=E}f=w.neg(),g=b;var _=d.sqr().add(h.sqr()),O=f.sqr().add(g.sqr());return O.cmp(_)>=0&&(f=l,g=u),d.negative&&(d=d.neg(),h=h.neg()),f.negative&&(f=f.neg(),g=g.neg()),[{a:d,b:h},{a:f,b:g}]},Rl.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],i=n[1],s=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=s.mul(r.a),c=o.mul(i.a),l=s.mul(r.b),u=o.mul(i.b),d=e.sub(a).sub(c),h=l.add(u).neg();return{k1:d,k2:h}},Rl.prototype.pointFromX=function(e,n){e=new Vt(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(n&&!s||!n&&s)&&(i=i.redNeg()),this.point(e,i)},Rl.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,i=this.a.redMul(n),s=n.redSqr().redMul(n).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0},Rl.prototype._endoWnafMulAdd=function(e,n,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(n[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,r),d=0;d<o*2;d++)i[d]=null,s[d]=null;return u};function ms(t,e,n,r){Bm.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Vt(e,16),this.y=new Vt(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}VM(ms,Bm.BasePoint),Rl.prototype.point=function(e,n,r){return new ms(this,e,n,r)},Rl.prototype.pointFromJSON=function(e,n){return ms.fromJSON(this,e,n)},ms.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return n}},ms.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ms.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var i=e.point(n[0],n[1],r);if(!n[2])return i;function s(a){return e.point(a[0],a[1],r)}var o=n[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i},ms.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ms.prototype.isInfinity=function(){return this.inf},ms.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),i=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},ms.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},ms.prototype.getX=function(){return this.x.fromRed()},ms.prototype.getY=function(){return this.y.fromRed()},ms.prototype.mul=function(e){return e=new Vt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},ms.prototype.mulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},ms.prototype.jmulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},ms.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},ms.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return n},ms.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function zs(t,e,n,r){Bm.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Vt(0)):(this.x=new Vt(e,16),this.y=new Vt(n,16),this.z=new Vt(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}VM(zs,Bm.BasePoint),Rl.prototype.jpoint=function(e,n,r){return new zs(this,e,n,r)},zs.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),i=this.y.redMul(n).redMul(e);return this.curve.point(r,i)},zs.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},zs.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(n),s=e.x.redMul(r),o=this.y.redMul(n.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),d=u.redMul(c),h=i.redMul(u),f=l.redSqr().redIAdd(d).redISub(h).redISub(h),g=l.redMul(h.redISub(f)).redISub(o.redMul(d)),m=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(f,g,m)},zs.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,i=e.x.redMul(n),s=this.y,o=e.y.redMul(n).redMul(this.z),a=r.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),d=r.redMul(l),h=c.redSqr().redIAdd(u).redISub(d).redISub(d),f=c.redMul(d.redISub(h)).redISub(s.redMul(u)),g=this.z.redMul(a);return this.curve.jpoint(h,f,g)},zs.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(n=0;n<e;n++){var d=o.redSqr(),h=u.redSqr(),f=h.redSqr(),g=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(l)),m=o.redMul(h),y=g.redSqr().redISub(m.redAdd(m)),w=m.redISub(y),b=g.redMul(w);b=b.redIAdd(b).redISub(f);var v=u.redMul(c);n+1<e&&(l=l.redMul(f)),o=y,c=v,u=b}return this.curve.jpoint(o,u.redMul(s),c)},zs.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},zs.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,n=c.redMul(a.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),g=this.x.redAdd(h).redSqr().redISub(d).redISub(f);g=g.redIAdd(g);var m=d.redAdd(d).redIAdd(d),y=m.redSqr(),w=f.redIAdd(f);w=w.redIAdd(w),w=w.redIAdd(w),e=y.redISub(g).redISub(g),n=m.redMul(g.redISub(e)).redISub(w),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)},zs.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),n=c.redMul(a.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),g=this.x.redSub(d).redMul(this.x.redAdd(d));g=g.redAdd(g).redIAdd(g);var m=f.redIAdd(f);m=m.redIAdd(m);var y=m.redAdd(m);e=g.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(d);var w=h.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),n=g.redMul(m.redISub(e)).redISub(w)}return this.curve.jpoint(e,n,r)},zs.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),o=n.redSqr(),a=r.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=n.redAdd(n);l=l.redIAdd(l);var u=l.redMul(a),d=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(d),f=a.redSqr();f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var g=c.redMul(h).redISub(f),m=r.redAdd(r).redMul(i);return this.curve.jpoint(d,g,m)},zs.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),i=n.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(n).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),d=n.redMul(u);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.x.redMul(c).redISub(d);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var g=this.z.redAdd(a).redSqr().redISub(r).redISub(c);return this.curve.jpoint(h,f,g)},zs.prototype.mul=function(e,n){return e=new Vt(e,n),this.curve._wnafMul(this,e)},zs.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var i=n.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},zs.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(n);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}},zs.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},zs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var F7=nv(function(t,e){var n=e;n.base=Bm,n.short=oUe,n.mont=null,n.edwards=null}),z7=nv(function(t,e){var n=e,r=Lc.assert;function i(a){a.type==="short"?this.curve=new F7.short(a):a.type==="edwards"?this.curve=new F7.edwards(a):this.curve=new F7.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=i;function s(a,c){Object.defineProperty(n,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(n,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Qd.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Qd.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Qd.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Qd.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Qd.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Qd.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Qd.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Qd.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function b0(t){if(!(this instanceof b0))return new b0(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=zu.toArray(t.entropy,t.entropyEnc||"hex"),n=zu.toArray(t.nonce,t.nonceEnc||"hex"),r=zu.toArray(t.pers,t.persEnc||"hex");HM(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}var cie=b0;b0.prototype._init=function(e,n,r){var i=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},b0.prototype._hmac=function(){return new Qd.hmac(this.hash,this.K)},b0.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},b0.prototype.reseed=function(e,n,r,i){typeof n!="string"&&(i=r,r=n,n=null),e=zu.toArray(e,n),r=zu.toArray(r,i),HM(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},b0.prototype.generate=function(e,n,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(i=r,r=n,n=null),r&&(r=zu.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,zu.encode(o,n)};var KM=Lc.assert;function _o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var GM=_o;_o.fromPublic=function(e,n,r){return n instanceof _o?n:new _o(e,{pub:n,pubEnc:r})},_o.fromPrivate=function(e,n,r){return n instanceof _o?n:new _o(e,{priv:n,privEnc:r})},_o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},_o.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub},_o.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},_o.prototype._importPrivate=function(e,n){this.priv=new Vt(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)},_o.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?KM(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&KM(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)},_o.prototype.derive=function(e){return e.validate()||KM(e.validate(),"public point not validated"),e.mul(this.priv).getX()},_o.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)},_o.prototype.verify=function(e,n,r){return this.ec.verify(e,n,this,void 0,r)},_o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var aUe=Lc.assert;function W7(t,e){if(t instanceof W7)return t;this._importDER(t,e)||(aUe(t.r&&t.s,"Signature without r or s"),this.r=new Vt(t.r,16),this.s=new Vt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var q7=W7;function cUe(){this.place=0}function ZM(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<r;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function lie(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}W7.prototype._importDER=function(e,n){e=Lc.toArray(e,n);var r=new cUe;if(e[r.place++]!==48)return!1;var i=ZM(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=ZM(e,r);if(s===!1||e[r.place]&128)return!1;var o=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var a=ZM(e,r);if(a===!1||e.length!==a+r.place||e[r.place]&128)return!1;var c=e.slice(r.place,a+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Vt(o),this.s=new Vt(c),this.recoveryParam=null,!0};function YM(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}W7.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=lie(n),r=lie(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];YM(i,n.length),i=i.concat(n),i.push(2),YM(i,r.length);var s=i.concat(r),o=[48];return YM(o,s.length),o=o.concat(s),Lc.encode(o,e)};var lUe=function(){throw new Error("unsupported")},Um=Lc.assert;function Ml(t){if(!(this instanceof Ml))return new Ml(t);typeof t=="string"&&(Um(Object.prototype.hasOwnProperty.call(z7,t),"Unknown curve "+t),t=z7[t]),t instanceof z7.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var uUe=Ml;Ml.prototype.keyPair=function(e){return new GM(this,e)},Ml.prototype.keyFromPrivate=function(e,n){return GM.fromPrivate(this,e,n)},Ml.prototype.keyFromPublic=function(e,n){return GM.fromPublic(this,e,n)},Ml.prototype.genKeyPair=function(e){e||(e={});for(var n=new cie({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||lUe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Vt(2));;){var s=new Vt(n.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},Ml.prototype._truncateToN=function(e,n,r){var i;if(Vt.isBN(e)||typeof e=="number")e=new Vt(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Vt(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Vt(s,16)}typeof r!="number"&&(r=i*8);var o=r-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e},Ml.prototype.sign=function(e,n,r,i){if(typeof r=="object"&&(i=r,r=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Vt.isBN(e)){Um(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Um(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Um((e[s]&255)===e[s])}n=this.keyFromPrivate(n,r),e=this._truncateToN(e,!1,i.msgBitLength),Um(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=n.getPrivate().toArray("be",o),c=e.toArray("be",o);Um(new Vt(c).eq(e),"Can not sign message");for(var l=new cie({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new Vt(1)),d=0;;d++){var h=i.k?i.k(d):new Vt(l.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(u)>=0)){var f=this.g.mul(h);if(!f.isInfinity()){var g=f.getX(),m=g.umod(this.n);if(m.cmpn(0)!==0){var y=h.invm(this.n).mul(m.mul(n.getPrivate()).iadd(e));if(y=y.umod(this.n),y.cmpn(0)!==0){var w=(f.getY().isOdd()?1:0)|(g.cmp(m)!==0?2:0);return i.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),w^=1),new q7({r:m,s:y,recoveryParam:w})}}}}}},Ml.prototype.verify=function(e,n,r,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),r=this.keyFromPublic(r,i),n=new q7(n,"hex");var o=n.r,a=n.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(l,r.getPublic(),u),d.isInfinity()?!1:d.eqXToP(o)):(d=this.g.mulAdd(l,r.getPublic(),u),d.isInfinity()?!1:d.getX().umod(this.n).cmp(o)===0)},Ml.prototype.recoverPubKey=function(t,e,n,r){Um((3&n)===n,"The recovery param is more than two bits"),e=new q7(e,r);var i=this.n,s=new Vt(t),o=e.r,a=e.s,c=n&1,l=n>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),d=i.sub(s).mul(u).umod(i),h=a.mul(u).umod(i);return this.g.mulAdd(d,o,h)},Ml.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new q7(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var dUe=nv(function(t,e){var n=e;n.version="6.6.1",n.utils=Lc,n.rand=function(){throw new Error("unsupported")},n.curve=F7,n.curves=z7,n.ec=uUe,n.eddsa=null}),hUe=dUe.ec;const fUe="signing-key/5.8.0",JM=new be(fUe);let QM=null;function x0(){return QM||(QM=new hUe("secp256k1")),QM}class pUe{constructor(e){yn(this,"curve","secp256k1"),yn(this,"privateKey",on(e)),Dm(this.privateKey)!==32&&JM.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=x0().keyFromPrivate(sn(this.privateKey));yn(this,"publicKey","0x"+n.getPublic(!1,"hex")),yn(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),yn(this,"_isSigningKey",!0)}_addPoint(e){const n=x0().keyFromPublic(sn(this.publicKey)),r=x0().keyFromPublic(sn(e));return"0x"+n.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const n=x0().keyFromPrivate(sn(this.privateKey)),r=sn(e);r.length!==32&&JM.throwArgumentError("bad digest length","digest",e);const i=n.sign(r,{canonical:!0});return _7({recoveryParam:i.recoveryParam,r:fi("0x"+i.r.toString(16),32),s:fi("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const n=x0().keyFromPrivate(sn(this.privateKey)),r=x0().keyFromPublic(sn(uie(e)));return fi("0x"+n.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function gUe(t,e){const n=_7(e),r={r:sn(n.r),s:sn(n.s)};return"0x"+x0().recoverPubKey(sn(t),r,n.recoveryParam).encode("hex",!1)}function uie(t,e){const n=sn(t);return n.length===32?new pUe(n).publicKey:n.length===33?"0x"+x0().keyFromPublic(n).getPublic(!1,"hex"):n.length===65?on(n):JM.throwArgumentError("invalid public or private key","key","[REDACTED]")}const mUe="transactions/5.8.0",Af=new be(mUe);var die;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(die||(die={}));function XM(t){return t==="0x"?null:Lu(t)}function Ao(t){return t==="0x"?CDe:et.from(t)}function yUe(t){const e=uie(t);return Lu(na(Fs(na(e,1)),12))}function hie(t,e){return yUe(gUe(sn(t),e))}function Bc(t,e){const n=Vw(et.from(t).toHexString());return n.length>32&&Af.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function ej(t,e){return{address:Lu(t),storageKeys:(e||[]).map((n,r)=>(Dm(n)!==32&&Af.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,n),n.toLowerCase()))}}function U6(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(n.length>2&&Af.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,n),ej(n[0],n[1])):ej(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return ej(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function fie(t){return U6(t).map(e=>[e.address,e.storageKeys])}function wUe(t,e){if(t.gasPrice!=null){const r=et.from(t.gasPrice),i=et.from(t.maxFeePerGas||0);r.eq(i)||Af.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}const n=[Bc(t.chainId||0,"chainId"),Bc(t.nonce||0,"nonce"),Bc(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Bc(t.maxFeePerGas||0,"maxFeePerGas"),Bc(t.gasLimit||0,"gasLimit"),t.to!=null?Lu(t.to):"0x",Bc(t.value||0,"value"),t.data||"0x",fie(t.accessList||[])];if(e){const r=_7(e);n.push(Bc(r.recoveryParam,"recoveryParam")),n.push(Vw(r.r)),n.push(Vw(r.s))}return Mc(["0x02",N7(n)])}function vUe(t,e){const n=[Bc(t.chainId||0,"chainId"),Bc(t.nonce||0,"nonce"),Bc(t.gasPrice||0,"gasPrice"),Bc(t.gasLimit||0,"gasLimit"),t.to!=null?Lu(t.to):"0x",Bc(t.value||0,"value"),t.data||"0x",fie(t.accessList||[])];if(e){const r=_7(e);n.push(Bc(r.recoveryParam,"recoveryParam")),n.push(Vw(r.r)),n.push(Vw(r.s))}return Mc(["0x01",N7(n)])}function pie(t,e,n){try{const r=Ao(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");t.v=r}catch{Af.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=fi(e[1],32),t.s=fi(e[2],32);try{const r=Fs(n(t));t.from=hie(r,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function bUe(t){const e=NM(t.slice(1));e.length!==9&&e.length!==12&&Af.throwArgumentError("invalid component count for transaction type: 2","payload",on(t));const n=Ao(e[2]),r=Ao(e[3]),i={type:2,chainId:Ao(e[0]).toNumber(),nonce:Ao(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:Ao(e[4]),to:XM(e[5]),value:Ao(e[6]),data:e[7],accessList:U6(e[8])};return e.length===9||(i.hash=Fs(t),pie(i,e.slice(9),wUe)),i}function xUe(t){const e=NM(t.slice(1));e.length!==8&&e.length!==11&&Af.throwArgumentError("invalid component count for transaction type: 1","payload",on(t));const n={type:1,chainId:Ao(e[0]).toNumber(),nonce:Ao(e[1]).toNumber(),gasPrice:Ao(e[2]),gasLimit:Ao(e[3]),to:XM(e[4]),value:Ao(e[5]),data:e[6],accessList:U6(e[7])};return e.length===8||(n.hash=Fs(t),pie(n,e.slice(8),vUe)),n}function EUe(t){const e=NM(t);e.length!==9&&e.length!==6&&Af.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:Ao(e[0]).toNumber(),gasPrice:Ao(e[1]),gasLimit:Ao(e[2]),to:XM(e[3]),value:Ao(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=et.from(e[6]).toNumber()}catch{return n}if(n.r=fi(e[7],32),n.s=fi(e[8],32),et.from(n.r).isZero()&&et.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const i=e.slice(0,6);n.chainId!==0&&(i.push(on(n.chainId)),i.push("0x"),i.push("0x"),r-=n.chainId*2+8);const s=Fs(N7(i));try{n.from=hie(s,{r:on(n.r),s:on(n.s),recoveryParam:r})}catch{}n.hash=Fs(t)}return n.type=null,n}function CUe(t){const e=sn(t);if(e[0]>127)return EUe(e);switch(e[0]){case 1:return xUe(e);case 2:return bUe(e)}return Af.throwError(`unsupported transaction type: ${e[0]}`,be.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const F6=new be(L7);class xt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this),u=d=>this.data(d,!0);return e.transaction={hash:o,type:l,accessList:xt.allowNull(this.accessList.bind(this),null),blockHash:xt.allowNull(o,null),blockNumber:xt.allowNull(c,null),transactionIndex:xt.allowNull(c,null),confirmations:xt.allowNull(c,null),from:n,gasPrice:xt.allowNull(r),maxPriorityFeePerGas:xt.allowNull(r),maxFeePerGas:xt.allowNull(r),gasLimit:r,to:xt.allowNull(n,null),value:r,nonce:c,data:s,r:xt.allowNull(this.uint256),s:xt.allowNull(this.uint256),v:xt.allowNull(c),creates:xt.allowNull(n,null),raw:xt.allowNull(s)},e.transactionRequest={from:xt.allowNull(n),nonce:xt.allowNull(c),gasLimit:xt.allowNull(r),gasPrice:xt.allowNull(r),maxPriorityFeePerGas:xt.allowNull(r),maxFeePerGas:xt.allowNull(r),to:xt.allowNull(n),value:xt.allowNull(r),data:xt.allowNull(u),type:xt.allowNull(c),accessList:xt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:n,topics:xt.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:xt.allowNull(this.address,null),from:xt.allowNull(this.address,null),contractAddress:xt.allowNull(n,null),transactionIndex:c,root:xt.allowNull(a),gasUsed:r,logsBloom:xt.allowNull(s),blockHash:o,transactionHash:o,logs:xt.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:xt.allowNull(c,null),cumulativeGasUsed:r,effectiveGasPrice:xt.allowNull(r),status:xt.allowNull(c),type:l},e.block={hash:xt.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:xt.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:xt.allowNull(n),extraData:s,transactions:xt.allowNull(xt.arrayOf(o)),baseFeePerGas:xt.allowNull(r)},e.blockWithTransactions=La(e.block),e.blockWithTransactions.transactions=xt.allowNull(xt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:xt.allowNull(i,void 0),toBlock:xt.allowNull(i,void 0),blockHash:xt.allowNull(o,void 0),address:xt.allowNull(n,void 0),topics:xt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:xt.allowNull(c),blockHash:xt.allowNull(o),transactionIndex:c,removed:xt.allowNull(this.boolean.bind(this)),address:n,data:xt.allowFalsish(s,"0x"),topics:xt.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return U6(e||[])}number(e){return e==="0x"?0:et.from(e).toNumber()}type(e){return e==="0x"||e==null?0:et.from(e).toNumber()}bigNumber(e){return et.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),vr(e))?e.toLowerCase():F6.throwArgumentError("invalid hash","value",e)}data(e,n){const r=this.hex(e,n);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return Lu(e)}callAddress(e){if(!vr(e,32))return null;const n=Lu(na(e,12));return n===EDe?null:n}contractAddress(e){return cLe(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||vr(e))return SM(e);throw new Error("invalid blockTag")}hash(e,n){const r=this.hex(e,n);return Dm(r)!==32?F6.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const n=et.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!vr(e))throw new Error("invalid uint256");return fi(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,i=xt.check(n,e);return i._difficulty=r==null?null:et.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return xt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&et.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=xt.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;vr(r)&&(r=et.from(r).toNumber()),n.chainId=r}else{let r=e.networkId;r==null&&n.v==null&&(r=e.chainId),vr(r)&&(r=et.from(r).toNumber()),typeof r!="number"&&n.v!=null&&(r=(n.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),n.chainId=r}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return CUe(e)}receiptLog(e){return xt.check(this.formats.receiptLog,e)}receipt(e){const n=xt.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const r=et.from(n.root).toNumber();r===0||r===1?(n.status!=null&&n.status!==r&&F6.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=r,delete n.root):F6.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&F6.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return xt.check(this.formats.filter,e)}filterLog(e){return xt.check(this.formats.filterLog,e)}static check(e,n){const r={};for(const i in e)try{const s=e[i](n[i]);s!==void 0&&(r[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=n[i],s}return r}static allowNull(e,n){return function(r){return r==null?n:e(r)}}static allowFalsish(e,n){return function(r){return r?e(r):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");const r=[];return n.forEach(function(i){r.push(e(i))}),r}}}var Yt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const hn=new be(L7),_Ue=10;function gie(t){return t==null?"null":(Dm(t)!==32&&hn.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function mie(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(i=>{n[gie(i)]=!0});const r=Object.keys(n);return r.sort(),r.join("|")}else return gie(e)}).join("&")}function AUe(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function rv(t){if(typeof t=="string"){if(t=t.toLowerCase(),Dm(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+mie(t);if(wDe.isForkEvent(t))throw hn.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+mie(t.topics||[])}throw new Error("invalid event - "+t)}function z6(){return new Date().getTime()}function yie(t){return new Promise(e=>{setTimeout(e,t)})}const SUe=["block","network","pending","poll"];let IUe=class{constructor(e,n,r){yn(this,"tag",e),yn(this,"listener",n),yn(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],r=AUe(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){return this.tag.indexOf(":")>=0||SUe.indexOf(this.tag)>=0}};const kUe={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function tj(t){return fi(et.from(t).toHexString(),32)}function wie(t){return PM.encode(jm([t,na(nie(nie(t)),0,4)]))}const vie=new RegExp("^(ipfs)://(.*)$","i"),bie=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),vie,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function H7(t,e){try{return k7(W6(t,e))}catch{}return null}function W6(t,e){if(t==="0x")return null;const n=et.from(na(t,e,e+32)).toNumber(),r=et.from(na(t,n,n+32)).toNumber();return na(t,n+32,n+32+r)}function nj(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):hn.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function xie(t){const e=sn(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function $Ue(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function Eie(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(null),n+=32;for(let r=0;r<t.length;r++){const i=sn(t[r]);e[r]=xie(n),e.push(xie(i.length)),e.push($Ue(i)),n+=32+Math.ceil(i.length/32)*32}return Mc(e)}class Cie{constructor(e,n,r,i){yn(this,"provider",e),yn(this,"name",r),yn(this,"address",e.formatter.address(n)),yn(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>et.from(e).eq(1)).catch(e=>{if(e.code===be.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return Yt(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:Mc([e,P7(this.name),n||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=Mc(["0x9061b923",Eie([nLe(this.name),r.data])]));try{let s=yield this.provider.call(r);return sn(s).length%32===4&&hn.throwError("resolver threw error",be.errors.CALL_EXCEPTION,{transaction:r,data:s}),i&&(s=W6(s,0)),s}catch(s){if(s.code===be.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,n){return Yt(this,void 0,void 0,function*(){const r=yield this._fetch(e,n);return r!=null?W6(r,0):null})}_getAddress(e,n){const r=kUe[String(e)];if(r==null&&hn.throwError(`unsupported coin type: ${e}`,be.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(n);const i=sn(n);if(r.p2pkh!=null){const s=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return wie(jm([[r.p2pkh],"0x"+s[2]]))}}if(r.p2sh!=null){const s=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return wie(jm([[r.p2sh],"0x"+s[2]]))}}if(r.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=oie.toWords(i.slice(2));return a.unshift(o),oie.encode(r.prefix,a)}}return null}getAddress(e){return Yt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===_De?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===be.errors.CALL_EXCEPTION)return null;throw i}const n=yield this._fetchBytes("0xf1cb7e06",tj(e));if(n==null||n==="0x")return null;const r=this._getAddress(e,n);return r==null&&hn.throwError("invalid or unsupported coin data",be.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),r})}getAvatar(){return Yt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let r=0;r<bie.length;r++){const i=n.match(bie[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:nj(n)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:n});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const l=yield this.provider.formatter.address(c[0]),u=fi(et.from(c[1]).toHexString(),32);if(s==="erc721"){const m=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:Mc(["0x6352211e",u])}));if(a!==m)return null;e.push({type:"owner",content:m})}else if(s==="erc1155"){const m=et.from(yield this.provider.call({to:l,data:Mc(["0x00fdd58e",fi(a,32),u])}));if(m.isZero())return null;e.push({type:"balance",content:m.toString()})}const d={to:this.provider.formatter.address(c[0]),data:Mc([o,u])};let h=H7(yield this.provider.call(d),0);if(h==null)return null;e.push({type:"metadata-url-base",content:h}),s==="erc1155"&&(h=h.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=nj(h)),e.push({type:"metadata-url",content:h});const f=yield zM(h);if(!f)return null;e.push({type:"metadata",content:JSON.stringify(f)});let g=f.image;if(typeof g!="string")return null;if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(vie)==null)return null;e.push({type:"url-ipfs",content:g}),g=nj(g)}return e.push({type:"url",content:g}),{linkage:e,url:g}}}}}catch{}return null})}getContentHash(){return Yt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipfs://"+PM.encode("0x"+n[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipns://"+PM.encode("0x"+r[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+nre("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return hn.throwError("invalid or unsupported content hash data",be.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Yt(this,void 0,void 0,function*(){let n=Ef(e);n=jm([tj(64),tj(n.length),n]),n.length%32!==0&&(n=jm([n,fi("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",on(n));return r==null||r==="0x"?null:k7(r)})}}let rj=null,TUe=1;class PUe extends TM{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),yn(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=T6(new.target,"getNetwork")(e);n?(yn(this,"_network",n),this.emit("network",n,null)):hn.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Yt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||hn.throwError("no network detected",be.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:yn(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return B6(()=>this._ready().then(e=>e,e=>{if(!(e.code===be.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return rj==null&&(rj=new xt),rj}static getNetwork(e){return xDe(e??"homestead")}ccipReadFetch(e,n,r){return Yt(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],l=c.replace("{sender}",i).replace("{data}",s),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),d=yield zM({url:l,errorPassThrough:!0},u,(f,g)=>(f.status=g.statusCode,f));if(d.data)return d.data;const h=d.message||"unknown error";if(d.status>=400&&d.status<500)return hn.throwError(`response not found during CCIP fetch: ${h}`,be.errors.SERVER_ERROR,{url:c,errorMessage:h});o.push(h)}return hn.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,be.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return Yt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(z6()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const n=z6(),r=Bs({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),s;const o=z6();return i=et.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:n,respTime:o}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return Yt(this,void 0,void 0,function*(){const e=TUe++,n=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)hn.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",hn.makeError("network block skew detected",be.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&r-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});n.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=r;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(c=>{this.emit("error",c),i._inflight=!1});n.push(a)}break}}}),this._lastBlockNumber=r,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Yt(this,void 0,void 0,function*(){return hn.throwError("provider does not support network detection",be.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Yt(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield yie(0),this._network;const r=hn.makeError("underlying network changed",be.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=z6();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=z6(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,r){return Yt(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,r||0,null)})}_waitForTransaction(e,n,r,i){return Yt(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=n?s:new Promise((o,a)=>{const c=[];let l=!1;const u=function(){return l?!0:(l=!0,c.forEach(h=>{h()}),!1)},d=h=>{h.confirmations<n||u()||o(h)};if(this.on(e,d),c.push(()=>{this.removeListener(e,d)}),i){let h=i.startBlock,f=null;const g=m=>Yt(this,void 0,void 0,function*(){l||(yield yie(1e3),this.getTransactionCount(i.from).then(y=>Yt(this,void 0,void 0,function*(){if(!l){if(y<=i.nonce)h=m;else{{const w=yield this.getTransaction(e);if(w&&w.blockNumber!=null)return}for(f==null&&(f=h-3,f<i.startBlock&&(f=i.startBlock));f<=m;){if(l)return;const w=yield this.getBlockWithTransactions(f);for(let b=0;b<w.transactions.length;b++){const v=w.transactions[b];if(v.hash===e)return;if(v.from===i.from&&v.nonce===i.nonce){if(l)return;const E=yield this.waitForTransaction(v.hash,n);if(u())return;let _="replaced";v.data===i.data&&v.to===i.to&&v.value.eq(i.value)?_="repriced":v.data==="0x"&&v.from===v.to&&v.value.isZero()&&(_="cancelled"),a(hn.makeError("transaction was replaced",be.errors.TRANSACTION_REPLACED,{cancelled:_==="replaced"||_==="cancelled",reason:_,replacement:this._wrapTransaction(v),hash:e,receipt:E}));return}}f++}}l||this.once("block",g)}}),y=>{l||this.once("block",g)}))});if(l)return;this.once("block",g),c.push(()=>{this.removeListener("block",g)})}if(typeof r=="number"&&r>0){const h=setTimeout(()=>{u()||a(hn.makeError("timeout exceeded",be.errors.TIMEOUT,{timeout:r}))},r);h.unref&&h.unref(),c.push(()=>{clearTimeout(h)})}})})}getBlockNumber(){return Yt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Yt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return et.from(e)}catch(n){return hn.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return Yt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Bs({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getBalance",r);try{return et.from(i)}catch(s){return hn.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:s})}})}getTransactionCount(e,n){return Yt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Bs({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getTransactionCount",r);try{return et.from(i).toNumber()}catch(s){return hn.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:s})}})}getCode(e,n){return Yt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Bs({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getCode",r);try{return on(i)}catch(s){return hn.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:s})}})}getStorageAt(e,n,r){return Yt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Bs({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(n).then(o=>SM(o))}),s=yield this.perform("getStorageAt",i);try{return on(s)}catch(o){return hn.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,n,r){if(n!=null&&Dm(n)!==32)throw new Error("invalid response - sendTransaction");const i=e;return n!=null&&e.hash!==n&&hn.throwError("Transaction hash mismatch from Provider.sendTransaction.",be.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),i.wait=(s,o)=>Yt(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&r!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&hn.throwError("transaction failed",be.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return Yt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(s=>on(s)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(r,s,i)}catch(s){throw s.transaction=r,s.transactionHash=r.hash,s}})}_getTransactionRequest(e){return Yt(this,void 0,void 0,function*(){const n=yield e,r={};return["from","to"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?et.from(s):null))}),["type"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s??null))}),n.accessList&&(r.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?on(s):null))}),this.formatter.transactionRequest(yield Bs(r))})}_getFilter(e){return Yt(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(n[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(n[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield Bs(n))})}_call(e,n,r){return Yt(this,void 0,void 0,function*(){r>=_Ue&&hn.throwError("CCIP read exceeded maximum redirections",be.errors.SERVER_ERROR,{redirects:r,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:n});if(r>=0&&n==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Dm(s)%32===4)try{const o=na(s,4),a=na(o,0,32);et.from(a).eq(i)||hn.throwError("CCIP Read sender did not match",be.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],l=et.from(na(o,32,64)).toNumber(),u=et.from(na(o,l,l+32)).toNumber(),d=na(o,l+32);for(let w=0;w<u;w++){const b=H7(d,w*32);b==null&&hn.throwError("CCIP Read contained corrupt URL string",be.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(b)}const h=W6(o,64);et.from(na(o,100,128)).isZero()||hn.throwError("CCIP Read callback selector included junk",be.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const f=na(o,96,100),g=W6(o,128),m=yield this.ccipReadFetch(e,h,c);m==null&&hn.throwError("CCIP Read disabled or provided no URLs",be.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const y={to:i,data:Mc([f,Eie([m,g])])};return this._call(y,n,r+1)}catch(o){if(o.code===be.errors.SERVER_ERROR)throw o}try{return on(s)}catch(o){return hn.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:s,error:o})}})}call(e,n){return Yt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Bs({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return Yt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Bs({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",n);try{return et.from(r)}catch(i){return hn.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:r,error:i})}})}_getAddress(e){return Yt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&hn.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&hn.throwError("ENS name not configured",be.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return Yt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const i={includeTransactions:!!n};if(vr(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),vr(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{hn.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return B6(()=>Yt(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(n){let o=null;for(let c=0;c<s.transactions.length;c++){const l=s.transactions[c];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-l.blockNumber+1;u<=0&&(u=1),l.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Yt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return B6(()=>Yt(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Yt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return B6(()=>Yt(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Yt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Bs({filter:this._getFilter(e)}),r=yield this.perform("getLogs",n);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),xt.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return Yt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Yt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&hn.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return Yt(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const r=yield this._getResolver(n,"getResolver");if(r!=null){const i=new Cie(this,r,e);return n!==e&&!(yield i.supportsWildcard())?null:i}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return Yt(this,void 0,void 0,function*(){n==null&&(n="ENS");const r=yield this.getNetwork();r.ensAddress||hn.throwError("network does not support ENS",be.errors.UNSUPPORTED_OPERATION,{operation:n,network:r.name});try{const i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+P7(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Yt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(vr(e))throw r}typeof e!="string"&&hn.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return Yt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"lookupAddress");if(r==null)return null;const i=H7(yield this.call({to:r,data:"0x691f3431"+P7(n).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Yt(this,void 0,void 0,function*(){let n=null;if(vr(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;n=new Cie(this,o,s);try{const a=yield n.getAvatar();if(a)return a.url}catch(a){if(a.code!==be.errors.CALL_EXCEPTION)throw a}try{const a=H7(yield this.call({to:o,data:"0x691f3431"+P7(s).substring(2)}),0);n=yield this.getResolver(a)}catch(a){if(a.code!==be.errors.CALL_EXCEPTION)throw a;return null}}else if(n=yield this.getResolver(e),!n)return null;const r=yield n.getAvatar();return r==null?null:r.url})}perform(e,n){return hn.throwError(e+" not implemented",be.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,r){const i=new IUe(rv(e),n,r);return this._events.push(i),this._startEvent(i),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let r=!1,i=[],s=rv(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,n)},0),r=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),r}listenerCount(e){if(!e)return this._events.length;let n=rv(e);return this._events.filter(r=>r.tag===n).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let n=rv(e);return this._events.filter(r=>r.tag===n).map(r=>r.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const r=[];let i=!1,s=rv(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=n||i?!0:(i=!0,r.push(o),!1)),r.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const r=rv(e);this._events=this._events.filter(i=>i.tag!==r?!0:(n.push(i),!1))}return n.forEach(r=>{this._stopEvent(r)}),this}}var Sf=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Bi=new be(L7),NUe=["call","estimateGas"];function q6(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=vr(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const r=q6(t[n],e);if(r)return r}return null}if(typeof t=="string")try{return q6(JSON.parse(t),e)}catch{}return null}function _ie(t,e,n){const r=n.transaction||n.signedTransaction;if(t==="call"){const s=q6(e,!0);if(s)return s.data;Bi.throwError("missing revert data in call exception; Transaction reverted without a reason string",be.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(t==="estimateGas"){let s=q6(e.body,!1);s==null&&(s=q6(e,!1)),s&&Bi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",be.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:r,error:e})}let i=e.message;throw e.code===be.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Bi.throwError("insufficient funds for intrinsic transaction cost",be.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),i.match(/nonce (is )?too low/i)&&Bi.throwError("nonce has already been used",be.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Bi.throwError("replacement fee too low",be.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),i.match(/only replay-protected/i)&&Bi.throwError("legacy pre-eip-155 transactions not supported",be.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:r}),NUe.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Bi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",be.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}function Aie(t){return new Promise(function(e){setTimeout(e,t)})}function OUe(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function H6(t){return t&&t.toLowerCase()}const ij={};class Sie extends Fne{constructor(e,n,r){if(super(),e!==ij)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");yn(this,"provider",n),r==null&&(r=0),typeof r=="string"?(yn(this,"_address",this.provider.formatter.address(r)),yn(this,"_index",null)):typeof r=="number"?(yn(this,"_index",r),yn(this,"_address",null)):Bi.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return Bi.throwError("cannot alter JSON-RPC Signer connection",be.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new RUe(ij,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Bi.throwError("unknown account #"+this._index,be.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=La(e);const n=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=La(e);r.from=n,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>Sf(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.provider.resolveName(r);return i==null&&Bi.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),Bs({tx:Bs(e),sender:n}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&Bi.throwArgumentError("from address mismatch","transaction",e):r.from=i;const s=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&Bi.throwError("user rejected transaction",be.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),_ie("sendTransaction",o,s)))})}signTransaction(e){return Bi.throwError("signing transactions is unsupported",be.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Sf(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield B6(()=>Sf(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,n)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return Sf(this,void 0,void 0,function*(){const n=typeof e=="string"?Ef(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[on(n),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Bi.throwError("user rejected signing",be.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return Sf(this,void 0,void 0,function*(){const n=typeof e=="string"?Ef(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),on(n)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Bi.throwError("user rejected signing",be.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,n,r){return Sf(this,void 0,void 0,function*(){const i=yield Dc.resolveNames(e,n,r,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Dc.getPayload(i.domain,n,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&Bi.throwError("user rejected signing",be.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:n,value:i.value}}),o}})}unlock(e){return Sf(this,void 0,void 0,function*(){const n=this.provider,r=yield this.getAddress();return n.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class RUe extends Sie{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(n,r)}))}}const MUe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class jUe extends PUe{constructor(e,n){let r=n;r==null&&(r=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(r),e||(e=T6(this.constructor,"defaultUrl")()),typeof e=="string"?yn(this,"connection",Object.freeze({url:e})):yn(this,"connection",Object.freeze(La(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Sf(this,void 0,void 0,function*(){yield Aie(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=T6(this.constructor,"getNetwork");try{return n(et.from(e).toNumber())}catch(r){return Bi.throwError("could not detect network",be.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return Bi.throwError("could not detect network",be.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Sie(ij,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const r={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:P6(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=zM(this.connection,JSON.stringify(r),OUe).then(o=>(this.emit("debug",{action:"response",request:r,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:r,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[H6(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[H6(n.address),n.blockTag]];case"getCode":return["eth_getCode",[H6(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[H6(n.address),fi(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[T6(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[T6(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=H6(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return Sf(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=n.transaction;if(i&&i.type!=null&&et.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=La(n),n.transaction=La(i),delete n.transaction.type)}}const r=this.prepareRequest(e,n);r==null&&Bi.throwError(e+" not implemented",be.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return _ie(e,i,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(s){if(e._pendingFilter!=n)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return Aie(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const r=La(MUe);if(n)for(const s in n)n[s]&&(r[s]=!0);eDe(e,r);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=SM(et.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=on(e[s]))}),e.accessList&&(i.accessList=U6(e.accessList)),i}}var DUe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const LUe=new be(L7);class BUe extends jUe{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return DUe(this,void 0,void 0,function*(){let n=this.network;return n==null&&(n=yield e.detectNetwork.call(this),n||LUe.throwError("no network detected",be.errors.UNKNOWN_ERROR,{}),this._network==null&&(yn(this,"_network",n),this.emit("network",n,null))),n})}}function sj(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")return t;if(typeof t.toHexString=="function")return t.toHexString();throw Error(`Expected numeric value but received ${t}`)}const Iie=t=>[kl.id,y7.id].includes(t),UUe=async(t,e)=>{if(!Iie(t.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(t.type===void 0&&(t.type=2),t.maxFeePerGas)return t;try{let{lastBaseFeePerGas:n}=await e.getFeeData();if(n){let r=n.mul(et.from(120)).div(et.from(100));t.maxFeePerGas=sj(r),t.maxPriorityFeePerGas=sj(et.from(0))}}catch(n){throw Error(`Failed to set gas price for Arbitrum transaction: ${n}.`)}return t},kie=t=>[56,97].includes(t),FUe=async(t,e)=>{var n;if(!kie(t.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(t.type===void 0?t.type=0:(t.type==1||t.type==2)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!t.gasPrice){let r=await e.getFeeData();t.gasPrice=(n=r.gasPrice)==null?void 0:n.toHexString()}return t},$ie=t=>[$l.id,w7.id,zd.id,b7.id,pM.id,Tne.id,$ne.id,81457,168587773].includes(t),zUe=async(t,e)=>{if(!$ie(t.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(t.type===void 0&&(t.type=2),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{if(!t.maxPriorityFeePerGas){let n=await e.send("eth_maxPriorityFeePerGas",[]);t.maxPriorityFeePerGas=n}if(t.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),t.maxPriorityFeePerGas>=t.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!t.maxFeePerGas){let{lastBaseFeePerGas:n}=await e.getFeeData();if(!n)throw Error("Unable to fetch baseFee for last block.");let r=et.from(n).mul(et.from(126)).div(et.from(100)).add(et.from(t.maxPriorityFeePerGas));t.maxFeePerGas=sj(r)}}catch(n){throw Error(`Failed to set gas price for OP stack transaction: ${n}.`)}return t},WUe="units/5.8.0",qUe=new be(WUe),HUe=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Tie(t,e){if(typeof t!="string"&&qUe.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=HUe.indexOf(e);n!==-1&&(e=3*n)}return Wd(t,e??18)}var Pie={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ea,function(){var n=function(s,o){if(o=o||{},typeof s!="function")throw new i("fetch must be a function");if(typeof o!="object")throw new i("defaults must be an object");if(o.retries!==void 0&&!r(o.retries))throw new i("retries must be a positive integer");if(o.retryDelay!==void 0&&!r(o.retryDelay)&&typeof o.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(o.retryOn!==void 0&&!Array.isArray(o.retryOn)&&typeof o.retryOn!="function")throw new i("retryOn property expects an array or function");var a={retries:3,retryDelay:1e3,retryOn:[]};return o=Object.assign(a,o),function(l,u){var d=o.retries,h=o.retryDelay,f=o.retryOn;if(u&&u.retries!==void 0)if(r(u.retries))d=u.retries;else throw new i("retries must be a positive integer");if(u&&u.retryDelay!==void 0)if(r(u.retryDelay)||typeof u.retryDelay=="function")h=u.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(u&&u.retryOn)if(Array.isArray(u.retryOn)||typeof u.retryOn=="function")f=u.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(g,m){var y=function(b){var v=typeof Request<"u"&&l instanceof Request?l.clone():l;s(v,u).then(function(E){if(Array.isArray(f)&&f.indexOf(E.status)===-1)g(E);else if(typeof f=="function")try{return Promise.resolve(f(b,null,E)).then(function(_){_?w(b,null,E):g(E)}).catch(m)}catch(_){m(_)}else b<d?w(b,null,E):g(E)}).catch(function(E){if(typeof f=="function")try{Promise.resolve(f(b,E,null)).then(function(_){_?w(b,E,null):m(E)}).catch(function(_){m(_)})}catch(_){m(_)}else b<d?w(b,E,null):m(E)})};function w(b,v,E){var _=typeof h=="function"?h(b,v,E):h;setTimeout(function(){y(++b)},_)}y(0)})}};function r(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return n})})(Pie);var VUe=Pie.exports;const oj=Vo(VUe);let KUe=oj(fetch,{retries:3,retryDelay:500});const Nie=t=>[ja.id,k6.id].includes(t);let aj=t=>({maxPriorityFee:Tie(t.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:Tie(t.maxFee.toFixed(9),"gwei").toHexString()}),GUe=t=>({safeLow:aj(t.safeLow),standard:aj(t.standard),fast:aj(t.fast)});const ZUe=async t=>{let e="";switch(t){case ja.id:e="https://gasstation.polygon.technology/v2";break;case k6.id:e="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${t} does not support polygon gas stations`)}let n=await KUe(e),r=await n.json();if(n.status>399)throw r;return GUe(r)};async function YUe(t){if(!Nie(t.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(t.type===void 0&&(t.type=2),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{let{standard:e}=await ZUe(t.chainId);t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=e.maxPriorityFee),t.maxFeePerGas||(t.maxFeePerGas=e.maxFee),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return t}const JUe=async(t,e)=>{var n,r,i;if(t.type===void 0&&(t.type=2),t.type===2){if(!t.maxFeePerGas||!t.maxPriorityFeePerGas){let s=await e.getFeeData();t.maxFeePerGas||(t.maxFeePerGas=(n=s.maxFeePerGas)==null?void 0:n.toHexString()),t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=(r=s.maxPriorityFeePerGas)==null?void 0:r.toHexString())}}else if(!t.gasPrice){let s=await e.getFeeData();t.gasPrice=(i=s.gasPrice)==null?void 0:i.toHexString()}return t};async function QUe(t,e){try{return(await e.estimateGas(t)).toHexString()}catch(n){let r;if("message"in n&&n.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'value'`),r=await async function({txRequest:i,provider:s}){try{let o={...i,value:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'value'`),null}}({txRequest:t,provider:e})),r||(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from'`),r=await async function({txRequest:i,provider:s}){try{let o={...i,from:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'from' address`),null}}({txRequest:t,provider:e})),!r)throw n;return r}}const Oie=(t,e,n,r)=>{var o,a,c,l;let i=Number(t),s=e.find(u=>u.id===i);if(!s)throw new One(`Unsupported chainId ${t}`,4901);return new BUe(s.rpcUrls.privyWalletOverride&&s.rpcUrls.privyWalletOverride.http[0]?s.rpcUrls.privyWalletOverride.http[0]:n.rpcUrls&&n.rpcUrls[i]?n.rpcUrls[i]:(o=s.rpcUrls.privy)!=null&&o.http[0]?{url:s.rpcUrls.privy.http[0],headers:{"privy-app-id":r.appId}}:(a=s.rpcUrls.public)!=null&&a.http[0]?(c=s.rpcUrls.public)==null?void 0:c.http[0]:(l=s.rpcUrls.default)==null?void 0:l.http[0])},XUe=(t,e,n)=>{var o,a,c;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let l=new URL(t.rpcUrls.privy.http[0]);l.searchParams.append("privyAppId",n),r=l.toString()}else r=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(c=t.rpcUrls.default)==null?void 0:c.http[0];if(!r)throw new One(`No RPC url found for ${i}`);return r};function Rie(t){return/^-?0x[a-f0-9]+$/i.test(t)}function eFe(t){for(let e of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let n=t[e];if(n!==void 0&&!function(r){let i=typeof r=="number",s=typeof r=="bigint",o=typeof r=="string"&&Rie(r);return i||s||o}(n))throw Error(`Transaction request property '${e}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof t.chainId!="number")throw Error("Transaction request property 'chainId' must be a number")}async function Mie(t,e,n){if(e.chainId=Number(e.chainId),eFe(e),e.from||(e.from=t),!e.nonce){let r=new EM(t,n);e.nonce=await r.getTransactionCount("pending")}return e.gasLimit||(e.gas?(e.gasLimit=e.gas,delete e.gas):e.gasLimit=await QUe(e,n)),typeof e.type=="string"&&Rie(e.type)&&(e.type=Number(e.type)),[23294,23295].includes(e.chainId)&&(e.type=0),(e=Nie(e.chainId)?await YUe(e):Iie(e.chainId)?await UUe(e,n):$ie(e.chainId)?await zUe(e,n):kie(e.chainId)?await FUe(e,n):await JUe(e,n)).type===0&&delete e.accessList,e.type!==2&&(delete e.maxPriorityFeePerGas,delete e.maxFeePerGas),e}function tFe({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function jie(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}let nFe=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function rFe(t,e,n,r,i=!1,s,o){var u,d,h;let a=i,c=async f=>{var g;if(a){f===(i?0:1)?r():(g=n.current)==null||g.reject(new x7("missing_or_invalid_mfa","MFA verification failed, retry."));let m=await new Promise((y,w)=>{e.current={resolve:y,reject:w},setTimeout(()=>{var v;let b=new x7("mfa_timeout","Timed out waiting for MFA code");(v=n.current)==null||v.reject(b),w(b)},o)});return await t(m)}return await t()},l=null;for(let f=0;f<s;f++)try{l=await c(f),(u=n.current)==null||u.resolve(void 0);break}catch(g){if(g.type!=="missing_or_invalid_mfa")throw(d=n.current)==null||d.resolve(void 0),g;a=!0}if(l===null){let f=new x7("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(h=n.current)==null||h.reject(f),f}return l}var Die;let iFe=(Die=0,()=>"id-"+Die++),sFe=(t,e)=>typeof e=="bigint"?e.toString():e,E0=(t,{ms:e,msg:n})=>Promise.race([t,jie(e??15e3).then(()=>Promise.reject(Error(n)))]),Lie=new nFe,Bie=class{invokeWithMfa(e,n){return E0(rFe(r=>E0(this.waitForReady().then(()=>e(r)),{msg:n.timeoutMsg,ms:n.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return E0(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return E0(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(n=>this.invoke("privy:wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return E0(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(n=>this.invoke("privy:delegated-actions:consent",{...n,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:verify",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:init-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:unenroll",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return E0(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(n=>this.invoke("privy:user-signer:sign",{...n,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return E0(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:set-recovery",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return E0(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:recover",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:n,resolve:r}=Lie.dequeue(e.event,e.id);return e.error!==void 0?n(new x7(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(n),await jie(150)})}invoke(e,n){let r=((s,o)=>`${s}${JSON.stringify(o,sFe)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(r);if(s)return s}let i=new Promise((s,o)=>{let a=iFe();Lie.enqueue(a,{resolve:s,reject:o}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:a,event:e,data:n}),"*")}).finally(()=>{this.cache.delete(r)});return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var Uie={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function s(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||c,h),g=n?n+l:l;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],f]:c._events[g].push(f):(c._events[g]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,g=new Array(f);h<f;h++)g[h]=d[h].fn;return g},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,g){var m=n?n+l:l;if(!this._events[m])return!1;var y=this._events[m],w=arguments.length,b,v;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,f),!0;case 6:return y.fn.call(y.context,u,d,h,f,g),!0}for(v=1,b=new Array(w-1);v<w;v++)b[v-1]=arguments[v];y.fn.apply(y.context,b)}else{var E=y.length,_;for(v=0;v<E;v++)switch(y[v].once&&this.removeListener(l,y[v].fn,void 0,!0),w){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,u);break;case 3:y[v].fn.call(y[v].context,u,d);break;case 4:y[v].fn.call(y[v].context,u,d,h);break;default:if(!b)for(_=1,b=new Array(w-1);_<w;_++)b[_-1]=arguments[_];y[v].fn.apply(y[v].context,b)}}return!0},a.prototype.on=function(l,u,d){return s(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return s(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&o(this,f);else{for(var m=0,y=[],w=g.length;m<w;m++)(g[m].fn!==u||h&&!g[m].once||d&&g[m].context!==d)&&y.push(g[m]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Uie);var oFe=Uie.exports;const C0=Vo(oFe);let aFe=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];const cFe=t=>aFe.includes(t),V7=t=>/^0x[0-9a-fA-F]*$/.test(t),K7=t=>Buffer.from(t,"utf8"),V6=t=>`0x${t.toString("hex")}`;var lFe=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,o)=>`${i}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(i)}:${t(e[i])}`},"")}}`};const uFe=Vo(lFe);async function dFe(t,e){let n=uFe(e);if(n===void 0)throw new Dn({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Buffer.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function ia(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(vR,{params:{wallet_id:n}}),method:vR.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:s}=await dFe(e,i);return await t.fetchPrivyRoute(vR,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}function hFe(t){return{from:t.from,to:t.to,nonce:Fm(t.nonce),chain_id:Fm(t.chainId),data:function(e){if(e!==void 0)return typeof e=="string"?V7(e)?e:V6(K7(e)):V6(Buffer.from(Uint8Array.from(e)))}(t.data),value:Fm(t.value),type:t.type,gas_limit:Fm(t.gasLimit),gas_price:Fm(t.gasPrice),max_fee_per_gas:Fm(t.maxFeePerGas),max_priority_fee_per_gas:Fm(t.maxPriorityFeePerGas)}}function Fm(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return V7(t)?t:V6(K7(t))}function fFe(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function Fie({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return async function({context:r,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[o]=s.params,a=await ia(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:o.startsWith("0x")?{message:o.slice(2),encoding:"hex"}:{message:o,encoding:"utf-8"}});if(a.method!=="personal_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"eth_signTransaction":{let[o]=s.params,a=await ia(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:hFe(o)}});if(a.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:a.data.signed_transaction}}case"eth_signTypedData_v4":{let[,o]=s.params,a=await ia(r,r.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:fFe(o)}});if(a.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:a.data.signature}}case"eth_sign":{let[,o]=s.params,a=await ia(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:V7(o)?o:V6(K7(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"secp256k1_sign":{let[o]=s.params,a=await ia(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:V7(o)?o:V6(K7(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}}({context:t,account:e,rpcRequest:n.request});case"solana":return async function({context:r,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:o}=s.params,a=await ia(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:o,encoding:"base64"}});if(a.method!=="signMessage")throw Error("Unable to sign message");return{data:a.data.signature}}}({context:t,account:e,rpcRequest:n.request})}}let cj=class extends C0{async request(e){var n,r;if(cFe(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let i=(n=e.params)==null?void 0:n[0];return this.handleSendTransaction(i)}case"eth_populateTransactionRequest":{let i=(r=e.params)==null?void 0:r[0];return this.handlePopulateTransaction(i)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._jsonRpcProvider=Oie(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=this.ensureChainId(e);return Mie(this._account.address,n,this._jsonRpcProvider)}async handleSendTransaction(e){let n=this.ensureChainId(e),r=await Mie(this._account.address,n,this._jsonRpcProvider),i=await this.handleIFrameRpc({method:"eth_signTransaction",params:[r]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[i]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:`0x${this._chainId.toString(16)}`};this.internalSwitchEthereumChain(n.chainId);try{return await this._jsonRpcProvider.send("eth_estimateGas",[n])}catch(r){console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'from' address`);try{return delete n.from,await this._jsonRpcProvider.send("eth_estimateGas",[n])}catch(i){throw console.warn(`Gas estimation failed with error: ${i} when omitting the 'from' address`),r}}}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Rne(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Rne(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(m0(r)){let{data:i}=await Fie({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let s=yM(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!s||!this._onNeedsRecovery)throw i;{let o;await new Promise(async(a,c)=>{var l;o=setTimeout(()=>c(new Dn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((l=this._onNeedsRecovery)==null?void 0:l.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>a(!0)}))}).finally(()=>clearTimeout(o))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Dn({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._jsonRpcProvider.send(e.method,e.params??[])}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,chains:o,onNeedsRecovery:a,chainId:c=o[0].id,appApi:l}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=c,this._chains=o,this._onNeedsRecovery=a,this._jsonRpcProvider=Oie(c,o,{rpcUrls:[]},{appId:l.appId}),this._appApi=l}};function lj(t){return"version"in t}function zie(t,e){let n=(lj(t)?t.message:t.compileMessage()).staticAccountKeys.find(r=>r.toBase58()===e);if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let pFe=class{async request(e){if(!await this._privyInternal.getAccessToken())throw new Dn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=yM(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise(async(s,o)=>{var a;i=setTimeout(()=>o(new Dn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((a=this._onNeedsRecovery)==null?void 0:a.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)}))}).finally(()=>clearTimeout(i))}}}}async signMessageRpc(e,n){let r=this._account;if(!m0(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await Fie({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Dn({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:s}=e.params,o=zie(r,this._account.address),a=lj(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:c}=await this.signMessageRpc({method:"signMessage",params:{message:a.toString("base64")}},n);return r.addSignature(o,Buffer.from(c,"base64")),{signature:await i.sendRawTransaction(r.serialize(),s)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Dn({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=zie(r,this._account.address),s=lj(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:o}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},n);return r.addSignature(i,Buffer.from(o,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new Dn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:o,app:a}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=o,this._app=a}},gFe=class{setMessagePoster(e){this._proxy=new Bie(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessToken();if(!n)throw new Dn({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){var r;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((r=this._privyInternal.config)==null?void 0:r.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await vM({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:e.chainType});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Dn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:i,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return m0(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new Vje({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAccount:a,skipCallbacks:c}){var l,u;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((l=this._privyInternal.config)==null?void 0:l.embedded_wallet_config.mode)==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new Dn({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await vM({context:{app:this._appApi,fetchPrivyRoute:(...d)=>this._privyInternal.fetch(...d),getCompiledPath:(...d)=>this._privyInternal.getPath(...d)},chainType:"ethereum"})}else{let d;if(d=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(d==="privy"&&((u=this._privyInternal.config)!=null&&u.embedded_wallet_config.require_user_password_on_create))throw Error("Password not provided yet is required by App configuration");let h=await this._privyInternal.getAccessToken();if(!h)throw Error("User must be logged in to create an embedded wallet");let{address:f}=await this._proxy.create({accessToken:h,recoveryMethod:d,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAddress:a==null?void 0:a.address});if(!f)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(c)}async createSolana(e){var n,r;if(!this._proxy)throw new Dn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(((n=this._privyInternal.config)==null?void 0:n.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await vM({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:"solana"});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Dn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e!=null&&e.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:s}=await this._proxy.createSolana({accessToken:i,ethereumAddress:(r=e==null?void 0:e.ethereumAccount)==null?void 0:r.address});if(!s)throw new Dn({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new Dn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessToken();if(!r)throw new Dn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return m0(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:s,recoveryAccessToken:r,recoverySecretOverride:i}),new cj({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a,onNeedsRecovery:c}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return m0(e)||(!c||i||s||o||a)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a}),new cj({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:c,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,s,o,a){if(!this._proxy)throw new Dn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return m0(e)||(!a||i||s||o)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new pFe({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:a,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(m0(n))throw new Dn({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});tFe({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessToken();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});try{let o;if(r.recoveryMethod==="user-passcode")o={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")o={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")o={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")o={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")o={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);o={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...o}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});let{user:a}=await this._privyInternal.refreshSession();return{user:a,provider:n.chain_type!=="ethereum"?null:new cj({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(o){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:o instanceof Error?o.message:"Unable to recover wallet"}),o}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:o,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let c=await this._privyInternal.getAccessToken();if(!c)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:c,entropyId:e,entropyIdVerifier:n}),e}catch(l){if(yM(l))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,recoveryAccessToken:o,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="icloud"&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let u=await this._proxy.recover({accessToken:c,recoverySecretOverride:a,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),u.entropyId}if(r.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,recoveryKey:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}}catch(u){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:u instanceof Error?u.message:`Unable to recover wallet: ${e}`}),u}throw l}}constructor(e,n,r,i,s,o){if(this._chains=Array.from($6),this._privyInternal=e,n&&(this._proxy=new Bie(n,s),i.setProxy(this._proxy)),r){let a=Nne(r);this._chains=a}this._mfa=i,this._mfaPromises=s,this._appApi=o}},mFe=class extends C0{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var G7,yFe=new Uint8Array(16);function wFe(){if(!G7&&(G7=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!G7))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return G7(yFe)}const vFe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function bFe(t){return typeof t=="string"&&vFe.test(t)}for(var Ws=[],uj=0;uj<256;++uj)Ws.push((uj+256).toString(16).substr(1));function xFe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ws[t[e+0]]+Ws[t[e+1]]+Ws[t[e+2]]+Ws[t[e+3]]+"-"+Ws[t[e+4]]+Ws[t[e+5]]+"-"+Ws[t[e+6]]+Ws[t[e+7]]+"-"+Ws[t[e+8]]+Ws[t[e+9]]+"-"+Ws[t[e+10]]+Ws[t[e+11]]+Ws[t[e+12]]+Ws[t[e+13]]+Ws[t[e+14]]+Ws[t[e+15]]).toLowerCase();if(!bFe(n))throw TypeError("Stringified UUID is invalid");return n}function Z7(t,e,n){t=t||{};var r=t.random||(t.rng||wFe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,xFe(r)}/*! js-cookie v3.0.5 | MIT */function Y7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var EFe={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function dj(t,e){function n(i,s,o){if(!(typeof document>"u")){o=Y7({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,o[c]!==!0&&(a+="="+o[c].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var c=s[a].split("="),l=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(o[u]=t.read(l,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Y7({},s,{expires:-1}))},withAttributes:function(i){return dj(this.converter,Y7({},this.attributes,i))},withConverter:function(i){return dj(Y7({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Ci=dj(EFe,{path:"/"});const Wie=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map(e=>e.then(n=>({status:"fulfilled",value:n})).catch(n=>({status:"rejected",reason:n})))));let iv="privy:token",hj="privy-token",J7="privy:refresh_token",fj="privy-refresh-token",sv="privy:id-token",pj="privy-id-token",Q7="privy-session",qie=class extends C0{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(iv);try{return typeof e=="string"?new I6(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(J7);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(sv);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=Ci.get(Q7);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=I6.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await Wie([this._storage.del(iv),this._storage.del(J7),this._storage.del(sv),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),Ci.remove(hj),Ci.remove(fj),Ci.remove(pj),Ci.remove(Q7),e!=null&&e.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(iv);if(await this._storage.put(iv,e),!this._isUsingServerCookies){let i=(n=I6.parse(e))==null?void 0:n.expiration;Ci.set(hj,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(iv);await this._storage.del(iv),Ci.remove(hj),r!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(J7,e),this._isUsingServerCookies||(Ci.set(Q7,"t",{sameSite:"Strict",secure:!0,expires:30}),Ci.set(fj,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(J7),Ci.remove(fj),Ci.remove(Q7),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await Wie([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(r=>r.status==="rejected");n.length>0&&this.emit("error_storing_tokens",n.map(r=>String(r.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(sv);if(await this._storage.put(sv,e),!this._isUsingServerCookies){let i=(n=I6.parse(e))==null?void 0:n.expiration;Ci.set(pj,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(sv);await this._storage.del(sv),Ci.remove(pj),r!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=Mm(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};qie.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var CFe=t=>{let e=new AbortController;return setTimeout(()=>e.abort(),t),e.signal};function _Fe(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const X7=()=>{};let _0={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const AFe=({level:t}={level:"ERROR"})=>({get level(){return t},error:_0[t]>=_0.ERROR?console.error:X7,warn:_0[t]>=_0.WARN?console.warn:X7,info:_0[t]>=_0.INFO?console.info:X7,debug:_0[t]>=_0.DEBUG?console.debug:X7});let gj="privy:caid",SFe=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){var e,n,r,i,s;if(this.isReady)(n=(e=this.callbacks)==null?void 0:e.setIsReady)==null||n.call(e,!0);else{if(!await this.isStorageAccessible())throw new Dn({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),(r=this._config)!=null&&r.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),(s=(i=this.callbacks)==null?void 0:i.setIsReady)==null||s.call(i,!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${YTe(e.path,n)}${_Fe(r)}`}async fetch(e,{body:n,params:r,query:i,headers:s,onRequest:o=this._beforeRequest.bind(this)}){let a=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:s}),c=await o(a),l=await this._fetch(a,c),u=await l.json();if(l.status>299)throw new mM(u);return u}async _beforeRequestWithoutInitialize(e){let n=await this.session.getToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:CFe(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(uTe,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(gj);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=Z7()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(gj,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(gj)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(lTe,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new Dn({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(n,e);this._cache.set(r,s);try{return await s}finally{this._cache.delete(r)}}async _refreshSession(e,n){var i,s,o,a,c,l;let r=await this.session.getToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new mM({code:Xee.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${Jee.path}`);let u=await this.fetch(Jee,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),d=u.session_update_action;return this.logger.debug(`[privy:refresh] response: ${d}`),n||((s=(i=this.callbacks)==null?void 0:i.setUser)==null||s.call(i,u.user)),d==="set"&&(await this.session.updateWithTokensResponse(u),this.logger.debug("[privy:refresh] tokens stored")),d==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||((a=(o=this.callbacks)==null?void 0:o.setUser)==null||a.call(o,null))),d==="ignore"&&u.token&&(await this.session.storeToken(u.token),this.logger.debug("[privy:refresh] access token stored"),u.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(u.identity_token))),this.logger.debug("[privy:refresh] returning response"),u}catch(u){throw this.logger.debug(`[privy:refresh] error: ${u.message??"unknown error"}`),u instanceof mM&&u.code===Xee.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||((l=(c=this.callbacks)==null?void 0:c.setUser)==null||l.call(c,null))),u}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${Z7()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.55.0",this._cache=new Map,this.logger=AFe({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new qie({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=oj(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})})}},IFe=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(aPe,{})}}constructor(e){this._privyInternal=e}};const Hie=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",Vie=t=>t?t.linked_accounts.filter(Hie).filter(e=>e.chain_type==="ethereum").sort((e,n)=>e.wallet_index-n.wallet_index):[],Kie=t=>Vie(t).find(e=>e.wallet_index===0)??null,Gie=t=>t?t.linked_accounts.filter(Hie).filter(e=>e.chain_type==="solana").sort((e,n)=>e.wallet_index-n.wallet_index):[],kFe=t=>Gie(t).find(e=>e.wallet_index===0)??null,$Fe=(t,e)=>!(e==="off"||Vie(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="ethereum").length>0&&e!=="all-users"),TFe=(t,e)=>!(e==="off"||Gie(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="solana").length>0&&e!=="all-users"),Wu=async(t,e,n)=>{var s,o;let r=$Fe(e.user,((s=n==null?void 0:n.ethereum)==null?void 0:s.createOnLogin)??"off"),i=TFe(e.user,((o=n==null?void 0:n.solana)==null?void 0:o.createOnLogin)??"off");if(r&&i){let a=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:Kie(a.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:kFe(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:Kie(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let PFe=class{async syncWithToken(e,n,r){var o,a;let i=await this._privyInternal.fetch(pTe,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await Wu(this._embedded,i,n==null?void 0:n.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}constructor(e,n){this._privyInternal=e,this._embedded=n}},NFe=class{async sendCode(e,n){return this._privyInternal.fetch(jTe,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){var a,c;let s=await this._privyInternal.fetch(MTe,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Wu(this._embedded,s,i==null?void 0:i.embedded);return(c=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||c.call(a,o.user),o}async linkWithCode(e,n){await this._privyInternal.fetch(DTe,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(BTe,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(LTe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},OFe=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(gTe,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(vTe,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:s},o){var l,u;let a=await this._privyInternal.fetch(mTe,{body:{channel_token:e,message:n,signature:r,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(a);let c=await Wu(this._embedded,a,o==null?void 0:o.embedded);return(u=(l=this._privyInternal.callbacks)==null?void 0:l.setUser)==null||u.call(l,c.user),c}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(yTe,{body:{channel_token:e,message:n,signature:r,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(wTe,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},RFe=class{async initializeAuth(){return await this._privyInternal.fetch(bTe,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){var a,c;let s=await this._privyInternal.fetch(xTe,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Wu(this._embedded,s,i==null?void 0:i.embedded);return(c=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||c.call(a,o.user),o}constructor(e,n){this._privyInternal=e,this._embedded=n}},MFe=class{async create(e){var s,o;let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(ETe,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await Wu(this._embedded,r,e==null?void 0:e.embedded);return(o=(s=this._privyInternal.callbacks)==null?void 0:s.setUser)==null||o.call(s,i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const A0="privy:state_code",S0="privy:code_verifier";async function jFe(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function DFe(t){return crypto.getRandomValues(new Uint8Array(t))}function mj(){return Mm(DFe(36))}function Zie(){return mj()}async function Yie({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await jFe(t,n);return Mm(r)}}let LFe=class{async generateURL(e,n){var o;let r=mj(),i=Zie(),s=await Yie({codeVerifier:r,digest:(o=this._crypto)==null?void 0:o.digest});return await Promise.all([this._storage.put(S0,r),this._storage.put(A0,i)]),this._privyInternal.fetch(STe,{body:{redirect_to:n,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,n,r,i,s,o){var d,h;let[a,c]=await Promise.all([this._storage.get(S0),this._storage.get(A0)]);if(c!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:c??"",returnedStateCode:n??""}),new Dn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let l=await this._privyInternal.fetch(ATe,{body:{authorization_code:e,code_type:i,state_code:c,code_verifier:a,mode:s}});await this._privyInternal.session.updateWithTokensResponse(l);let u=await Wu(this._embedded,l,o==null?void 0:o.embedded);return await Promise.all([this._storage.del(S0),this._storage.del(A0)]),(h=(d=this._privyInternal.callbacks)==null?void 0:d.setUser)==null||h.call(d,u.user),u}async linkWithCode(e,n,r,i){let[s,o]=await Promise.all([this._storage.get(S0),this._storage.get(A0)]);if(o!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:o??"",returnedStateCode:n??""}),new Dn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(ITe,{body:{authorization_code:e,code_type:i,state_code:o,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(a.oauth_tokens);let c=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(S0),this._storage.del(A0)]),{user:c.user,identity_token:c.identity_token}}async unlink(e,n){await this._privyInternal.fetch(kTe,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},BFe=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(RTe,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(NTe,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(OTe,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){var a,c;let s=await this._privyInternal.fetch(TTe,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Wu(this._embedded,s,i==null?void 0:i.embedded);return(c=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||c.call(a,o.user),o}async signupWithPasskey(e,n,r){var o,a;let i=await this._privyInternal.fetch(PTe,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await Wu(this._embedded,i,r==null?void 0:r.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}async linkWithPasskey(e,n){await this._privyInternal.fetch($Te,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},UFe=class{async sendCode(e,n){return this._privyInternal.fetch(FTe,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){var a,c;let s=await this._privyInternal.fetch(UTe,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Wu(this._embedded,s,i==null?void 0:i.embedded);return(c=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||c.call(a,o.user),o}async linkWithCode(e,n){await this._privyInternal.fetch(zTe,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(qTe,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(WTe,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},FFe=class{async unlinkWallet(e){await this._privyInternal.fetch(nPe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,s=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(ePe,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType,connectorType:i.connectorType}});let o=await this._privyInternal.refreshSession();return{user:o.user,identity_token:o.identity_token}}async loginWithSiwe(e,n,r,i,s){var u,d;let o=n||this._wallet,a=r||this._preparedMessage;if(!o)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!a)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let c=await this._privyInternal.fetch(XTe,{body:{signature:e,message:a,chainId:o.chainId,walletClientType:o.walletClientType,connectorType:o.connectorType,mode:i}});await this._privyInternal.session.updateWithTokensResponse(c);let l=await Wu(this._embedded,c,s==null?void 0:s.embedded);return(d=(u=this._privyInternal.callbacks)==null?void 0:u.setUser)==null||d.call(u,l.user),l}async init(e,n,r){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(Qee,{body:{address:e.address}}),o=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:s,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=o,{nonce:s,message:o}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},zFe=class{async unlink({address:e}){await this._privyInternal.fetch(oPe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(sPe,{body:{message:e,signature:n,walletClientType:r,connectorType:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:s,opts:o}){var l,u;let a=await this._privyInternal.fetch(iPe,{body:{signature:r,message:n,walletClientType:i,connectorType:s,mode:e}});await this._privyInternal.session.updateWithTokensResponse(a);let c=await Wu(this._embedded,a,o==null?void 0:o.embedded);return(u=(l=this._privyInternal.callbacks)==null?void 0:l.setUser)==null||u.call(l,c.user),c}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(rPe,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},WFe=class{async link(e,n,r,i){await this._privyInternal.fetch(tPe,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(Qee,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},qFe=class{async logout(){var e,n;try{let r=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(JTe,{body:{refresh_token:r}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),(n=(e=this._privyInternal.callbacks)==null?void 0:e.setUser)==null||n.call(e,null)}constructor(e,n,r,i){this._privyInternal=e,this.customProvider=new PFe(this._privyInternal,n),this.phone=new UFe(this._privyInternal,n),this.email=new NFe(this._privyInternal,n),this.oauth=new LFe(this._privyInternal,n,r,i),this.guest=new MFe(this._privyInternal,n),this.siwe=new FFe(this._privyInternal,n),this.siws=new zFe(this._privyInternal,n),this.smartWallet=new WFe(this._privyInternal),this.passkey=new BFe(this._privyInternal,n),this.farcaster=new OFe(this._privyInternal,n),this.farcasterV2=new RFe(this._privyInternal,n)}},HFe=class{async initOnRampSession(e){return await this._privyInternal.fetch(dTe,{body:e})}async getStatus(e){return await this._privyInternal.fetch(hTe,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const VFe={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let KFe=new Set([Tl.id,kl.id,$l.id,ja.id,Ww.id,v7.id]),GFe=new Set([Tl.id,kl.id,zd.id,$l.id,ja.id]);function ZFe(t,e){switch(e){case"native-currency":return KFe.has(t);case"USDC":return GFe.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function YFe(t,e){switch(t){case kl.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case Ww.id:return"AVAX_CCHAIN";case $l.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case v7.id:return"CELO_CELO";case ja.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case Tl.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let JFe=class{async sign(e){return await this._privyInternal.fetch(cPe,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=VFe[n?"sandbox":"prod"],s=await oj(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new Hje({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let o=await s.json();return Array.isArray(o)?o.at(0):void 0}constructor(e){this._privyInternal=e}},QFe=class{constructor(e){this.moonpay=new JFe(e),this.coinbase=new HFe(e)}},XFe=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(CTe,{body:e})}constructor(e){this._privyInternal=e}},eze=class{async sendCode(e){return await this._privyInternal.fetch(_Te,{body:e})}constructor(e){this._privyInternal=e}},tze=class{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new Dn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new Dn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new Dn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new Dn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new Dn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new Dn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new eze(e),this.passkey=new XFe(e)}},nze=class{async init(e){return this._privyInternal.fetch(GTe,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(ZTe,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},rze=class{async generateURL(e){var s;let n=mj(),r=Zie(),i=await Yie({codeVerifier:n,digest:(s=this._crypto)==null?void 0:s.digest});return await Promise.all([this._storage.put(S0,n),this._storage.put(A0,r)]),this._privyInternal.fetch(VTe,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(S0),this._storage.get(A0)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new Dn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(KTe,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(S0),this._storage.del(A0)]),s}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},ize=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(HTe,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new rze(this._privyInternal,n,r),this.icloudAuth=new nze(this._privyInternal)}},sze=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new SFe({...n,appClientId:e}),this.mfa=new tze(this._privyInternal),this.mfaPromises=new mFe,this.app=new _je(this._privyInternal),this.embeddedWallet=new gFe(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new IFe(this._privyInternal),this.auth=new qFe(this._privyInternal,this.embeddedWallet,n.storage,n.crypto),this.recovery=new ize(this._privyInternal,n.storage,n.crypto),this.funding=new QFe(this._privyInternal),this.delegated=new Rje(this._privyInternal),this.crossApp=new Ine(this._privyInternal,n.storage)}};const oze={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},Jie={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["16|[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["18[06]","18[06]0"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-3]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function e_(t,e){var n=Array.prototype.slice.call(e);return n.push(Jie),t.apply(this,n)}function aze(){return e_(mOe,arguments)}function K6(t){return Kte.call(this,t,Jie)}K6.prototype=Object.create(Kte.prototype,{}),K6.prototype.constructor=K6;function cze(){return e_(RRe,arguments)}function yj(){return e_(e7,arguments)}function lze(){return e_(MRe,arguments)}const t_=(t,e)=>aze(String(t),e),wj=(t,e)=>`+${yj(e)} ${t}`,uze=t=>`*${t.replaceAll("-","").slice(-4)}`,dze=t=>new K6(t),hze=cze().map(t=>({code:t,callCode:yj(t)})),fze=t=>{var n;let e=(n=lze(t,oze))==null?void 0:n.formatInternational();return e==null?void 0:e.substring(e.indexOf(" ")+1)},pze=t=>{let e=new K6;e.input(t);let n=e.getCountry()||"US",r=e.getCallingCode()||"1";return{countryCode:n,phone:t.replace("+"+r,"")}},gze=(t,e=!0)=>t.reduce((n,r)=>({...n,[r]:e}),{}),mze={[Tl.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[fM.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[zd.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[b7.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[ja.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[k6.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[$l.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[w7.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Ww.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[hM.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[kl.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[y7.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},n_={"mainnet-beta":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",devnet:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",testnet:""};let yze=new Set([Tl.id,$l.id,zd.id,ja.id,kl.id]),wze=new Set([Tl.id,$l.id,ja.id,zd.id,kl.id]),vze={buy:"CARD",send:"CRYPTO_ACCOUNT"},bze={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};Tl.id+"",$l.id+"",zd.id+"",ja.id+"",kl.id+"";function xze({appId:t,input:e,amount:n,blockchain:r,asset:i,experience:s}){let o=new URL("https://pay.coinbase.com/buy/select-asset");return o.searchParams.set("appId",e.app_id),o.searchParams.set("sessionToken",e.session_token),o.searchParams.set("endPartnerName",`privy:${t}`),o.searchParams.set("defaultExperience",s),o.searchParams.set("presetCryptoAmount",n.startsWith(".")?`0${n}`:n),o.searchParams.set("defaultNetwork",r),o.searchParams.set("defaultPaymentMethod",vze[s]),o.searchParams.set("defaultAsset",bze[i]),o.searchParams.set("partnerUserId",e.partner_user_id),{url:o}}const Eze=(t,e)=>{switch(e){case"native-currency":return yze.has(t);case"USDC":return wze.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function Cze(t,e){return t===ja.id?"POL":"ETH"}let _ze=class{async invokeRpc({method:e,params:n}){return await(await fetch(this.cluster.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Z7(),method:e,params:n})})).json()}async getBalance(e){try{let n=await this.invokeRpc({method:"getBalance",params:[e]});return n.error?null:BigInt(n.result.value)}catch{return null}}async getTokenAccountsByOwner(e,n){var r,i,s,o,a;try{let c=await this.invokeRpc({method:"getTokenAccountsByOwner",params:[e,{mint:n},{encoding:"jsonParsed"}]});if(c.error)return null;let l=(a=(o=(s=(i=(r=c.result.value.at(0))==null?void 0:r.account)==null?void 0:i.data)==null?void 0:s.parsed)==null?void 0:o.info)==null?void 0:a.tokenAmount;return l?{amount:BigInt(l.amount),decimals:l.decimals}:null}catch{return null}}async getAccountInfo(e){var n,r,i;try{let s=await this.invokeRpc({method:"getAccountInfo",params:[e,{encoding:"jsonParsed"}]});if(s.error)return null;let o=(i=(r=(n=s.result.value)==null?void 0:n.data)==null?void 0:r.parsed)==null?void 0:i.info;return o?{decimals:o.decimals}:null}catch{return null}}constructor(e){this.cluster=e}};function Qie(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function Aze({wei:t,precision:e=3}){return parseFloat(vm(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function sa({amount:t,decimals:e}){return es(BigInt(t),e)}const Sze=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Ize=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,kze=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function $ze(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Tze(t);return}return e}function Tze(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function If(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!kze.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Sze.test(t)||Ize.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,$ze)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const Pze=/#/g,Nze=/&/g,Oze=/\//g,Rze=/=/g,vj=/\+/g,Mze=/%5e/gi,jze=/%60/gi,Dze=/%7c/gi,Lze=/%20/gi;function Bze(t){return encodeURI(""+t).replace(Dze,"|")}function bj(t){return Bze(typeof t=="string"?t:JSON.stringify(t)).replace(vj,"%2B").replace(Lze,"+").replace(Pze,"%23").replace(Nze,"%26").replace(jze,"`").replace(Mze,"^").replace(Oze,"%2F")}function xj(t){return bj(t).replace(Rze,"%3D")}function Xie(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function Uze(t){return Xie(t.replace(vj," "))}function Fze(t){return Xie(t.replace(vj," "))}function zze(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=Uze(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=Fze(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function Wze(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${xj(t)}=${bj(n)}`).join("&"):`${xj(t)}=${bj(e)}`:xj(t)}function qze(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>Wze(e,t[e])).filter(Boolean).join("&")}const Hze=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Vze=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Kze=/^([/\\]\s*){2,}[^/\\]/,Gze=/^\.?\//;function ese(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Hze.test(t):Vze.test(t)||(e.acceptRelative?Kze.test(t):!1)}function Zze(t="",e){return t.endsWith("/")}function Yze(t="",e){return(Zze(t)?t.slice(0,-1):t)||"/"}function Jze(t="",e){return t.endsWith("/")?t:t+"/"}function Qze(t,e){if(eWe(e)||ese(t))return t;const n=Yze(e);if(t.startsWith(n)){const r=t[n.length];if(!r||r==="/"||r==="?")return t}return nWe(n,t)}function Xze(t,e){const n=rWe(t),r={...zze(n.search),...e};return n.search=qze(r),iWe(n)}function eWe(t){return!t||t==="/"}function tWe(t){return t&&t!=="/"}function nWe(t,...e){let n=t||"";for(const r of e.filter(i=>tWe(i)))if(n){const i=r.replace(Gze,"");n=Jze(n)+i}else n=r;return n}const tse=Symbol.for("ufo:protocolRelative");function rWe(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,h=""]=n;return{protocol:d.toLowerCase(),pathname:h,href:d+h,auth:"",host:"",search:"",hash:""}}if(!ese(t,{acceptRelative:!0}))return nse(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:l,hash:u}=nse(a);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:c,search:l,hash:u,[tse]:!r}}function nse(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function iWe(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[tse]?(t.protocol||"")+"//":"")+i+s+e+n+r}class rse extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function sWe(t){var c,l,u,d,h;const e=((c=t.error)==null?void 0:c.message)||((l=t.error)==null?void 0:l.toString())||"",n=((u=t.request)==null?void 0:u.method)||((d=t.options)==null?void 0:d.method)||"GET",r=((h=t.request)==null?void 0:h.url)||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new rse(o,t.error?{cause:t.error}:void 0);for(const f of["request","options","response"])Object.defineProperty(a,f,{get(){return t[f]}});for(const[f,g]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,f,{get(){return t.response&&t.response[g]}});return a}const oWe=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function ise(t="GET"){return oWe.has(t.toUpperCase())}function aWe(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const cWe=new Set(["image/svg","application/xml","application/xhtml","application/html"]),lWe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function uWe(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return lWe.test(e)?"json":e==="text/event-stream"?"stream":cWe.has(e)||e.startsWith("text/")?"text":"blob"}function dWe(t,e,n,r){const i=hWe((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let s;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(s={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:s,params:s,headers:i}}function hWe(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function r_(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const fWe=new Set([408,409,425,429,500,502,503,504]),pWe=new Set([101,204,205,304]);function sse(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(a){const c=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!c){let u;typeof a.options.retry=="number"?u=a.options.retry:u=ise(a.options.method)?0:1;const d=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(d):fWe.has(d))){const h=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return h>0&&await new Promise(f=>setTimeout(f,h)),s(a.request,{...a.options,retry:u-1})}}const l=sWe(a);throw Error.captureStackTrace&&Error.captureStackTrace(l,s),l}const s=async function(c,l={}){const u={request:c,options:dWe(c,l,t.defaults,n),response:void 0,error:void 0};if(u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&(await r_(u,u.options.onRequest),u.options.headers instanceof n||(u.options.headers=new n(u.options.headers||{}))),typeof u.request=="string"&&(u.options.baseURL&&(u.request=Qze(u.request,u.options.baseURL)),u.options.query&&(u.request=Xze(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&ise(u.options.method))if(aWe(u.options.body)){const f=u.options.headers.get("content-type");typeof u.options.body!="string"&&(u.options.body=f==="application/x-www-form-urlencoded"?new URLSearchParams(u.options.body).toString():JSON.stringify(u.options.body)),f||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")}else("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half"));let d;if(!u.options.signal&&u.options.timeout){const f=new r;d=setTimeout(()=>{const g=new Error("[TimeoutError]: The operation was aborted due to timeout");g.name="TimeoutError",g.code=23,f.abort(g)},u.options.timeout),u.options.signal=f.signal}try{u.response=await e(u.request,u.options)}catch(f){return u.error=f,u.options.onRequestError&&await r_(u,u.options.onRequestError),await i(u)}finally{d&&clearTimeout(d)}if((u.response.body||u.response._bodyInit)&&!pWe.has(u.response.status)&&u.options.method!=="HEAD"){const f=(u.options.parseResponse?"json":u.options.responseType)||uWe(u.response.headers.get("content-type")||"");switch(f){case"json":{const g=await u.response.text(),m=u.options.parseResponse||If;u.response._data=m(g);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[f]()}}return u.options.onResponse&&await r_(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await r_(u,u.options.onResponseError),await i(u)):u.response},o=async function(c,l){return(await s(c,l))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},c={})=>sse({...t,...c,defaults:{...t.defaults,...c.defaults,...a}}),o}const i_=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),gWe=i_.fetch?(...t)=>i_.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),mWe=i_.Headers,yWe=i_.AbortController,ose=sse({fetch:gWe,Headers:mWe,AbortController:yWe});var jt;let So=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},Uc=class extends So{constructor(e,n,r,i,s,o){super(r,i,s),this.type=e,this.status=n,this.data=o}},ee=class extends So{constructor(e,n,r){super(e,n,r),this.type="client_error"}},wWe=class extends ee{constructor(){super("Request timed out",void 0,"client_request_timeout")}},br=class extends So{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const bn=t=>{if(t instanceof So)return t;if(!(t instanceof rse))return Ur(t);if(!t.response)return new Uc("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new Uc(e||"ApiError",t.response.status,n||r,t,i,t.data)},Ur=t=>t instanceof So?t:t instanceof Error?new ee(t.message,t):new ee(`Internal error: ${t}`);var ne=((jt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",jt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",jt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",jt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",jt.INVALID_DATA="invalid_data",jt.INVALID_CAPTCHA="invalid_captcha",jt.LINKED_TO_ANOTHER_USER="linked_to_another_user",jt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",jt.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",jt.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",jt.USER_EXITED_UPDATE_FLOW="exited_update_flow",jt.ALLOWLIST_REJECTED="allowlist_rejected",jt.OAUTH_USER_DENIED="oauth_user_denied",jt.OAUTH_UNEXPECTED="oauth_unexpected",jt.UNKNOWN_AUTH_ERROR="unknown_auth_error",jt.USER_EXITED_AUTH_FLOW="exited_auth_flow",jt.USER_EXITED_LINK_FLOW="exited_link_flow",jt.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",jt.MUST_BE_AUTHENTICATED="must_be_authenticated",jt.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",jt.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",jt.CLIENT_REQUEST_TIMEOUT="client_request_timeout",jt.INVALID_CREDENTIALS="invalid_credentials",jt.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",jt.UNKNOWN_MFA_ERROR="unknown_mfa_error",jt.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",jt.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",jt.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",jt.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",jt.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",jt.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",jt.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",jt.TRANSACTION_FAILURE="transaction_failure",jt.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",jt.NOT_SUPPORTED="not_supported",jt.CAPTCHA_TIMEOUT="captcha_timeout",jt.INVALID_MESSAGE="invalid_message",jt.UNABLE_TO_SIGN="unable_to_sign",jt.CAPTCHA_FAILURE="captcha_failure",jt.CAPTCHA_DISABLED="captcha_disabled",jt.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",jt.TOO_MANY_REQUESTS="too_many_requests",jt.USER_LIMIT_REACHED="max_accounts_reached",jt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",jt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",jt.PASSKEY_NOT_ALLOWED="passkey_not_allowed",jt.USER_DOES_NOT_EXIST="user_does_not_exist",jt.INSUFFICIENT_BALANCE="insufficient_balance",jt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",jt.BUFFER_NOT_DEFINED="buffer_not_defined",jt.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",jt);let zm=class extends ee{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},I0=class extends ee{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},vWe=class extends ee{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},G6=class extends ee{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const ase="/api/v1/sessions",cse="/api/v1/sessions/logout",bWe="/api/v1/siwe/init",xWe="/api/v1/siwe/authenticate",EWe="/api/v1/siwe/link",CWe="/api/v1/siwe/link_smart_wallet",_We="/api/v1/siwe/unlink",AWe="/api/v1/siwe/transfer",SWe="/api/v1/siws/init",IWe="/api/v1/siws/authenticate",kWe="/api/v1/siws/link",$We="/api/v1/siws/unlink",TWe="/api/v1/siws/transfer",PWe="/api/v1/farcaster/init",NWe="/api/v1/farcaster/authenticate",OWe="/api/v1/farcaster/link",RWe="/api/v1/farcaster/status",MWe="/api/v1/farcaster/unlink",jWe="/api/v1/farcaster/transfer",DWe="/api/v1/passwordless/init",LWe="/api/v1/passwordless/authenticate",BWe="/api/v1/passwordless/link",UWe="/api/v1/passwordless/unlink",FWe="/api/v1/passwordless/update",zWe="/api/v1/passwordless/transfer",WWe="/api/v1/passwordless_sms/init",qWe="/api/v1/passwordless_sms/link",HWe="/api/v1/passwordless_sms/unlink",VWe="/api/v1/passwordless_sms/authenticate",KWe="/api/v1/passwordless_sms/update",GWe="/api/v1/passwordless_sms/transfer",lse="/api/v1/oauth/init",use="/api/v1/oauth/authenticate",dse="/api/v1/oauth/link",ZWe="/api/v1/oauth/unlink",YWe="/api/v1/oauth/transfer",JWe="/api/v1/recovery/oauth/init",QWe="/api/v1/recovery/oauth/init_icloud",XWe="/api/v1/recovery/oauth/authenticate",eqe="/api/v1/passkeys/link/init",tqe="/api/v1/passkeys/authenticate/init",nqe="/api/v1/passkeys/register/init",rqe="/api/v1/passkeys/link",iqe="/api/v1/passkeys/authenticate",sqe="/api/v1/passkeys/register",oqe="/api/v1/telegram/authenticate",aqe="/api/v1/telegram/link",cqe="/api/v1/telegram/unlink",lqe="/api/v1/telegram/transfer",uqe="/api/v1/mfa/passwordless_sms/init",dqe="/api/v1/mfa/passkeys/init",hqe="/api/v1/users/me/accept_terms",hse="/api/v1/analytics_events",fqe="/api/v1/custom_jwt_account/authenticate",pqe="/api/v1/custom_jwt_account/link",gqe="/api/v1/guest/authenticate",mqe="/api/v1/plugins/moonpay_on_ramp/sign",yqe="/api/v1/funding/coinbase_on_ramp/init",wqe="/api/v1/funding/coinbase_on_ramp/status",vqe="/api/v1/wallets/revoke",bqe="/api/v1/users/me",xqe="/api/v1/scan/transaction",me=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},Z6=t=>()=>{throw Error(t.trim())},fse=k.createContext({setAuthenticated:me,setUser:me,setIsNewUser:me,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:me,connectors:[],solanaWallets:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:me,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:me,initializeWalletProxy:me,getAuthMeta:me,getAuthFlow:me,closePrivyModal:me,openPrivyModal:me,connectWallet:me,initLoginWithWallet:me,loginWithWallet:me,initLoginWithFarcaster:me,loginWithFarcaster:me,loginWithCode:me,initLoginWithEmail:me,initLoginWithSms:me,initUpdateEmail:me,initUpdatePhone:me,resendEmailCode:me,resendSmsCode:me,initLoginWithHeadlessOAuth:me,loginWithHeadlessOAuth:me,crossAppAuthFlow:me,initLoginWithOAuth:me,loginWithOAuth:me,passkeyAuthState:{status:"initial"},setPasskeyAuthState:me,initSignupWithPasskey:me,signupWithPasskey:me,initLoginWithPasskey:me,loginWithPasskey:me,initLinkWithPasskey:me,linkWithPasskey:me,refreshSessionAndUser:me,walletProxy:null,createAnalyticsEvent:me,acceptTerms:me,getUsdTokenPrice:me,getUsdPriceForSol:me,getSplTokenMetadata:me,recoverEmbeddedWallet:me,updateWallets:me,fundWallet:me,openModal:me,setReadyToTrue:me,requestFarcasterSignerStatus:me,initLoginWithTelegram:me,loginWithTelegram:me,generateSiweMessage:me,generateSiweMessageForSmartWallet:me,loginWithSiwe:me,linkWithSiwe:me,linkSmartWallet:me,delegateWallet:me,revokeDelegatedWallets:me,exportSolanaWallet:me,connectCoinbaseSmartWallet:me,connectBaseAccount:me,initiateAccountTransfer:me,emailOtpState:{status:"initial"},setEmailOtpState:me,smsOtpState:{status:"initial"},setSmsOtpState:me,siweState:{status:"initial"},setSiweState:me,oAuthState:{status:"initial"},setOAuthState:me,telegramAuthState:{status:"initial"},setTelegramAuthState:me,isHeadlessOAuthLoading:!1,isHeadlessSigning:me,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:me}),Fe=()=>k.useContext(fse);function Tt(t){return t?new Date(1e3*t):null}function Io(t,e){return t.slice().sort((n,r)=>(n.firstVerifiedAt??n.verifiedAt).getTime()-(r.firstVerifiedAt??r.verifiedAt).getTime()).find(n=>n.type===e)}const Xd=t=>t?pse(t).find(e=>e.walletIndex===0)??null:null,pse=t=>t?gse(t,"ethereum"):[],gse=(t,e)=>t.linkedAccounts.filter(n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e),mse=t=>t?gse(t,"solana"):[],Wm=t=>t?mse(t).find(e=>e.walletIndex===0)??null:null,Ej=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"))||null,s_=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"))||null;let yse=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&Ei(t)===Ei(e);const jl=(t,e)=>(t==null?void 0:t.linkedAccounts.find(n=>n.type==="wallet"&&n.walletClientType==="privy"&&yse(n.address,e)))||null,Cj=(t,e)=>t.find(n=>yse(n.address,e))||null,Dl=t=>Xd(t)??Wm(t);function qs(t){if(!t)return null;let e=function(v){let E=[];for(let _ of v){let O=_.type;switch(_.type){case"wallet":let S={id:_.id,address:_.address,type:_.type,imported:_.imported,delegated:_.delegated,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at),chainType:_.chain_type,walletClientType:_.wallet_client_type,connectorType:_.connector_type,recoveryMethod:_.recovery_method,walletIndex:_.wallet_index};E.push(S);break;case"smart_wallet":let R={address:_.address,type:_.type,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at),smartWalletType:_.smart_wallet_type,smartWalletVersion:_.smart_wallet_version};E.push(R);break;case"cross_app":let I={type:_.type,subject:_.subject,embeddedWallets:_.embedded_wallets,smartWallets:_.smart_wallets,providerApp:{id:_.provider_app_id},verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(I);break;case"email":let D={address:_.address,type:_.type,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(D);break;case"phone":let j={number:_.phoneNumber,type:_.type,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(j);break;case"google_oauth":let F={subject:_.subject,email:_.email,name:_.name,type:_.type,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(F);break;case"spotify_oauth":let M={subject:_.subject,email:_.email,name:_.name,type:_.type,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(M);break;case"instagram_oauth":let C={subject:_.subject,username:_.username,type:_.type,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(C);break;case"twitter_oauth":let x={subject:_.subject,username:_.username,name:_.name,type:_.type,profilePictureUrl:_.profile_picture_url,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(x);break;case"discord_oauth":let A={subject:_.subject,username:_.username,email:_.email,type:_.type,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(A);break;case"github_oauth":let P={subject:_.subject,username:_.username,name:_.name,email:_.email,type:_.type,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(P);break;case"tiktok_oauth":let N={subject:_.subject,username:_.username,name:_.name,type:_.type,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(N);break;case"line_oauth":let $={subject:_.subject,name:_.name,email:_.email,profilePictureUrl:_.profile_picture_url,type:_.type,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push($);break;case"linkedin_oauth":let L={subject:_.subject,name:_.name,email:_.email,vanityName:_.vanity_name,type:_.type,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(L);break;case"apple_oauth":let B={subject:_.subject,email:_.email,type:_.type,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(B);break;case"custom_auth":E.push({type:_.type,customUserId:_.custom_user_id,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)});break;case"farcaster":let T={type:_.type,fid:_.fid,ownerAddress:_.owner_address,displayName:_.display_name,username:_.username,bio:_.bio,pfp:_.profile_picture_url,url:_.homepage_url,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at),signerPublicKey:_.signer_public_key};E.push(T);break;case"passkey":let z={type:_.type,enrolledInMfa:_.enrolled_in_mfa,credentialId:_.credential_id,publicKey:_.public_key,authenticatorName:_.authenticator_name,createdWithDevice:_.created_with_device,createdWithOs:_.created_with_os,createdWithBrowser:_.created_with_browser,verifiedAt:Tt(_.verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(z);break;case"telegram":let q={type:_.type,telegramUserId:_.telegram_user_id,firstName:_.first_name,lastName:_.last_name,username:_.username,photoUrl:_.photo_url,verifiedAt:Tt(_.first_verified_at),firstVerifiedAt:Tt(_.first_verified_at),latestVerifiedAt:Tt(_.latest_verified_at)};E.push(q);break;default:console.warn(`Unrecognized account type: ${O}. Please consider upgrading the Privy SDK.`)}}return E}(t.linked_accounts),n=Io(e,"wallet"),r=Io(e,"smart_wallet"),i=Io(e,"email"),s=Io(e,"phone"),o=Io(e,"google_oauth"),a=Io(e,"twitter_oauth"),c=Io(e,"discord_oauth"),l=Io(e,"github_oauth"),u=Io(e,"spotify_oauth"),d=Io(e,"instagram_oauth"),h=Io(e,"tiktok_oauth"),f=Io(e,"line_oauth"),g=Io(e,"linkedin_oauth"),m=Io(e,"apple_oauth"),y=Io(e,"farcaster"),w=Io(e,"telegram"),b=t.mfa_methods.map(({type:v,verified_at:E})=>({type:v,verifiedAt:Tt(E)}));return{id:t.id,createdAt:Tt(t.created_at),linkedAccounts:e,email:i&&{address:i==null?void 0:i.address},phone:s&&{number:s==null?void 0:s.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:o&&{subject:o.subject,email:o.email,name:o.name},twitter:a&&{subject:a.subject,username:a.username,name:a.name,profilePictureUrl:a.profilePictureUrl},discord:c&&{subject:c.subject,username:c.username,email:c.email},github:l&&{subject:l.subject,username:l.username,name:l.name,email:l.email},spotify:u&&{subject:u.subject,email:u.email,name:u.name},instagram:d&&{subject:d.subject,username:d.username},tiktok:h&&{subject:h.subject,username:h.username,name:h.name},line:f&&{subject:f.subject,name:f.name,email:f.email,profilePictureUrl:f.profilePictureUrl},linkedin:g&&{subject:g.subject,name:g.name,email:g.email,vanityName:g.vanityName},apple:m&&{subject:m.subject,email:m.email},farcaster:y&&{fid:y.fid,ownerAddress:y.ownerAddress,displayName:y.displayName,username:y.username,bio:y.bio,pfp:y.pfp,url:y.url,signerPublicKey:y.signerPublicKey},telegram:w&&{telegramUserId:w.telegramUserId,firstName:w.firstName,lastName:w.lastName,username:w.username,photoUrl:w.photoUrl},delegatedWallets:[],mfaMethods:b.map(v=>v.type),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const ys=t=>!!t.id&&t.recoveryMethod==="privy-v2",ov=k.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:me,login:me,connectOrCreateWallet:me,linkEmail:me,linkPhone:me,linkFarcaster:me,linkWallet:me,startCrossAppAuthFlow:me,linkGoogle:me,linkTwitter:me,linkDiscord:me,linkGithub:me,linkSpotify:me,linkInstagram:me,linkTelegram:me,linkTiktok:me,linkLine:me,linkLinkedIn:me,linkApple:me,linkPasskey:me,updateEmail:me,updatePhone:me,logout:me,getAccessToken:me,unlinkEmail:me,unlinkPhone:me,unlinkWallet:me,unlinkGoogle:me,unlinkTwitter:me,unlinkDiscord:me,unlinkGithub:me,unlinkSpotify:me,unlinkInstagram:me,unlinkTiktok:me,unlinkLine:me,unlinkLinkedIn:me,unlinkApple:me,unlinkCrossAppAccount:me,unlinkFarcaster:me,unlinkTelegram:me,unlinkPasskey:me,signMessage:me,signTypedData:me,enrollInMfa:me,initEnrollmentWithSms:me,initEnrollmentWithTotp:me,initEnrollmentWithPasskey:me,promptMfa:me,init:me,submitEnrollmentWithSms:me,submitEnrollmentWithTotp:me,submitEnrollmentWithPasskey:me,unenroll:me,submit:me,cancel:me,sendTransaction:me,signTransaction:me,exportWallet:me,setWalletPassword:me,setWalletRecovery:me,requestFarcasterSignerFromWarpcast:me,getFarcasterSignerPublicKey:me,signFarcasterMessage:me,signMessageWithCrossAppWallet:me,signTypedDataWithCrossAppWallet:me,sendTransactionWithCrossAppWallet:me,signTransactionWithCrossAppWallet:me,isModalOpen:!1,mfaMethods:[]}),fn=()=>k.useContext(ov),_j=()=>{let{walletProxy:t,client:e}=Fe();return k.useMemo(()=>({signWithUserSigner:async({message:n})=>{if(!t)throw Error("Wallet proxy not initialized");let r=await e.getAccessToken();if(!r)throw Error("User must be authenticated");let{signature:i}=await t.signWithUserSigner({accessToken:r,message:n});return{signature:i}}}),[t,e])};class eh{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new eh("CBWSDK").clear(),new eh("walletlink").clear()}}const _i={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},Aj={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},wse="Unspecified error message.",Eqe="Unspecified server error.";function Sj(t,e=wse){if(t&&Number.isInteger(t)){const n=t.toString();if(Ij(Aj,n))return Aj[n].message;if(vse(t))return Eqe}return e}function Cqe(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(Aj[e]||vse(t))}function _qe(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&Ij(t,"code")&&Cqe(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,Ij(r,"data")&&(n.data=r.data)):(n.message=Sj(n.code),n.data={originalError:bse(t)})}else n.code=_i.rpc.internal,n.message=xse(t,"message")?t.message:wse,n.data={originalError:bse(t)};return e&&(n.stack=xse(t,"stack")?t.stack:void 0),n}function vse(t){return t>=-32099&&t<=-32e3}function bse(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function Ij(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xse(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const Rn={rpc:{parse:t=>Ll(_i.rpc.parse,t),invalidRequest:t=>Ll(_i.rpc.invalidRequest,t),invalidParams:t=>Ll(_i.rpc.invalidParams,t),methodNotFound:t=>Ll(_i.rpc.methodNotFound,t),internal:t=>Ll(_i.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ll(e,t)},invalidInput:t=>Ll(_i.rpc.invalidInput,t),resourceNotFound:t=>Ll(_i.rpc.resourceNotFound,t),resourceUnavailable:t=>Ll(_i.rpc.resourceUnavailable,t),transactionRejected:t=>Ll(_i.rpc.transactionRejected,t),methodNotSupported:t=>Ll(_i.rpc.methodNotSupported,t),limitExceeded:t=>Ll(_i.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>av(_i.provider.userRejectedRequest,t),unauthorized:t=>av(_i.provider.unauthorized,t),unsupportedMethod:t=>av(_i.provider.unsupportedMethod,t),disconnected:t=>av(_i.provider.disconnected,t),chainDisconnected:t=>av(_i.provider.chainDisconnected,t),unsupportedChain:t=>av(_i.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new _se(e,n,r)}}};function Ll(t,e){const[n,r]=Ese(e);return new Cse(t,n||Sj(t),r)}function av(t,e){const[n,r]=Ese(e);return new _se(t,n||Sj(t),r)}function Ese(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}let Cse=class extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}},_se=class extends Cse{constructor(e,n,r){if(!Aqe(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}};function Aqe(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function kj(){return t=>t}const Y6=kj(),Sqe=kj(),Iqe=kj();function kf(t){return Math.floor(t)}const Ase=/^[0-9]*$/,Sse=/^[a-f0-9]*$/;function qm(t){return $j(crypto.getRandomValues(new Uint8Array(t)))}function $j(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function o_(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function J6(t,e=!1){const n=t.toString("hex");return Y6(e?`0x${n}`:n)}function Tj(t){return J6(Oj(t),!0)}function th(t){return Iqe(t.toString(10))}function k0(t){return Y6(`0x${BigInt(t).toString(16)}`)}function Ise(t){return t.startsWith("0x")||t.startsWith("0X")}function Pj(t){return Ise(t)?t.slice(2):t}function kse(t){return Ise(t)?`0x${t.slice(2)}`:`0x${t}`}function a_(t){if(typeof t!="string")return!1;const e=Pj(t).toLowerCase();return Sse.test(e)}function kqe(t,e=!1){if(typeof t=="string"){const n=Pj(t).toLowerCase();if(Sse.test(n))return Y6(e?`0x${n}`:n)}throw Rn.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function Nj(t,e=!1){let n=kqe(t,!1);return n.length%2===1&&(n=Y6(`0${n}`)),e?Y6(`0x${n}`):n}function $0(t){if(typeof t=="string"){const e=Pj(t).toLowerCase();if(a_(e)&&e.length===40)return Sqe(kse(e))}throw Rn.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function Oj(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(a_(t)){const e=Nj(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw Rn.rpc.invalidParams(`Not binary data: ${String(t)}`)}function Q6(t){if(typeof t=="number"&&Number.isInteger(t))return kf(t);if(typeof t=="string"){if(Ase.test(t))return kf(Number(t));if(a_(t))return kf(Number(BigInt(Nj(t,!0))))}throw Rn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function X6(t){if(t!==null&&(typeof t=="bigint"||Tqe(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(Q6(t));if(typeof t=="string"){if(Ase.test(t))return BigInt(t);if(a_(t))return BigInt(Nj(t,!0))}throw Rn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function $qe(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Rn.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function Tqe(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function Pqe(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function Nqe(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function Oqe(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function Rqe(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function $se(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function Tse(t,e){const n=$se(t),r=await crypto.subtle.exportKey(n,e);return $j(new Uint8Array(r))}async function Pse(t,e){const n=$se(t),r=o_(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function Mqe(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return Oqe(e,n)}async function jqe(t,e){return JSON.parse(await Rqe(e,t))}const Rj={storageKey:"ownPrivateKey",keyType:"private"},Mj={storageKey:"ownPublicKey",keyType:"public"},jj={storageKey:"peerPublicKey",keyType:"public"};let Dqe=class{constructor(){this.storage=new eh("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(jj,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(Mj.storageKey),this.storage.removeItem(Rj.storageKey),this.storage.removeItem(jj.storageKey)}async generateKeyPair(){const e=await Pqe();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(Rj,e.privateKey),await this.storeKey(Mj,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(Rj)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(Mj)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(jj)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await Nqe(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?Pse(e.keyType,n):null}async storeKey(e,n){const r=await Tse(e.keyType,n);this.storage.setItem(e.storageKey,r)}};const e4="4.3.2",Nse="@coinbase/wallet-sdk";async function Dj(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":e4,"X-Cbw-Sdk-Platform":Nse}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function Lqe(){return globalThis.coinbaseWalletExtension}function Bqe(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function Uqe({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:o}=t;if(e.options!=="smartWalletOnly"){const c=Lqe();if(c)return(n=c.setAppInfo)===null||n===void 0||n.call(c,i,s,o,e),c}const a=Bqe();if(a!=null&&a.isCoinbaseBrowser)return(r=a.setAppInfo)===null||r===void 0||r.call(a,i,s,o,e),a}function Fqe(t){if(!t||typeof t!="object"||Array.isArray(t))throw Rn.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw Rn.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Rn.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw Rn.provider.unsupportedMethod()}}const Ose="accounts",Rse="activeChain",Mse="availableChains",jse="walletCapabilities";class zqe{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new Dqe,this.storage=new eh("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(Ose))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(Rse)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,s;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const o=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const c=await Pse("public",a.sender);await this.keyManager.setPeerPublicKey(c);const u=(await this.decryptResponseMessage(a)).result;if("error"in u)throw u.error;switch(e.method){case"eth_requestAccounts":{const d=u.value;this.accounts=d,this.storage.storeObject(Ose,d),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",d);break}}}async request(e){var n;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw Rn.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:k0(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return k0(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(jse);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw Rn.rpc.internal("No RPC URL set for chain");return Dj(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),o=(await this.decryptResponseMessage(i)).result;if("error"in o)throw o.error;return o.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw Rn.rpc.invalidParams();const i=Q6(r[0].chainId);if(this.updateChain(i))return null;const o=await this.sendRequestToPopup(e);return o===null&&this.updateChain(i),o}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw Rn.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await Mqe({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await Tse("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw Rn.provider.unauthorized("Invalid session");const o=await jqe(i.encrypted,s),a=(n=o.data)===null||n===void 0?void 0:n.chains;if(a){const l=Object.entries(a).map(([u,d])=>({id:Number(u),rpcUrl:d}));this.storage.storeObject(Mse,l),this.updateChain(this.chain.id,l)}const c=(r=o.data)===null||r===void 0?void 0:r.capabilities;return c&&this.storage.storeObject(jse,c),o}updateChain(e,n){var r;const i=n??this.storage.loadObject(Mse),s=i==null?void 0:i.find(o=>o.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(Rse,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",k0(s.id))),!0):!1}}const Wqe=ZE(VAe),{keccak_256:qqe}=Wqe;function Dse(t){return Buffer.allocUnsafe(t).fill(0)}function Hqe(t){return t.toString(2).length}function Lse(t,e){let n=t.toString(16);n.length%2!==0&&(n="0"+n);const r=n.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;r.length<e;)r.unshift(0);return Buffer.from(r)}function Vqe(t,e){const n=t<0n;let r;if(n){const i=(1n<<BigInt(e))-1n;r=(~t&i)+1n}else r=t;return r&=(1n<<BigInt(e))-1n,r}function Bse(t,e,n){const r=Dse(e);return t=c_(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function Kqe(t,e){return Bse(t,e,!0)}function c_(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Use(t)?t=Buffer.from(Yqe(Fse(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(typeof t=="bigint")t=Lse(t);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Gqe(t){return t=c_(t),"0x"+t.toString("hex")}function Zqe(t,e){if(t=c_(t),e||(e=256),e!==256)throw new Error("unsupported");return Buffer.from(qqe(new Uint8Array(t)))}function Yqe(t){return t.length%2?"0"+t:t}function Use(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Fse(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var zse={zeros:Dse,setLength:Bse,setLengthRight:Kqe,isHexString:Use,stripHexPrefix:Fse,toBuffer:c_,bufferToHex:Gqe,keccak:Zqe,bitLengthFromBigInt:Hqe,bufferBEFromBigInt:Lse,twosFromBigInt:Vqe};const oa=zse;function Wse(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function cv(t){return Number.parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function qse(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[Number.parseInt(e[1],10),Number.parseInt(e[2],10)]}function Hse(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":Number.parseInt(e[2],10):null}function Hm(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function nh(t,e){var n,r,i,s;if(t==="address")return nh("uint160",Hm(e));if(t==="bool")return nh("uint8",e?1:0);if(t==="string")return nh("bytes",new Buffer(e,"utf8"));if(Qqe(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=Hse(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(nh(t,e[s]));if(n==="dynamic"){var o=nh("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([nh("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,oa.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=cv(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return oa.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=cv(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=Hm(e);const a=oa.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a);if(r<0)throw new Error("Supplied uint is negative");return oa.bufferBEFromBigInt(r,32)}else if(t.startsWith("int")){if(n=cv(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=Hm(e);const a=oa.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a);const c=oa.twosFromBigInt(r,256);return oa.bufferBEFromBigInt(c,32)}else if(t.startsWith("ufixed")){if(n=qse(t),r=Hm(e),r<0)throw new Error("Supplied ufixed is negative");return nh("uint256",r*BigInt(2)**BigInt(n[1]))}else if(t.startsWith("fixed"))return n=qse(t),nh("int256",Hm(e)*BigInt(2)**BigInt(n[1]))}throw new Error("Unsupported or invalid type: "+t)}function Jqe(t){return t==="string"||t==="bytes"||Hse(t)==="dynamic"}function Qqe(t){return t.lastIndexOf("]")===t.length-1}function Xqe(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var o=Wse(t[s]),a=e[s],c=nh(o,a);Jqe(o)?(n.push(nh("uint256",i)),r.push(c),i+=c.length):n.push(c)}return Buffer.concat(n.concat(r))}function Vse(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var o=Wse(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(oa.setLength(a,20));else if(o.startsWith("bytes")){if(n=cv(o),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(oa.setLengthRight(a,n))}else if(o.startsWith("uint")){if(n=cv(o),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=Hm(a);const c=oa.bitLengthFromBigInt(r);if(c>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+c);i.push(oa.bufferBEFromBigInt(r,n/8))}else if(o.startsWith("int")){if(n=cv(o),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=Hm(a);const c=oa.bitLengthFromBigInt(r);if(c>n)throw new Error("Supplied int exceeds width: "+n+" vs "+c);const l=oa.twosFromBigInt(r,n);i.push(oa.bufferBEFromBigInt(l,n/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function eHe(t,e){return oa.keccak(Vse(t,e))}var tHe={rawEncode:Xqe,solidityPack:Vse,soliditySHA3:eHe};const qu=zse,t4=tHe,Kse={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Lj={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const o=(a,c,l)=>{if(n[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":qu.keccak(this.encodeData(c,l,n,r))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",qu.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",qu.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const u=c.slice(0,c.lastIndexOf("[")),d=l.map(h=>o(a,u,h));return["bytes32",qu.keccak(t4.rawEncode(d.map(([h])=>h),d.map(([,h])=>h)))]}return[c,l]};for(const a of n[t]){const[c,l]=o(a.name,a.type,e[a.name]);i.push(c),s.push(l)}}else for(const o of n[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=qu.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=qu.keccak(a),s.push(a);else if(n[o.type]!==void 0)i.push("bytes32"),a=qu.keccak(this.encodeData(o.type,a,n,r)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return t4.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return qu.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return qu.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in Kse.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),qu.keccak(Buffer.concat(r))}};var nHe={TYPED_MESSAGE_SCHEMA:Kse,TypedDataUtils:Lj,hashForSignTypedDataLegacy:function(t){return rHe(t.data)},hashForSignTypedData_v3:function(t){return Lj.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Lj.hash(t.data)}};function rHe(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?qu.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return t4.soliditySHA3(["bytes32","bytes32"],[t4.soliditySHA3(new Array(t.length).fill("string"),i),t4.soliditySHA3(r,n)])}const l_=Vo(nHe),iHe="walletUsername",Bj="Addresses",sHe="AppVersion";function Hs(t){return t.errorMessage!==void 0}class oHe{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",o_(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),a=16,c=o.slice(o.byteLength-a),l=o.slice(0,o.byteLength-a),u=new Uint8Array(c),d=new Uint8Array(l),h=new Uint8Array([...r,...u,...d]);return $j(h)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",o_(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=o_(e),a=o.slice(0,12),c=o.slice(12,28),l=o.slice(28),u=new Uint8Array([...l,...c]),d={name:"AES-GCM",iv:new Uint8Array(a)};try{const h=await window.crypto.subtle.decrypt(d,s,u),f=new TextDecoder;r(f.decode(h))}catch(h){i(h)}})()})}}class aHe{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r==null?void 0:r.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var $f;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})($f||($f={}));class cHe{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,$f.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,$f.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,$f.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(c=>this.sendData(c)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const c=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,c)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,$f.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const Gse=1e4,lHe=6e4;class uHe{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=kf(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>s.JsonRpcUrl&&this.handleChainUpdated(a,s.JsonRpcUrl)]]).forEach((a,c)=>{const l=s[c];l!==void 0&&a(l)})},this.handleDestroyed=s=>{var o;s==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async s=>{var o;const a=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.accountUpdated(a)},this.handleMetadataUpdated=async(s,o)=>{var a;const c=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(s,c)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(iHe,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(sHe,s)},this.handleChainUpdated=async(s,o)=>{var a;const c=await this.cipher.decrypt(s),l=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(c,l)},this.session=e,this.cipher=new oHe(e.secret),this.listener=r;const i=new cHe(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let o=!1;switch(s){case $f.DISCONNECTED:if(!this.destroyed){const a=async()=>{await new Promise(c=>setTimeout(c,5e3)),this.destroyed||i.connect().catch(()=>{a()})};a()}break;case $f.CONNECTED:o=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},Gse),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case $f.CONNECTING:break}this.connected!==o&&(this.connected=o)}),i.setIncomingDataListener(s=>{var o;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const a=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=a||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((o=this.requestResolutions.get(s.id))===null||o===void 0||o(s))}),this.ws=i,this.http=new aHe(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:kf(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:o}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s,o)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:kf(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Gse*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:lHe}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:kf(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:kf(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:kf(this.nextReqId++),sessionId:this.session.id}),!0)}}class dHe{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=kse(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}const Zse="session:id",Yse="session:secret",Jse="session:linked";class lv{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=fm(bO(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=qm(16),r=qm(32);return new lv(e,n,r).save()}static load(e){const n=e.getItem(Zse),r=e.getItem(Jse),i=e.getItem(Yse);return n&&i?new lv(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(Zse,this.id),this.storage.setItem(Yse,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(Jse,this._linked?"1":"0")}}function hHe(){try{return window.frameElement!==null}catch{return!1}}function fHe(){try{return hHe()&&window.top?window.top.location:window.location}catch{return window.location}}function pHe(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}function Qse(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const gHe='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function Xse(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(gHe)),document.documentElement.appendChild(t)}function eoe(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=eoe(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function T0(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=eoe(t))&&(r&&(r+=" "),r+=e);return r}var u_,xr,toe,Vm,noe,roe,Uj,Fj,zj,Wj,n4={},ioe=[],mHe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,qj=Array.isArray;function P0(t,e){for(var n in e)t[n]=e[n];return t}function soe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function or(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?u_.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return d_(t,o,r,i,null)}function d_(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++toe,__i:-1,__u:0};return i==null&&xr.vnode!=null&&xr.vnode(s),s}function h_(t){return t.children}function f_(t,e){this.props=t,this.context=e}function uv(t,e){if(e==null)return t.__?uv(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?uv(t):null}function ooe(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return ooe(t)}}function aoe(t){(!t.__d&&(t.__d=!0)&&Vm.push(t)&&!p_.__r++||noe!==xr.debounceRendering)&&((noe=xr.debounceRendering)||roe)(p_)}function p_(){var t,e,n,r,i,s,o,a;for(Vm.sort(Uj);t=Vm.shift();)t.__d&&(e=Vm.length,r=void 0,s=(i=(n=t).__v).__e,o=[],a=[],n.__P&&((r=P0({},i)).__v=i.__v+1,xr.vnode&&xr.vnode(r),Hj(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,o,s??uv(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,hoe(o,r,a),r.__e!=s&&ooe(r)),Vm.length>e&&Vm.sort(Uj));p_.__r=0}function coe(t,e,n,r,i,s,o,a,c,l,u){var d,h,f,g,m,y=r&&r.__k||ioe,w=e.length;for(n.__d=c,yHe(n,e,y),c=n.__d,d=0;d<w;d++)(f=n.__k[d])!=null&&(h=f.__i===-1?n4:y[f.__i]||n4,f.__i=d,Hj(t,f,h,i,s,o,a,c,l,u),g=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&Vj(h.ref,null,f),u.push(f.ref,f.__c||g,f)),m==null&&g!=null&&(m=g),65536&f.__u||h.__k===f.__k?c=loe(f,c,t):typeof f.type=="function"&&f.__d!==void 0?c=f.__d:g&&(c=g.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=c,n.__e=m}function yHe(t,e,n){var r,i,s,o,a,c=e.length,l=n.length,u=l,d=0;for(t.__k=[],r=0;r<c;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(o=r+d,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?d_(null,i,null,null,null):qj(i)?d_(h_,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?d_(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(a=i.__i=wHe(i,n,o,u))!==-1&&(u--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a==o-1?d--:a==o+1?d++:(a>o?d--:d++,i.__u|=65536))):i=t.__k[r]=null;if(u)for(r=0;r<l;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=uv(s)),foe(s,s))}function loe(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=loe(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=uv(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function wHe(t,e,n,r){var i=t.key,s=t.type,o=n-1,a=n+1,c=e[n];if(c===null||c&&i==c.key&&s===c.type&&!(131072&c.__u))return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&!(131072&c.__u)&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&!(131072&c.__u)&&i==c.key&&s===c.type)return a;a++}}return-1}function uoe(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||mHe.test(e)?n:n+"px"}function g_(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||uoe(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||uoe(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=Fj,t.addEventListener(e,s?Wj:zj,s)):t.removeEventListener(e,s?Wj:zj,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function doe(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=Fj++;else if(e.t<n.u)return;return n(xr.event?xr.event(e):e)}}}function Hj(t,e,n,r,i,s,o,a,c,l){var u,d,h,f,g,m,y,w,b,v,E,_,O,S,R,I,D=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),s=[a=e.__e=n.__e]),(u=xr.__b)&&u(e);e:if(typeof D=="function")try{if(w=e.props,b="prototype"in D&&D.prototype.render,v=(u=D.contextType)&&r[u.__c],E=u?v?v.props.value:u.__:r,n.__c?y=(d=e.__c=n.__c).__=d.__E:(b?e.__c=d=new D(w,E):(e.__c=d=new f_(w,E),d.constructor=D,d.render=bHe),v&&v.sub(d),d.props=w,d.state||(d.state={}),d.context=E,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),b&&d.__s==null&&(d.__s=d.state),b&&D.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=P0({},d.__s)),P0(d.__s,D.getDerivedStateFromProps(w,d.__s))),f=d.props,g=d.state,d.__v=e,h)b&&D.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),b&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(b&&D.getDerivedStateFromProps==null&&w!==f&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(w,E),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(w,d.__s,E)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(d.props=w,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(j){j&&(j.__=e)}),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(w,d.__s,E),b&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(f,g,m)})}if(d.context=E,d.props=w,d.__P=t,d.__e=!1,O=xr.__r,S=0,b){for(d.state=d.__s,d.__d=!1,O&&O(e),u=d.render(d.props,d.state,d.context),R=0;R<d._sb.length;R++)d.__h.push(d._sb[R]);d._sb=[]}else do d.__d=!1,O&&O(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++S<25);d.state=d.__s,d.getChildContext!=null&&(r=P0(P0({},r),d.getChildContext())),b&&!h&&d.getSnapshotBeforeUpdate!=null&&(m=d.getSnapshotBeforeUpdate(f,g)),coe(t,qj(I=u!=null&&u.type===h_&&u.key==null?u.props.children:u)?I:[I],e,n,r,i,s,o,a,c,l),d.base=e.__e,e.__u&=-161,d.__h.length&&o.push(d),y&&(d.__E=d.__=null)}catch(j){if(e.__v=null,c||s!=null){for(e.__u|=c?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;xr.__e(j,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=vHe(n.__e,e,n,r,i,s,o,c,l);(u=xr.diffed)&&u(e)}function hoe(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)Vj(n[r],n[++r],n[++r]);xr.__c&&xr.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){xr.__e(s,i.__v)}})}function vHe(t,e,n,r,i,s,o,a,c){var l,u,d,h,f,g,m,y=n.props,w=e.props,b=e.type;if(b==="svg"?i="http://www.w3.org/2000/svg":b==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((f=s[l])&&"setAttribute"in f==!!b&&(b?f.localName===b:f.nodeType===3)){t=f,s[l]=null;break}}if(t==null){if(b===null)return document.createTextNode(w);t=document.createElementNS(i,b,w.is&&w),a&&(xr.__m&&xr.__m(e,s),a=!1),s=null}if(b===null)y===w||a&&t.data===w||(t.data=w);else{if(s=s&&u_.call(t.childNodes),y=n.props||n4,!a&&s!=null)for(y={},l=0;l<t.attributes.length;l++)y[(f=t.attributes[l]).name]=f.value;for(l in y)if(f=y[l],l!="children"){if(l=="dangerouslySetInnerHTML")d=f;else if(!(l in w)){if(l=="value"&&"defaultValue"in w||l=="checked"&&"defaultChecked"in w)continue;g_(t,l,null,f,i)}}for(l in w)f=w[l],l=="children"?h=f:l=="dangerouslySetInnerHTML"?u=f:l=="value"?g=f:l=="checked"?m=f:a&&typeof f!="function"||y[l]===f||g_(t,l,f,y[l],i);if(u)a||d&&(u.__html===d.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(d&&(t.innerHTML=""),coe(t,qj(h)?h:[h],e,n,r,b==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:n.__k&&uv(n,0),a,c),s!=null)for(l=s.length;l--;)soe(s[l]);a||(l="value",b==="progress"&&g==null?t.removeAttribute("value"):g!==void 0&&(g!==t[l]||b==="progress"&&!g||b==="option"&&g!==y[l])&&g_(t,l,g,y[l],i),l="checked",m!==void 0&&m!==t[l]&&g_(t,l,m,y[l],i))}return t}function Vj(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){xr.__e(i,n)}}function foe(t,e,n){var r,i;if(xr.unmount&&xr.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Vj(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){xr.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&foe(r[i],e,n||typeof t.type!="function");n||soe(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function bHe(t,e,n){return this.constructor(t,n)}function r4(t,e,n){var r,i,s,o;xr.__&&xr.__(t,e),i=(r=!1)?null:e.__k,s=[],o=[],Hj(e,t=e.__k=or(h_,null,[t]),i||n4,n4,e.namespaceURI,i?null:e.firstChild?u_.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,o),hoe(s,t,o)}u_=ioe.slice,xr={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},toe=0,f_.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=P0({},this.state),typeof t=="function"&&(t=t(P0({},n),this.props)),t&&P0(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),aoe(this))},f_.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),aoe(this))},f_.prototype.render=h_,Vm=[],roe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Uj=function(t,e){return t.__v.__b-e.__v.__b},p_.__r=0,Fj=0,zj=doe(!1),Wj=doe(!0);var i4,Ai,Kj,poe,Gj=0,goe=[],Ui=xr,moe=Ui.__b,yoe=Ui.__r,woe=Ui.diffed,voe=Ui.__c,boe=Ui.unmount,xoe=Ui.__;function Zj(t,e){Ui.__h&&Ui.__h(Ai,t,Gj||e),Gj=0;var n=Ai.__H||(Ai.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Tf(t){return Gj=1,xHe(_oe,t)}function xHe(t,e,n){var r=Zj(i4++,2);if(r.t=t,!r.__c&&(r.__=[_oe(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],l=r.t(c,a);c!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=Ai,!Ai.u)){var i=function(a,c,l){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!s||s.call(this,a,c,l);var d=!1;return u.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(d=!0)}}),!(!d&&r.__c.props===a)&&(!s||s.call(this,a,c,l))};Ai.u=!0;var s=Ai.shouldComponentUpdate,o=Ai.componentWillUpdate;Ai.componentWillUpdate=function(a,c,l){if(this.__e){var u=s;s=void 0,i(a,c,l),s=u}o&&o.call(this,a,c,l)},Ai.shouldComponentUpdate=i}return r.__N||r.__}function m_(t,e){var n=Zj(i4++,3);!Ui.__s&&Coe(n.__H,e)&&(n.__=t,n.i=e,Ai.__H.__h.push(n))}function EHe(t,e){var n=Zj(i4++,7);return Coe(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function CHe(){for(var t;t=goe.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(y_),t.__H.__h.forEach(Yj),t.__H.__h=[]}catch(e){t.__H.__h=[],Ui.__e(e,t.__v)}}Ui.__b=function(t){Ai=null,moe&&moe(t)},Ui.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),xoe&&xoe(t,e)},Ui.__r=function(t){yoe&&yoe(t),i4=0;var e=(Ai=t.__c).__H;e&&(Kj===Ai?(e.__h=[],Ai.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(y_),e.__h.forEach(Yj),e.__h=[],i4=0)),Kj=Ai},Ui.diffed=function(t){woe&&woe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(goe.push(e)!==1&&poe===Ui.requestAnimationFrame||((poe=Ui.requestAnimationFrame)||_He)(CHe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Kj=Ai=null},Ui.__c=function(t,e){e.some(function(n){try{n.__h.forEach(y_),n.__h=n.__h.filter(function(r){return!r.__||Yj(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Ui.__e(r,n.__v)}}),voe&&voe(t,e)},Ui.unmount=function(t){boe&&boe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{y_(r)}catch(i){e=i}}),n.__H=void 0,e&&Ui.__e(e,n.__v))};var Eoe=typeof requestAnimationFrame=="function";function _He(t){var e,n=function(){clearTimeout(r),Eoe&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Eoe&&(e=requestAnimationFrame(n))}function y_(t){var e=Ai,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ai=e}function Yj(t){var e=Ai;t.__c=t.__(),Ai=e}function Coe(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function _oe(t,e){return typeof e=="function"?e(t):e}const AHe=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",SHe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",IHe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class Aoe{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=Qse()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&r4(or("div",null,or(Soe,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>or(kHe,Object.assign({},n,{key:e}))))),this.root)}}const Soe=t=>or("div",{class:T0("-cbwsdk-snackbar-container")},or("style",null,AHe),or("div",{class:"-cbwsdk-snackbar"},t.children)),kHe=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=Tf(!0),[s,o]=Tf(t??!1);m_(()=>{const c=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{c.forEach(window.clearTimeout)}});const a=()=>{o(!s)};return or("div",{class:T0("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},or("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},or("img",{src:SHe,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",or("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),or("div",{class:"-gear-container"},!s&&or("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),or("img",{src:IHe,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&or("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((c,l)=>or("div",{class:T0("-cbwsdk-snackbar-instance-menu-item",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:c.onClick,key:l},or("svg",{width:c.svgWidth,height:c.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},or("path",{"fill-rule":c.defaultFillRule,"clip-rule":c.defaultClipRule,d:c.path,fill:"#AAAAAA"})),or("span",{class:T0("-cbwsdk-snackbar-instance-menu-item-info",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},c.info)))))},Ioe="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class $He{constructor(){this.attached=!1,this.snackbar=new Aoe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,Xse()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:Ioe,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const THe=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class PHe{constructor(){this.root=null,this.darkMode=Qse()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),Xse()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(r4(null,this.root),e&&r4(or(NHe,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const NHe=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return or(Soe,{darkMode:n},or("div",{class:"-cbwsdk-redirect-dialog"},or("style",null,THe),or("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),or("div",{class:T0("-cbwsdk-redirect-dialog-box",s)},or("p",null,t),or("button",{onClick:r},e))))},OHe="https://keys.coinbase.com/connect",RHe="https://rpc.wallet.coinbase.com",koe="https://www.walletlink.org",MHe="https://go.cb-w.com/walletlink";class $oe{constructor(){this.attached=!1,this.redirectDialog=new PHe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(MHe);n.searchParams.append("redirect_url",fHe().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Pf{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=pHe(),this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(Bj);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!c&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Pf.accountRequestCallbackIds.size>0&&(Array.from(Pf.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[s]})}),Pf.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new dHe,this.ui=r,this.ui.attach()}subscribe(){const e=lv.load(this.storage)||lv.create(this.storage),{linkAPIUrl:n}=this,r=new uHe({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new $oe:new $He;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=lv.load(this.storage);(e==null?void 0:e.id)===this._session.id&&eh.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:th(e.weiValue),data:J6(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?th(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?th(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?th(e.gasPriceInWei):null,gasLimit:e.gasLimit?th(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:th(e.weiValue),data:J6(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?th(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?th(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?th(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?th(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:J6(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=qm(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n==null||n()};return new Promise((s,o)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,a=>{if(n==null||n(),Hs(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof $oe)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){Pf.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),Pf.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r==null?void 0:r.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=qm(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if(Hs(a))return o(new Error(a.errorMessage));s(a)}),Pf.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let c=null;const l=qm(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),c==null||c()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,h)=>{this.relayEventManager.callbacks.set(l,f=>{if(c==null||c(),Hs(f))return h(new Error(f.errorMessage));d(f)}),this.publishWeb3RequestEvent(l,a)})}addEthereumChain(e,n,r,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let c=null;const l=qm(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),c==null||c()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,h)=>{this.relayEventManager.callbacks.set(l,f=>{if(c==null||c(),Hs(f))return h(new Error(f.errorMessage));d(f)}),this.publishWeb3RequestEvent(l,a)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=qm(8),o=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,a),i==null||i()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,c)=>{this.relayEventManager.callbacks.set(s,l=>{if(i==null||i(),Hs(l)&&l.errorCode)return c(Rn.provider.custom({code:l.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(Hs(l))return c(new Error(l.errorMessage));a(l)}),this.publishWeb3RequestEvent(s,r)})}}Pf.accountRequestCallbackIds=new Set;const Toe="DefaultChainId",Poe="DefaultJsonRpcUrl";class Noe{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new eh("walletlink",koe),this.callback=e.callback||null;const n=this._storage.getItem(Bj);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>$0(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Poe))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(Poe,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(Toe,n.toString(10)),Q6(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",k0(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Rn.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw Rn.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw Rn.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw Rn.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options,l=await this.initializeRelay().watchAsset(n.type,i,s,a,o,r==null?void 0:r.toString());return Hs(l)?!1:!!l.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw Rn.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw Rn.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw Rn.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:c=[],chainName:l,iconUrls:u=[],nativeCurrency:d}=i,h=await o.addEthereumChain(s.toString(),a,u,c,l,d);if(Hs(h))return!1;if(((r=h.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(a[0],s),null;throw Rn.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(Hs(s))throw s;const o=s.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>$0(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(Bj,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return k0(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw Rn.rpc.internal("No RPC URL set for chain");return Dj(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=$0(e);if(!this._addresses.map(i=>$0(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?$0(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?$0(e.to):null,i=e.value!=null?X6(e.value):BigInt(0),s=e.data?Oj(e.data):Buffer.alloc(0),o=e.nonce!=null?Q6(e.nonce):null,a=e.gasPrice!=null?X6(e.gasPrice):null,c=e.maxFeePerGas!=null?X6(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?X6(e.maxPriorityFeePerGas):null,u=e.gas!=null?X6(e.gas):null,d=e.chainId?Q6(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:u,chainId:d}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Rn.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:Tj(r[0]),signature:Tj(r[1]),addPrefix:n==="personal_ecRecover"}});if(Hs(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(Toe))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:k0(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(Hs(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:k0(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw Rn.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:$0(n),message:Tj(r),addPrefix:!0,typedDataJson:null}});if(Hs(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(Hs(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=Oj(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(Hs(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(Hs(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Rn.rpc.invalidParams();const i=l=>{const u={eth_signTypedData_v1:l_.hashForSignTypedDataLegacy,eth_signTypedData_v3:l_.hashForSignTypedData_v3,eth_signTypedData_v4:l_.hashForSignTypedData_v4,eth_signTypedData:l_.hashForSignTypedData_v4};return J6(u[n]({data:$qe(l)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],o=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const c=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:$0(s),message:i(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(Hs(c))throw c;return c.result}initializeRelay(){return this._relay||(this._relay=new Pf({linkAPIUrl:koe,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const Ooe="SignerType",Roe=new eh("CBWSDK","SignerConfigurator");function jHe(){return Roe.getItem(Ooe)}function DHe(t){Roe.setItem(Ooe,t)}async function LHe(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;UHe(e,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:o}=await e.postRequestAndWaitForResponse(s);return o}function BHe(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new zqe({metadata:n,callback:i,communicator:r});case"walletlink":return new Noe({metadata:n,callback:i})}}async function UHe(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new Noe({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const FHe=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,zHe=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(FHe)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:WHe,getCrossOriginOpenerPolicy:qHe}=zHe(),Moe=420,joe=540,HHe={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:Ioe,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},VHe="Popup was blocked. Try again.";let w_=null;function KHe(t){const e=(window.innerWidth-Moe)/2+window.screenX,n=(window.innerHeight-joe)/2+window.screenY;ZHe(t);function r(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${Moe}, height=${joe}, left=${e}, top=${n}`);return o==null||o.focus(),o||null}let i=r();if(!i){const s=YHe();return new Promise((o,a)=>{s.presentItem({autoExpand:!0,message:VHe,menuItems:[Object.assign(Object.assign({},HHe),{onClick:()=>{i=r(),i?o(i):a(Rn.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function GHe(t){t&&!t.closed&&t.close()}function ZHe(t){const e={sdkName:Nse,sdkVersion:e4,origin:window.location.origin,coop:qHe()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function YHe(){if(!w_){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),w_=new Aoe,w_.attach(t)}return w_}let JHe=class{constructor({url:e=OHe,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=c=>{if(c.origin!==this.url.origin)return;const l=c.data;i(l)&&(s(l),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{GHe(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(Rn.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await KHe(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:e4,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw Rn.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}};function QHe(t){const e=_qe(XHe(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",e4),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function XHe(t){var e;if(typeof t=="string")return{message:t,code:_i.rpc.internal};if(Hs(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?_i.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}let eVe=class extends C0{};var tVe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class nVe extends eVe{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=tVe(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new JHe({url:i,metadata:n,preference:s});const o=jHe();o&&(this.signer=this.initSigner(o))}async request(e){try{if(Fqe(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,DHe(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return Dj(e,RHe);case"net_version":return 1;case"eth_chainId":return k0(1);default:throw Rn.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===_i.provider.unauthorized&&this.disconnect(),Promise.reject(QHe(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,eh.clearAll(),this.emit("disconnect",Rn.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return LHe({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return BHe({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function rVe(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function iVe(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=Uqe(n))!==null&&e!==void 0?e:new nVe(n)}const sVe={options:"all"};function Doe(t){var e;new eh("CBWSDK").setItem("VERSION",e4),WHe();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(sVe,(e=t.preference)!==null&&e!==void 0?e:{})};rVe(r.preference);let i=null;return{getProvider:()=>(i||(i=iVe(r)),i)}}let Jj={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const oVe={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let dv=t=>t!==void 0?BigInt(t):void 0;function Loe(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map(l=>Array.isArray(l)?{address:l[0],storageKeys:l[1]}:l):r.accessList&&(e=Object.entries(r.accessList).map(l=>({address:l[0],storageKeys:l[1]})));let i=Number(r.chainId??1),s=si(r.data)?r.data:r.data?sr(Uint8Array.from(r.data)):void 0,o=r.nonce?Number(r.nonce):void 0,a={chainId:i,data:s,nonce:o,value:dv(r.value),gas:dv(r.gas??r.gasLimit)},c=Number(n);if(c===0)return{...r,type:Jj[c],...a,gasPrice:dv(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(c===1)return{...r,type:Jj[c],...a,gasPrice:dv(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(c===2)return{...r,type:Jj[c],...a,nonce:o,accessList:e,maxFeePerGas:dv(r.maxFeePerGas),maxPriorityFeePerGas:dv(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}const aVe=({as:t="div",...e},n)=>p.jsx(t,{...e,ref:n}),cVe=k.forwardRef(aVe),lVe="https://challenges.cloudflare.com/turnstile/v0/api.js",v_="cf-turnstile-script",uVe="cf-turnstile",Boe="onloadTurnstileCallback",b_=t=>!!document.getElementById(t),dVe=({render:t="explicit",onLoadCallbackName:e=Boe,scriptOptions:{nonce:n="",defer:r=!0,async:i=!0,id:s="",appendTo:o,onError:a,crossOrigin:c=""}={}})=>{const l=s||v_;if(b_(l))return;const u=document.createElement("script");if(u.id=l,u.src=`${lVe}?onload=${e}&render=${t}`,document.querySelector(`script[src="${u.src}"]`))return;u.defer=!!r,u.async=!!i,n&&(u.nonce=n),c&&(u.crossOrigin=c),a&&(u.onerror=a),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(u)},rh={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}};function hVe(t){let e;return t!=="invisible"&&(e=t),e}function fVe(t=v_){const[e,n]=k.useState(!1);return k.useEffect(()=>{const r=()=>{b_(t)&&n(!0)},i=new MutationObserver(r);return i.observe(document,{childList:!0,subtree:!0}),r(),()=>{i.disconnect()}},[t]),e}const Uoe=k.forwardRef((t,e)=>{const{scriptOptions:n,options:r={},siteKey:i,onWidgetLoad:s,onSuccess:o,onExpire:a,onError:c,onBeforeInteractive:l,onAfterInteractive:u,onUnsupported:d,onLoadScript:h,id:f,style:g,as:m="div",injectScript:y=!0,...w}=t,b=r.size??"normal",[v,E]=k.useState(r.execution==="execute"?rh.invisible:r.appearance==="interaction-only"?rh.interactionOnly:rh[b]),_=k.useRef(null),O=k.useRef(!1),[S,R]=k.useState(),[I,D]=k.useState(!1),j=f??uVe,F=y?(n==null?void 0:n.id)||`${v_}__${j}`:(n==null?void 0:n.id)||v_,M=fVe(F),C=n!=null&&n.onLoadCallbackName?`${n.onLoadCallbackName}__${j}`:`${Boe}__${j}`,x=k.useMemo(()=>({sitekey:i,action:r.action,cData:r.cData,callback:o,"error-callback":c,"expired-callback":a,"before-interactive-callback":l,"after-interactive-callback":u,"unsupported-callback":d,theme:r.theme??"auto",language:r.language??"auto",tabindex:r.tabIndex,"response-field":r.responseField,"response-field-name":r.responseFieldName,size:hVe(b),retry:r.retry??"auto","retry-interval":r.retryInterval??8e3,"refresh-expired":r.refreshExpired??"auto",execution:r.execution??"render",appearance:r.appearance??"always"}),[i,r,o,c,a,b,l,u,d]),A=k.useMemo(()=>JSON.stringify(x),[x]);return k.useImperativeHandle(e,()=>{if(typeof window>"u"||!M)return;const{turnstile:P}=window;return{getResponse(){if(!(P!=null&&P.getResponse)||!S){console.warn("Turnstile has not been loaded");return}return P.getResponse(S)},reset(){if(!(P!=null&&P.reset)||!S){console.warn("Turnstile has not been loaded");return}r.execution==="execute"&&E(rh.invisible);try{P.reset(S)}catch(N){console.warn(`Failed to reset Turnstile widget ${S}`,N)}},remove(){if(!(P!=null&&P.remove)||!S){console.warn("Turnstile has not been loaded");return}R(""),E(rh.invisible),P.remove(S)},render(){if(!(P!=null&&P.render)||!_.current||S){console.warn("Turnstile has not been loaded or widget already rendered");return}const N=P.render(_.current,x);return R(N),r.execution!=="execute"&&E(rh[b]),N},execute(){if(r.execution==="execute"){if(!(P!=null&&P.execute)||!_.current||!S){console.warn("Turnstile has not been loaded or widget has not been rendered");return}P.execute(_.current,x),E(rh[b])}},isExpired(){if(!(P!=null&&P.isExpired)||!S){console.warn("Turnstile has not been loaded");return}return P.isExpired(S)}}},[M,S,r.execution,b,x,_]),k.useEffect(()=>(window[C]=()=>D(!0),()=>{delete window[C]}),[C]),k.useEffect(()=>{y&&!I&&dVe({onLoadCallbackName:C,scriptOptions:{...n,id:F}})},[y,I,C,n,F]),k.useEffect(()=>{M&&!I&&window.turnstile&&D(!0)},[I,M]),k.useEffect(()=>{if(!i){console.warn("sitekey was not provided");return}if(!M||!_.current||!I||O.current)return;const P=window.turnstile.render(_.current,x);R(P),O.current=!0},[M,i,x,O,I]),k.useEffect(()=>{if(window.turnstile&&_.current&&S){b_(S)&&window.turnstile.remove(S);const P=window.turnstile.render(_.current,x);R(P),O.current=!0}},[A,i]),k.useEffect(()=>{if(window.turnstile&&S&&b_(S))return s==null||s(S),()=>{window.turnstile.remove(S)}},[S,s]),k.useEffect(()=>{E(r.execution==="execute"?rh.invisible:x.appearance==="interaction-only"?rh.interactionOnly:rh[b])},[r.execution,b,x.appearance]),k.useEffect(()=>{!M||typeof h!="function"||h()},[M,h]),p.jsx(cVe,{ref:_,as:m,id:j,style:{...v,...g},...w})});Uoe.displayName="Turnstile";var ko=function(){return ko=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ko.apply(this,arguments)};function hv(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var Fr="-ms-",s4="-moz-",Yn="-webkit-",Foe="comm",x_="rule",Qj="decl",pVe="@import",gVe="@namespace",zoe="@keyframes",mVe="@layer",Woe=Math.abs,Xj=String.fromCharCode,eD=Object.assign;function yVe(t,e){return ns(t,0)^45?(((e<<2^ns(t,0))<<2^ns(t,1))<<2^ns(t,2))<<2^ns(t,3):0}function qoe(t){return t.trim()}function Nf(t,e){return(t=e.exec(t))?t[0]:t}function cn(t,e,n){return t.replace(e,n)}function E_(t,e,n){return t.indexOf(e,n)}function ns(t,e){return t.charCodeAt(e)|0}function Km(t,e,n){return t.slice(e,n)}function Hu(t){return t.length}function Hoe(t){return t.length}function o4(t,e){return e.push(t),t}function wVe(t,e){return t.map(e).join("")}function Voe(t,e){return t.filter(function(n){return!Nf(n,e)})}var C_=1,fv=1,Koe=0,Bl=0,Fi=0,pv="";function __(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:C_,column:fv,length:o,return:"",siblings:a}}function N0(t,e){return eD(__("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function gv(t){for(;t.root;)t=N0(t.root,{children:[t]});o4(t,t.siblings)}function vVe(){return Fi}function bVe(){return Fi=Bl>0?ns(pv,--Bl):0,fv--,Fi===10&&(fv=1,C_--),Fi}function Vu(){return Fi=Bl<Koe?ns(pv,Bl++):0,fv++,Fi===10&&(fv=1,C_++),Fi}function O0(){return ns(pv,Bl)}function A_(){return Bl}function S_(t,e){return Km(pv,t,e)}function a4(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xVe(t){return C_=fv=1,Koe=Hu(pv=t),Bl=0,[]}function EVe(t){return pv="",t}function tD(t){return qoe(S_(Bl-1,nD(t===91?t+2:t===40?t+1:t)))}function CVe(t){for(;(Fi=O0())&&Fi<33;)Vu();return a4(t)>2||a4(Fi)>3?"":" "}function _Ve(t,e){for(;--e&&Vu()&&!(Fi<48||Fi>102||Fi>57&&Fi<65||Fi>70&&Fi<97););return S_(t,A_()+(e<6&&O0()==32&&Vu()==32))}function nD(t){for(;Vu();)switch(Fi){case t:return Bl;case 34:case 39:t!==34&&t!==39&&nD(Fi);break;case 40:t===41&&nD(t);break;case 92:Vu();break}return Bl}function AVe(t,e){for(;Vu()&&t+Fi!==57;)if(t+Fi===84&&O0()===47)break;return"/*"+S_(e,Bl-1)+"*"+Xj(t===47?t:Vu())}function SVe(t){for(;!a4(O0());)Vu();return S_(t,Bl)}function IVe(t){return EVe(I_("",null,null,null,[""],t=xVe(t),0,[0],t))}function I_(t,e,n,r,i,s,o,a,c){for(var l=0,u=0,d=o,h=0,f=0,g=0,m=1,y=1,w=1,b=0,v="",E=i,_=s,O=r,S=v;y;)switch(g=b,b=Vu()){case 40:if(g!=108&&ns(S,d-1)==58){E_(S+=cn(tD(b),"&","&\f"),"&\f",Woe(l?a[l-1]:0))!=-1&&(w=-1);break}case 34:case 39:case 91:S+=tD(b);break;case 9:case 10:case 13:case 32:S+=CVe(g);break;case 92:S+=_Ve(A_()-1,7);continue;case 47:switch(O0()){case 42:case 47:o4(kVe(AVe(Vu(),A_()),e,n,c),c),(a4(g||1)==5||a4(O0()||1)==5)&&Hu(S)&&Km(S,-1,void 0)!==" "&&(S+=" ");break;default:S+="/"}break;case 123*m:a[l++]=Hu(S)*w;case 125*m:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+u:w==-1&&(S=cn(S,/\f/g,"")),f>0&&(Hu(S)-d||m===0&&g===47)&&o4(f>32?Zoe(S+";",r,n,d-1,c):Zoe(cn(S," ","")+";",r,n,d-2,c),c);break;case 59:S+=";";default:if(o4(O=Goe(S,e,n,l,u,i,a,v,E=[],_=[],d,s),s),b===123)if(u===0)I_(S,e,O,O,E,s,d,a,_);else{switch(h){case 99:if(ns(S,3)===110)break;case 108:if(ns(S,2)===97)break;default:u=0;case 100:case 109:case 115:}u?I_(t,O,O,r&&o4(Goe(t,O,O,0,0,i,a,v,i,E=[],d,_),_),i,_,d,a,r?E:_):I_(S,O,O,O,[""],_,0,a,_)}}l=u=f=0,m=w=1,v=S="",d=o;break;case 58:d=1+Hu(S),f=g;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&bVe()==125)continue}switch(S+=Xj(b),b*m){case 38:w=u>0?1:(S+="\f",-1);break;case 44:a[l++]=(Hu(S)-1)*w,w=1;break;case 64:O0()===45&&(S+=tD(Vu())),h=O0(),u=d=Hu(v=S+=SVe(A_())),b++;break;case 45:g===45&&Hu(S)==2&&(m=0)}}return s}function Goe(t,e,n,r,i,s,o,a,c,l,u,d){for(var h=i-1,f=i===0?s:[""],g=Hoe(f),m=0,y=0,w=0;m<r;++m)for(var b=0,v=Km(t,h+1,h=Woe(y=o[m])),E=t;b<g;++b)(E=qoe(y>0?f[b]+" "+v:cn(v,/&\f/g,f[b])))&&(c[w++]=E);return __(t,e,n,i===0?x_:a,c,l,u,d)}function kVe(t,e,n,r){return __(t,e,n,Foe,Xj(vVe()),Km(t,2,-2),0,r)}function Zoe(t,e,n,r,i){return __(t,e,n,Qj,Km(t,0,r),Km(t,r+1,-1),r,i)}function Yoe(t,e,n){switch(yVe(t,e)){case 5103:return Yn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return Yn+t+t;case 4855:return Yn+t.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+t;case 4789:return s4+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Yn+t+s4+t+Fr+t+t;case 5936:switch(ns(t,e+11)){case 114:return Yn+t+Fr+cn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Yn+t+Fr+cn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Yn+t+Fr+cn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Yn+t+Fr+t+t;case 6165:return Yn+t+Fr+"flex-"+t+t;case 5187:return Yn+t+cn(t,/(\w+).+(:[^]+)/,Yn+"box-$1$2"+Fr+"flex-$1$2")+t;case 5443:return Yn+t+Fr+"flex-item-"+cn(t,/flex-|-self/g,"")+(Nf(t,/flex-|baseline/)?"":Fr+"grid-row-"+cn(t,/flex-|-self/g,""))+t;case 4675:return Yn+t+Fr+"flex-line-pack"+cn(t,/align-content|flex-|-self/g,"")+t;case 5548:return Yn+t+Fr+cn(t,"shrink","negative")+t;case 5292:return Yn+t+Fr+cn(t,"basis","preferred-size")+t;case 6060:return Yn+"box-"+cn(t,"-grow","")+Yn+t+Fr+cn(t,"grow","positive")+t;case 4554:return Yn+cn(t,/([^-])(transform)/g,"$1"+Yn+"$2")+t;case 6187:return cn(cn(cn(t,/(zoom-|grab)/,Yn+"$1"),/(image-set)/,Yn+"$1"),t,"")+t;case 5495:case 3959:return cn(t,/(image-set\([^]*)/,Yn+"$1$`$1");case 4968:return cn(cn(t,/(.+:)(flex-)?(.*)/,Yn+"box-pack:$3"+Fr+"flex-pack:$3"),/space-between/,"justify")+Yn+t+t;case 4200:if(!Nf(t,/flex-|baseline/))return Fr+"grid-column-align"+Km(t,e)+t;break;case 2592:case 3360:return Fr+cn(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Nf(r.props,/grid-\w+-end/)})?~E_(t+(n=n[e].value),"span",0)?t:Fr+cn(t,"-start","")+t+Fr+"grid-row-span:"+(~E_(n,"span",0)?Nf(n,/\d+/):+Nf(n,/\d+/)-+Nf(t,/\d+/))+";":Fr+cn(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Nf(r.props,/grid-\w+-start/)})?t:Fr+cn(cn(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return cn(t,/(.+)-inline(.+)/,Yn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hu(t)-1-e>6)switch(ns(t,e+1)){case 109:if(ns(t,e+4)!==45)break;case 102:return cn(t,/(.+:)(.+)-([^]+)/,"$1"+Yn+"$2-$3$1"+s4+(ns(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~E_(t,"stretch",0)?Yoe(cn(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return cn(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,c,l){return Fr+i+":"+s+l+(o?Fr+i+"-span:"+(a?c:+c-+s)+l:"")+t});case 4949:if(ns(t,e+6)===121)return cn(t,":",":"+Yn)+t;break;case 6444:switch(ns(t,ns(t,14)===45?18:11)){case 120:return cn(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Yn+(ns(t,14)===45?"inline-":"")+"box$3$1"+Yn+"$2$3$1"+Fr+"$2box$3")+t;case 100:return cn(t,":",":"+Fr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return cn(t,"scroll-","scroll-snap-")+t}return t}function k_(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function $Ve(t,e,n,r){switch(t.type){case mVe:if(t.children.length)break;case pVe:case gVe:case Qj:return t.return=t.return||t.value;case Foe:return"";case zoe:return t.return=t.value+"{"+k_(t.children,r)+"}";case x_:if(!Hu(t.value=t.props.join(",")))return""}return Hu(n=k_(t.children,r))?t.return=t.value+"{"+n+"}":""}function TVe(t){var e=Hoe(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function PVe(t){return function(e){e.root||(e=e.return)&&t(e)}}function NVe(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Qj:t.return=Yoe(t.value,t.length,n);return;case zoe:return k_([N0(t,{value:cn(t.value,"@","@"+Yn)})],r);case x_:if(t.length)return wVe(n=t.props,function(i){switch(Nf(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":gv(N0(t,{props:[cn(i,/:(read-\w+)/,":"+s4+"$1")]})),gv(N0(t,{props:[i]})),eD(t,{props:Voe(n,r)});break;case"::placeholder":gv(N0(t,{props:[cn(i,/:(plac\w+)/,":"+Yn+"input-$1")]})),gv(N0(t,{props:[cn(i,/:(plac\w+)/,":"+s4+"$1")]})),gv(N0(t,{props:[cn(i,/:(plac\w+)/,Fr+"input-$1")]})),gv(N0(t,{props:[i]})),eD(t,{props:Voe(n,r)});break}return""})}}var OVe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Fc={},mv=typeof process<"u"&&Fc!==void 0&&(Fc.REACT_APP_SC_ATTR||Fc.SC_ATTR)||"data-styled",Joe="active",Qoe="data-styled-version",$_="6.3.6",rD=`/*!sc*/
`,T_=typeof window<"u"&&typeof document<"u",Gm=Me.createContext===void 0,RVe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Fc!==void 0&&Fc.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Fc.REACT_APP_SC_DISABLE_SPEEDY!==""?Fc.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Fc.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Fc!==void 0&&Fc.SC_DISABLE_SPEEDY!==void 0&&Fc.SC_DISABLE_SPEEDY!==""&&Fc.SC_DISABLE_SPEEDY!=="false"&&Fc.SC_DISABLE_SPEEDY),MVe={},P_=Object.freeze([]),yv=Object.freeze({});function Xoe(t,e,n){return n===void 0&&(n=yv),t.theme!==n.theme&&t.theme||e||n.theme}var eae=new Set(["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","body","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","slot","small","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use"]),jVe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,DVe=/(^-|-$)/g;function tae(t){return t.replace(jVe,"-").replace(DVe,"")}var LVe=/(a)(d)/gi,nae=function(t){return String.fromCharCode(t+(t>25?39:97))};function N_(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=nae(e%52)+n;return(nae(e%52)+n).replace(LVe,"$1-$2")}var iD,wv=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},sD=function(t){return wv(5381,t)};function oD(t){return N_(sD(t)>>>0)}function BVe(t){return t.displayName||t.name||"Component"}function aD(t){return typeof t=="string"&&!0}var rae=typeof Symbol=="function"&&Symbol.for,iae=rae?Symbol.for("react.memo"):60115,UVe=rae?Symbol.for("react.forward_ref"):60112,FVe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},zVe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},sae={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WVe=((iD={})[UVe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},iD[iae]=sae,iD);function oae(t){return("type"in(e=t)&&e.type.$$typeof)===iae?sae:"$$typeof"in t?WVe[t.$$typeof]:FVe;var e}var qVe=Object.defineProperty,HVe=Object.getOwnPropertyNames,aae=Object.getOwnPropertySymbols,VVe=Object.getOwnPropertyDescriptor,KVe=Object.getPrototypeOf,cae=Object.prototype;function lae(t,e,n){if(typeof e!="string"){if(cae){var r=KVe(e);r&&r!==cae&&lae(t,r,n)}var i=HVe(e);aae&&(i=i.concat(aae(e)));for(var s=oae(t),o=oae(e),a=0;a<i.length;++a){var c=i[a];if(!(c in zVe||n&&n[c]||o&&c in o||s&&c in s)){var l=VVe(e,c);try{qVe(t,c,l)}catch{}}}}return t}function vv(t){return typeof t=="function"}function cD(t){return typeof t=="object"&&"styledComponentId"in t}function Zm(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function O_(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function c4(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function lD(t,e,n){if(n===void 0&&(n=!1),!n&&!c4(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=lD(t[r],e[r]);else if(c4(e))for(var r in e)t[r]=lD(t[r],e[r]);return t}function uD(t,e){Object.defineProperty(t,"toString",{value:e})}function l4(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var GVe=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw l4(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),c=(o=0,n.length);o<c;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(rD);return n},t}(),R_=new Map,M_=new Map,j_=1,bv=function(t){if(R_.has(t))return R_.get(t);for(;M_.has(j_);)j_++;var e=j_++;return R_.set(t,e),M_.set(e,t),e},ZVe=function(t,e){j_=e+1,R_.set(t,e),M_.set(e,t)},YVe="style[".concat(mv,"][").concat(Qoe,'="').concat($_,'"]'),JVe=new RegExp("^".concat(mv,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),QVe=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},XVe=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(rD),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var c=a.match(JVe);if(c){var l=0|parseInt(c[1],10),u=c[2];l!==0&&(ZVe(u,l),QVe(t,u,c[3]),t.getTag().insertRules(l,i)),i.length=0}else i.push(a)}}},uae=function(t){for(var e=document.querySelectorAll(YVe),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(mv)!==Joe&&(XVe(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function eKe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var dae=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var c=Array.from(a.querySelectorAll("style[".concat(mv,"]")));return c[c.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(mv,Joe),r.setAttribute(Qoe,$_);var o=eKe();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},tKe=function(){function t(e){this.element=dae(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw l4(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),nKe=function(){function t(e){this.element=dae(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),rKe=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),hae=T_,iKe={isServer:!T_,useCSSOMInjection:!RVe},D_=function(){function t(e,n,r){e===void 0&&(e=yv),n===void 0&&(n={});var i=this;this.options=ko(ko({},iKe),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&T_&&hae&&(hae=!1,uae(this)),uD(this,function(){return function(s){for(var o=s.getTag(),a=o.length,c="",l=function(d){var h=function(w){return M_.get(w)}(d);if(h===void 0)return"continue";var f=s.names.get(h),g=o.getGroup(d);if(f===void 0||!f.size||g.length===0)return"continue";var m="".concat(mv,".g").concat(d,'[id="').concat(h,'"]'),y="";f!==void 0&&f.forEach(function(w){w.length>0&&(y+="".concat(w,","))}),c+="".concat(g).concat(m,'{content:"').concat(y,'"}').concat(rD)},u=0;u<a;u++)l(u);return c}(i)})}return t.registerId=function(e){return bv(e)},t.prototype.rehydrate=function(){!this.server&&T_&&uae(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(ko(ko({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new rKe(i):r?new tKe(i):new nKe(i)}(this.options),new GVe(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(bv(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(bv(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(bv(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),sKe=/&/g,xv=47;function fae(t){if(t.indexOf("}")===-1)return!1;for(var e=t.length,n=0,r=0,i=!1,s=0;s<e;s++){var o=t.charCodeAt(s);if(r!==0||i||o!==xv||t.charCodeAt(s+1)!==42)if(i)o===42&&t.charCodeAt(s+1)===xv&&(i=!1,s++);else if(o!==34&&o!==39||s!==0&&t.charCodeAt(s-1)===92){if(r===0){if(o===123)n++;else if(o===125&&--n<0)return!0}}else r===0?r=o:r===o&&(r=0);else i=!0,s++}return n!==0||r!==0}function pae(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=pae(n.children,e)),n})}function oKe(t){var e,n,r,i=yv,s=i.options,o=s===void 0?yv:s,a=i.plugins,c=a===void 0?P_:a,l=function(h,f,g){return g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(e):h},u=c.slice();u.push(function(h){h.type===x_&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(sKe,n).replace(r,l))}),o.prefix&&u.push(NVe),u.push($Ve);var d=function(h,f,g,m){f===void 0&&(f=""),g===void 0&&(g=""),m===void 0&&(m="&"),e=m,n=f,r=new RegExp("\\".concat(n,"\\b"),"g");var y=function(v){if(!fae(v))return v;for(var E=v.length,_="",O=0,S=0,R=0,I=!1,D=0;D<E;D++){var j=v.charCodeAt(D);if(R!==0||I||j!==xv||v.charCodeAt(D+1)!==42)if(I)j===42&&v.charCodeAt(D+1)===xv&&(I=!1,D++);else if(j!==34&&j!==39||D!==0&&v.charCodeAt(D-1)===92){if(R===0)if(j===123)S++;else if(j===125){if(--S<0){for(var F=D+1;F<E;){var M=v.charCodeAt(F);if(M===59||M===10)break;F++}F<E&&v.charCodeAt(F)===59&&F++,S=0,D=F-1,O=F;continue}S===0&&(_+=v.substring(O,D+1),O=D+1)}else j===59&&S===0&&(_+=v.substring(O,D+1),O=D+1)}else R===0?R=j:R===j&&(R=0);else I=!0,D++}if(O<E){var C=v.substring(O);fae(C)||(_+=C)}return _}(function(v){if(v.indexOf("//")===-1)return v;for(var E=v.length,_=[],O=0,S=0,R=0,I=0;S<E;){var D=v.charCodeAt(S);if(D!==34&&D!==39||S!==0&&v.charCodeAt(S-1)===92)if(R===0)if(D===40&&S>=3&&(32|v.charCodeAt(S-1))==108&&(32|v.charCodeAt(S-2))==114&&(32|v.charCodeAt(S-3))==117)I=1,S++;else if(I>0)D===41?I--:D===40&&I++,S++;else if(D===xv&&S+1<E&&v.charCodeAt(S+1)===xv){for(S>O&&_.push(v.substring(O,S));S<E&&v.charCodeAt(S)!==10;)S++;O=S}else S++;else S++;else R===0?R=D:R===D&&(R=0),S++}return O===0?v:(O<E&&_.push(v.substring(O)),_.join(""))}(h)),w=IVe(g||f?"".concat(g," ").concat(f," { ").concat(y," }"):y);o.namespace&&(w=pae(w,o.namespace));var b=[];return k_(w,TVe(u.concat(PVe(function(v){return b.push(v)})))),b};return d.hash=c.length?c.reduce(function(h,f){return f.name||l4(15),wv(h,f.name)},5381).toString():"",d}var aKe=new D_,dD=oKe(),hD={shouldForwardProp:void 0,styleSheet:aKe,stylis:dD},gae=Gm?{Provider:function(t){return t.children},Consumer:function(t){return(0,t.children)(hD)}}:Me.createContext(hD);gae.Consumer,Gm||Me.createContext(void 0);function fD(){return!Gm&&Me.useContext?Me.useContext(gae):hD}var mae=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=dD);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,uD(this,function(){throw l4(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=dD),this.name+e.hash},t}();function cKe(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in OVe||t.startsWith("--")?String(e).trim():"".concat(e,"px")}var lKe=function(t){return t>="A"&&t<="Z"};function yae(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;lKe(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var wae=function(t){return t==null||t===!1||t===""},vae=function(t){var e=[];for(var n in t){var r=t[n];t.hasOwnProperty(n)&&!wae(r)&&(Array.isArray(r)&&r.isCss||vv(r)?e.push("".concat(yae(n),":"),r,";"):c4(r)?e.push.apply(e,hv(hv(["".concat(n," {")],vae(r),!1),["}"],!1)):e.push("".concat(yae(n),": ").concat(cKe(n,r),";")))}return e};function R0(t,e,n,r){if(wae(t))return[];if(cD(t))return[".".concat(t.styledComponentId)];if(vv(t)){if(!vv(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return R0(i,e,n,r)}var s;return t instanceof mae?n?(t.inject(n,r),[t.getName(r)]):[t]:c4(t)?vae(t):Array.isArray(t)?Array.prototype.concat.apply(P_,t.map(function(o){return R0(o,e,n,r)})):[t.toString()]}function bae(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(vv(n)&&!cD(n))return!1}return!0}var uKe=sD($_),dKe=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&bae(e),this.componentId=n,this.baseHash=wv(uKe,n),this.baseStyle=r,D_.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r).className:"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Zm(i,this.staticRulesId);else{var s=O_(R0(this.rules,e,n,r)),o=N_(wv(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Zm(i,o),this.staticRulesId=o}else{for(var c=wv(this.baseHash,r.hash),l="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")l+=d;else if(d){var h=O_(R0(d,e,n,r));c=wv(c,h+u),l+=h}}if(l){var f=N_(c>>>0);if(!n.hasNameForId(this.componentId,f)){var g=r(l,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,g)}i=Zm(i,f)}}return{className:i,css:typeof window>"u"?n.getTag().getGroup(bv(this.componentId)):""}},t}(),pD=Gm?{Provider:function(t){return t.children},Consumer:function(t){return(0,t.children)(void 0)}}:Me.createContext(void 0);pD.Consumer;var gD={};function hKe(t,e,n){var r=cD(t),i=t,s=!aD(t),o=e.attrs,a=o===void 0?P_:o,c=e.componentId,l=c===void 0?function(E,_){var O=typeof E!="string"?"sc":tae(E);gD[O]=(gD[O]||0)+1;var S="".concat(O,"-").concat(oD($_+O+gD[O]));return _?"".concat(_,"-").concat(S):S}(e.displayName,e.parentComponentId):c,u=e.displayName,d=u===void 0?function(E){return aD(E)?"styled.".concat(E):"Styled(".concat(BVe(E),")")}(t):u,h=e.displayName&&e.componentId?"".concat(tae(e.displayName),"-").concat(e.componentId):e.componentId||l,f=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(r&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;g=function(E,_){return m(E,_)&&y(E,_)}}else g=m}var w=new dKe(n,h,r?i.componentStyle:void 0);function b(E,_){return function(O,S,R){var I=O.attrs,D=O.componentStyle,j=O.defaultProps,F=O.foldedComponentIds,M=O.styledComponentId,C=O.target,x=Me.useContext?Me.useContext(pD):void 0,A=fD(),P=O.shouldForwardProp||A.shouldForwardProp,N=Xoe(S,x,j)||yv,$=function(K,J,oe){for(var se,ae=ko(ko({},J),{className:void 0,theme:oe}),fe=0;fe<K.length;fe+=1){var ce=vv(se=K[fe])?se(ae):se;for(var de in ce)de==="className"?ae.className=Zm(ae.className,ce[de]):de==="style"?ae.style=ko(ko({},ae.style),ce[de]):ae[de]=ce[de]}return"className"in J&&typeof J.className=="string"&&(ae.className=Zm(ae.className,J.className)),ae}(I,S,N),L=$.as||C,B={};for(var T in $)$[T]===void 0||T[0]==="$"||T==="as"||T==="theme"&&$.theme===N||(T==="forwardedAs"?B.as=$.forwardedAs:P&&!P(T,L)||(B[T]=$[T]));var z=function(K,J){var oe=fD(),se=K.generateAndInjectStyles(J,oe.styleSheet,oe.stylis);return se}(D,$),q=z.className,U=z.css,V=Zm(F,M);q&&(V+=" "+q),$.className&&(V+=" "+$.className),B[aD(L)&&!eae.has(L)?"class":"className"]=V,R&&(B.ref=R);var Z=k.createElement(L,B);return Gm&&U?Me.createElement(Me.Fragment,null,Me.createElement("style",{precedence:"styled-components",href:"sc-".concat(M,"-").concat(q),children:U}),Z):Z}(v,E,_)}b.displayName=d;var v=Me.forwardRef(b);return v.attrs=f,v.componentStyle=w,v.displayName=d,v.shouldForwardProp=g,v.foldedComponentIds=r?Zm(i.foldedComponentIds,i.styledComponentId):"",v.styledComponentId=h,v.target=r?i.target:t,Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(E){this._foldedDefaultProps=r?function(_){for(var O=[],S=1;S<arguments.length;S++)O[S-1]=arguments[S];for(var R=0,I=O;R<I.length;R++)lD(_,I[R],!0);return _}({},i.defaultProps,E):E}}),uD(v,function(){return".".concat(v.styledComponentId)}),s&&lae(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),v}function xae(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Eae=function(t){return Object.assign(t,{isCss:!0})};function rs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vv(t)||c4(t))return Eae(R0(xae(P_,hv([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?R0(r):Eae(R0(xae(r,e)))}function mD(t,e,n){if(n===void 0&&(n=yv),!e)throw l4(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,rs.apply(void 0,hv([i],s,!1)))};return r.attrs=function(i){return mD(t,e,ko(ko({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return mD(t,e,ko(ko({},n),i))},r}var Cae=function(t){return mD(hKe,t)},G=Cae;eae.forEach(function(t){G[t]=Cae(t)});var fKe=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=bae(e),D_.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(O_(R0(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&D_.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function pKe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=rs.apply(void 0,hv([t],e,!1)),i="sc-global-".concat(oD(JSON.stringify(r))),s=new fKe(r,i),o=new WeakMap,a=function(c){var l=fD(),u=Me.useContext?Me.useContext(pD):void 0,d=o.get(l.styleSheet);if(d===void 0&&(d=l.styleSheet.allocateGSInstance(i),o.set(l.styleSheet,d)),(typeof window>"u"||!l.styleSheet.server)&&function(y,w,b,v,E){if(s.isStatic)s.renderStyles(y,MVe,b,E);else{var _=ko(ko({},w),{theme:Xoe(w,v,a.defaultProps)});s.renderStyles(y,_,b,E)}}(d,c,l.styleSheet,u,l.stylis),Gm||Me.useLayoutEffect(function(){return function(){s.removeStyles(d,l.styleSheet)}},[d,l.styleSheet]),Gm){var h=i+d,f=typeof window>"u"?l.styleSheet.getTag().getGroup(bv(h)):"";if(f){var g=N_(sD(f)>>>0),m="sc-global-".concat(i,"-").concat(d,"-").concat(g);return Me.createElement("style",{key:m,"data-styled-global":i,precedence:"styled-components",href:m,children:f})}}return null};return Me.memo(a)}function _ae(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=O_(rs.apply(void 0,hv([t],e,!1))),i=oD(r);return new mae(i,r)}function L_(t){"@babel/helpers - typeof";return L_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L_(t)}var gKe=/^\s+/,mKe=/\s+$/;function dt(t,e){if(t=t||"",e=e||{},t instanceof dt)return t;if(!(this instanceof dt))return new dt(t,e);var n=yKe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}dt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=Tae(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Sae(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Sae(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Aae(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Aae(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Iae(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return xKe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Qr(this._r,255)*100)+"%",g:Math.round(Qr(this._g,255)*100)+"%",b:Math.round(Qr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Qr(this._r,255)*100)+"%, "+Math.round(Qr(this._g,255)*100)+"%, "+Math.round(Qr(this._b,255)*100)+"%)":"rgba("+Math.round(Qr(this._r,255)*100)+"%, "+Math.round(Qr(this._g,255)*100)+"%, "+Math.round(Qr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:OKe[Iae(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+kae(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=dt(e);r="#"+kae(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return dt(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(AKe,arguments)},brighten:function(){return this._applyModification(SKe,arguments)},darken:function(){return this._applyModification(IKe,arguments)},desaturate:function(){return this._applyModification(EKe,arguments)},saturate:function(){return this._applyModification(CKe,arguments)},greyscale:function(){return this._applyModification(_Ke,arguments)},spin:function(){return this._applyModification(kKe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(PKe,arguments)},complement:function(){return this._applyCombination($Ke,arguments)},monochromatic:function(){return this._applyCombination(NKe,arguments)},splitcomplement:function(){return this._applyCombination(TKe,arguments)},triad:function(){return this._applyCombination($ae,[3])},tetrad:function(){return this._applyCombination($ae,[4])}},dt.fromRatio=function(t,e){if(L_(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=u4(t[r]));t=n}return dt(t,e)};function yKe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=DKe(t)),L_(t)=="object"&&(Of(t.r)&&Of(t.g)&&Of(t.b)?(e=wKe(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Of(t.h)&&Of(t.s)&&Of(t.v)?(r=u4(t.s),i=u4(t.v),e=bKe(t.h,r,i),o=!0,a="hsv"):Of(t.h)&&Of(t.s)&&Of(t.l)&&(r=u4(t.s),s=u4(t.l),e=vKe(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=Tae(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function wKe(t,e,n){return{r:Qr(t,255)*255,g:Qr(e,255)*255,b:Qr(n,255)*255}}function Aae(t,e,n){t=Qr(t,255),e=Qr(e,255),n=Qr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var c=r-i;switch(o=a>.5?c/(2-r-i):c/(r+i),r){case t:s=(e-n)/c+(e<n?6:0);break;case e:s=(n-t)/c+2;break;case n:s=(t-e)/c+4;break}s/=6}return{h:s,s:o,l:a}}function vKe(t,e,n){var r,i,s;t=Qr(t,360),e=Qr(e,100),n=Qr(n,100);function o(l,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?l+(u-l)*6*d:d<1/2?u:d<2/3?l+(u-l)*(2/3-d)*6:l}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;r=o(c,a,t+1/3),i=o(c,a,t),s=o(c,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function Sae(t,e,n){t=Qr(t,255),e=Qr(e,255),n=Qr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,c=r-i;if(o=r===0?0:c/r,r==i)s=0;else{switch(r){case t:s=(e-n)/c+(e<n?6:0);break;case e:s=(n-t)/c+2;break;case n:s=(t-e)/c+4;break}s/=6}return{h:s,s:o,v:a}}function bKe(t,e,n){t=Qr(t,360)*6,e=Qr(e,100),n=Qr(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),c=r%6,l=[n,o,s,s,a,n][c],u=[a,n,n,o,s,s][c],d=[s,s,a,n,n,o][c];return{r:l*255,g:u*255,b:d*255}}function Iae(t,e,n,r){var i=[Ku(Math.round(t).toString(16)),Ku(Math.round(e).toString(16)),Ku(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function xKe(t,e,n,r,i){var s=[Ku(Math.round(t).toString(16)),Ku(Math.round(e).toString(16)),Ku(Math.round(n).toString(16)),Ku(Pae(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function kae(t,e,n,r){var i=[Ku(Pae(r)),Ku(Math.round(t).toString(16)),Ku(Math.round(e).toString(16)),Ku(Math.round(n).toString(16))];return i.join("")}dt.equals=function(t,e){return!t||!e?!1:dt(t).toRgbString()==dt(e).toRgbString()},dt.random=function(){return dt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function EKe(t,e){e=e===0?0:e||10;var n=dt(t).toHsl();return n.s-=e/100,n.s=B_(n.s),dt(n)}function CKe(t,e){e=e===0?0:e||10;var n=dt(t).toHsl();return n.s+=e/100,n.s=B_(n.s),dt(n)}function _Ke(t){return dt(t).desaturate(100)}function AKe(t,e){e=e===0?0:e||10;var n=dt(t).toHsl();return n.l+=e/100,n.l=B_(n.l),dt(n)}function SKe(t,e){e=e===0?0:e||10;var n=dt(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),dt(n)}function IKe(t,e){e=e===0?0:e||10;var n=dt(t).toHsl();return n.l-=e/100,n.l=B_(n.l),dt(n)}function kKe(t,e){var n=dt(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,dt(n)}function $Ke(t){var e=dt(t).toHsl();return e.h=(e.h+180)%360,dt(e)}function $ae(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=dt(t).toHsl(),r=[dt(t)],i=360/e,s=1;s<e;s++)r.push(dt({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function TKe(t){var e=dt(t).toHsl(),n=e.h;return[dt(t),dt({h:(n+72)%360,s:e.s,l:e.l}),dt({h:(n+216)%360,s:e.s,l:e.l})]}function PKe(t,e,n){e=e||6,n=n||30;var r=dt(t).toHsl(),i=360/n,s=[dt(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(dt(r));return s}function NKe(t,e){e=e||6;for(var n=dt(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(dt({h:r,s:i,v:s})),s=(s+a)%1;return o}dt.mix=function(t,e,n){n=n===0?0:n||50;var r=dt(t).toRgb(),i=dt(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return dt(o)},dt.readability=function(t,e){var n=dt(t),r=dt(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},dt.isReadable=function(t,e,n){var r=dt.readability(t,e),i,s;switch(s=!1,i=LKe(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s},dt.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,c;n=n||{},o=n.includeFallbackColors,a=n.level,c=n.size;for(var l=0;l<e.length;l++)s=dt.readability(t,e[l]),s>i&&(i=s,r=dt(e[l]));return dt.isReadable(t,r,{level:a,size:c})||!o?r:(n.includeFallbackColors=!1,dt.mostReadable(t,["#fff","#000"],n))};var yD=dt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},OKe=dt.hexNames=RKe(yD);function RKe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Tae(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Qr(t,e){MKe(t)&&(t="100%");var n=jKe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function B_(t){return Math.min(1,Math.max(0,t))}function zc(t){return parseInt(t,16)}function MKe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function jKe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Ku(t){return t.length==1?"0"+t:""+t}function u4(t){return t<=1&&(t=t*100+"%"),t}function Pae(t){return Math.round(parseFloat(t)*255).toString(16)}function Nae(t){return zc(t)/255}var Gu=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Of(t){return!!Gu.CSS_UNIT.exec(t)}function DKe(t){t=t.replace(gKe,"").replace(mKe,"").toLowerCase();var e=!1;if(yD[t])t=yD[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Gu.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Gu.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Gu.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Gu.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Gu.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Gu.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Gu.hex8.exec(t))?{r:zc(n[1]),g:zc(n[2]),b:zc(n[3]),a:Nae(n[4]),format:e?"name":"hex8"}:(n=Gu.hex6.exec(t))?{r:zc(n[1]),g:zc(n[2]),b:zc(n[3]),format:e?"name":"hex"}:(n=Gu.hex4.exec(t))?{r:zc(n[1]+""+n[1]),g:zc(n[2]+""+n[2]),b:zc(n[3]+""+n[3]),a:Nae(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Gu.hex3.exec(t))?{r:zc(n[1]+""+n[1]),g:zc(n[2]+""+n[2]),b:zc(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function LKe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function BKe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const U_=k.forwardRef(BKe);function UKe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const wD=k.forwardRef(UKe);function FKe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const M0=k.forwardRef(FKe);function zKe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Ym=k.forwardRef(zKe);function WKe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const qKe=k.forwardRef(WKe);function HKe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const VKe=k.forwardRef(HKe);function KKe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const Ev=k.forwardRef(KKe);function GKe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ZKe=k.forwardRef(GKe);function YKe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const JKe=k.forwardRef(YKe);function QKe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Jm=k.forwardRef(QKe);function XKe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const F_=k.forwardRef(XKe),Oae=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,i,a);return a},eGe=t=>t?Oae(t):Oae,tGe=t=>t;function nGe(t,e=tGe){const n=Me.useSyncExternalStore(t.subscribe,Me.useCallback(()=>e(t.getState()),[t,e]),Me.useCallback(()=>e(t.getInitialState()),[t,e]));return Me.useDebugValue(n),n}const Rae=t=>{const e=eGe(t),n=r=>nGe(e,r);return Object.assign(n,e),n},Cv=t=>t?Rae(t):Rae,rGe=typeof document<"u"?Me.useLayoutEffect:()=>{},j0=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Qm=t=>t&&"window"in t&&t.window===t?t:j0(t).defaultView||window;function iGe(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function sGe(t){return iGe(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let oGe=!1;function vD(){return oGe}function Mae(t,e){if(!vD())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:sGe(n)?n=n.host:n=n.parentNode}return!1}const bD=(t=document)=>{var e;if(!vD())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function jae(t){return vD()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function aGe(t){if(cGe())t.focus({preventScroll:!0});else{let e=lGe(t);t.focus(),uGe(e)}}let z_=null;function cGe(){if(z_==null){z_=!1;try{document.createElement("div").focus({get preventScroll(){return z_=!0,!0}})}catch{}}return z_}function lGe(t){let e=t.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==r;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function uGe(t){for(let{element:e,scrollTop:n,scrollLeft:r}of t)e.scrollTop=n,e.scrollLeft=r}function W_(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function Dae(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function _v(t){let e=null;return()=>(e==null&&(e=t()),e)}const q_=_v(function(){return Dae(/^Mac/i)}),dGe=_v(function(){return Dae(/^iPad/i)||q_()&&navigator.maxTouchPoints>1}),hGe=_v(function(){return W_(/AppleWebKit/i)&&!fGe()}),fGe=_v(function(){return W_(/Chrome/i)}),pGe=_v(function(){return W_(/Android/i)}),gGe=_v(function(){return W_(/Firefox/i)});function d4(t,e,n=!0){var r,i;let{metaKey:s,ctrlKey:o,altKey:a,shiftKey:c}=e;gGe()&&(!((i=window.event)===null||i===void 0||(r=i.type)===null||r===void 0)&&r.startsWith("key"))&&t.target==="_blank"&&(q_()?s=!0:o=!0);let l=hGe()&&q_()&&!dGe()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:s,ctrlKey:o,altKey:a,shiftKey:c}):new MouseEvent("click",{metaKey:s,ctrlKey:o,altKey:a,shiftKey:c,detail:1,bubbles:!0,cancelable:!0});d4.isOpening=n,aGe(t),t.dispatchEvent(l),d4.isOpening=!1}d4.isOpening=!1;function Lae(){let t=k.useRef(new Map),e=k.useCallback((i,s,o,a)=>{let c=a!=null&&a.once?(...l)=>{t.current.delete(o),o(...l)}:o;t.current.set(o,{type:s,eventTarget:i,fn:c,options:a}),i.addEventListener(s,c,a)},[]),n=k.useCallback((i,s,o,a)=>{var c;let l=((c=t.current.get(o))===null||c===void 0?void 0:c.fn)||o;i.removeEventListener(s,l,a),t.current.delete(o)},[]),r=k.useCallback(()=>{t.current.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})},[n]);return k.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function mGe(t){return t.pointerType===""&&t.isTrusted?!0:pGe()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Bae(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function yGe(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function Uae(t){let e=k.useRef({isFocused:!1,observer:null});return rGe(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]),k.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let r=n.target,i=s=>{if(e.current.isFocused=!1,r.disabled){let o=Bae(s);t==null||t(o)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&r.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let o=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let wGe=!1,h4=null,xD=new Set,f4=new Map,Xm=!1,ED=!1;const vGe={Tab:!0,Escape:!0};function CD(t,e){for(let n of xD)n(t,e)}function bGe(t){return!(t.metaKey||!q_()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function H_(t){Xm=!0,!d4.isOpening&&bGe(t)&&(h4="keyboard",CD("keyboard",t))}function Av(t){h4="pointer","pointerType"in t&&t.pointerType,(t.type==="mousedown"||t.type==="pointerdown")&&(Xm=!0,CD("pointer",t))}function Fae(t){!d4.isOpening&&mGe(t)&&(Xm=!0,h4="virtual")}function zae(t){t.target===window||t.target===document||wGe||!t.isTrusted||(!Xm&&!ED&&(h4="virtual",CD("virtual",t)),Xm=!1,ED=!1)}function Wae(){Xm=!1,ED=!0}function _D(t){if(typeof window>"u"||typeof document>"u"||f4.get(Qm(t)))return;const e=Qm(t),n=j0(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Xm=!0,r.apply(this,arguments)},n.addEventListener("keydown",H_,!0),n.addEventListener("keyup",H_,!0),n.addEventListener("click",Fae,!0),e.addEventListener("focus",zae,!0),e.addEventListener("blur",Wae,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Av,!0),n.addEventListener("pointermove",Av,!0),n.addEventListener("pointerup",Av,!0)),e.addEventListener("beforeunload",()=>{qae(t)},{once:!0}),f4.set(e,{focus:r})}const qae=(t,e)=>{const n=Qm(t),r=j0(t);e&&r.removeEventListener("DOMContentLoaded",e),f4.has(n)&&(n.HTMLElement.prototype.focus=f4.get(n).focus,r.removeEventListener("keydown",H_,!0),r.removeEventListener("keyup",H_,!0),r.removeEventListener("click",Fae,!0),n.removeEventListener("focus",zae,!0),n.removeEventListener("blur",Wae,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Av,!0),r.removeEventListener("pointermove",Av,!0),r.removeEventListener("pointerup",Av,!0)),f4.delete(n))};function xGe(t){const e=j0(t);let n;return e.readyState!=="loading"?_D(t):(n=()=>{_D(t)},e.addEventListener("DOMContentLoaded",n)),()=>qae(t,n)}typeof document<"u"&&xGe();function Hae(){return h4!=="pointer"}const EGe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function CGe(t,e,n){let r=j0(n==null?void 0:n.target);const i=typeof window<"u"?Qm(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Qm(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Qm(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?Qm(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!EGe.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof o&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof a&&!vGe[n.key])}function _Ge(t,e,n){_D(),k.useEffect(()=>{let r=(i,s)=>{CGe(!!(n!=null&&n.isTextInput),i,s)&&t(Hae())};return xD.add(r),()=>{xD.delete(r)}},e)}function AGe(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=k.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),i&&i(!1),!0},[r,i]),o=Uae(s),a=k.useCallback(c=>{const l=j0(c.target),u=l?bD(l):bD();c.target===c.currentTarget&&u===jae(c.nativeEvent)&&(n&&n(c),i&&i(!0),o(c))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}function SGe(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=k.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=Lae(),c=k.useCallback(d=>{d.currentTarget.contains(d.target)&&s.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(d),i&&i(!1))},[n,i,s,a]),l=Uae(c),u=k.useCallback(d=>{if(!d.currentTarget.contains(d.target))return;const h=j0(d.target),f=bD(h);if(!s.current.isFocusWithin&&f===jae(d.nativeEvent)){r&&r(d),i&&i(!0),s.current.isFocusWithin=!0,l(d);let g=d.currentTarget;o(h,"focus",m=>{if(s.current.isFocusWithin&&!Mae(g,m.target)){let y=new h.defaultView.FocusEvent("blur",{relatedTarget:m.target});yGe(y,g);let w=Bae(y);c(w)}},{capture:!0})}},[r,i,l,o,c]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:c}}}let AD=!1,V_=0;function IGe(){AD=!0,setTimeout(()=>{AD=!1},50)}function Vae(t){t.pointerType==="touch"&&IGe()}function kGe(){if(!(typeof document>"u"))return V_===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Vae),V_++,()=>{V_--,!(V_>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Vae)}}function $Ge(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=k.useState(!1),a=k.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;k.useEffect(kGe,[]);let{addGlobalListener:c,removeAllGlobalListeners:l}=Lae(),{hoverProps:u,triggerHoverEnd:d}=k.useMemo(()=>{let h=(m,y)=>{if(a.pointerType=y,i||y==="touch"||a.isHovered||!m.currentTarget.contains(m.target))return;a.isHovered=!0;let w=m.currentTarget;a.target=w,c(j0(m.target),"pointerover",b=>{a.isHovered&&a.target&&!Mae(a.target,b.target)&&f(b,b.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:w,pointerType:y}),n&&n(!0),o(!0)},f=(m,y)=>{let w=a.target;a.pointerType="",a.target=null,!(y==="touch"||!a.isHovered||!w)&&(a.isHovered=!1,l(),r&&r({type:"hoverend",target:w,pointerType:y}),n&&n(!1),o(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=m=>{AD&&m.pointerType==="mouse"||h(m,m.pointerType)},g.onPointerLeave=m=>{!i&&m.currentTarget.contains(m.target)&&f(m,m.pointerType)}),{hoverProps:g,triggerHoverEnd:f}},[e,n,r,i,a,c,l]);return k.useEffect(()=>{i&&d({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:u,isHovered:s}}function TGe(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=k.useRef({isFocused:!1,isFocusVisible:e||Hae()}),[s,o]=k.useState(!1),[a,c]=k.useState(()=>i.current.isFocused&&i.current.isFocusVisible),l=k.useCallback(()=>c(i.current.isFocused&&i.current.isFocusVisible),[]),u=k.useCallback(f=>{i.current.isFocused=f,o(f),l()},[l]);_Ge(f=>{i.current.isFocusVisible=f,l()},[],{isTextInput:n});let{focusProps:d}=AGe({isDisabled:r,onFocusChange:u}),{focusWithinProps:h}=SGe({isDisabled:!r,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:a,focusProps:r?h:d}}var PGe=Object.defineProperty,NGe=(t,e,n)=>e in t?PGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,SD=(t,e,n)=>(NGe(t,typeof e!="symbol"?e+"":e,n),n);let OGe=class{constructor(){SD(this,"current",this.detect()),SD(this,"handoffState","pending"),SD(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ih=new OGe;function e1(t){var e;return ih.isServer?null:t==null?document:(e=t==null?void 0:t.ownerDocument)!=null?e:document}function K_(t){var e,n;return ih.isServer?null:t==null?document:(n=(e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))!=null?n:document}function ID(t){var e,n;return(n=(e=K_(t))==null?void 0:e.activeElement)!=null?n:null}function Kae(t){return ID(t)===t}function G_(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Fa(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return G_(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Fa();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function t1(){let[t]=k.useState(Fa);return k.useEffect(()=>()=>t.dispose(),[t]),t}let zr=(t,e)=>{ih.isServer?k.useEffect(t,e):k.useLayoutEffect(t,e)};function n1(t){let e=k.useRef(t);return zr(()=>{e.current=t},[t]),e}let zt=function(t){let e=n1(t);return Me.useCallback((...n)=>e.current(...n),[e])};function RGe(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function MGe(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function jGe({disabled:t=!1}={}){let e=k.useRef(null),[n,r]=k.useState(!1),i=t1(),s=zt(()=>{e.current=null,r(!1),i.dispose()}),o=zt(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let c=e1(a.currentTarget);i.addEventListener(c,"pointerup",s,!1),i.addEventListener(c,"pointermove",l=>{if(e.current){let u=RGe(l);r(MGe(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(c,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function sh(t){return k.useMemo(()=>t,Object.values(t))}let DGe=k.createContext(void 0);function Gae(){return k.useContext(DGe)}function kD(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Zu(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Zu),r}var Sv=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Sv||{}),D0=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(D0||{});function zi(){let t=BGe();return k.useCallback(e=>LGe({mergeRefs:t,...e}),[t])}function LGe({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??UGe;let c=Zae(e,t);if(s)return Z_(c,n,r,o,a);let l=i??0;if(l&2){let{static:u=!1,...d}=c;if(u)return Z_(d,n,r,o,a)}if(l&1){let{unmount:u=!0,...d}=c;return Zu(u?0:1,{0(){return null},1(){return Z_({...d,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Z_(c,n,r,o,a)}function Z_(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...c}=$D(t,["unmount","static"]),l=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let d={};if(e){let h=!1,f=[];for(let[g,m]of Object.entries(e))typeof m=="boolean"&&(h=!0),m===!0&&f.push(g.replace(/([A-Z])/g,y=>`-${y.toLowerCase()}`));if(h){d["data-headlessui-state"]=f.join(" ");for(let g of f)d[`data-${g}`]=""}}if(p4(s)&&(Object.keys(r1(c)).length>0||Object.keys(r1(d)).length>0))if(!k.isValidElement(u)||Array.isArray(u)&&u.length>1||zGe(u)){if(Object.keys(r1(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(r1(c)).concat(Object.keys(r1(d))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=u.props,f=h==null?void 0:h.className,g=typeof f=="function"?(...w)=>kD(f(...w),c.className):kD(f,c.className),m=g?{className:g}:{},y=Zae(u.props,r1($D(c,["ref"])));for(let w in d)w in y&&delete d[w];return k.cloneElement(u,Object.assign({},y,d,l,{ref:i(FGe(u),l.ref)},m))}return k.createElement(s,Object.assign({},$D(c,["ref"]),!p4(s)&&l,!p4(s)&&d),u)}function BGe(){let t=k.useRef([]),e=k.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function UGe(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function Zae(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Yae(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function pi(t){var e;return Object.assign(k.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function r1(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function $D(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function FGe(t){return Me.version.split(".")[0]>="19"?t.props.ref:t.ref}function p4(t){return t===k.Fragment||t===Symbol.for("react.fragment")}function zGe(t){return p4(t.type)}let WGe="span";var Y_=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Y_||{});function qGe(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return zi()({ourProps:s,theirProps:i,slot:{},defaultTag:WGe,name:"Hidden"})}let TD=pi(qGe),HGe=k.createContext(void 0);function VGe(){return k.useContext(HGe)}function Jae(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Rf(t){return Jae(t)&&"tagName"in t}function Wc(t){return Rf(t)&&"accessKey"in t}function oh(t){return Rf(t)&&"tabIndex"in t}function KGe(t){return Rf(t)&&"style"in t}function GGe(t){return Wc(t)&&t.nodeName==="IFRAME"}function Qae(t){return Wc(t)&&t.nodeName==="INPUT"}function Xae(t){return Wc(t)&&t.nodeName==="LABEL"}function ZGe(t){return Wc(t)&&t.nodeName==="FIELDSET"}function ece(t){return Wc(t)&&t.nodeName==="LEGEND"}function YGe(t){return Rf(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function tce(t){let e=t.parentElement,n=null;for(;e&&!ZGe(e);)ece(e)&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&JGe(n)?!1:r}function JGe(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(ece(e))return!1;e=e.previousElementSibling}return!0}let nce=Symbol();function QGe(t,e=!0){return Object.assign(t,{[nce]:e})}function aa(...t){let e=k.useRef(t);k.useEffect(()=>{e.current=t},[t]);let n=zt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[nce]))?void 0:n}let PD=k.createContext(null);PD.displayName="DescriptionContext";function rce(){let t=k.useContext(PD);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,rce),e}return t}function ice(){let[t,e]=k.useState([]);return[t.length>0?t.join(" "):void 0,k.useMemo(()=>function(n){let r=zt(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),c=a.indexOf(s);return c!==-1&&a.splice(c,1),a}))),i=k.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Me.createElement(PD.Provider,{value:i},n.children)},[e])]}let XGe="p";function eZe(t,e){let n=k.useId(),r=Gae(),{id:i=`headlessui-description-${n}`,...s}=t,o=rce(),a=aa(e);zr(()=>o.register(i),[i,o.register]);let c=sh({...o.slot,disabled:r||!1}),l={ref:a,...o.props,id:i};return zi()({ourProps:l,theirProps:s,slot:c,defaultTag:XGe,name:o.name||"Description"})}let tZe=pi(eZe),nZe=Object.assign(tZe,{});var ws=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ws||{});let J_=k.createContext(null);J_.displayName="LabelContext";function ND(){let t=k.useContext(J_);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ND),e}return t}function rZe(t){var e,n,r;let i=(n=(e=k.useContext(J_))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function sce({inherit:t=!1}={}){let e=rZe(),[n,r]=k.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,k.useMemo(()=>function(s){let o=zt(c=>(r(l=>[...l,c]),()=>r(l=>{let u=l.slice(),d=u.indexOf(c);return d!==-1&&u.splice(d,1),u}))),a=k.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Me.createElement(J_.Provider,{value:a},s.children)},[r])]}let iZe="label";function sZe(t,e){var n;let r=k.useId(),i=ND(),s=VGe(),o=Gae(),{id:a=`headlessui-label-${r}`,htmlFor:c=s??((n=i.props)==null?void 0:n.htmlFor),passive:l=!1,...u}=t,d=aa(e);zr(()=>i.register(a),[a,i.register]);let h=zt(m=>{let y=m.currentTarget;if(!(m.target!==m.currentTarget&&YGe(m.target))&&(Xae(y)&&m.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(m),Xae(y))){let w=document.getElementById(y.htmlFor);if(w){let b=w.getAttribute("disabled");if(b==="true"||b==="")return;let v=w.getAttribute("aria-disabled");if(v==="true"||v==="")return;(Qae(w)&&(w.type==="file"||w.type==="radio"||w.type==="checkbox")||w.role==="radio"||w.role==="checkbox"||w.role==="switch")&&w.click(),w.focus({preventScroll:!0})}}}),f=sh({...i.slot,disabled:o||!1}),g={ref:d,...i.props,id:a,htmlFor:c,onClick:h};return l&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in u&&delete u.onClick),zi()({ourProps:g,theirProps:u,slot:f,defaultTag:c?iZe:"div",name:i.name||"Label"})}let oZe=pi(sZe);Object.assign(oZe,{});let aZe=k.createContext(()=>{});function cZe({value:t,children:e}){return Me.createElement(aZe.Provider,{value:t},e)}function Iv(t,e,n){let r=n.initialDeps??[],i,s=!0;function o(){var a,c,l;let u;n.key&&((a=n.debug)!=null&&a.call(n))&&(u=Date.now());const d=t();if(!(d.length!==r.length||d.some((g,m)=>r[m]!==g)))return i;r=d;let f;if(n.key&&((c=n.debug)!=null&&c.call(n))&&(f=Date.now()),i=e(...d),n.key&&((l=n.debug)!=null&&l.call(n))){const g=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-f)*100)/100,y=m/16,w=(b,v)=>{for(b=String(b);b.length<v;)b=" "+b;return b};console.info(`%c ${w(m,5)} /${w(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(s&&n.skipInitialOnChange)&&n.onChange(i),s=!1,i}return o.updateDeps=a=>{r=a},o}function oce(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const lZe=(t,e)=>Math.abs(t-e)<1.01,uZe=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},ace=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},dZe=t=>t,hZe=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},fZe=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=o=>{const{width:a,height:c}=o;e({width:Math.round(a),height:Math.round(c)})};if(i(ace(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(o=>{const a=()=>{const c=o[0];if(c!=null&&c.borderBoxSize){const l=c.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(ace(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},cce={passive:!0},lce=typeof window>"u"?!0:"onscrollend"in window,pZe=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const s=t.options.useScrollendEvent&&lce?()=>{}:uZe(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:d,isRtl:h}=t.options;i=d?n.scrollLeft*(h&&-1||1):n.scrollTop,s(),e(i,u)},a=o(!0),c=o(!1);n.addEventListener("scroll",a,cce);const l=t.options.useScrollendEvent&&lce;return l&&n.addEventListener("scrollend",c,cce),()=>{n.removeEventListener("scroll",a),l&&n.removeEventListener("scrollend",c)}},gZe=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},mZe=(t,{adjustments:e=0,behavior:n},r)=>{var i,s;const o=t+e;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class yZe{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const o=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:dZe,rangeExtractor:hZe,onChange:()=>{},measureElement:gZe,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=Iv(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let o=r-1;o>=0;o--){const a=n[o];if(i.has(a.lane))continue;const c=s.get(a.lane);if(c==null||a.end>c.end?s.set(a.lane,a):a.end<c.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=Iv(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,i,s,o,a)=>(this.prevLanes!==void 0&&this.prevLanes!==a&&(this.lanesChangedFlag=!0),this.prevLanes=a,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o,lanes:a}),{key:!1}),this.getMeasurements=Iv(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o,lanes:a},c)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const h of this.laneAssignments.keys())h>=n&&this.laneAssignments.delete(h);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const l=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const u=this.measurementsCache.slice(0,l),d=new Array(a).fill(void 0);for(let h=0;h<l;h++){const f=u[h];f&&(d[f.lane]=h)}for(let h=l;h<n;h++){const f=s(h),g=this.laneAssignments.get(h);let m,y;if(g!==void 0&&this.options.lanes>1){m=g;const E=d[m],_=E!==void 0?u[E]:void 0;y=_?_.end+this.options.gap:r+i}else{const E=this.options.lanes===1?u[h-1]:this.getFurthestMeasurement(u,h);y=E?E.end+this.options.gap:r+i,m=E?E.lane:h%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(h,m)}const w=c.get(f),b=typeof w=="number"?w:this.options.estimateSize(h),v=y+b;u[h]={index:h,start:y,size:b,end:v,key:f,lane:m},d[m]=h}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Iv(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,s)=>this.range=n.length>0&&r>0?wZe({measurements:n,outerSize:r,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Iv(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,s,o)=>s===null||o===null?[]:n({startIndex:s,endIndex:o,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=r-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Iv(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,o=n.length;s<o;s++){const a=n[s],c=r[a];i.push(c)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return oce(r[uce(0,r.length-1,i=>oce(r[i]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,r,i=0)=>{if(!this.scrollElement)return 0;const s=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+s?"end":"start"),r==="center"?n+=(i-s)/2:r==="end"&&(n-=s);const a=this.getMaxScrollOffset();return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];if(r==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let s=0;const o=10,a=l=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(n,l);if(!u){console.warn("Failed to get offset for index:",n);return}const[d,h]=u;this._scrollToOffset(d,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const f=()=>{if(this.currentScrollToIndex!==n)return;const g=this.getScrollOffset(),m=this.getOffsetForIndex(n,h);if(!m){console.warn("Failed to get offset for index:",n);return}lZe(m[0],g)||c(h)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(f):f()})},c=l=>{this.targetWindow&&this.currentScrollToIndex===n&&(s++,s<o?this.targetWindow.requestAnimationFrame(()=>a(l)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};a(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&s.some(a=>a===null);){const a=r[o];s[a.lane]===null&&(s[a.lane]=a.end),o--}i=Math.max(...s.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}const uce=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,s=n(i);if(s<r)t=i+1;else if(s>r)e=i-1;else return i}return t>0?t-1:0};function wZe({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,s=c=>t[c].start;if(t.length<=r)return{startIndex:0,endIndex:i};let o=uce(0,i,s,n),a=o;if(r===1)for(;a<i&&t[a].end<n+e;)a++;else if(r>1){const c=Array(r).fill(0);for(;a<i&&c.some(u=>u<n+e);){const u=t[a];c[u.lane]=u.end,a++}const l=Array(r).fill(n+e);for(;o>=0&&l.some(u=>u>=n);){const u=t[o];l[u.lane]=u.start,o--}o=Math.max(0,o-o%r),a=Math.min(i,a+(r-1-a%r))}return{startIndex:o,endIndex:a}}const dce=typeof document<"u"?k.useLayoutEffect:k.useEffect;function vZe({useFlushSync:t=!0,...e}){const n=k.useReducer(()=>({}),{})[1],r={...e,onChange:(s,o)=>{var a;t&&o?Nd.flushSync(n):n(),(a=e.onChange)==null||a.call(e,s,o)}},[i]=k.useState(()=>new yZe(r));return i.setOptions(r),dce(()=>i._didMount(),[]),dce(()=>i._willUpdate()),i}function bZe(t){return vZe({observeElementRect:fZe,observeElementOffset:pZe,scrollToFn:mZe,...t})}function hce(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function xZe(t,e,n=!1){let[r,i]=k.useState(()=>hce(e));return zr(()=>{if(!e||!t)return;let s=Fa();return s.requestAnimationFrame(function o(){s.requestAnimationFrame(o),i(a=>{let c=hce(e);return c.width===a.width&&c.height===a.height?a:c})}),()=>{s.dispose()}},[e,t]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var fce=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(fce||{});function EZe(t){let e=k.useRef(null),n=zt(i=>{e.current=i.pointerType,!tce(i.currentTarget)&&i.pointerType==="mouse"&&i.button===fce.Left&&(i.preventDefault(),t(i))}),r=zt(i=>{e.current!=="mouse"&&(tce(i.currentTarget)||t(i))});return{onPointerDown:n,onClick:r}}let pce=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var CZe=Object.defineProperty,_Ze=(t,e,n)=>e in t?CZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AZe=(t,e,n)=>(_Ze(t,e+"",n),n),gce=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ul=(t,e,n)=>(gce(t,e,"read from private field"),n?n.call(t):e.get(t)),OD=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},mce=(t,e,n,r)=>(gce(t,e,"write to private field"),e.set(t,n),n),ah,g4,m4;let yce=class{constructor(e){OD(this,ah,{}),OD(this,g4,new pce(()=>new Set)),OD(this,m4,new Set),AZe(this,"disposables",Fa()),mce(this,ah,e),ih.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Ul(this,ah)}subscribe(e,n){if(ih.isServer)return()=>{};let r={selector:e,callback:n,current:e(Ul(this,ah))};return Ul(this,m4).add(r),this.disposables.add(()=>{Ul(this,m4).delete(r)})}on(e,n){return ih.isServer?()=>{}:(Ul(this,g4).get(e).add(n),this.disposables.add(()=>{Ul(this,g4).get(e).delete(n)}))}send(e){let n=this.reduce(Ul(this,ah),e);if(n!==Ul(this,ah)){mce(this,ah,n);for(let r of Ul(this,m4)){let i=r.selector(Ul(this,ah));wce(r.current,i)||(r.current=i,r.callback(i))}for(let r of Ul(this,g4).get(e.type))r(Ul(this,ah),e)}}};ah=new WeakMap,g4=new WeakMap,m4=new WeakMap;function wce(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:RD(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:RD(t.entries(),e.entries()):vce(t)&&vce(e)?RD(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function RD(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function vce(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function bce(t){let[e,n]=t(),r=Fa();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var SZe=Object.defineProperty,IZe=(t,e,n)=>e in t?SZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xce=(t,e,n)=>(IZe(t,typeof e!="symbol"?e+"":e,n),n),Ece=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(Ece||{});let kZe={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},$Ze=class oEe extends yce{constructor(){super(...arguments),xce(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),xce(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new oEe({stack:[]})}reduce(e,n){return Zu(n.type,kZe,e,n)}};const Q_=new pce(()=>$Ze.new());var Cce={exports:{}},_ce={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y4=k;function TZe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var PZe=typeof Object.is=="function"?Object.is:TZe,NZe=y4.useSyncExternalStore,OZe=y4.useRef,RZe=y4.useEffect,MZe=y4.useMemo,jZe=y4.useDebugValue;_ce.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=OZe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=MZe(function(){function c(f){if(!l){if(l=!0,u=f,f=r(f),i!==void 0&&o.hasValue){var g=o.value;if(i(g,f))return d=g}return d=f}if(g=d,PZe(u,f))return g;var m=r(f);return i!==void 0&&i(g,m)?(u=f,g):(u=f,d=m)}var l=!1,u,d,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,i]);var a=NZe(t,s[0],s[1]);return RZe(function(){o.hasValue=!0,o.value=a},[a]),jZe(a),a},Cce.exports=_ce;var DZe=Cce.exports;function Fl(t,e,n=wce){return DZe.useSyncExternalStoreWithSelector(zt(r=>t.subscribe(LZe,r)),zt(()=>t.state),zt(()=>t.state),zt(e),n)}function LZe(t){return t}function w4(t,e){let n=k.useId(),r=Q_.get(e),[i,s]=Fl(r,k.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return zr(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let MD=new Map,v4=new Map;function Ace(t){var e;let n=(e=v4.get(t))!=null?e:0;return v4.set(t,n+1),n!==0?()=>Sce(t):(MD.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Sce(t))}function Sce(t){var e;let n=(e=v4.get(t))!=null?e:1;if(n===1?v4.delete(t):v4.set(t,n-1),n!==1)return;let r=MD.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,MD.delete(t))}function Ice(t,{allowed:e,disallowed:n}={}){let r=w4(t,"inert-others");zr(()=>{var i,s;if(!r)return;let o=Fa();for(let c of(i=n==null?void 0:n())!=null?i:[])c&&o.add(Ace(c));let a=(s=e==null?void 0:e())!=null?s:[];for(let c of a){if(!c)continue;let l=e1(c);if(!l)continue;let u=c.parentElement;for(;u&&u!==l.body;){for(let d of u.children)a.some(h=>d.contains(h))||o.add(Ace(d));u=u.parentElement}}return o.dispose},[r,e,n])}function kce(t,e,n){let r=n1(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});k.useEffect(()=>{if(!t)return;let i=e===null?null:Wc(e)?e:e.current;if(!i)return;let s=Fa();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let X_=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),BZe=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Yu=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Yu||{}),jD=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(jD||{}),UZe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(UZe||{});function $ce(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(X_)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function FZe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(BZe)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var DD=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(DD||{});function LD(t,e=0){var n;return t===((n=e1(t))==null?void 0:n.body)?!1:Zu(e,{0(){return t.matches(X_)},1(){let r=t;for(;r!==null;){if(r.matches(X_))return!0;r=r.parentElement}return!1}})}function Tce(t){Fa().nextFrame(()=>{let e=ID(t);e&&oh(e)&&!LD(e,0)&&ch(t)})}var zZe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(zZe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ch(t){t==null||t.focus({preventScroll:!0})}let WZe=["textarea","input"].join(",");function qZe(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,WZe))!=null?n:!1}function Pce(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function HZe(t,e,n=t===null?document.body:K_(t)){return kv($ce(n),e,{relativeTo:t})}function kv(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?K_(t[0]):document:K_(t),o=Array.isArray(t)?n?Pce(t):t:e&64?FZe(t):$ce(t);i.length>0&&o.length>1&&(o=o.filter(f=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===f:g===f))),r=r??(s==null?void 0:s.activeElement);let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=e&32?{preventScroll:!0}:{},u=0,d=o.length,h;do{if(u>=d||u+d<=0)return 0;let f=c+u;if(e&16)f=(f+d)%d;else{if(f<0)return 3;if(f>=d)return 1}h=o[f],h==null||h.focus(l),u+=a}while(h!==ID(h));return e&6&&qZe(h)&&h.select(),2}function Nce(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function VZe(){return/Android/gi.test(window.navigator.userAgent)}function Oce(){return Nce()||VZe()}function $v(t,e,n,r){let i=n1(n);k.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function Rce(t,e,n,r){let i=n1(n);k.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const Mce=30;function jce(t,e,n){let r=n1(n),i=k.useCallback(function(a,c){if(a.defaultPrevented)return;let l=c(a);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e);for(let d of u)if(d!==null&&(d.contains(l)||a.composed&&a.composedPath().includes(d)))return;return!LD(l,DD.Loose)&&l.tabIndex!==-1&&a.preventDefault(),r.current(a,l)},[r,e]),s=k.useRef(null);$v(t,"pointerdown",a=>{var c,l;Oce()||(s.current=((l=(c=a.composedPath)==null?void 0:c.call(a))==null?void 0:l[0])||a.target)},!0),$v(t,"pointerup",a=>{if(Oce()||!s.current)return;let c=s.current;return s.current=null,i(a,()=>c)},!0);let o=k.useRef({x:0,y:0});$v(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),$v(t,"touchend",a=>{let c={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=Mce||Math.abs(c.y-o.current.y)>=Mce))return i(a,()=>oh(a.target)?a.target:null)},!0),Rce(t,"blur",a=>i(a,()=>GGe(window.document.activeElement)?window.document.activeElement:null),!0)}function b4(...t){return k.useMemo(()=>e1(...t),[...t])}var KZe=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(KZe||{});const eA={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},GZe=200,Dce=5;function ZZe(t,{trigger:e,action:n,close:r,select:i}){let s=k.useRef(null),o=k.useRef(null),a=k.useRef(null);$v(t&&e!==null,"pointerdown",c=>{Jae(c==null?void 0:c.target)&&e!=null&&e.contains(c.target)&&(o.current=c.x,a.current=c.y,s.current=c.timeStamp)}),$v(t&&e!==null,"pointerup",c=>{var l,u;let d=s.current;if(d===null||(s.current=null,!oh(c.target))||Math.abs(c.x-((l=o.current)!=null?l:c.x))<Dce&&Math.abs(c.y-((u=a.current)!=null?u:c.y))<Dce)return;let h=n(c);switch(h.kind){case 0:return;case 1:{c.timeStamp-d>GZe&&(i(h.target),r());break}case 2:{r();break}}},{capture:!0})}function Lce(t,e,n,r){let i=n1(n);k.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function YZe(t,e){return k.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function JZe(t){return k.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function QZe(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function XZe(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function eYe(){return Nce()?{before({doc:t,d:e,meta:n}){function r(i){for(let s of n().containers)for(let o of s())if(o.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Fa();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(oh(a.target))try{let c=a.target.closest("a");if(!c)return;let{hash:l}=new URL(c.href),u=t.querySelector(l);oh(u)&&!r(u)&&(o=u)}catch{}},!0),e.group(a=>{e.addEventListener(t,"touchstart",c=>{if(a.dispose(),oh(c.target)&&KGe(c.target))if(r(c.target)){let l=c.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;a.style(l,"overscrollBehavior","contain")}else a.style(c.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",a=>{if(oh(a.target)){if(Qae(a.target))return;if(r(a.target)){let c=a.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let c=(a=window.scrollY)!=null?a:window.pageYOffset;s!==c&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function tYe(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Bce(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let i1=QZe(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Fa(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=Bce(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=Bce(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[eYe(),XZe(),tYe()];n.forEach(({before:r})=>r==null?void 0:r(e)),n.forEach(({after:r})=>r==null?void 0:r(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});i1.subscribe(()=>{let t=i1.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&i1.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&i1.dispatch("TEARDOWN",n)}});function nYe(t,e,n=()=>({containers:[]})){let r=JZe(i1),i=e?r.get(e):void 0,s=i?i.count>0:!1;return zr(()=>{if(!(!e||!t))return i1.dispatch("PUSH",e,n),()=>i1.dispatch("POP",e,n)},[t,e]),s}function Uce(t,e,n=()=>[document.body]){let r=w4(t,"scroll-lock");nYe(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function Fce(t){return[t.screenX,t.screenY]}function rYe(){let t=k.useRef([-1,-1]);return{wasMoved(e){let n=Fce(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=Fce(e)}}}function iYe(t=0){let[e,n]=k.useState(t),r=k.useCallback(c=>n(c),[]),i=k.useCallback(c=>n(l=>l|c),[]),s=k.useCallback(c=>(e&c)===c,[e]),o=k.useCallback(c=>n(l=>l&~c),[]),a=k.useCallback(c=>n(l=>l^c),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var sYe={},zce,Wce;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((zce=process==null?void 0:sYe)==null?void 0:zce.NODE_ENV)==="test"&&typeof((Wce=Element==null?void 0:Element.prototype)==null?void 0:Wce.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var oYe=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(oYe||{});function qce(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function Hce(t,e,n,r){let[i,s]=k.useState(n),{hasFlag:o,addFlag:a,removeFlag:c}=iYe(t&&i?3:0),l=k.useRef(!1),u=k.useRef(!1),d=t1();return zr(()=>{var h;if(t){if(n&&s(!0),!e){n&&a(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),aYe(e,{inFlight:l,prepare(){u.current?u.current=!1:u.current=l.current,l.current=!0,!u.current&&(n?(a(3),c(4)):(a(4),c(2)))},run(){u.current?n?(c(3),a(4)):(c(4),a(3)):n?c(1):a(1)},done(){var f;u.current&&uYe(e)||(l.current=!1,c(7),n||s(!1),(f=r==null?void 0:r.end)==null||f.call(r,n))}})}},[t,n,e,d]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function aYe(t,{prepare:e,run:n,done:r,inFlight:i}){let s=Fa();return lYe(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(cYe(t,r))})}),s.dispose}function cYe(t,e){var n,r;let i=Fa();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function lYe(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function uYe(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function dYe(t,{container:e,accept:n,walk:r}){let i=k.useRef(n),s=k.useRef(r);k.useEffect(()=>{i.current=n,s.current=r},[n,r]),zr(()=>{if(!e||!t)return;let o=e1(e);if(!o)return;let a=i.current,c=s.current,l=Object.assign(d=>a(d),{acceptNode:a}),u=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,l,!1);for(;u.nextNode();)c(u.currentNode)},[e,t,i,s])}function BD(t,e){let n=k.useRef([]),r=zt(t);k.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function tA(){return typeof window<"u"}function Tv(t){return Vce(t)?(t.nodeName||"").toLowerCase():"#document"}function qc(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function lh(t){var e;return(e=(Vce(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Vce(t){return tA()?t instanceof Node||t instanceof qc(t).Node:!1}function ca(t){return tA()?t instanceof Element||t instanceof qc(t).Element:!1}function uh(t){return tA()?t instanceof HTMLElement||t instanceof qc(t).HTMLElement:!1}function Kce(t){return!tA()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qc(t).ShadowRoot}const hYe=new Set(["inline","contents"]);function x4(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ju(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!hYe.has(i)}const fYe=new Set(["table","td","th"]);function pYe(t){return fYe.has(Tv(t))}const gYe=[":popover-open",":modal"];function nA(t){return gYe.some(e=>{try{return t.matches(e)}catch{return!1}})}const mYe=["transform","translate","scale","rotate","perspective"],yYe=["transform","translate","scale","rotate","perspective","filter"],wYe=["paint","layout","strict","content"];function UD(t){const e=FD(),n=ca(t)?Ju(t):t;return mYe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||yYe.some(r=>(n.willChange||"").includes(r))||wYe.some(r=>(n.contain||"").includes(r))}function vYe(t){let e=L0(t);for(;uh(e)&&!Pv(e);){if(UD(e))return e;if(nA(e))return null;e=L0(e)}return null}function FD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bYe=new Set(["html","body","#document"]);function Pv(t){return bYe.has(Tv(t))}function Ju(t){return qc(t).getComputedStyle(t)}function rA(t){return ca(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function L0(t){if(Tv(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Kce(t)&&t.host||lh(t);return Kce(e)?e.host:e}function Gce(t){const e=L0(t);return Pv(e)?t.ownerDocument?t.ownerDocument.body:t.body:uh(e)&&x4(e)?e:Gce(e)}function E4(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Gce(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=qc(i);if(s){const a=zD(o);return e.concat(o,o.visualViewport||[],x4(i)?i:[],a&&n?E4(a):[])}return e.concat(i,E4(i,[],n))}function zD(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xYe(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const s1=Math.min,$o=Math.max,C4=Math.round,iA=Math.floor,dh=t=>({x:t,y:t}),EYe={left:"right",right:"left",bottom:"top",top:"bottom"},CYe={start:"end",end:"start"};function Zce(t,e,n){return $o(t,s1(e,n))}function Nv(t,e){return typeof t=="function"?t(e):t}function B0(t){return t.split("-")[0]}function _4(t){return t.split("-")[1]}function Yce(t){return t==="x"?"y":"x"}function Jce(t){return t==="y"?"height":"width"}const _Ye=new Set(["top","bottom"]);function Mf(t){return _Ye.has(B0(t))?"y":"x"}function Qce(t){return Yce(Mf(t))}function AYe(t,e,n){n===void 0&&(n=!1);const r=_4(t),i=Qce(t),s=Jce(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=sA(o)),[o,sA(o)]}function SYe(t){const e=sA(t);return[WD(t),e,WD(e)]}function WD(t){return t.replace(/start|end/g,e=>CYe[e])}const Xce=["left","right"],ele=["right","left"],IYe=["top","bottom"],kYe=["bottom","top"];function $Ye(t,e,n){switch(t){case"top":case"bottom":return n?e?ele:Xce:e?Xce:ele;case"left":case"right":return e?IYe:kYe;default:return[]}}function TYe(t,e,n,r){const i=_4(t);let s=$Ye(B0(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(WD)))),s}function sA(t){return t.replace(/left|right|bottom|top/g,e=>EYe[e])}function PYe(t){return{top:0,right:0,bottom:0,left:0,...t}}function NYe(t){return typeof t!="number"?PYe(t):{top:t,right:t,bottom:t,left:t}}function oA(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function tle(t,e,n){let{reference:r,floating:i}=t;const s=Mf(e),o=Qce(e),a=Jce(o),c=B0(e),l=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(c){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(_4(e)){case"start":f[o]-=h*(n&&l?-1:1);break;case"end":f[o]+=h*(n&&l?-1:1);break}return f}const OYe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=tle(l,r,c),h=r,f={},g=0;for(let m=0;m<a.length;m++){const{name:y,fn:w}=a[m],{x:b,y:v,data:E,reset:_}=await w({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:l,platform:o,elements:{reference:t,floating:e}});u=b??u,d=v??d,f={...f,[y]:{...f[y],...E}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(l=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:u,y:d}=tle(l,h,c)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function aA(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Nv(e,t),g=NYe(f),y=a[h?d==="floating"?"reference":"floating":d],w=oA(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},_=oA(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:v,strategy:c}):b);return{top:(w.top-_.top+g.top)/E.y,bottom:(_.bottom-w.bottom+g.bottom)/E.y,left:(w.left-_.left+g.left)/E.x,right:(_.right-w.right+g.right)/E.x}}const RYe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=Nv(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=B0(i),b=Mf(a),v=B0(a)===a,E=await(c.isRTL==null?void 0:c.isRTL(l.floating)),_=h||(v||!m?[sA(a)]:SYe(a)),O=g!=="none";!h&&O&&_.push(...TYe(a,m,g,E));const S=[a,..._],R=await aA(e,y),I=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&I.push(R[w]),d){const C=AYe(i,o,E);I.push(R[C[0]],R[C[1]])}if(D=[...D,{placement:i,overflows:I}],!I.every(C=>C<=0)){var j,F;const C=(((j=s.flip)==null?void 0:j.index)||0)+1,x=S[C];if(x&&(!(d==="alignment"?b!==Mf(x):!1)||D.every(N=>Mf(N.placement)===b?N.overflows[0]>0:!0)))return{data:{index:C,overflows:D},reset:{placement:x}};let A=(F=D.filter(P=>P.overflows[0]<=0).sort((P,N)=>P.overflows[1]-N.overflows[1])[0])==null?void 0:F.placement;if(!A)switch(f){case"bestFit":{var M;const P=(M=D.filter(N=>{if(O){const $=Mf(N.placement);return $===b||$==="y"}return!0}).map(N=>[N.placement,N.overflows.filter($=>$>0).reduce(($,L)=>$+L,0)]).sort((N,$)=>N[1]-$[1])[0])==null?void 0:M[0];P&&(A=P);break}case"initialPlacement":A=a;break}if(i!==A)return{reset:{placement:A}}}return{}}}},MYe=new Set(["left","top"]);async function jYe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=B0(n),a=_4(n),c=Mf(n)==="y",l=MYe.has(o)?-1:1,u=s&&c?-1:1,d=Nv(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),c?{x:f*u,y:h*l}:{x:h*l,y:f*u}}const DYe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await jYe(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},LYe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:w,y:b}=y;return{x:w,y:b}}},...c}=Nv(t,e),l={x:n,y:r},u=await aA(e,c),d=Mf(B0(i)),h=Yce(d);let f=l[h],g=l[d];if(s){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",b=f+u[y],v=f-u[w];f=Zce(b,f,v)}if(o){const y=d==="y"?"top":"left",w=d==="y"?"bottom":"right",b=g+u[y],v=g-u[w];g=Zce(b,g,v)}const m=a.fn({...e,[h]:f,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[d]:o}}}}}},BYe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...l}=Nv(t,e),u=await aA(e,l),d=B0(i),h=_4(i),f=Mf(i)==="y",{width:g,height:m}=s.floating;let y,w;d==="top"||d==="bottom"?(y=d,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=d,y=h==="end"?"top":"bottom");const b=m-u.top-u.bottom,v=g-u.left-u.right,E=s1(m-u[y],b),_=s1(g-u[w],v),O=!e.middlewareData.shift;let S=E,R=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=b),O&&!h){const D=$o(u.left,0),j=$o(u.right,0),F=$o(u.top,0),M=$o(u.bottom,0);f?R=g-2*(D!==0||j!==0?D+j:$o(u.left,u.right)):S=m-2*(F!==0||M!==0?F+M:$o(u.top,u.bottom))}await c({...e,availableWidth:R,availableHeight:S});const I=await o.getDimensions(a.floating);return g!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function nle(t){const e=Ju(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=uh(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=C4(n)!==s||C4(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function qD(t){return ca(t)?t:t.contextElement}function Ov(t){const e=qD(t);if(!uh(e))return dh(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=nle(e);let o=(s?C4(n.width):n.width)/r,a=(s?C4(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const UYe=dh(0);function rle(t){const e=qc(t);return!FD()||!e.visualViewport?UYe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FYe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==qc(t)?!1:e}function o1(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=qD(t);let o=dh(1);e&&(r?ca(r)&&(o=Ov(r)):o=Ov(t));const a=FYe(s,n,r)?rle(s):dh(0);let c=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=qc(s),f=r&&ca(r)?qc(r):r;let g=h,m=zD(g);for(;m&&r&&f!==g;){const y=Ov(m),w=m.getBoundingClientRect(),b=Ju(m),v=w.left+(m.clientLeft+parseFloat(b.paddingLeft))*y.x,E=w.top+(m.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,l*=y.y,u*=y.x,d*=y.y,c+=v,l+=E,g=qc(m),m=zD(g)}}return oA({width:u,height:d,x:c,y:l})}function cA(t,e){const n=rA(t).scrollLeft;return e?e.left+n:o1(lh(t)).left+n}function ile(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-cA(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function zYe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=lh(r),a=e?nA(e.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},l=dh(1);const u=dh(0),d=uh(r);if((d||!d&&!s)&&((Tv(r)!=="body"||x4(o))&&(c=rA(r)),uh(r))){const f=o1(r);l=Ov(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!d&&!s?ile(o,c):dh(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:n.y*l.y-c.scrollTop*l.y+u.y+h.y}}function WYe(t){return Array.from(t.getClientRects())}function qYe(t){const e=lh(t),n=rA(t),r=t.ownerDocument.body,i=$o(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=$o(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+cA(t);const a=-n.scrollTop;return Ju(r).direction==="rtl"&&(o+=$o(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const sle=25;function HYe(t,e){const n=qc(t),r=lh(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const u=FD();(!u||u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}const l=cA(r);if(l<=0){const u=r.ownerDocument,d=u.body,h=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(r.clientWidth-d.clientWidth-f);g<=sle&&(s-=g)}else l<=sle&&(s+=l);return{width:s,height:o,x:a,y:c}}const VYe=new Set(["absolute","fixed"]);function KYe(t,e){const n=o1(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=uh(t)?Ov(t):dh(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,l=r*s.y;return{width:o,height:a,x:c,y:l}}function ole(t,e,n){let r;if(e==="viewport")r=HYe(t,n);else if(e==="document")r=qYe(lh(t));else if(ca(e))r=KYe(e,n);else{const i=rle(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return oA(r)}function ale(t,e){const n=L0(t);return n===e||!ca(n)||Pv(n)?!1:Ju(n).position==="fixed"||ale(n,e)}function GYe(t,e){const n=e.get(t);if(n)return n;let r=E4(t,[],!1).filter(a=>ca(a)&&Tv(a)!=="body"),i=null;const s=Ju(t).position==="fixed";let o=s?L0(t):t;for(;ca(o)&&!Pv(o);){const a=Ju(o),c=UD(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&VYe.has(i.position)||x4(o)&&!c&&ale(t,o))?r=r.filter(u=>u!==o):i=a,o=L0(o)}return e.set(t,r),r}function ZYe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?nA(e)?[]:GYe(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const d=ole(e,u,i);return l.top=$o(d.top,l.top),l.right=s1(d.right,l.right),l.bottom=s1(d.bottom,l.bottom),l.left=$o(d.left,l.left),l},ole(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function YYe(t){const{width:e,height:n}=nle(t);return{width:e,height:n}}function JYe(t,e,n){const r=uh(e),i=lh(e),s=n==="fixed",o=o1(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=dh(0);function l(){c.x=cA(i)}if(r||!r&&!s)if((Tv(e)!=="body"||x4(i))&&(a=rA(e)),r){const f=o1(e,!0,s,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else i&&l();s&&!r&&i&&l();const u=i&&!r&&!s?ile(i,a):dh(0),d=o.left+a.scrollLeft-c.x-u.x,h=o.top+a.scrollTop-c.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function HD(t){return Ju(t).position==="static"}function cle(t,e){if(!uh(t)||Ju(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return lh(t)===n&&(n=n.ownerDocument.body),n}function lle(t,e){const n=qc(t);if(nA(t))return n;if(!uh(t)){let i=L0(t);for(;i&&!Pv(i);){if(ca(i)&&!HD(i))return i;i=L0(i)}return n}let r=cle(t,e);for(;r&&pYe(r)&&HD(r);)r=cle(r,e);return r&&Pv(r)&&HD(r)&&!UD(r)?n:r||vYe(t)||n}const QYe=async function(t){const e=this.getOffsetParent||lle,n=this.getDimensions,r=await n(t.floating);return{reference:JYe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function XYe(t){return Ju(t).direction==="rtl"}const eJe={convertOffsetParentRelativeRectToViewportRelativeRect:zYe,getDocumentElement:lh,getClippingRect:ZYe,getOffsetParent:lle,getElementRects:QYe,getClientRects:WYe,getDimensions:YYe,getScale:Ov,isElement:ca,isRTL:XYe};function ule(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function tJe(t,e){let n=null,r;const i=lh(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const l=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=l;if(a||e(),!h||!f)return;const g=iA(d),m=iA(i.clientWidth-(u+h)),y=iA(i.clientHeight-(d+f)),w=iA(u),v={rootMargin:-g+"px "+-m+"px "+-y+"px "+-w+"px",threshold:$o(0,s1(1,c))||1};let E=!0;function _(O){const S=O[0].intersectionRatio;if(S!==c){if(!E)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!ule(l,t.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(_,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,v)}n.observe(t)}return o(!0),s}function nJe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=qD(t),u=i||s?[...l?E4(l):[],...E4(e)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const d=l&&a?tJe(l,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(w=>{let[b]=w;b&&b.target===l&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=f)==null||v.observe(e)})),n()}),l&&!c&&f.observe(l),f.observe(e));let g,m=c?o1(t):null;c&&y();function y(){const w=o1(t);m&&!ule(m,w)&&n(),m=w,g=requestAnimationFrame(y)}return n(),()=>{var w;u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d==null||d(),(w=f)==null||w.disconnect(),f=null,c&&cancelAnimationFrame(g)}}const VD=aA,rJe=DYe,iJe=LYe,sJe=RYe,oJe=BYe,aJe=(t,e,n)=>{const r=new Map,i={platform:eJe,...n},s={...i.platform,_c:r};return OYe(t,e,{...i,platform:s})};var cJe=typeof document<"u",lJe=function(){},lA=cJe?k.useLayoutEffect:lJe;function uA(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!uA(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!uA(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function dle(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hle(t,e){const n=dle(t);return Math.round(e*n)/n}function KD(t){const e=k.useRef(t);return lA(()=>{e.current=t}),e}function uJe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[u,d]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=k.useState(r);uA(h,r)||f(r);const[g,m]=k.useState(null),[y,w]=k.useState(null),b=k.useCallback(N=>{N!==O.current&&(O.current=N,m(N))},[]),v=k.useCallback(N=>{N!==S.current&&(S.current=N,w(N))},[]),E=s||g,_=o||y,O=k.useRef(null),S=k.useRef(null),R=k.useRef(u),I=c!=null,D=KD(c),j=KD(i),F=KD(l),M=k.useCallback(()=>{if(!O.current||!S.current)return;const N={placement:e,strategy:n,middleware:h};j.current&&(N.platform=j.current),aJe(O.current,S.current,N).then($=>{const L={...$,isPositioned:F.current!==!1};C.current&&!uA(R.current,L)&&(R.current=L,Nd.flushSync(()=>{d(L)}))})},[h,e,n,j,F]);lA(()=>{l===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(N=>({...N,isPositioned:!1})))},[l]);const C=k.useRef(!1);lA(()=>(C.current=!0,()=>{C.current=!1}),[]),lA(()=>{if(E&&(O.current=E),_&&(S.current=_),E&&_){if(D.current)return D.current(E,_,M);M()}},[E,_,M,D,I]);const x=k.useMemo(()=>({reference:O,floating:S,setReference:b,setFloating:v}),[b,v]),A=k.useMemo(()=>({reference:E,floating:_}),[E,_]),P=k.useMemo(()=>{const N={position:n,left:0,top:0};if(!A.floating)return N;const $=hle(A.floating,u.x),L=hle(A.floating,u.y);return a?{...N,transform:"translate("+$+"px, "+L+"px)",...dle(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:L}},[n,a,A.floating,u.x,u.y]);return k.useMemo(()=>({...u,update:M,refs:x,elements:A,floatingStyles:P}),[u,M,x,A,P])}const fle=(t,e)=>({...rJe(t),options:[t,e]}),dJe=(t,e)=>({...iJe(t),options:[t,e]}),hJe=(t,e)=>({...sJe(t),options:[t,e]}),fJe=(t,e)=>({...oJe(t),options:[t,e]}),ple={...kT},pJe=ple.useInsertionEffect||(t=>t());function gle(t){const e=k.useRef(()=>{});return pJe(()=>{e.current=t}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var GD=typeof document<"u"?k.useLayoutEffect:k.useEffect;let mle=!1,gJe=0;const yle=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+gJe++;function mJe(){const[t,e]=k.useState(()=>mle?yle():void 0);return GD(()=>{t==null&&e(yle())},[]),k.useEffect(()=>{mle=!0},[]),t}const yJe=ple.useId||mJe;function wJe(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const vJe=k.createContext(null),bJe=k.createContext(null),xJe=()=>{var t;return((t=k.useContext(vJe))==null?void 0:t.id)||null},EJe=()=>k.useContext(bJe),CJe="data-floating-ui-focusable";function _Je(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=yJe(),s=k.useRef({}),[o]=k.useState(()=>wJe()),a=xJe()!=null,[c,l]=k.useState(r.reference),u=gle((f,g,m)=>{s.current.openEvent=f?g:void 0,o.emit("openchange",{open:f,event:g,reason:m,nested:a}),n==null||n(f,g,m)}),d=k.useMemo(()=>({setPositionReference:l}),[]),h=k.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return k.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:h,events:o,floatingId:i,refs:d}),[e,u,h,o,i,d])}function AJe(t){t===void 0&&(t={});const{nodeId:e}=t,n=_Je({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=k.useState(null),[a,c]=k.useState(null),u=(i==null?void 0:i.domReference)||s,d=k.useRef(null),h=EJe();GD(()=>{u&&(d.current=u)},[u]);const f=uJe({...t,elements:{...i,...a&&{reference:a}}}),g=k.useCallback(v=>{const E=ca(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;c(E),f.refs.setReference(E)},[f.refs]),m=k.useCallback(v=>{(ca(v)||v===null)&&(d.current=v,o(v)),(ca(f.refs.reference.current)||f.refs.reference.current===null||v!==null&&!ca(v))&&f.refs.setReference(v)},[f.refs]),y=k.useMemo(()=>({...f.refs,setReference:m,setPositionReference:g,domReference:d}),[f.refs,m,g]),w=k.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),b=k.useMemo(()=>({...f,...r,refs:y,elements:w,nodeId:e}),[f,y,w,e,r]);return GD(()=>{r.dataRef.current.floatingContext=b;const v=h==null?void 0:h.nodesRef.current.find(E=>E.id===e);v&&(v.context=b)}),k.useMemo(()=>({...f,context:b,refs:y,elements:w}),[f,y,w,b])}const wle="active",vle="selected";function ZD(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[wle]:o,[vle]:a,...c}=t;s=c}return{...n==="floating"&&{tabIndex:-1,[CJe]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(c=>{let[l,u]=c;if(!(i&&[wle,vle].includes(l)))if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof u=="function"){var d;(d=r.get(l))==null||d.push(u),o[l]=function(){for(var h,f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return(h=r.get(l))==null?void 0:h.map(y=>y(...g)).find(y=>y!==void 0)}}}else o[l]=u}),o),{})}}function SJe(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=k.useCallback(a=>ZD(a,t,"reference"),e),s=k.useCallback(a=>ZD(a,t,"floating"),n),o=k.useCallback(a=>ZD(a,t,"item"),r);return k.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function ble(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const IJe=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:c=0,scrollRef:l,...u}=Nv(t,e),{rects:d,elements:{floating:h}}=e,f=n.current[o],g=(l==null?void 0:l.current)||h,m=h.clientTop||g.clientTop,y=h.clientTop!==0,w=g.clientTop!==0,b=h===g;if(!f)return{};const v={...e,...await fle(-f.offsetTop-h.clientTop-d.reference.height/2-f.offsetHeight/2-s).fn(e)},E=await VD(ble(v,g.scrollHeight+m+h.clientTop),u),_=await VD(v,{...u,elementContext:"reference"}),O=$o(0,E.top),S=v.y+O,D=(g.scrollHeight>g.clientHeight?j=>j:C4)($o(0,g.scrollHeight+(y&&b||w?m*2:0)-O-$o(0,E.bottom)));if(g.style.maxHeight=D+"px",g.scrollTop=O,i){const j=g.offsetHeight<f.offsetHeight*s1(a,n.current.length)-1||_.top>=-c||_.bottom>=-c;Nd.flushSync(()=>i(j))}return r&&(r.current=await VD(ble({...v,y:S},g.offsetHeight+m+h.clientTop),u)),{y:S}}});function kJe(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,c=gle(a),l=k.useRef(!1),u=k.useRef(null),d=k.useRef(null);k.useEffect(()=>{if(!i)return;function f(m){if(m.ctrlKey||!g||s.current==null)return;const y=m.deltaY,w=s.current.top>=-.5,b=s.current.bottom>=-.5,v=g.scrollHeight-g.clientHeight,E=y<0?-1:1,_=y<0?"max":"min";g.scrollHeight<=g.clientHeight||(!w&&y>0||!b&&y<0?(m.preventDefault(),Nd.flushSync(()=>{c(O=>O+Math[_](y,v*E))})):/firefox/i.test(xYe())&&(g.scrollTop+=y))}const g=(o==null?void 0:o.current)||r.floating;if(n&&g)return g.addEventListener("wheel",f),requestAnimationFrame(()=>{u.current=g.scrollTop,s.current!=null&&(d.current={...s.current})}),()=>{u.current=null,d.current=null,g.removeEventListener("wheel",f)}},[i,n,r.floating,s,o,c]);const h=k.useMemo(()=>({onKeyDown(){l.current=!0},onWheel(){l.current=!1},onPointerMove(){l.current=!1},onScroll(){const f=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!f||!l.current)){if(u.current!==null){const g=f.scrollTop-u.current;(s.current.bottom<-.5&&g<-1||s.current.top<-.5&&g>1)&&Nd.flushSync(()=>c(m=>m+g))}requestAnimationFrame(()=>{u.current=f.scrollTop})}}}),[r.floating,c,s,o]);return k.useMemo(()=>i?{floating:h}:{},[i,h])}let Rv=k.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Rv.displayName="FloatingContext";let YD=k.createContext(null);YD.displayName="PlacementContext";function $Je(t){return k.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function TJe(){return k.useContext(Rv).setReference}function PJe(){return k.useContext(Rv).getReferenceProps}function NJe(){let{getFloatingProps:t,slot:e}=k.useContext(Rv);return k.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function OJe(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=k.useContext(YD),n=k.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);zr(()=>{e==null||e(n??null)},[e,n]);let r=k.useContext(Rv);return k.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let xle=4;function RJe({children:t,enabled:e=!0}){let[n,r]=k.useState(null),[i,s]=k.useState(0),o=k.useRef(null),[a,c]=k.useState(null);MJe(a);let l=e&&n!==null&&a!==null,{to:u="bottom",gap:d=0,offset:h=0,padding:f=0,inner:g}=jJe(n,a),[m,y="center"]=u.split(" ");zr(()=>{l&&s(0)},[l]);let{refs:w,floatingStyles:b,context:v}=AJe({open:l,placement:m==="selection"?y==="center"?"bottom":`bottom-${y}`:y==="center"?`${m}`:`${m}-${y}`,strategy:"absolute",transform:!1,middleware:[fle({mainAxis:m==="selection"?0:d,crossAxis:h}),dJe({padding:f}),m!=="selection"&&hJe({padding:f}),m==="selection"&&g?IJe({...g,padding:f,overflowRef:o,offset:i,minItemsVisible:xle,referenceOverflowThreshold:f,onFallbackChange(j){var F,M;if(!j)return;let C=v.elements.floating;if(!C)return;let x=parseFloat(getComputedStyle(C).scrollPaddingBottom)||0,A=Math.min(xle,C.childElementCount),P=0,N=0;for(let $ of(M=(F=v.elements.floating)==null?void 0:F.childNodes)!=null?M:[])if(Wc($)){let L=$.offsetTop,B=L+$.clientHeight+x,T=C.scrollTop,z=T+C.clientHeight;if(L>=T&&B<=z)A--;else{N=Math.max(0,Math.min(B,z)-Math.max(L,T)),P=$.clientHeight;break}}A>=1&&s($=>{let L=P*A-N+x;return $>=L?$:L})}}):null,fJe({padding:f,apply({availableWidth:j,availableHeight:F,elements:M}){Object.assign(M.floating.style,{overflow:"auto",maxWidth:`${j}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${F}px)`})}})].filter(Boolean),whileElementsMounted:nJe}),[E=m,_=y]=v.placement.split("-");m==="selection"&&(E="selection");let O=k.useMemo(()=>({anchor:[E,_].filter(Boolean).join(" ")}),[E,_]),S=kJe(v,{overflowRef:o,onChange:s}),{getReferenceProps:R,getFloatingProps:I}=SJe([S]),D=zt(j=>{c(j),w.setFloating(j)});return k.createElement(YD.Provider,{value:r},k.createElement(Rv.Provider,{value:{setFloating:D,setReference:w.setReference,styles:b,getReferenceProps:R,getFloatingProps:I,slot:O}},t))}function MJe(t){zr(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function jJe(t,e){var n,r,i;let s=JD((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=JD((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=JD((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function JD(t,e,n=void 0){let r=t1(),i=zt((c,l)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!l)return[n,null];let u=Cle(c,l);return[u,d=>{let h=Ele(c);{let f=h.map(g=>window.getComputedStyle(l).getPropertyValue(g));r.requestAnimationFrame(function g(){r.nextFrame(g);let m=!1;for(let[w,b]of h.entries()){let v=window.getComputedStyle(l).getPropertyValue(b);if(f[w]!==v){f[w]=v,m=!0;break}}if(!m)return;let y=Cle(c,l);u!==y&&(d(y),u=y)})}return r.dispose}]}return[n,null]}),s=k.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=k.useState();return zr(()=>{let[c,l]=i(t,e);if(a(c),!!l)return l(a)},[t,e]),o}function Ele(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...Ele(i)]:[r]}return[]}function Cle(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let dA=k.createContext(null);dA.displayName="OpenClosedContext";var la=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(la||{});function A4(){return k.useContext(dA)}function _le({value:t,children:e}){return Me.createElement(dA.Provider,{value:t},e)}function DJe({children:t}){return Me.createElement(dA.Provider,{value:null},t)}function LJe(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let U0=[];LJe(()=>{function t(e){if(!oh(e.target)||e.target===document.body||U0[0]===e.target)return;let n=e.target;n=n.closest(X_),U0.unshift(n??e.target),U0=U0.filter(r=>r!=null&&r.isConnected),U0.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function BJe(t){throw new Error("Unexpected object: "+t)}var Wi=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Wi||{});function hA(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:BJe(t)}}function QD(t){let e=zt(t),n=k.useRef(!1);k.useEffect(()=>(n.current=!1,()=>{n.current=!0,G_(()=>{n.current&&e()})}),[e])}let Ale=k.createContext(!1);function UJe(){return k.useContext(Ale)}function Sle(t){return Me.createElement(Ale.Provider,{value:t.force},t.children)}function FJe(t){let e=UJe(),n=k.useContext(kle),[r,i]=k.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(ih.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return k.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),k.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let Ile=k.Fragment,zJe=pi(function(t,e){let{ownerDocument:n=null,...r}=t,i=k.useRef(null),s=aa(QGe(h=>{i.current=h}),e),o=b4(i.current),a=n??o,c=FJe(a),l=k.useContext(XD),u=t1(),d=zi();return QD(()=>{var h;c&&c.childNodes.length<=0&&((h=c.parentElement)==null||h.removeChild(c))}),c?Nd.createPortal(Me.createElement("div",{"data-headlessui-portal":"",ref:h=>{u.dispose(),l&&h&&u.add(l.register(h))}},d({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:Ile,name:"Portal"})),c):null});function WJe(t,e){let n=aa(e),{enabled:r=!0,ownerDocument:i,...s}=t,o=zi();return r?Me.createElement(zJe,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:Ile,name:"Portal"})}let qJe=k.Fragment,kle=k.createContext(null);function HJe(t,e){let{target:n,...r}=t,i={ref:aa(e)},s=zi();return Me.createElement(kle.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:qJe,name:"Popover.Group"}))}let XD=k.createContext(null);function VJe(){let t=k.useContext(XD),e=k.useRef([]),n=zt(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=zt(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=k.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,k.useMemo(()=>function({children:s}){return Me.createElement(XD.Provider,{value:i},s)},[i])]}let KJe=pi(WJe),$le=pi(HJe),Tle=Object.assign(KJe,{Group:$le});const fA={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function Ple(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function GJe(t,e,n){let r=Fa();if(e.kind==="Tracked"){let i=function(){s!==Ple(t)&&(r.dispose(),n())},{position:s}=e,o=new ResizeObserver(i);o.observe(t),r.add(()=>o.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}function ZJe(t,e=typeof document<"u"?document.defaultView:null,n){let r=w4(t,"escape");Lce(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===ws.Escape&&n(i))})}function YJe(){var t;let[e]=k.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=k.useState((t=e==null?void 0:e.matches)!=null?t:!1);return zr(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function JJe({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=zt(()=>{var i,s;let o=e1(n),a=[];for(let c of t)c!==null&&(Rf(c)?a.push(c):"current"in c&&Rf(c.current)&&a.push(c.current));if(e!=null&&e.current)for(let c of e.current)a.push(c);for(let c of(i=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&Rf(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||a.some(l=>c.contains(l))||a.push(c));return a});return{resolveContainers:r,contains:zt(i=>r().some(s=>s.contains(i)))}}let Nle=k.createContext(null);function Ole({children:t,node:e}){let[n,r]=k.useState(null),i=Rle(e??n);return Me.createElement(Nle.Provider,{value:i},t,i===null&&Me.createElement(TD,{features:Y_.Hidden,ref:s=>{var o,a;if(s){for(let c of(a=(o=e1(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(c!==document.body&&c!==document.head&&Rf(c)&&c!=null&&c.contains(s)){r(c);break}}}}))}function Rle(t=null){var e;return(e=k.useContext(Nle))!=null?e:t}function QJe(){let t=typeof document>"u";return"useSyncExternalStore"in kT?(e=>e.useSyncExternalStore)(kT)(()=>()=>{},()=>!1,()=>!t):!1}function pA(){let t=QJe(),[e,n]=k.useState(ih.isHandoffComplete);return e&&ih.isHandoffComplete===!1&&n(!1),k.useEffect(()=>{e!==!0&&n(!0)},[e]),k.useEffect(()=>ih.handoff(),[]),t?!1:e}function eL(){let t=k.useRef(!1);return zr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var S4=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(S4||{});function XJe(){let t=k.useRef(0);return Rce(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Mle(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Rf(n.current)&&e.add(n.current);return e}let eQe="div";var a1=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(a1||{});function tQe(t,e){let n=k.useRef(null),r=aa(n,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...c}=t;pA()||(a=0);let l=b4(n.current);sQe(a,{ownerDocument:l});let u=oQe(a,{ownerDocument:l,container:n,initialFocus:i,initialFocusFallback:s});aQe(a,{ownerDocument:l,container:n,containers:o,previousActiveElement:u});let d=XJe(),h=zt(b=>{if(!Wc(n.current))return;let v=n.current;(E=>E())(()=>{Zu(d.current,{[S4.Forwards]:()=>{kv(v,Yu.First,{skipElements:[b.relatedTarget,s]})},[S4.Backwards]:()=>{kv(v,Yu.Last,{skipElements:[b.relatedTarget,s]})}})})}),f=w4(!!(a&2),"focus-trap#tab-lock"),g=t1(),m=k.useRef(!1),y={ref:r,onKeyDown(b){b.key=="Tab"&&(m.current=!0,g.requestAnimationFrame(()=>{m.current=!1}))},onBlur(b){if(!(a&4))return;let v=Mle(o);Wc(n.current)&&v.add(n.current);let E=b.relatedTarget;oh(E)&&E.dataset.headlessuiFocusGuard!=="true"&&(jle(v,E)||(m.current?kv(n.current,Zu(d.current,{[S4.Forwards]:()=>Yu.Next,[S4.Backwards]:()=>Yu.Previous})|Yu.WrapAround,{relativeTo:b.target}):oh(b.target)&&ch(b.target)))}},w=zi();return Me.createElement(Me.Fragment,null,f&&Me.createElement(TD,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Y_.Focusable}),w({ourProps:y,theirProps:c,defaultTag:eQe,name:"FocusTrap"}),f&&Me.createElement(TD,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Y_.Focusable}))}let nQe=pi(tQe),rQe=Object.assign(nQe,{features:a1});function iQe(t=!0){let e=k.useRef(U0.slice());return BD(([n],[r])=>{r===!0&&n===!1&&G_(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=U0.slice())},[t,U0,e]),zt(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function sQe(t,{ownerDocument:e}){let n=!!(t&8),r=iQe(n);BD(()=>{n||Kae(e==null?void 0:e.body)&&ch(r())},[n]),QD(()=>{n&&ch(r())})}function oQe(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=k.useRef(null),o=w4(!!(t&1),"focus-trap#initial-focus"),a=eL();return BD(()=>{if(t===0)return;if(!o){i!=null&&i.current&&ch(i.current);return}let c=n.current;c&&G_(()=>{if(!a.current)return;let l=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){s.current=l;return}}else if(c.contains(l)){s.current=l;return}if(r!=null&&r.current)ch(r.current);else{if(t&16){if(kv(c,Yu.First|Yu.AutoFocus)!==jD.Error)return}else if(kv(c,Yu.First)!==jD.Error)return;if(i!=null&&i.current&&(ch(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function aQe(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=eL(),o=!!(t&4);Lce(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let c=Mle(r);Wc(n.current)&&c.add(n.current);let l=i.current;if(!l)return;let u=a.target;Wc(u)?jle(c,u)?(i.current=u,ch(u)):(a.preventDefault(),a.stopPropagation(),ch(l)):ch(i.current)},!0)}function jle(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function Dle(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!p4((e=t.as)!=null?e:Ble)||Me.Children.count(t.children)===1}let gA=k.createContext(null);gA.displayName="TransitionContext";var cQe=(t=>(t.Visible="visible",t.Hidden="hidden",t))(cQe||{});function lQe(){let t=k.useContext(gA);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function uQe(){let t=k.useContext(mA);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let mA=k.createContext(null);mA.displayName="NestingContext";function yA(t){return"children"in t?yA(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Lle(t,e){let n=n1(t),r=k.useRef([]),i=eL(),s=t1(),o=zt((f,g=D0.Hidden)=>{let m=r.current.findIndex(({el:y})=>y===f);m!==-1&&(Zu(g,{[D0.Unmount](){r.current.splice(m,1)},[D0.Hidden](){r.current[m].state="hidden"}}),s.microTask(()=>{var y;!yA(r)&&i.current&&((y=n.current)==null||y.call(n))}))}),a=zt(f=>{let g=r.current.find(({el:m})=>m===f);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:f,state:"visible"}),()=>o(f,D0.Unmount)}),c=k.useRef([]),l=k.useRef(Promise.resolve()),u=k.useRef({enter:[],leave:[]}),d=zt((f,g,m)=>{c.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([y])=>y!==f)),e==null||e.chains.current[g].push([f,new Promise(y=>{c.current.push(y)})]),e==null||e.chains.current[g].push([f,new Promise(y=>{Promise.all(u.current[g].map(([w,b])=>b)).then(()=>y())})]),g==="enter"?l.current=l.current.then(()=>e==null?void 0:e.wait.current).then(()=>m(g)):m(g)}),h=zt((f,g,m)=>{Promise.all(u.current[g].splice(0).map(([y,w])=>w)).then(()=>{var y;(y=c.current.shift())==null||y()}).then(()=>m(g))});return k.useMemo(()=>({children:r,register:a,unregister:o,onStart:d,onStop:h,wait:l,chains:u}),[a,o,r,d,h,u,l])}let Ble=k.Fragment,Ule=Sv.RenderStrategy;function dQe(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:c,enter:l,enterFrom:u,enterTo:d,entered:h,leave:f,leaveFrom:g,leaveTo:m,...y}=t,[w,b]=k.useState(null),v=k.useRef(null),E=Dle(t),_=aa(...E?[v,e,b]:e===null?[]:[e]),O=(n=y.unmount)==null||n?D0.Unmount:D0.Hidden,{show:S,appear:R,initial:I}=lQe(),[D,j]=k.useState(S?"visible":"hidden"),F=uQe(),{register:M,unregister:C}=F;zr(()=>M(v),[M,v]),zr(()=>{if(O===D0.Hidden&&v.current){if(S&&D!=="visible"){j("visible");return}return Zu(D,{hidden:()=>C(v),visible:()=>M(v)})}},[D,v,M,C,S,O]);let x=pA();zr(()=>{if(E&&x&&D==="visible"&&v.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[v,D,x,E]);let A=I&&!R,P=R&&S&&I,N=k.useRef(!1),$=Lle(()=>{N.current||(j("hidden"),C(v))},F),L=zt(Z=>{N.current=!0;let K=Z?"enter":"leave";$.onStart(v,K,J=>{J==="enter"?s==null||s():J==="leave"&&(a==null||a())})}),B=zt(Z=>{let K=Z?"enter":"leave";N.current=!1,$.onStop(v,K,J=>{J==="enter"?o==null||o():J==="leave"&&(c==null||c())}),K==="leave"&&!yA($)&&(j("hidden"),C(v))});k.useEffect(()=>{E&&i||(L(S),B(S))},[S,E,i]);let T=!(!i||!E||!x||A),[,z]=Hce(T,w,S,{start:L,end:B}),q=r1({ref:_,className:((r=kD(y.className,P&&l,P&&u,z.enter&&l,z.enter&&z.closed&&u,z.enter&&!z.closed&&d,z.leave&&f,z.leave&&!z.closed&&g,z.leave&&z.closed&&m,!z.transition&&S&&h))==null?void 0:r.trim())||void 0,...qce(z)}),U=0;D==="visible"&&(U|=la.Open),D==="hidden"&&(U|=la.Closed),S&&D==="hidden"&&(U|=la.Opening),!S&&D==="visible"&&(U|=la.Closing);let V=zi();return Me.createElement(mA.Provider,{value:$},Me.createElement(_le,{value:U},V({ourProps:q,theirProps:y,defaultTag:Ble,features:Ule,visible:D==="visible",name:"Transition.Child"})))}function hQe(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=k.useRef(null),a=Dle(t),c=aa(...a?[o,e]:e===null?[]:[e]);pA();let l=A4();if(n===void 0&&l!==null&&(n=(l&la.Open)===la.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=k.useState(n?"visible":"hidden"),h=Lle(()=>{n||d("hidden")}),[f,g]=k.useState(!0),m=k.useRef([n]);zr(()=>{f!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),g(!1))},[m,n]);let y=k.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);zr(()=>{n?d("visible"):!yA(h)&&o.current!==null&&d("hidden")},[n,h]);let w={unmount:i},b=zt(()=>{var _;f&&g(!1),(_=t.beforeEnter)==null||_.call(t)}),v=zt(()=>{var _;f&&g(!1),(_=t.beforeLeave)==null||_.call(t)}),E=zi();return Me.createElement(mA.Provider,{value:h},Me.createElement(gA.Provider,{value:y},E({ourProps:{...w,as:k.Fragment,children:Me.createElement(Fle,{ref:c,...w,...s,beforeEnter:b,beforeLeave:v})},theirProps:{},defaultTag:k.Fragment,features:Ule,visible:u==="visible",name:"Transition"})))}function fQe(t,e){let n=k.useContext(gA)!==null,r=A4()!==null;return Me.createElement(Me.Fragment,null,!n&&r?Me.createElement(tL,{ref:e,...t}):Me.createElement(Fle,{ref:e,...t}))}let tL=pi(hQe),Fle=pi(dQe),I4=pi(fQe),zle=Object.assign(tL,{Child:I4,Root:tL});var pQe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(pQe||{}),gQe=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(gQe||{});let mQe={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},nL=k.createContext(null);nL.displayName="DialogContext";function wA(t){let e=k.useContext(nL);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,wA),n}return e}function yQe(t,e){return Zu(e.type,mQe,t,e)}let Wle=pi(function(t,e){let n=k.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:c=!0,__demoMode:l=!1,unmount:u=!1,...d}=t,h=k.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let f=A4();i===void 0&&f!==null&&(i=(f&la.Open)===la.Open);let g=k.useRef(null),m=aa(g,e),y=b4(g.current),w=i?0:1,[b,v]=k.useReducer(yQe,{titleId:null,descriptionId:null,panelRef:k.createRef()}),E=zt(()=>s(!1)),_=zt(z=>v({type:0,id:z})),O=pA()?w===0:!1,[S,R]=VJe(),I={get current(){var z;return(z=b.panelRef.current)!=null?z:g.current}},D=Rle(),{resolveContainers:j}=JJe({mainTreeNode:D,portals:S,defaultContainers:[I]}),F=f!==null?(f&la.Closing)===la.Closing:!1;Ice(l||F?!1:O,{allowed:zt(()=>{var z,q;return[(q=(z=g.current)==null?void 0:z.closest("[data-headlessui-portal]"))!=null?q:null]}),disallowed:zt(()=>{var z;return[(z=D==null?void 0:D.closest("body > *:not(#headlessui-portal-root)"))!=null?z:null]})});let M=Q_.get(null);zr(()=>{if(O)return M.actions.push(r),()=>M.actions.pop(r)},[M,r,O]);let C=Fl(M,k.useCallback(z=>M.selectors.isTop(z,r),[M,r]));jce(C,j,z=>{z.preventDefault(),E()}),ZJe(C,y==null?void 0:y.defaultView,z=>{z.preventDefault(),z.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),E()}),Uce(l||F?!1:O,y,j),kce(O,g,E);let[x,A]=ice(),P=k.useMemo(()=>[{dialogState:w,close:E,setTitleId:_,unmount:u},b],[w,E,_,u,b]),N=sh({open:w===0}),$={ref:m,id:r,role:a,tabIndex:-1,"aria-modal":l?void 0:w===0?!0:void 0,"aria-labelledby":b.titleId,"aria-describedby":x,unmount:u},L=!YJe(),B=a1.None;O&&!l&&(B|=a1.RestoreFocus,B|=a1.TabLock,c&&(B|=a1.AutoFocus),L&&(B|=a1.InitialFocus));let T=zi();return Me.createElement(DJe,null,Me.createElement(Sle,{force:!0},Me.createElement(Tle,null,Me.createElement(nL.Provider,{value:P},Me.createElement($le,{target:g},Me.createElement(Sle,{force:!1},Me.createElement(A,{slot:N},Me.createElement(R,null,Me.createElement(rQe,{initialFocus:o,initialFocusFallback:g,containers:j,features:B},Me.createElement(cZe,{value:E},T({ourProps:$,theirProps:d,slot:N,defaultTag:wQe,features:vQe,visible:w===0,name:"Dialog"})))))))))))}),wQe="div",vQe=Sv.RenderStrategy|Sv.Static;function bQe(t,e){let{transition:n=!1,open:r,...i}=t,s=A4(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?Me.createElement(Ole,null,Me.createElement(zle,{show:r,transition:n,unmount:i.unmount},Me.createElement(Wle,{ref:e,...i}))):Me.createElement(Ole,null,Me.createElement(Wle,{ref:e,open:r,...i}))}let xQe="div";function EQe(t,e){let n=k.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},c]=wA("Dialog.Panel"),l=aa(e,c.panelRef),u=sh({open:o===0}),d=zt(y=>{y.stopPropagation()}),h={ref:l,id:r,onClick:d},f=i?I4:k.Fragment,g=i?{unmount:a}:{},m=zi();return Me.createElement(f,{...g},m({ourProps:h,theirProps:s,slot:u,defaultTag:xQe,name:"Dialog.Panel"}))}let CQe="div";function _Qe(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=wA("Dialog.Backdrop"),o=sh({open:i===0}),a={ref:e,"aria-hidden":!0},c=n?I4:k.Fragment,l=n?{unmount:s}:{},u=zi();return Me.createElement(c,{...l},u({ourProps:a,theirProps:r,slot:o,defaultTag:CQe,name:"Dialog.Backdrop"}))}let AQe="h2";function SQe(t,e){let n=k.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=wA("Dialog.Title"),a=aa(e);k.useEffect(()=>(o(r),()=>o(null)),[r,o]);let c=sh({open:s===0}),l={ref:a,id:r};return zi()({ourProps:l,theirProps:i,slot:c,defaultTag:AQe,name:"Dialog.Title"})}let IQe=pi(bQe),qle=pi(EQe);pi(_Qe);let kQe=pi(SQe),$Qe=Object.assign(IQe,{Panel:qle,Title:kQe,Description:nZe}),Hle=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Vle(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!Wc(i))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return Hle.test(o)&&(o=o.replace(Hle,"")),o}function TQe(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():Vle(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Vle(t).trim()}function PQe(t){let e=k.useRef(""),n=k.useRef("");return zt(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=TQe(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var NQe=Object.defineProperty,OQe=(t,e,n)=>e in t?NQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kle=(t,e,n)=>(OQe(t,typeof e!="symbol"?e+"":e,n),n),To=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(To||{}),vA=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(vA||{}),Er=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(Er||{});function Gle(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=Pce(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let RQe={1(t){if(t.menuState===1)return t;let e=t.buttonElement?fA.Tracked(Ple(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:Wi.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:fA.Idle}},2:(t,e)=>{var n,r,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===Wi.Nothing)return{...a,activeItemIndex:null};if(e.focus===Wi.Specific)return{...a,activeItemIndex:t.items.findIndex(u=>u.id===e.id)};if(e.focus===Wi.Previous){let u=t.activeItemIndex;if(u!==null){let d=t.items[u].dataRef.current.domRef,h=hA(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(h!==null){let f=t.items[h].dataRef.current.domRef;if(((r=d.current)==null?void 0:r.previousElementSibling)===f.current||((i=f.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:h}}}}else if(e.focus===Wi.Next){let u=t.activeItemIndex;if(u!==null){let d=t.items[u].dataRef.current.domRef,h=hA(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(h!==null){let f=t.items[h].dataRef.current.domRef;if(((s=d.current)==null?void 0:s.nextElementSibling)===f.current||((o=f.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:h}}}}let c=Gle(t),l=hA(e,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...c,activeItemIndex:l}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=t.items.concat(e.items.map(i=>i)),r=t.activeItemIndex;return t.pendingFocus.focus!==Wi.Nothing&&(r=hA(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:n,activeItemIndex:r,pendingFocus:{focus:Wi.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.items,r=[],i=new Set(e.items);for(let[s,o]of n.entries())if(i.has(o.id)&&(r.push(s),i.delete(o.id),i.size===0))break;if(r.length>0){n=n.slice();for(let s of r.reverse())n.splice(s,1)}return{...t,items:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...Gle(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:fA.Moved}}},MQe=class aEe extends yce{constructor(e){super(e),Kle(this,"actions",{registerItem:bce(()=>{let n=[],r=new Set;return[(i,s)=>{r.has(s)||(r.add(s),n.push({id:i,dataRef:s}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:bce(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),Kle(this,"selectors",{activeDescendantId(n){var r;let i=n.activeItemIndex,s=n.items;return i===null||(r=s[i])==null?void 0:r.id},isActive(n,r){var i;let s=n.activeItemIndex,o=n.items;return s!==null?((i=o[s])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=Q_.get(null);this.disposables.add(r.on(Ece.Push,i=>{!r.selectors.isTop(i,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(GJe(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:n=!1}){return new aEe({id:e,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Wi.Nothing},buttonPositionState:fA.Idle})}reduce(e,n){return Zu(n.type,RQe,e,n)}};const Zle=k.createContext(null);function rL(t){let e=k.useContext(Zle);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Yle),n}return e}function Yle({id:t,__demoMode:e=!1}){let n=k.useMemo(()=>MQe.new({id:t,__demoMode:e}),[]);return QD(()=>n.dispose()),n}let jQe=k.Fragment;function DQe(t,e){let n=k.useId(),{__demoMode:r=!1,...i}=t,s=Yle({id:n,__demoMode:r}),[o,a,c]=Fl(s,y=>[y.menuState,y.itemsElement,y.buttonElement]),l=aa(e),u=Q_.get(null),d=Fl(u,k.useCallback(y=>u.selectors.isTop(y,n),[u,n]));jce(d,[c,a],(y,w)=>{var b;s.send({type:Er.CloseMenu}),LD(w,DD.Loose)||(y.preventDefault(),(b=s.state.buttonElement)==null||b.focus())});let h=zt(()=>{s.send({type:Er.CloseMenu})}),f=sh({open:o===To.Open,close:h}),g={ref:l},m=zi();return Me.createElement(RJe,null,Me.createElement(Zle.Provider,{value:s},Me.createElement(_le,{value:Zu(o,{[To.Open]:la.Open,[To.Closed]:la.Closed})},m({ourProps:g,theirProps:i,slot:f,defaultTag:jQe,name:"Menu"}))))}let LQe="button";function BQe(t,e){let n=rL("Menu.Button"),r=k.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:s=!1,autoFocus:o=!1,...a}=t,c=k.useRef(null),l=PJe(),u=aa(e,c,TJe(),zt(D=>n.send({type:Er.SetButtonElement,element:D}))),d=zt(D=>{switch(D.key){case ws.Space:case ws.Enter:case ws.ArrowDown:D.preventDefault(),D.stopPropagation(),n.send({type:Er.OpenMenu,focus:{focus:Wi.First}});break;case ws.ArrowUp:D.preventDefault(),D.stopPropagation(),n.send({type:Er.OpenMenu,focus:{focus:Wi.Last}});break}}),h=zt(D=>{switch(D.key){case ws.Space:D.preventDefault();break}}),[f,g,m]=Fl(n,D=>[D.menuState,D.buttonElement,D.itemsElement]),y=f===To.Open;ZZe(y,{trigger:g,action:k.useCallback(D=>{if(g!=null&&g.contains(D.target))return eA.Ignore;let j=D.target.closest('[role="menuitem"]:not([data-disabled])');return Wc(j)?eA.Select(j):m!=null&&m.contains(D.target)?eA.Ignore:eA.Close},[g,m]),close:k.useCallback(()=>n.send({type:Er.CloseMenu}),[]),select:k.useCallback(D=>D.click(),[])});let w=EZe(D=>{var j;s||(f===To.Open?(Nd.flushSync(()=>n.send({type:Er.CloseMenu})),(j=c.current)==null||j.focus({preventScroll:!0})):(D.preventDefault(),n.send({type:Er.OpenMenu,focus:{focus:Wi.Nothing},trigger:vA.Pointer})))}),{isFocusVisible:b,focusProps:v}=TGe({autoFocus:o}),{isHovered:E,hoverProps:_}=$Ge({isDisabled:s}),{pressed:O,pressProps:S}=jGe({disabled:s}),R=sh({open:f===To.Open,active:O||f===To.Open,disabled:s,hover:E,focus:b,autofocus:o}),I=Yae(l(),{ref:u,id:i,type:YZe(t,c.current),"aria-haspopup":"menu","aria-controls":m==null?void 0:m.id,"aria-expanded":f===To.Open,disabled:s||void 0,autoFocus:o,onKeyDown:d,onKeyUp:h},w,v,_,S);return zi()({ourProps:I,theirProps:a,slot:R,defaultTag:LQe,name:"Menu.Button"})}let UQe="div",FQe=Sv.RenderStrategy|Sv.Static;function zQe(t,e){let n=k.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...c}=t,l=$Je(i),u=rL("Menu.Items"),[d,h]=OJe(l),f=NJe(),[g,m]=k.useState(null),y=aa(e,l?d:null,zt(N=>u.send({type:Er.SetItemsElement,element:N})),m),[w,b]=Fl(u,N=>[N.menuState,N.buttonElement]),v=b4(b),E=b4(g);l&&(s=!0);let _=A4(),[O,S]=Hce(a,g,_!==null?(_&la.Open)===la.Open:w===To.Open);kce(O,b,()=>{u.send({type:Er.CloseMenu})});let R=Fl(u,N=>N.__demoMode),I=R?!1:o&&w===To.Open;Uce(I,E);let D=R?!1:o&&w===To.Open;Ice(D,{allowed:k.useCallback(()=>[b,g],[b,g])});let j=Fl(u,u.selectors.didButtonMove)?!1:O;k.useEffect(()=>{let N=g;N&&w===To.Open&&(Kae(N)||N.focus({preventScroll:!0}))},[w,g]),dYe(w===To.Open,{container:g,accept(N){return N.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:N.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(N){N.setAttribute("role","none")}});let F=t1(),M=zt(N=>{var $,L,B;switch(F.dispose(),N.key){case ws.Space:if(u.state.searchQuery!=="")return N.preventDefault(),N.stopPropagation(),u.send({type:Er.Search,value:N.key});case ws.Enter:if(N.preventDefault(),N.stopPropagation(),u.state.activeItemIndex!==null){let{dataRef:T}=u.state.items[u.state.activeItemIndex];(L=($=T.current)==null?void 0:$.domRef.current)==null||L.click()}u.send({type:Er.CloseMenu}),Tce(u.state.buttonElement);break;case ws.ArrowDown:return N.preventDefault(),N.stopPropagation(),u.send({type:Er.GoToItem,focus:Wi.Next});case ws.ArrowUp:return N.preventDefault(),N.stopPropagation(),u.send({type:Er.GoToItem,focus:Wi.Previous});case ws.Home:case ws.PageUp:return N.preventDefault(),N.stopPropagation(),u.send({type:Er.GoToItem,focus:Wi.First});case ws.End:case ws.PageDown:return N.preventDefault(),N.stopPropagation(),u.send({type:Er.GoToItem,focus:Wi.Last});case ws.Escape:N.preventDefault(),N.stopPropagation(),Nd.flushSync(()=>u.send({type:Er.CloseMenu})),(B=u.state.buttonElement)==null||B.focus({preventScroll:!0});break;case ws.Tab:N.preventDefault(),N.stopPropagation(),Nd.flushSync(()=>u.send({type:Er.CloseMenu})),HZe(u.state.buttonElement,N.shiftKey?Yu.Previous:Yu.Next);break;default:N.key.length===1&&(u.send({type:Er.Search,value:N.key}),F.setTimeout(()=>u.send({type:Er.ClearSearch}),350));break}}),C=zt(N=>{switch(N.key){case ws.Space:N.preventDefault();break}}),x=sh({open:w===To.Open}),A=Yae(l?f():{},{"aria-activedescendant":Fl(u,u.selectors.activeDescendantId),"aria-labelledby":Fl(u,N=>{var $;return($=N.buttonElement)==null?void 0:$.id}),id:r,onKeyDown:M,onKeyUp:C,role:"menu",tabIndex:w===To.Open?0:void 0,ref:y,style:{...c.style,...h,"--button-width":xZe(O,b,!0).width},...qce(S)}),P=zi();return Me.createElement(Tle,{enabled:s?t.static||O:!1,ownerDocument:v},P({ourProps:A,theirProps:c,slot:x,defaultTag:UQe,features:FQe,visible:j,name:"Menu.Items"}))}let WQe=k.Fragment;function qQe(t,e){let n=k.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,o=rL("Menu.Item"),a=Fl(o,j=>o.selectors.isActive(j,r)),c=k.useRef(null),l=aa(e,c),u=Fl(o,j=>o.selectors.shouldScrollIntoView(j,r));zr(()=>{if(u)return Fa().requestAnimationFrame(()=>{var j,F;(F=(j=c.current)==null?void 0:j.scrollIntoView)==null||F.call(j,{block:"nearest"})})},[u,c]);let d=PQe(c),h=k.useRef({disabled:i,domRef:c,get textValue(){return d()}});zr(()=>{h.current.disabled=i},[h,i]),zr(()=>(o.actions.registerItem(r,h),()=>o.actions.unregisterItem(r)),[h,r]);let f=zt(()=>{o.send({type:Er.CloseMenu})}),g=zt(j=>{if(i)return j.preventDefault();o.send({type:Er.CloseMenu}),Tce(o.state.buttonElement)}),m=zt(()=>{if(i)return o.send({type:Er.GoToItem,focus:Wi.Nothing});o.send({type:Er.GoToItem,focus:Wi.Specific,id:r})}),y=rYe(),w=zt(j=>y.update(j)),b=zt(j=>{y.wasMoved(j)&&(i||a||o.send({type:Er.GoToItem,focus:Wi.Specific,id:r,trigger:vA.Pointer}))}),v=zt(j=>{y.wasMoved(j)&&(i||a&&o.state.activationTrigger===vA.Pointer&&o.send({type:Er.GoToItem,focus:Wi.Nothing}))}),[E,_]=sce(),[O,S]=ice(),R=sh({active:a,focus:a,disabled:i,close:f}),I={id:r,ref:l,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":E,"aria-describedby":O,disabled:void 0,onClick:g,onFocus:m,onPointerEnter:w,onMouseEnter:w,onPointerMove:b,onMouseMove:b,onPointerLeave:v,onMouseLeave:v},D=zi();return Me.createElement(_,null,Me.createElement(S,null,D({ourProps:I,theirProps:s,slot:R,defaultTag:WQe,name:"Menu.Item"})))}let HQe="div";function VQe(t,e){let[n,r]=sce(),i=t,s={ref:e,"aria-labelledby":n,role:"group"},o=zi();return Me.createElement(r,null,o({ourProps:s,theirProps:i,slot:{},defaultTag:HQe,name:"Menu.Section"}))}let KQe="header";function GQe(t,e){let n=k.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=t,s=ND();zr(()=>s.register(r),[r,s.register]);let o={id:r,ref:e,role:"presentation",...s.props};return zi()({ourProps:o,theirProps:i,slot:{},defaultTag:KQe,name:"Menu.Heading"})}let ZQe="div";function YQe(t,e){let n=t,r={ref:e,role:"separator"};return zi()({ourProps:r,theirProps:n,slot:{},defaultTag:ZQe,name:"Menu.Separator"})}let JQe=pi(DQe),Jle=pi(BQe),Qle=pi(zQe),Xle=pi(qQe),QQe=pi(VQe),XQe=pi(GQe),eXe=pi(YQe),tXe=Object.assign(JQe,{Button:Jle,Items:Qle,Item:Xle,Section:QQe,Heading:XQe,Separator:eXe});/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nXe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eue=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rXe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iXe=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>k.createElement("svg",{ref:c,...rXe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:eue("lucide",i),...a},[...o.map(([l,u])=>k.createElement(l,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=(t,e)=>{const n=k.forwardRef(({className:r,...i},s)=>k.createElement(iXe,{ref:s,iconNode:e,className:eue(`lucide-${nXe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sXe=gi("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oXe=gi("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=gi("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=gi("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=gi("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aXe=gi("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cXe=gi("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=gi("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lXe=gi("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=gi("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=gi("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uXe=gi("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=gi("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=gi("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=gi("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dXe=gi("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=gi("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hXe=gi("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fXe=gi("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=gi("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pXe=gi("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gXe=gi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var aL={exports:{}},Mv=typeof Reflect=="object"?Reflect:null,rue=Mv&&typeof Mv.apply=="function"?Mv.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},CA;Mv&&typeof Mv.ownKeys=="function"?CA=Mv.ownKeys:Object.getOwnPropertySymbols?CA=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:CA=function(e){return Object.getOwnPropertyNames(e)};function mXe(t){console&&console.warn&&console.warn(t)}var iue=Number.isNaN||function(e){return e!==e};function gr(){gr.init.call(this)}aL.exports=gr,aL.exports.once=bXe,gr.EventEmitter=gr,gr.prototype._events=void 0,gr.prototype._eventsCount=0,gr.prototype._maxListeners=void 0;var sue=10;function _A(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(gr,"defaultMaxListeners",{enumerable:!0,get:function(){return sue},set:function(t){if(typeof t!="number"||t<0||iue(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");sue=t}}),gr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},gr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||iue(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function oue(t){return t._maxListeners===void 0?gr.defaultMaxListeners:t._maxListeners}gr.prototype.getMaxListeners=function(){return oue(this)},gr.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")rue(c,this,n);else for(var l=c.length,u=due(c,l),r=0;r<l;++r)rue(u[r],this,n);return!0};function aue(t,e,n,r){var i,s,o;if(_A(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=oue(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,mXe(a)}return t}gr.prototype.addListener=function(e,n){return aue(this,e,n,!1)},gr.prototype.on=gr.prototype.addListener,gr.prototype.prependListener=function(e,n){return aue(this,e,n,!0)};function yXe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function cue(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=yXe.bind(r);return i.listener=n,r.wrapFn=i,i}gr.prototype.once=function(e,n){return _A(n),this.on(e,cue(this,e,n)),this},gr.prototype.prependOnceListener=function(e,n){return _A(n),this.prependListener(e,cue(this,e,n)),this},gr.prototype.removeListener=function(e,n){var r,i,s,o,a;if(_A(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():wXe(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this},gr.prototype.off=gr.prototype.removeListener,gr.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function lue(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?vXe(i):due(i,i.length)}gr.prototype.listeners=function(e){return lue(this,e,!0)},gr.prototype.rawListeners=function(e){return lue(this,e,!1)},gr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):uue.call(t,e)},gr.prototype.listenerCount=uue;function uue(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}gr.prototype.eventNames=function(){return this._eventsCount>0?CA(this._events):[]};function due(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function wXe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function vXe(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function bXe(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}hue(t,e,s,{once:!0}),e!=="error"&&xXe(t,i,{once:!0})})}function xXe(t,e,n){typeof t.on=="function"&&hue(t,"error",e,n)}function hue(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var qi=aL.exports;const jv=Vo(qi);var fue=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},EXe=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),CXe=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),_Xe=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),AXe=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),SXe=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),IXe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,kXe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,pue=3,$Xe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",IXe]],gue=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function mue(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new SXe:typeof navigator<"u"?PXe(navigator.userAgent):OXe()}function TXe(t){return t!==""&&$Xe.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function PXe(t){var e=TXe(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new AXe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<pue&&(i=fue(fue([],i,!0),RXe(pue-i.length),!0)):i=[];var s=i.join("."),o=NXe(t),a=kXe.exec(t);return a&&a[1]?new _Xe(n,s,o,a[1]):new EXe(n,s,o)}function NXe(t){for(var e=0,n=gue.length;e<n;e++){var r=gue[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function OXe(){var t=typeof process<"u"&&process.version;return t?new CXe(process.version.slice(1)):null}function RXe(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var le={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var cL=function(t,e){return cL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},cL(t,e)};function MXe(t,e){cL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var lL=function(){return lL=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lL.apply(this,arguments)};function jXe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DXe(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function LXe(t,e){return function(n,r){e(n,r,t)}}function BXe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function UXe(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function FXe(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function zXe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function WXe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function uL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yue(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function qXe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yue(arguments[e]));return t}function HXe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function T4(t){return this instanceof T4?(this.v=t,this):new T4(t)}function VXe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,m){s.push([h,f,g,m])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof T4?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function KXe(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:T4(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function GXe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof uL=="function"?uL(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function ZXe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function YXe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function JXe(t){return t&&t.__esModule?t:{default:t}}function QXe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function XXe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const AA=ZE(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return lL},__asyncDelegator:KXe,__asyncGenerator:VXe,__asyncValues:GXe,__await:T4,__awaiter:UXe,__classPrivateFieldGet:QXe,__classPrivateFieldSet:XXe,__createBinding:zXe,__decorate:DXe,__exportStar:WXe,__extends:MXe,__generator:FXe,__importDefault:JXe,__importStar:YXe,__makeTemplateObject:ZXe,__metadata:BXe,__param:LXe,__read:yue,__rest:jXe,__spread:qXe,__spreadArrays:HXe,__values:uL},Symbol.toStringTag,{value:"Module"})));var dL={},P4={},wue;function eet(){if(wue)return P4;wue=1,Object.defineProperty(P4,"__esModule",{value:!0}),P4.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return P4.delay=t,P4}var c1={},hL={},l1={},vue;function tet(){return vue||(vue=1,Object.defineProperty(l1,"__esModule",{value:!0}),l1.ONE_THOUSAND=l1.ONE_HUNDRED=void 0,l1.ONE_HUNDRED=100,l1.ONE_THOUSAND=1e3),l1}var fL={},bue;function net(){return bue||(bue=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(fL)),fL}var xue;function Eue(){return xue||(xue=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=AA;e.__exportStar(tet(),t),e.__exportStar(net(),t)}(hL)),hL}var Cue;function ret(){if(Cue)return c1;Cue=1,Object.defineProperty(c1,"__esModule",{value:!0}),c1.fromMiliseconds=c1.toMiliseconds=void 0;const t=Eue();function e(r){return r*t.ONE_THOUSAND}c1.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return c1.fromMiliseconds=n,c1}var _ue;function iet(){return _ue||(_ue=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=AA;e.__exportStar(eet(),t),e.__exportStar(ret(),t)}(dL)),dL}var Dv={},Aue;function set(){if(Aue)return Dv;Aue=1,Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Dv.Watch=t,Dv.default=t,Dv}var pL={},N4={},Sue;function oet(){if(Sue)return N4;Sue=1,Object.defineProperty(N4,"__esModule",{value:!0}),N4.IWatch=void 0;class t{}return N4.IWatch=t,N4}var Iue;function aet(){return Iue||(Iue=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),AA.__exportStar(oet(),t)}(pL)),pL}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=AA;e.__exportStar(iet(),t),e.__exportStar(set(),t),e.__exportStar(aet(),t),e.__exportStar(Eue(),t)})(le);var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.getLocalStorage=Nr.getLocalStorageOrThrow=Nr.getCrypto=Nr.getCryptoOrThrow=gL=Nr.getLocation=Nr.getLocationOrThrow=d1=Nr.getNavigator=Nr.getNavigatorOrThrow=ua=Nr.getDocument=Nr.getDocumentOrThrow=Nr.getFromWindowOrThrow=Nr.getFromWindow=void 0;function u1(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Nr.getFromWindow=u1;function Lv(t){const e=u1(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Nr.getFromWindowOrThrow=Lv;function cet(){return Lv("document")}Nr.getDocumentOrThrow=cet;function uet(){return u1("document")}var ua=Nr.getDocument=uet;function det(){return Lv("navigator")}Nr.getNavigatorOrThrow=det;function het(){return u1("navigator")}var d1=Nr.getNavigator=het;function fet(){return Lv("location")}Nr.getLocationOrThrow=fet;function pet(){return u1("location")}var gL=Nr.getLocation=pet;function get(){return Lv("crypto")}Nr.getCryptoOrThrow=get;function met(){return u1("crypto")}Nr.getCrypto=met;function yet(){return Lv("localStorage")}Nr.getLocalStorageOrThrow=yet;function wet(){return u1("localStorage")}Nr.getLocalStorage=wet;var mL={};Object.defineProperty(mL,"__esModule",{value:!0});var SA=mL.getWindowMetadata=void 0;const kue=Nr;function vet(){let t,e;try{t=kue.getDocumentOrThrow(),e=kue.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const g=d[f],m=g.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){const y=g.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let w=e.protocol+"//"+e.host;if(y.indexOf("/")===0)w+=y;else{const b=e.pathname.split("/");b.pop();const v=b.join("/");w+=v+"/"+y}h.push(w)}else if(y.indexOf("//")===0){const w=e.protocol+y;h.push(w)}else h.push(y)}}return h}function r(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const g=h[f],m=["itemprop","property","name"].map(y=>g.getAttribute(y)).filter(y=>y?d.includes(y):!1);if(m.length&&m){const y=g.getAttribute("content");if(y)return y}}return""}function i(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function s(){return r("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}SA=mL.getWindowMetadata=vet;function O4(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function yL(t){return O4(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const $ue="2.31.0";let R4={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${$ue}`},IA=class EK extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof EK?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof EK&&n.cause.docsPath||n.docsPath,s=(a=R4.getDocsUrl)==null?void 0:a.call(R4,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...R4.version?[`Version: ${R4.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=$ue}walk(e){return Tue(this,e)}};function Tue(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Tue(t.cause,e):e?null:t}let Pue=class extends IA{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function Bv(t,{dir:e,size:n=32}={}){return typeof t=="string"?bet(t,{dir:e,size:n}):xet(t,{dir:e,size:n})}function bet(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Pue({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function xet(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Pue({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let Eet=class extends IA{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Cet=class extends IA{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Uv(t,{size:e}){if(yL(t)>e)throw new Cet({givenSize:yL(t),maxSize:e})}function wL(t,e={}){const{signed:n}=e;e.size&&Uv(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function _et(t,e={}){return Number(wL(t,e))}const Aet=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vL(t,e={}){return typeof t=="number"||typeof t=="bigint"?Oue(t,e):typeof t=="string"?$et(t,e):typeof t=="boolean"?Iet(t,e):Nue(t,e)}function Iet(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Uv(n,{size:e.size}),Bv(n,{size:e.size})):n}function Nue(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Aet[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Uv(r,{size:e.size}),Bv(r,{dir:"right",size:e.size})):r}function Oue(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Eet({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Bv(a,{size:r}):a}const ket=new TextEncoder;function $et(t,e={}){const n=ket.encode(t);return Nue(n,e)}const Tet=new TextEncoder;function Pet(t,e={}){return typeof t=="number"||typeof t=="bigint"?Oet(t,e):typeof t=="boolean"?Net(t,e):O4(t)?Mue(t,e):jue(t,e)}function Net(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Uv(n,{size:e.size}),Bv(n,{size:e.size})):n}const jf={zero:48,nine:57,A:65,F:70,a:97,f:102};function Rue(t){if(t>=jf.zero&&t<=jf.nine)return t-jf.zero;if(t>=jf.A&&t<=jf.F)return t-(jf.A-10);if(t>=jf.a&&t<=jf.f)return t-(jf.a-10)}function Mue(t,e={}){let n=t;e.size&&(Uv(n,{size:e.size}),n=Bv(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=Rue(r.charCodeAt(a++)),l=Rue(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new IA(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function Oet(t,e){const n=Oue(t,e);return Mue(n)}function jue(t,e={}){const n=Tet.encode(t);return typeof e.size=="number"?(Uv(n,{size:e.size}),Bv(n,{dir:"right",size:e.size})):n}function Due(t,e){const n=e||"hex",r=_C(O4(t,{strict:!1})?Pet(t):t);return n==="bytes"?r:vL(r)}let Ret=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const bL=new Ret(8192);function Met(t,e){if(bL.has(`${t}.${e}`))return bL.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Due(jue(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return bL.set(`${t}.${e}`,s),s}function jet(t){const e=Due(`0x${t.substring(4)}`).substring(26);return Met(`0x${e}`)}async function Det({hash:t,signature:e}){const n=O4(t)?t:vL(t),{secp256k1:r}=await De(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>htt);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),g=Lue(f);return new r.Signature(wL(l),wL(u)).addRecoveryBit(g)}const o=O4(e)?e:vL(e);if(yL(o)!==65)throw new Error("invalid signature length");const a=_et(`0x${o.slice(130)}`),c=Lue(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Lue(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Let({hash:t,signature:e}){return jet(await Det({hash:t,signature:e}))}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xL=BigInt(0),EL=BigInt(1);function M4(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function CL(t){if(!M4(t))throw new Error("Uint8Array expected")}function j4(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function kA(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Bue(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?xL:BigInt("0x"+t)}const Uue=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Bet=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function D4(t){if(CL(t),Uue)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Bet[t[n]];return e}const Df={_0:48,_9:57,A:65,F:70,a:97,f:102};function Fue(t){if(t>=Df._0&&t<=Df._9)return t-Df._0;if(t>=Df.A&&t<=Df.F)return t-(Df.A-10);if(t>=Df.a&&t<=Df.f)return t-(Df.a-10)}function $A(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Uue)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Fue(t.charCodeAt(s)),a=Fue(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function h1(t){return Bue(D4(t))}function zue(t){return CL(t),Bue(D4(Uint8Array.from(t).reverse()))}function L4(t,e){return $A(t.toString(16).padStart(e*2,"0"))}function Wue(t,e){return L4(t,e).reverse()}function zl(t,e,n){let r;if(typeof e=="string")try{r=$A(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(M4(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function TA(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];CL(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const _L=t=>typeof t=="bigint"&&xL<=t;function AL(t,e,n){return _L(t)&&_L(e)&&_L(n)&&e<=t&&t<n}function Fv(t,e,n,r){if(!AL(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Uet(t){let e;for(e=0;t>xL;t>>=EL,e+=1);return e}const PA=t=>(EL<<BigInt(t))-EL,SL=t=>new Uint8Array(t),que=t=>Uint8Array.from(t);function Fet(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=SL(t),i=SL(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=SL(0))=>{i=a(que([0]),d),r=a(),d.length!==0&&(i=a(que([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const f=r.slice();h.push(f),d+=r.length}return TA(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const zet={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||M4(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function NA(t,e,n={}){const r=(i,s,o)=>{const a=zet[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function Hue(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const za=BigInt(0),da=BigInt(1),f1=BigInt(2),Wet=BigInt(3),Vue=BigInt(4),Kue=BigInt(5),Gue=BigInt(8);function Wa(t,e){const n=t%e;return n>=za?n:e+n}function Wl(t,e,n){let r=t;for(;e-- >za;)r*=r,r%=n;return r}function IL(t,e){if(t===za)throw new Error("invert: expected non-zero number");if(e<=za)throw new Error("invert: expected positive modulus, got "+e);let n=Wa(t,e),r=e,i=za,s=da;for(;n!==za;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==da)throw new Error("invert: does not exist");return Wa(i,e)}function Zue(t,e){const n=(t.ORDER+da)/Vue,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function qet(t,e){const n=(t.ORDER-Kue)/Gue,r=t.mul(e,f1),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,f1),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Het(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-da,n=0;for(;e%f1===za;)e/=f1,n++;let r=f1;const i=kL(t);for(;Jue(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Zue;let s=i.pow(r,e);const o=(e+da)/f1;return function(c,l){if(c.is0(l))return l;if(Jue(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let g=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(g++,m=c.sqr(m),g===u)throw new Error("Cannot find square root");const y=da<<BigInt(u-g-1),w=c.pow(d,y);u=g,d=c.sqr(w),h=c.mul(h,d),f=c.mul(f,w)}return f}}function Vet(t){return t%Vue===Wet?Zue:t%Gue===Kue?qet:Het(t)}const Ket=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Get(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Ket.reduce((r,i)=>(r[i]="function",r),e);return NA(t,n)}function Zet(t,e,n){if(n<za)throw new Error("invalid exponent, negatives unsupported");if(n===za)return t.ONE;if(n===da)return e;let r=t.ONE,i=e;for(;n>za;)n&da&&(r=t.mul(r,i)),i=t.sqr(i),n>>=da;return r}function Yue(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function Jue(t,e){const n=(t.ORDER-da)/f1,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Que(t,e){e!==void 0&&hm(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function kL(t,e,n=!1,r={}){if(t<=za)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Que(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:PA(i),ZERO:za,ONE:da,create:c=>Wa(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return za<=c&&c<t},is0:c=>c===za,isOdd:c=>(c&da)===da,neg:c=>Wa(-c,t),eql:(c,l)=>c===l,sqr:c=>Wa(c*c,t),add:(c,l)=>Wa(c+l,t),sub:(c,l)=>Wa(c-l,t),mul:(c,l)=>Wa(c*l,t),pow:(c,l)=>Zet(a,c,l),div:(c,l)=>Wa(c*IL(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>IL(c,t),sqrt:r.sqrt||(c=>(o||(o=Vet(t)),o(a,c))),toBytes:c=>n?Wue(c,s):L4(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?zue(c):h1(c)},invertBatch:c=>Yue(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function Xue(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function ede(t){const e=Xue(t);return e+Math.ceil(e/2)}function Yet(t,e,n=!1){const r=t.length,i=Xue(e),s=ede(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?zue(t):h1(t),a=Wa(o,e-da)+da;return n?Wue(a,i):L4(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tde=BigInt(0),$L=BigInt(1);function TL(t,e){const n=e.negate();return t?n:e}function nde(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function PL(t,e){nde(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=PA(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function rde(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=$L);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function Jet(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Qet(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const NL=new WeakMap,ide=new WeakMap;function OL(t){return ide.get(t)||1}function Xet(t,e){return{constTimeNegate:TL,hasPrecomputes(n){return OL(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>tde;)r&$L&&(i=i.add(s)),s=s.double(),r>>=$L;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=PL(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=PL(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:g}=rde(i,c,a);i=l,d?o=o.add(TL(f,r[g])):s=s.add(TL(h,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=PL(n,e);for(let a=0;a<o.windows&&i!==tde;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=rde(i,a,o);if(i=c,!u){const h=r[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(n,r,i){let s=NL.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&NL.set(r,i(s))),s},wNAFCached(n,r,i){const s=OL(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=OL(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){nde(r,e),ide.set(n,r),NL.delete(n)}}}function ett(t,e,n,r){Jet(n,t),Qet(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Uet(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=PA(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const y=r[m],w=Number(y>>BigInt(f)&l);u[w]=u[w].add(n[m])}let g=o;for(let m=u.length-1,y=o;m>0;m--)y=y.add(u[m]),g=g.add(y);if(h=h.add(g),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function sde(t){return Get(t.Fp),NA(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Que(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ode(t){t.lowS!==void 0&&j4("lowS",t.lowS),t.prehash!==void 0&&j4("prehash",t.prehash)}function ttt(t){const e=sde(t);NA(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}const Lf={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:n}=Lf;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=kA(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?kA(i.length/2|128):"";return kA(t)+s+i+e},decode(t,e){const{Err:n}=Lf;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Lf;if(t<Bf)throw new e("integer: negative integers are not allowed");let n=kA(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Lf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return h1(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Lf,i=zl("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Lf,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function RL(t,e){return D4(L4(t,e))}const Bf=BigInt(0),vs=BigInt(1);BigInt(2);const ML=BigInt(3),ntt=BigInt(4);function rtt(t){const e=ttt(t),{Fp:n}=e,r=kL(e.n,e.nBitLength),i=e.toBytes||((v,E,_)=>{const O=E.toAffine();return TA(Uint8Array.from([4]),n.toBytes(O.x),n.toBytes(O.y))}),s=e.fromBytes||(v=>{const E=v.subarray(1),_=n.fromBytes(E.subarray(0,n.BYTES)),O=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:_,y:O}});function o(v){const{a:E,b:_}=e,O=n.sqr(v),S=n.mul(O,v);return n.add(n.add(S,n.mul(v,E)),_)}function a(v,E){const _=n.sqr(E),O=o(v);return n.eql(_,O)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,ML),ntt),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(v){return AL(v,vs,e.n)}function d(v){const{allowedPrivateKeyLengths:E,nByteLength:_,wrapPrivateKey:O,n:S}=e;if(E&&typeof v!="bigint"){if(M4(v)&&(v=D4(v)),typeof v!="string"||!E.includes(v.length))throw new Error("invalid private key");v=v.padStart(_*2,"0")}let R;try{R=typeof v=="bigint"?v:h1(zl("private key",v,_))}catch{throw new Error("invalid private key, expected hex or "+_+" bytes, got "+typeof v)}return O&&(R=Wa(R,S)),Fv("private key",R,vs,S),R}function h(v){if(!(v instanceof m))throw new Error("ProjectivePoint expected")}const f=Hue((v,E)=>{const{px:_,py:O,pz:S}=v;if(n.eql(S,n.ONE))return{x:_,y:O};const R=v.is0();E==null&&(E=R?n.ONE:n.inv(S));const I=n.mul(_,E),D=n.mul(O,E),j=n.mul(S,E);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(j,n.ONE))throw new Error("invZ was invalid");return{x:I,y:D}}),g=Hue(v=>{if(v.is0()){if(e.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:E,y:_}=v.toAffine();if(!n.isValid(E)||!n.isValid(_))throw new Error("bad point: x or y not FE");if(!a(E,_))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(E,_,O){if(E==null||!n.isValid(E))throw new Error("x required");if(_==null||!n.isValid(_)||n.is0(_))throw new Error("y required");if(O==null||!n.isValid(O))throw new Error("z required");this.px=E,this.py=_,this.pz=O,Object.freeze(this)}static fromAffine(E){const{x:_,y:O}=E||{};if(!E||!n.isValid(_)||!n.isValid(O))throw new Error("invalid affine point");if(E instanceof m)throw new Error("projective point not allowed");const S=R=>n.eql(R,n.ZERO);return S(_)&&S(O)?m.ZERO:new m(_,O,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const _=Yue(n,E.map(O=>O.pz));return E.map((O,S)=>O.toAffine(_[S])).map(m.fromAffine)}static fromHex(E){const _=m.fromAffine(s(zl("pointHex",E)));return _.assertValidity(),_}static fromPrivateKey(E){return m.BASE.multiply(d(E))}static msm(E,_){return ett(m,r,E,_)}_setWindowSize(E){b.setWindowSize(this,E)}assertValidity(){g(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){h(E);const{px:_,py:O,pz:S}=this,{px:R,py:I,pz:D}=E,j=n.eql(n.mul(_,D),n.mul(R,S)),F=n.eql(n.mul(O,D),n.mul(I,S));return j&&F}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:_}=e,O=n.mul(_,ML),{px:S,py:R,pz:I}=this;let D=n.ZERO,j=n.ZERO,F=n.ZERO,M=n.mul(S,S),C=n.mul(R,R),x=n.mul(I,I),A=n.mul(S,R);return A=n.add(A,A),F=n.mul(S,I),F=n.add(F,F),D=n.mul(E,F),j=n.mul(O,x),j=n.add(D,j),D=n.sub(C,j),j=n.add(C,j),j=n.mul(D,j),D=n.mul(A,D),F=n.mul(O,F),x=n.mul(E,x),A=n.sub(M,x),A=n.mul(E,A),A=n.add(A,F),F=n.add(M,M),M=n.add(F,M),M=n.add(M,x),M=n.mul(M,A),j=n.add(j,M),x=n.mul(R,I),x=n.add(x,x),M=n.mul(x,A),D=n.sub(D,M),F=n.mul(x,C),F=n.add(F,F),F=n.add(F,F),new m(D,j,F)}add(E){h(E);const{px:_,py:O,pz:S}=this,{px:R,py:I,pz:D}=E;let j=n.ZERO,F=n.ZERO,M=n.ZERO;const C=e.a,x=n.mul(e.b,ML);let A=n.mul(_,R),P=n.mul(O,I),N=n.mul(S,D),$=n.add(_,O),L=n.add(R,I);$=n.mul($,L),L=n.add(A,P),$=n.sub($,L),L=n.add(_,S);let B=n.add(R,D);return L=n.mul(L,B),B=n.add(A,N),L=n.sub(L,B),B=n.add(O,S),j=n.add(I,D),B=n.mul(B,j),j=n.add(P,N),B=n.sub(B,j),M=n.mul(C,L),j=n.mul(x,N),M=n.add(j,M),j=n.sub(P,M),M=n.add(P,M),F=n.mul(j,M),P=n.add(A,A),P=n.add(P,A),N=n.mul(C,N),L=n.mul(x,L),P=n.add(P,N),N=n.sub(A,N),N=n.mul(C,N),L=n.add(L,N),A=n.mul(P,L),F=n.add(F,A),A=n.mul(B,L),j=n.mul($,j),j=n.sub(j,A),A=n.mul($,P),M=n.mul(B,M),M=n.add(M,A),new m(j,F,M)}subtract(E){return this.add(E.negate())}is0(){return this.equals(m.ZERO)}wNAF(E){return b.wNAFCached(this,E,m.normalizeZ)}multiplyUnsafe(E){const{endo:_,n:O}=e;Fv("scalar",E,Bf,O);const S=m.ZERO;if(E===Bf)return S;if(this.is0()||E===vs)return this;if(!_||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,E,m.normalizeZ);let{k1neg:R,k1:I,k2neg:D,k2:j}=_.splitScalar(E),F=S,M=S,C=this;for(;I>Bf||j>Bf;)I&vs&&(F=F.add(C)),j&vs&&(M=M.add(C)),C=C.double(),I>>=vs,j>>=vs;return R&&(F=F.negate()),D&&(M=M.negate()),M=new m(n.mul(M.px,_.beta),M.py,M.pz),F.add(M)}multiply(E){const{endo:_,n:O}=e;Fv("scalar",E,vs,O);let S,R;if(_){const{k1neg:I,k1:D,k2neg:j,k2:F}=_.splitScalar(E);let{p:M,f:C}=this.wNAF(D),{p:x,f:A}=this.wNAF(F);M=b.constTimeNegate(I,M),x=b.constTimeNegate(j,x),x=new m(n.mul(x.px,_.beta),x.py,x.pz),S=M.add(x),R=C.add(A)}else{const{p:I,f:D}=this.wNAF(E);S=I,R=D}return m.normalizeZ([S,R])[0]}multiplyAndAddUnsafe(E,_,O){const S=m.BASE,R=(D,j)=>j===Bf||j===vs||!D.equals(S)?D.multiplyUnsafe(j):D.multiply(j),I=R(this,_).add(R(E,O));return I.is0()?void 0:I}toAffine(E){return f(this,E)}isTorsionFree(){const{h:E,isTorsionFree:_}=e;if(E===vs)return!0;if(_)return _(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:_}=e;return E===vs?this:_?_(m,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return j4("isCompressed",E),this.assertValidity(),i(m,this,E)}toHex(E=!0){return j4("isCompressed",E),D4(this.toRawBytes(E))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:w}=e,b=Xet(m,y?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function itt(t){const e=sde(t);return NA(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function stt(t){const e=itt(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(x){return Wa(x,r)}function l(x){return IL(x,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=rtt({...e,toBytes(x,A,P){const N=A.toAffine(),$=n.toBytes(N.x),L=TA;return j4("isCompressed",P),P?L(Uint8Array.from([A.hasEvenY()?2:3]),$):L(Uint8Array.from([4]),$,n.toBytes(N.y))},fromBytes(x){const A=x.length,P=x[0],N=x.subarray(1);if(A===o&&(P===2||P===3)){const $=h1(N);if(!AL($,vs,n.ORDER))throw new Error("Point is not on curve");const L=h($);let B;try{B=n.sqrt(L)}catch(q){const U=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+U)}const T=(B&vs)===vs;return(P&1)===1!==T&&(B=n.neg(B)),{x:$,y:B}}else if(A===a&&P===4){const $=n.fromBytes(N.subarray(0,n.BYTES)),L=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:$,y:L}}else{const $=o,L=a;throw new Error("invalid Point, expected length of "+$+", or uncompressed "+L+", got "+A)}}});function g(x){const A=r>>vs;return x>A}function m(x){return g(x)?c(-x):x}const y=(x,A,P)=>h1(x.slice(A,P));class w{constructor(A,P,N){Fv("r",A,vs,r),Fv("s",P,vs,r),this.r=A,this.s=P,N!=null&&(this.recovery=N),Object.freeze(this)}static fromCompact(A){const P=i;return A=zl("compactSignature",A,P*2),new w(y(A,0,P),y(A,P,2*P))}static fromDER(A){const{r:P,s:N}=Lf.toSig(zl("DER",A));return new w(P,N)}assertValidity(){}addRecoveryBit(A){return new w(this.r,this.s,A)}recoverPublicKey(A){const{r:P,s:N,recovery:$}=this,L=S(zl("msgHash",A));if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");const B=$===2||$===3?P+e.n:P;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const T=$&1?"03":"02",z=u.fromHex(T+RL(B,n.BYTES)),q=l(B),U=c(-L*q),V=c(N*q),Z=u.BASE.multiplyAndAddUnsafe(z,U,V);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return $A(this.toDERHex())}toDERHex(){return Lf.hexFromSig(this)}toCompactRawBytes(){return $A(this.toCompactHex())}toCompactHex(){const A=i;return RL(this.r,A)+RL(this.s,A)}}const b={isValidPrivateKey(x){try{return d(x),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const x=ede(e.n);return Yet(e.randomBytes(x),e.n)},precompute(x=8,A=u.BASE){return A._setWindowSize(x),A.multiply(BigInt(3)),A}};function v(x,A=!0){return u.fromPrivateKey(x).toRawBytes(A)}function E(x){if(typeof x=="bigint")return!1;if(x instanceof u)return!0;const P=zl("key",x).length,N=n.BYTES,$=N+1,L=2*N+1;if(!(e.allowedPrivateKeyLengths||i===$))return P===$||P===L}function _(x,A,P=!0){if(E(x)===!0)throw new Error("first arg must be private key");if(E(A)===!1)throw new Error("second arg must be public key");return u.fromHex(A).multiply(d(x)).toRawBytes(P)}const O=e.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const A=h1(x),P=x.length*8-s;return P>0?A>>BigInt(P):A},S=e.bits2int_modN||function(x){return c(O(x))},R=PA(s);function I(x){return Fv("num < 2^"+s,x,Bf,R),L4(x,i)}function D(x,A,P=j){if(["recovered","canonical"].some(J=>J in P))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:$}=e;let{lowS:L,prehash:B,extraEntropy:T}=P;L==null&&(L=!0),x=zl("msgHash",x),ode(P),B&&(x=zl("prehashed msgHash",N(x)));const z=S(x),q=d(A),U=[I(q),I(z)];if(T!=null&&T!==!1){const J=T===!0?$(n.BYTES):T;U.push(zl("extraEntropy",J))}const V=TA(...U),Z=z;function K(J){const oe=O(J);if(!f(oe))return;const se=l(oe),ae=u.BASE.multiply(oe).toAffine(),fe=c(ae.x);if(fe===Bf)return;const ce=c(se*c(Z+fe*q));if(ce===Bf)return;let de=(ae.x===fe?0:2)|Number(ae.y&vs),ot=ce;return L&&g(ce)&&(ot=m(ce),de^=1),new w(fe,ot,de)}return{seed:V,k2sig:K}}const j={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function M(x,A,P=j){const{seed:N,k2sig:$}=D(x,A,P),L=e;return Fet(L.hash.outputLen,L.nByteLength,L.hmac)(N,$)}u.BASE._setWindowSize(8);function C(x,A,P,N=F){var de;const $=x;A=zl("msgHash",A),P=zl("publicKey",P);const{lowS:L,prehash:B,format:T}=N;if(ode(N),"strict"in N)throw new Error("options.strict was renamed to lowS");if(T!==void 0&&T!=="compact"&&T!=="der")throw new Error("format must be compact or der");const z=typeof $=="string"||M4($),q=!z&&!T&&typeof $=="object"&&$!==null&&typeof $.r=="bigint"&&typeof $.s=="bigint";if(!z&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let U,V;try{if(q&&(U=new w($.r,$.s)),z){try{T!=="compact"&&(U=w.fromDER($))}catch(ot){if(!(ot instanceof Lf.Err))throw ot}!U&&T!=="der"&&(U=w.fromCompact($))}V=u.fromHex(P)}catch{return!1}if(!U||L&&U.hasHighS())return!1;B&&(A=e.hash(A));const{r:Z,s:K}=U,J=S(A),oe=l(K),se=c(J*oe),ae=c(Z*oe),fe=(de=u.BASE.multiplyAndAddUnsafe(V,se,ae))==null?void 0:de.toAffine();return fe?c(fe.x)===Z:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:_,sign:M,verify:C,ProjectivePoint:u,Signature:w,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ott(t){return{hash:t,hmac:(e,...n)=>JC(t,e,Md(...n)),randomBytes:CC}}function att(t,e){const n=r=>stt({...t,...ott(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ade=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),cde=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ctt=BigInt(0),ltt=BigInt(1),jL=BigInt(2),lde=(t,e)=>(t+e/jL)/e;function utt(t){const e=ade,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Wl(u,n,e)*u%e,h=Wl(d,n,e)*u%e,f=Wl(h,jL,e)*l%e,g=Wl(f,i,e)*f%e,m=Wl(g,s,e)*g%e,y=Wl(m,a,e)*m%e,w=Wl(y,c,e)*y%e,b=Wl(w,a,e)*m%e,v=Wl(b,n,e)*u%e,E=Wl(v,o,e)*g%e,_=Wl(E,r,e)*l%e,O=Wl(_,jL,e);if(!DL.eql(DL.sqr(O),t))throw new Error("Cannot find square root");return O}const DL=kL(ade,void 0,void 0,{sqrt:utt}),dtt=att({a:ctt,b:BigInt(7),Fp:DL,n:cde,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=cde,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ltt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=lde(s*t,e),c=lde(-r*t,e);let l=Wa(t-a*n-c*i,e),u=Wa(-a*r-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},PC),htt=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:dtt},Symbol.toStringTag,{value:"Module"}));function ftt(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const g=(f-h)*s+1>>>0,m=new Uint8Array(g);for(;h!==f;){let b=l[h],v=0;for(let E=g-1;(b!==0||v<d)&&E!==-1;E--,v++)b+=256*m[E]>>>0,m[E]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");d=v,h++}let y=g-d;for(;y!==g&&m[y]===0;)y++;let w=r.repeat(u);for(;y<g;++y)w+=t.charAt(m[y]);return w}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*i+1>>>0,g=new Uint8Array(f);for(;u<l.length;){const b=l.charCodeAt(u);if(b>255)return;let v=e[b];if(v===255)return;let E=0;for(let _=f-1;(v!==0||E<h)&&_!==-1;_--,E++)v+=n*g[_]>>>0,g[_]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");h=E,u++}let m=f-h;for(;m!==f&&g[m]===0;)m++;const y=new Uint8Array(d+(f-m));let w=d;for(;m!==f;)y[w++]=g[m++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var ptt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const p1=ftt(ptt);function gtt(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if(i&4294967168)if(!(i&4294965248))n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?n+=4:n+=3}else{n++;continue}}return n}function mtt(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let o=t.charCodeAt(s++);if(o&4294967168)if(!(o&4294965248))e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<r){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128):(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128)}else{e[i++]=o;continue}e[i++]=o&63|128}}const ytt=new TextEncoder,wtt=50;function vtt(t,e,n){ytt.encodeInto(t,e.subarray(n))}function btt(t,e,n){t.length>wtt?vtt(t,e,n):mtt(t,e,n)}const xtt=4096;function ude(t,e,n){let r=e;const i=r+n,s=[];let o="";for(;r<i;){const a=t[r++];if(!(a&128))s.push(a);else if((a&224)===192){const c=t[r++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;s.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,s.push(d>>>10&1023|55296),d=56320|d&1023),s.push(d)}else s.push(a);s.length>=xtt&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const Ett=new TextDecoder,Ctt=200;function _tt(t,e,n){const r=t.subarray(e,e+n);return Ett.decode(r)}function Att(t,e,n){return n>Ctt?_tt(t,e,n):ude(t,e,n)}class OA{constructor(e,n){this.type=e,this.data=n}}class Vc extends Error{constructor(e){super(e);const n=Object.create(Vc.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Vc.name})}}const B4=4294967295;function Stt(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function dde(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function hde(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function Itt(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const ktt=-1,$tt=4294967296-1,Ttt=17179869184-1;function Ptt({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Ttt)if(e===0&&t<=$tt){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),dde(r,4,t),n}}function Ntt(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function Ott(t){if(t instanceof Date){const e=Ntt(t);return Ptt(e)}else return null}function Rtt(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=hde(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Vc(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Mtt(t){const e=Rtt(t);return new Date(e.sec*1e3+e.nsec/1e6)}const jtt={type:ktt,encode:Ott,decode:Mtt};class RA{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(jtt)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=-1-r;return new OA(o,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=r;return new OA(o,s)}}}return e instanceof OA?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new OA(n,e)}}RA.defaultCodec=new RA;function Dtt(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function LL(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Dtt(t)?new Uint8Array(t):Uint8Array.from(t)}const Ltt=100,Btt=2048;let Utt=class cEe{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??RA.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??Ltt,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??Btt,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new cEe({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=gtt(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),btt(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=LL(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),Stt(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),dde(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function Ftt(t,e){return new Utt(e).encodeSharedRef(t)}function BL(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const ztt=16,Wtt=16;class qtt{constructor(e=ztt,n=Wtt){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=ude(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,s),s}}const UL="array",U4="map_key",fde="map_value",Htt=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Vc("The type of key must be string or number but "+typeof t)};class Vtt{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=UL,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=U4,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===UL){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===U4||e.type===fde){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const F4=-1,FL=new DataView(new ArrayBuffer(0)),Ktt=new Uint8Array(FL.buffer);try{FL.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const pde=new RangeError("Insufficient data"),Gtt=new qtt;let Ztt=class lEe{constructor(e){this.totalPos=0,this.pos=0,this.view=FL,this.bytes=Ktt,this.headByte=F4,this.stack=new Vtt,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??RA.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??B4,this.maxBinLength=(e==null?void 0:e.maxBinLength)??B4,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??B4,this.maxMapLength=(e==null?void 0:e.maxMapLength)??B4,this.maxExtLength=(e==null?void 0:e.maxExtLength)??B4,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:Gtt,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??Htt}clone(){return new lEe({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=F4,this.stack.reset()}setBuffer(e){const n=LL(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===F4&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=LL(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${BL(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new Vc(`Unrecognized type byte: ${BL(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===UL)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===U4){if(n==="__proto__")throw new Vc("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=fde;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=U4;continue e}}return n}}readHeadByte(){return this.headByte===F4&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=F4}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Vc(`Unrecognized array type byte: ${BL(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Vc(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Vc(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var s;if(e>this.maxStrLength)throw new Vc(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw pde;const r=this.pos+n;let i;return this.stateIsMapKey()&&((s=this.keyDecoder)!=null&&s.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,r,e):i=Att(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===U4:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Vc(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw pde;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new Vc(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=Itt(this.view,this.pos);return this.pos+=8,e}readI64(){const e=hde(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Ytt(t,e){return new Ztt(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jtt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gde(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function MA(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function zL(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function WL(t){if(!Array.isArray(t))throw new Error("array expected")}function jA(t,e){if(!gde(!0,e))throw new Error(`${t}: array of strings expected`)}function Qtt(t,e){if(!gde(!1,e))throw new Error(`${t}: array of numbers expected`)}function Xtt(...t){const e=s=>s,n=(s,o)=>a=>s(o(a)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function ent(t){const e=typeof t=="string"?t.split(""):t,n=e.length;jA("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(WL(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(WL(i),i.map(s=>{MA("alphabet.decode",s);const o=r.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function tnt(t=""){return MA("join",t),{encode:e=>(jA("join.decode",e),e.join(t)),decode:e=>(MA("join.decode",e),e.split(t))}}function nnt(t,e="="){return zL(t),MA("padding",e),{encode(n){for(jA("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){jA("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const mde=(t,e)=>e===0?t:mde(e,t%e),DA=(t,e)=>t+(e-mde(t,e)),qL=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function yde(t,e,n,r){if(WL(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(DA(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${DA(e,n)}`);let i=0,s=0;const o=qL[e],a=qL[n]-1,c=[];for(const l of t){if(zL(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)c.push((i>>s-n&a)>>>0);const u=qL[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<n-s&a,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&c.push(i>>>0),c}function rnt(t,e=!1){if(zL(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(DA(8,t)>32||DA(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Jtt(n))throw new Error("radix2.encode input should be Uint8Array");return yde(Array.from(n),8,t,!e)},decode:n=>(Qtt("radix2.decode",n),Uint8Array.from(yde(n,t,8,e)))}}const int=Xtt(rnt(5),ent("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),nnt(5),tnt("")),snt=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),ont=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Qu(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return ont(t)}catch{return t}}function qa(t){return typeof t=="string"?t:snt(t)||""}function ant(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function wde(t,...e){if(!ant(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function vde(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function cnt(t,e){wde(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const zv=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HL=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function lnt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function bde(t){return typeof t=="string"&&(t=lnt(t)),wde(t),t}let unt=class{clone(){return this._cloneInto()}};function dnt(t){const e=r=>t().update(bde(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function xde(t=32){if(zv&&typeof zv.getRandomValues=="function")return zv.getRandomValues(new Uint8Array(t));if(zv&&typeof zv.randomBytes=="function")return zv.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function hnt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let fnt=class extends unt{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=HL(this.buffer)}update(e){vde(this);const{view:n,buffer:r,blockLen:i}=this;e=bde(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=HL(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vde(this),cnt(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;hnt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=HL(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const LA=BigInt(2**32-1),VL=BigInt(32);function Ede(t,e=!1){return e?{h:Number(t&LA),l:Number(t>>VL&LA)}:{h:Number(t>>VL&LA)|0,l:Number(t&LA)|0}}function pnt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Ede(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const gnt=(t,e)=>BigInt(t>>>0)<<VL|BigInt(e>>>0),mnt=(t,e,n)=>t>>>n,ynt=(t,e,n)=>t<<32-n|e>>>n,wnt=(t,e,n)=>t>>>n|e<<32-n,vnt=(t,e,n)=>t<<32-n|e>>>n,bnt=(t,e,n)=>t<<64-n|e>>>n-32,xnt=(t,e,n)=>t>>>n-32|e<<64-n,Ent=(t,e)=>e,Cnt=(t,e)=>t,_nt=(t,e,n)=>t<<n|e>>>32-n,Ant=(t,e,n)=>e<<n|t>>>32-n,Snt=(t,e,n)=>e<<n-32|t>>>64-n,Int=(t,e,n)=>t<<n-32|e>>>64-n;function knt(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const $nt=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Tnt=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Pnt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Nnt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Ont=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Rnt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,ln={fromBig:Ede,split:pnt,toBig:gnt,shrSH:mnt,shrSL:ynt,rotrSH:wnt,rotrSL:vnt,rotrBH:bnt,rotrBL:xnt,rotr32H:Ent,rotr32L:Cnt,rotlSH:_nt,rotlSL:Ant,rotlBH:Snt,rotlBL:Int,add:knt,add3L:$nt,add3H:Tnt,add4L:Pnt,add4H:Nnt,add5H:Rnt,add5L:Ont},[Mnt,jnt]=ln.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),F0=new Uint32Array(80),z0=new Uint32Array(80);let Dnt=class extends fnt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:g,Hh:m,Hl:y}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,f,g,m,y]}set(e,n,r,i,s,o,a,c,l,u,d,h,f,g,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=g|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let v=0;v<16;v++,n+=4)F0[v]=e.getUint32(n),z0[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=F0[v-15]|0,_=z0[v-15]|0,O=ln.rotrSH(E,_,1)^ln.rotrSH(E,_,8)^ln.shrSH(E,_,7),S=ln.rotrSL(E,_,1)^ln.rotrSL(E,_,8)^ln.shrSL(E,_,7),R=F0[v-2]|0,I=z0[v-2]|0,D=ln.rotrSH(R,I,19)^ln.rotrBH(R,I,61)^ln.shrSH(R,I,6),j=ln.rotrSL(R,I,19)^ln.rotrBL(R,I,61)^ln.shrSL(R,I,6),F=ln.add4L(S,j,z0[v-7],z0[v-16]),M=ln.add4H(F,O,D,F0[v-7],F0[v-16]);F0[v]=M|0,z0[v]=F|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:g,Gh:m,Gl:y,Hh:w,Hl:b}=this;for(let v=0;v<80;v++){const E=ln.rotrSH(d,h,14)^ln.rotrSH(d,h,18)^ln.rotrBH(d,h,41),_=ln.rotrSL(d,h,14)^ln.rotrSL(d,h,18)^ln.rotrBL(d,h,41),O=d&f^~d&m,S=h&g^~h&y,R=ln.add5L(b,_,S,jnt[v],z0[v]),I=ln.add5H(R,w,E,O,Mnt[v],F0[v]),D=R|0,j=ln.rotrSH(r,i,28)^ln.rotrBH(r,i,34)^ln.rotrBH(r,i,39),F=ln.rotrSL(r,i,28)^ln.rotrBL(r,i,34)^ln.rotrBL(r,i,39),M=r&s^r&a^s&a,C=i&o^i&c^o&c;w=m|0,b=y|0,m=f|0,y=g|0,f=d|0,g=h|0,{h:d,l:h}=ln.add(l|0,u|0,I|0,D|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const x=ln.add3L(D,F,C);r=ln.add3H(x,I,j,M),i=x|0}({h:r,l:i}=ln.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=ln.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=ln.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=ln.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=ln.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:g}=ln.add(this.Fh|0,this.Fl|0,f|0,g|0),{h:m,l:y}=ln.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:w,l:b}=ln.add(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,i,s,o,a,c,l,u,d,h,f,g,m,y,w,b)}roundClean(){F0.fill(0),z0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Lnt=dnt(()=>new Dnt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const KL=BigInt(0),Cde=BigInt(1),Bnt=BigInt(2);function GL(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ZL(t){if(!GL(t))throw new Error("Uint8Array expected")}function YL(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Unt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function JL(t){ZL(t);let e="";for(let n=0;n<t.length;n++)e+=Unt[t[n]];return e}function _de(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?KL:BigInt("0x"+t)}const Uf={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ade(t){if(t>=Uf._0&&t<=Uf._9)return t-Uf._0;if(t>=Uf.A&&t<=Uf.F)return t-(Uf.A-10);if(t>=Uf.a&&t<=Uf.f)return t-(Uf.a-10)}function Sde(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Ade(t.charCodeAt(s)),a=Ade(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Fnt(t){return _de(JL(t))}function BA(t){return ZL(t),_de(JL(Uint8Array.from(t).reverse()))}function Ide(t,e){return Sde(t.toString(16).padStart(e*2,"0"))}function QL(t,e){return Ide(t,e).reverse()}function Ff(t,e,n){let r;if(typeof e=="string")try{r=Sde(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(GL(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function kde(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ZL(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const XL=t=>typeof t=="bigint"&&KL<=t;function znt(t,e,n){return XL(t)&&XL(e)&&XL(n)&&e<=t&&t<n}function z4(t,e,n,r){if(!znt(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Wnt(t){let e;for(e=0;t>KL;t>>=Cde,e+=1);return e}const qnt=t=>(Bnt<<BigInt(t-1))-Cde,Hnt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||GL(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function eB(t,e,n={}){const r=(i,s,o)=>{const a=Hnt[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function $de(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const bs=BigInt(0),Si=BigInt(1),g1=BigInt(2),Vnt=BigInt(3),tB=BigInt(4),Tde=BigInt(5),Pde=BigInt(8);function is(t,e){const n=t%e;return n>=bs?n:e+n}function Knt(t,e,n){if(e<bs)throw new Error("invalid exponent, negatives unsupported");if(n<=bs)throw new Error("invalid modulus");if(n===Si)return bs;let r=Si;for(;e>bs;)e&Si&&(r=r*t%n),t=t*t%n,e>>=Si;return r}function hh(t,e,n){let r=t;for(;e-- >bs;)r*=r,r%=n;return r}function Nde(t,e){if(t===bs)throw new Error("invert: expected non-zero number");if(e<=bs)throw new Error("invert: expected positive modulus, got "+e);let n=is(t,e),r=e,i=bs,s=Si;for(;n!==bs;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==Si)throw new Error("invert: does not exist");return is(i,e)}function Gnt(t){const e=(t-Si)/g1;let n,r,i;for(n=t-Si,r=0;n%g1===bs;n/=g1,r++);for(i=g1;i<t&&Knt(i,e,t)!==t-Si;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Si)/tB;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+Si)/g1;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let g=o.sqr(d);h<c&&!o.eql(g,o.ONE);h++)g=o.sqr(g);const f=o.pow(l,Si<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function Znt(t){if(t%tB===Vnt){const e=(t+Si)/tB;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%Pde===Tde){const e=(t-Tde)/Pde;return function(n,r){const i=n.mul(r,g1),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,g1),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return Gnt(t)}const Ynt=(t,e)=>(is(t,e)&Si)===Si,Jnt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Qnt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Jnt.reduce((r,i)=>(r[i]="function",r),e);return eB(t,n)}function Xnt(t,e,n){if(n<bs)throw new Error("invalid exponent, negatives unsupported");if(n===bs)return t.ONE;if(n===Si)return e;let r=t.ONE,i=e;for(;n>bs;)n&Si&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Si;return r}function ert(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Ode(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Rde(t,e,n=!1,r={}){if(t<=bs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Ode(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:qnt(i),ZERO:bs,ONE:Si,create:c=>is(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return bs<=c&&c<t},is0:c=>c===bs,isOdd:c=>(c&Si)===Si,neg:c=>is(-c,t),eql:(c,l)=>c===l,sqr:c=>is(c*c,t),add:(c,l)=>is(c+l,t),sub:(c,l)=>is(c-l,t),mul:(c,l)=>is(c*l,t),pow:(c,l)=>Xnt(a,c,l),div:(c,l)=>is(c*Nde(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Nde(c,t),sqrt:r.sqrt||(c=>(o||(o=Znt(t)),o(a,c))),invertBatch:c=>ert(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?QL(c,s):Ide(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?BA(c):Fnt(c)}});return Object.freeze(a)}const Mde=BigInt(0),UA=BigInt(1);function nB(t,e){const n=e.negate();return t?n:e}function jde(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function rB(t,e){jde(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function trt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function nrt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const iB=new WeakMap,Dde=new WeakMap;function sB(t){return Dde.get(t)||1}function rrt(t,e){return{constTimeNegate:nB,hasPrecomputes(n){return sB(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>Mde;)r&UA&&(i=i.add(s)),s=s.double(),r>>=UA;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=rB(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=rB(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const f=h*o;let g=Number(i&l);i>>=d,g>o&&(g-=u,i+=UA);const m=f,y=f+Math.abs(g)-1,w=h%2!==0,b=g<0;g===0?c=c.add(nB(w,r[m])):a=a.add(nB(b,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=rB(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===Mde)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=UA),f===0)continue;let g=r[h+Math.abs(f)-1];f<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(n,r,i){let s=iB.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&iB.set(r,i(s))),s},wNAFCached(n,r,i){const s=sB(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=sB(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){jde(r,e),Dde.set(n,r),iB.delete(n)}}}function irt(t,e,n,r){if(trt(n,t),nrt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Wnt(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let f=0;f<r.length;f++){const g=r[f],m=Number(g>>BigInt(d)&BigInt(a));c[m]=c[m].add(n[f])}let h=i;for(let f=c.length-1,g=i;f>0;f--)g=g.add(c[f]),h=h.add(g);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function srt(t){return Qnt(t.Fp),eB(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ode(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Xu=BigInt(0),Ha=BigInt(1),FA=BigInt(2),ort=BigInt(8),art={zip215:!0};function crt(t){const e=srt(t);return eB(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function lrt(t){const e=crt(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=FA<<BigInt(a*8)-Ha,u=n.create,d=Rde(e.n,e.nBitLength),h=e.uvRatio||((x,A)=>{try{return{isValid:!0,value:n.sqrt(x*n.inv(A))}}catch{return{isValid:!1,value:Xu}}}),f=e.adjustScalarBytes||(x=>x),g=e.domain||((x,A,P)=>{if(YL("phflag",P),A.length||P)throw new Error("Contexts/pre-hash are not supported");return x});function m(x,A){z4("coordinate "+x,A,Xu,l)}function y(x){if(!(x instanceof v))throw new Error("ExtendedPoint expected")}const w=$de((x,A)=>{const{ex:P,ey:N,ez:$}=x,L=x.is0();A==null&&(A=L?ort:n.inv($));const B=u(P*A),T=u(N*A),z=u($*A);if(L)return{x:Xu,y:Ha};if(z!==Ha)throw new Error("invZ was invalid");return{x:B,y:T}}),b=$de(x=>{const{a:A,d:P}=e;if(x.is0())throw new Error("bad point: ZERO");const{ex:N,ey:$,ez:L,et:B}=x,T=u(N*N),z=u($*$),q=u(L*L),U=u(q*q),V=u(T*A),Z=u(q*u(V+z)),K=u(U+u(P*u(T*z)));if(Z!==K)throw new Error("bad point: equation left != right (1)");const J=u(N*$),oe=u(L*B);if(J!==oe)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(A,P,N,$){this.ex=A,this.ey=P,this.ez=N,this.et=$,m("x",A),m("y",P),m("z",N),m("t",$),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof v)throw new Error("extended point not allowed");const{x:P,y:N}=A||{};return m("x",P),m("y",N),new v(P,N,Ha,u(P*N))}static normalizeZ(A){const P=n.invertBatch(A.map(N=>N.ez));return A.map((N,$)=>N.toAffine(P[$])).map(v.fromAffine)}static msm(A,P){return irt(v,d,A,P)}_setWindowSize(A){O.setWindowSize(this,A)}assertValidity(){b(this)}equals(A){y(A);const{ex:P,ey:N,ez:$}=this,{ex:L,ey:B,ez:T}=A,z=u(P*T),q=u(L*$),U=u(N*T),V=u(B*$);return z===q&&U===V}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:A}=e,{ex:P,ey:N,ez:$}=this,L=u(P*P),B=u(N*N),T=u(FA*u($*$)),z=u(A*L),q=P+N,U=u(u(q*q)-L-B),V=z+B,Z=V-T,K=z-B,J=u(U*Z),oe=u(V*K),se=u(U*K),ae=u(Z*V);return new v(J,oe,ae,se)}add(A){y(A);const{a:P,d:N}=e,{ex:$,ey:L,ez:B,et:T}=this,{ex:z,ey:q,ez:U,et:V}=A;if(P===BigInt(-1)){const _e=u((L-$)*(q+z)),ge=u((L+$)*(q-z)),Ee=u(ge-_e);if(Ee===Xu)return this.double();const Wt=u(B*FA*V),ye=u(T*FA*U),je=ye+Wt,Ye=ge+_e,bt=ye-Wt,ft=u(je*Ee),Xt=u(Ye*bt),Ot=u(je*bt),At=u(Ee*Ye);return new v(ft,Xt,At,Ot)}const Z=u($*z),K=u(L*q),J=u(T*N*V),oe=u(B*U),se=u(($+L)*(z+q)-Z-K),ae=oe-J,fe=oe+J,ce=u(K-P*Z),de=u(se*ae),ot=u(fe*ce),he=u(se*ce),Ae=u(ae*fe);return new v(de,ot,Ae,he)}subtract(A){return this.add(A.negate())}wNAF(A){return O.wNAFCached(this,A,v.normalizeZ)}multiply(A){const P=A;z4("scalar",P,Ha,r);const{p:N,f:$}=this.wNAF(P);return v.normalizeZ([N,$])[0]}multiplyUnsafe(A,P=v.ZERO){const N=A;return z4("scalar",N,Xu,r),N===Xu?_:this.is0()||N===Ha?this:O.wNAFCachedUnsafe(this,N,v.normalizeZ,P)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return O.unsafeLadder(this,r).is0()}toAffine(A){return w(this,A)}clearCofactor(){const{h:A}=e;return A===Ha?this:this.multiplyUnsafe(A)}static fromHex(A,P=!1){const{d:N,a:$}=e,L=n.BYTES;A=Ff("pointHex",A,L),YL("zip215",P);const B=A.slice(),T=A[L-1];B[L-1]=T&-129;const z=BA(B),q=P?l:n.ORDER;z4("pointHex.y",z,Xu,q);const U=u(z*z),V=u(U-Ha),Z=u(N*U-$);let{isValid:K,value:J}=h(V,Z);if(!K)throw new Error("Point.fromHex: invalid y coordinate");const oe=(J&Ha)===Ha,se=(T&128)!==0;if(!P&&J===Xu&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==oe&&(J=u(-J)),v.fromAffine({x:J,y:z})}static fromPrivateKey(A){return I(A).point}toRawBytes(){const{x:A,y:P}=this.toAffine(),N=QL(P,n.BYTES);return N[N.length-1]|=A&Ha?128:0,N}toHex(){return JL(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,Ha,u(e.Gx*e.Gy)),v.ZERO=new v(Xu,Ha,Ha,Xu);const{BASE:E,ZERO:_}=v,O=rrt(v,a*8);function S(x){return is(x,r)}function R(x){return S(BA(x))}function I(x){const A=n.BYTES;x=Ff("private key",x,A);const P=Ff("hashed private key",s(x),2*A),N=f(P.slice(0,A)),$=P.slice(A,2*A),L=R(N),B=E.multiply(L),T=B.toRawBytes();return{head:N,prefix:$,scalar:L,point:B,pointBytes:T}}function D(x){return I(x).pointBytes}function j(x=new Uint8Array,...A){const P=kde(...A);return R(s(g(P,Ff("context",x),!!i)))}function F(x,A,P={}){x=Ff("message",x),i&&(x=i(x));const{prefix:N,scalar:$,pointBytes:L}=I(A),B=j(P.context,N,x),T=E.multiply(B).toRawBytes(),z=j(P.context,T,L,x),q=S(B+z*$);z4("signature.s",q,Xu,r);const U=kde(T,QL(q,n.BYTES));return Ff("result",U,n.BYTES*2)}const M=art;function C(x,A,P,N=M){const{context:$,zip215:L}=N,B=n.BYTES;x=Ff("signature",x,2*B),A=Ff("message",A),P=Ff("publicKey",P,B),L!==void 0&&YL("zip215",L),i&&(A=i(A));const T=BA(x.slice(B,2*B));let z,q,U;try{z=v.fromHex(P,L),q=v.fromHex(x.slice(0,B),L),U=E.multiplyUnsafe(T)}catch{return!1}if(!L&&z.isSmallOrder())return!1;const V=j($,q.toRawBytes(),z.toRawBytes(),A);return q.add(z.multiplyUnsafe(V)).subtract(U).clearCofactor().equals(v.ZERO)}return E._setWindowSize(8),{CURVE:e,getPublicKey:D,sign:F,verify:C,ExtendedPoint:v,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>o(n.BYTES),precompute(x=8,A=v.BASE){return A._setWindowSize(x),A.multiply(BigInt(3)),A}}}}BigInt(0),BigInt(1);const oB=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Lde=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const urt=BigInt(1),Bde=BigInt(2);BigInt(3);const drt=BigInt(5),hrt=BigInt(8);function frt(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=oB,o=t*t%s*t%s,a=hh(o,Bde,s)*o%s,c=hh(a,urt,s)*t%s,l=hh(c,drt,s)*c%s,u=hh(l,e,s)*l%s,d=hh(u,n,s)*u%s,h=hh(d,r,s)*d%s,f=hh(h,i,s)*h%s,g=hh(f,i,s)*h%s,m=hh(g,e,s)*l%s;return{pow_p_5_8:hh(m,Bde,s)*t%s,b2:o}}function prt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function grt(t,e){const n=oB,r=is(e*e*e,n),i=is(r*r*e,n),s=frt(t*i).pow_p_5_8;let o=is(t*r*s,n);const a=is(e*o*o,n),c=o,l=is(o*Lde,n),u=a===t,d=a===is(-t,n),h=a===is(-t*Lde,n);return u&&(o=c),(d||h)&&(o=l),Ynt(o,n)&&(o=is(-o,n)),{isValid:u||d,value:o}}const mrt=Rde(oB,void 0,!0),yrt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:mrt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:hrt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Lnt,randomBytes:xde,adjustScalarBytes:prt,uvRatio:grt},Ude=lrt(yrt),wrt="EdDSA",vrt="JWT",zA=".",WA="base64url",Fde="utf8",zde="utf8",brt=":",xrt="did",Ert="key",Wde="base58btc",Crt="z",_rt="K36",Art=32;function aB(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function qde(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?aB(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Hde(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=qde(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return aB(n)}function Srt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,y=0,w=0,b=g.length;w!==b&&g[w]===0;)w++,m++;for(var v=(b-w)*u+1>>>0,E=new Uint8Array(v);w!==b;){for(var _=g[w],O=0,S=v-1;(_!==0||O<y)&&S!==-1;S--,O++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=O,w++}for(var R=v-y;R!==v&&E[R]===0;)R++;for(var I=c.repeat(m);R<v;++R)I+=t.charAt(E[R]);return I}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var y=0,w=0;g[m]===c;)y++,m++;for(var b=(g.length-m)*l+1>>>0,v=new Uint8Array(b);g[m];){var E=n[g.charCodeAt(m)];if(E===255)return;for(var _=0,O=b-1;(E!==0||_<w)&&O!==-1;O--,_++)E+=a*v[O]>>>0,v[O]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,m++}if(g[m]!==" "){for(var S=b-w;S!==b&&v[S]===0;)S++;for(var R=new Uint8Array(y+(b-S)),I=y;S!==b;)R[I++]=v[S++];return R}}}function f(g){var m=h(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Irt=Srt,krt=Irt;const Vde=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},$rt=t=>new TextEncoder().encode(t),Trt=t=>new TextDecoder().decode(t);let Prt=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Nrt=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Kde(this,e)}},Ort=class{constructor(e){this.decoders=e}or(e){return Kde(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Kde=(t,e)=>new Ort({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Rrt=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Prt(e,n,r),this.decoder=new Nrt(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const qA=({name:t,prefix:e,encode:n,decode:r})=>new Rrt(t,e,n,r),W4=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=krt(n,e);return qA({prefix:t,name:e,encode:r,decode:s=>Vde(i(s))})},Mrt=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},jrt=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Vs=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>qA({prefix:e,name:t,encode(i){return jrt(i,r,n)},decode(i){return Mrt(i,r,n,t)}}),Drt=qA({prefix:"\0",name:"identity",encode:t=>Trt(t),decode:t=>$rt(t)});var Lrt=Object.freeze({__proto__:null,identity:Drt});const Brt=Vs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Urt=Object.freeze({__proto__:null,base2:Brt});const Frt=Vs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var zrt=Object.freeze({__proto__:null,base8:Frt});const Wrt=W4({prefix:"9",name:"base10",alphabet:"0123456789"});var qrt=Object.freeze({__proto__:null,base10:Wrt});const Hrt=Vs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Vrt=Vs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Krt=Object.freeze({__proto__:null,base16:Hrt,base16upper:Vrt});const Grt=Vs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Zrt=Vs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Yrt=Vs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Jrt=Vs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Qrt=Vs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Xrt=Vs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eit=Vs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tit=Vs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nit=Vs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var rit=Object.freeze({__proto__:null,base32:Grt,base32upper:Zrt,base32pad:Yrt,base32padupper:Jrt,base32hex:Qrt,base32hexupper:Xrt,base32hexpad:eit,base32hexpadupper:tit,base32z:nit});const iit=W4({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),sit=W4({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var oit=Object.freeze({__proto__:null,base36:iit,base36upper:sit});const ait=W4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),cit=W4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var lit=Object.freeze({__proto__:null,base58btc:ait,base58flickr:cit});const uit=Vs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dit=Vs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),hit=Vs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fit=Vs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var pit=Object.freeze({__proto__:null,base64:uit,base64pad:dit,base64url:hit,base64urlpad:fit});const Gde=Array.from(""),git=Gde.reduce((t,e,n)=>(t[n]=e,t),[]),mit=Gde.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function yit(t){return t.reduce((e,n)=>(e+=git[n],e),"")}function wit(t){const e=[];for(const n of t){const r=mit[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const vit=qA({prefix:"",name:"base256emoji",encode:yit,decode:wit});var bit=Object.freeze({__proto__:null,base256emoji:vit}),xit=Yde,Zde=128,Eit=-128,Cit=Math.pow(2,31);function Yde(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Cit;)e[n++]=t&255|Zde,t/=128;for(;t&Eit;)e[n++]=t&255|Zde,t>>>=7;return e[n]=t|0,Yde.bytes=n-r+1,e}var _it=cB,Ait=128,Jde=127;function cB(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw cB.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&Jde)<<i:(o&Jde)*Math.pow(2,i),i+=7}while(o>=Ait);return cB.bytes=s-r,n}var Sit=Math.pow(2,7),Iit=Math.pow(2,14),kit=Math.pow(2,21),$it=Math.pow(2,28),Tit=Math.pow(2,35),Pit=Math.pow(2,42),Nit=Math.pow(2,49),Oit=Math.pow(2,56),Rit=Math.pow(2,63),Mit=function(t){return t<Sit?1:t<Iit?2:t<kit?3:t<$it?4:t<Tit?5:t<Pit?6:t<Nit?7:t<Oit?8:t<Rit?9:10},jit={encode:xit,decode:_it,encodingLength:Mit},Qde=jit;const Xde=(t,e,n=0)=>(Qde.encode(t,e,n),e),ehe=t=>Qde.encodingLength(t),lB=(t,e)=>{const n=e.byteLength,r=ehe(t),i=r+ehe(n),s=new Uint8Array(i+n);return Xde(t,s,0),Xde(n,s,r),s.set(e,i),new Dit(t,n,e,s)};let Dit=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const the=({name:t,code:e,encode:n})=>new Lit(t,e,n);let Lit=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?lB(this.code,n):n.then(r=>lB(this.code,r))}else throw Error("Unknown type, must be binary type")}};const nhe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Bit=the({name:"sha2-256",code:18,encode:nhe("SHA-256")}),Uit=the({name:"sha2-512",code:19,encode:nhe("SHA-512")});var Fit=Object.freeze({__proto__:null,sha256:Bit,sha512:Uit});const rhe=0,zit="identity",ihe=Vde;var Wit=Object.freeze({__proto__:null,identity:{code:rhe,name:zit,encode:ihe,digest:t=>lB(rhe,ihe(t))}});new TextEncoder,new TextDecoder;const she={...Lrt,...Urt,...zrt,...qrt,...Krt,...rit,...oit,...lit,...pit,...bit};({...Fit,...Wit});function ohe(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const ahe=ohe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),uB=ohe("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=qde(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),che={utf8:ahe,"utf-8":ahe,hex:she.base16,latin1:uB,ascii:uB,binary:uB,...she};function HA(t,e="utf8"){const n=che[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Wv(t,e="utf8"){const n=che[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?aB(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function lhe(t){return Qu(HA(Wv(t,WA),Fde))}function VA(t){return HA(Wv(qa(t),Fde),WA)}function dB(t){const e=Wv(_rt,Wde),n=Crt+HA(Hde([e,t]),Wde);return[xrt,Ert,n].join(brt)}function qit(t){return HA(t,WA)}function Hit(t){return Wv(t,WA)}function Vit(t){return Wv([VA(t.header),VA(t.payload)].join(zA),zde)}function Kit(t){return[VA(t.header),VA(t.payload),qit(t.signature)].join(zA)}function qv(t){const e=t.split(zA),n=lhe(e[0]),r=lhe(e[1]),i=Hit(e[2]),s=Wv(e.slice(0,2).join(zA),zde);return{header:n,payload:r,signature:i,data:s}}function KA(t=xde(Art)){const e=Ude.getPublicKey(t);return{secretKey:Hde([t,e]),publicKey:e}}async function uhe(t,e,n,r,i=le.fromMiliseconds(Date.now())){const s={alg:wrt,typ:vrt},o=dB(r.publicKey),a=i+n,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=Vit({header:s,payload:c}),u=Ude.sign(l,r.secretKey.slice(0,32));return Kit({header:s,payload:c,signature:u})}function hB(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function dhe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?hB(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function q4(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=dhe(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return hB(n)}function Git(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,y=0,w=0,b=g.length;w!==b&&g[w]===0;)w++,m++;for(var v=(b-w)*u+1>>>0,E=new Uint8Array(v);w!==b;){for(var _=g[w],O=0,S=v-1;(_!==0||O<y)&&S!==-1;S--,O++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=O,w++}for(var R=v-y;R!==v&&E[R]===0;)R++;for(var I=c.repeat(m);R<v;++R)I+=t.charAt(E[R]);return I}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var y=0,w=0;g[m]===c;)y++,m++;for(var b=(g.length-m)*l+1>>>0,v=new Uint8Array(b);g[m];){var E=n[g.charCodeAt(m)];if(E===255)return;for(var _=0,O=b-1;(E!==0||_<w)&&O!==-1;O--,_++)E+=a*v[O]>>>0,v[O]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,m++}if(g[m]!==" "){for(var S=b-w;S!==b&&v[S]===0;)S++;for(var R=new Uint8Array(y+(b-S)),I=y;S!==b;)R[I++]=v[S++];return R}}}function f(g){var m=h(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Zit=Git,Yit=Zit;const Jit=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Qit=t=>new TextEncoder().encode(t),Xit=t=>new TextDecoder().decode(t);class est{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class tst{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return hhe(this,e)}}class nst{constructor(e){this.decoders=e}or(e){return hhe(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const hhe=(t,e)=>new nst({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class rst{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new est(e,n,r),this.decoder=new tst(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const GA=({name:t,prefix:e,encode:n,decode:r})=>new rst(t,e,n,r),H4=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Yit(n,e);return GA({prefix:t,name:e,encode:r,decode:s=>Jit(i(s))})},ist=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},sst=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Ks=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>GA({prefix:e,name:t,encode(i){return sst(i,r,n)},decode(i){return ist(i,r,n,t)}}),ost=GA({prefix:"\0",name:"identity",encode:t=>Xit(t),decode:t=>Qit(t)}),ast=Object.freeze(Object.defineProperty({__proto__:null,identity:ost},Symbol.toStringTag,{value:"Module"})),cst=Ks({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),lst=Object.freeze(Object.defineProperty({__proto__:null,base2:cst},Symbol.toStringTag,{value:"Module"})),ust=Ks({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),dst=Object.freeze(Object.defineProperty({__proto__:null,base8:ust},Symbol.toStringTag,{value:"Module"})),hst=H4({prefix:"9",name:"base10",alphabet:"0123456789"}),fst=Object.freeze(Object.defineProperty({__proto__:null,base10:hst},Symbol.toStringTag,{value:"Module"})),pst=Ks({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),gst=Ks({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),mst=Object.freeze(Object.defineProperty({__proto__:null,base16:pst,base16upper:gst},Symbol.toStringTag,{value:"Module"})),yst=Ks({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wst=Ks({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vst=Ks({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),bst=Ks({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xst=Ks({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Est=Ks({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Cst=Ks({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),_st=Ks({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ast=Ks({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Sst=Object.freeze(Object.defineProperty({__proto__:null,base32:yst,base32hex:xst,base32hexpad:Cst,base32hexpadupper:_st,base32hexupper:Est,base32pad:vst,base32padupper:bst,base32upper:wst,base32z:Ast},Symbol.toStringTag,{value:"Module"})),Ist=H4({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),kst=H4({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),$st=Object.freeze(Object.defineProperty({__proto__:null,base36:Ist,base36upper:kst},Symbol.toStringTag,{value:"Module"})),Tst=H4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Pst=H4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Nst=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Tst,base58flickr:Pst},Symbol.toStringTag,{value:"Module"})),Ost=Ks({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Rst=Ks({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Mst=Ks({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),jst=Ks({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Dst=Object.freeze(Object.defineProperty({__proto__:null,base64:Ost,base64pad:Rst,base64url:Mst,base64urlpad:jst},Symbol.toStringTag,{value:"Module"})),fhe=Array.from(""),Lst=fhe.reduce((t,e,n)=>(t[n]=e,t),[]),Bst=fhe.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Ust(t){return t.reduce((e,n)=>(e+=Lst[n],e),"")}function Fst(t){const e=[];for(const n of t){const r=Bst[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const zst=GA({prefix:"",name:"base256emoji",encode:Ust,decode:Fst}),Wst=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:zst},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;const ZA={...ast,...lst,...dst,...fst,...mst,...Sst,...$st,...Nst,...Dst,...Wst};function phe(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const ghe=phe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),fB=phe("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=dhe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),mhe={utf8:ghe,"utf-8":ghe,hex:ZA.base16,latin1:fB,ascii:fB,binary:fB,...ZA};function ql(t,e="utf8"){const n=mhe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?hB(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Va(t,e="utf8"){const n=mhe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const yhe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},qst="Input must be an string, Buffer or Uint8Array";function Hst(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(qst);return e}function Vst(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function YA(t){return(4294967296+t).toString(16).substring(1)}function Kst(t,e,n){let r=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(n===32)r+=YA(e[i]).toUpperCase(),r+=" ",r+=YA(e[i+1]).toUpperCase();else if(n===64)r+=YA(e[i+1]).toUpperCase(),r+=YA(e[i]).toUpperCase();else throw new Error("Invalid size "+n);i%6===4?r+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(r+=" ")}console.log(r)}function Gst(t,e,n){let r=new Date().getTime();const i=new Uint8Array(e);for(let o=0;o<e;o++)i[o]=o%256;const s=new Date().getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let o=0;o<n;o++){const a=t(i),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var whe={normalizeInput:Hst,toHex:Vst,debugPrint:Kst,testSpeed:Gst};const JA=whe;function QA(t,e,n){const r=t[e]+t[n];let i=t[e+1]+t[n+1];r>=4294967296&&i++,t[e]=r,t[e+1]=i}function vhe(t,e,n,r){let i=t[e]+n;n<0&&(i+=4294967296);let s=t[e+1]+r;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function bhe(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function W0(t,e,n,r,i,s){const o=V4[i],a=V4[i+1],c=V4[s],l=V4[s+1];QA(tn,t,e),vhe(tn,t,o,a);let u=tn[r]^tn[t],d=tn[r+1]^tn[t+1];tn[r]=d,tn[r+1]=u,QA(tn,n,r),u=tn[e]^tn[n],d=tn[e+1]^tn[n+1],tn[e]=u>>>24^d<<8,tn[e+1]=d>>>24^u<<8,QA(tn,t,e),vhe(tn,t,c,l),u=tn[r]^tn[t],d=tn[r+1]^tn[t+1],tn[r]=u>>>16^d<<16,tn[r+1]=d>>>16^u<<16,QA(tn,n,r),u=tn[e]^tn[n],d=tn[e+1]^tn[n+1],tn[e]=d>>>31^u<<1,tn[e+1]=u>>>31^d<<1}const xhe=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Zst=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Po=new Uint8Array(Zst.map(function(t){return t*2})),tn=new Uint32Array(32),V4=new Uint32Array(32);function Ehe(t,e){let n=0;for(n=0;n<16;n++)tn[n]=t.h[n],tn[n+16]=xhe[n];for(tn[24]=tn[24]^t.t,tn[25]=tn[25]^t.t/4294967296,e&&(tn[28]=~tn[28],tn[29]=~tn[29]),n=0;n<32;n++)V4[n]=bhe(t.b,4*n);for(n=0;n<12;n++)W0(0,8,16,24,Po[n*16+0],Po[n*16+1]),W0(2,10,18,26,Po[n*16+2],Po[n*16+3]),W0(4,12,20,28,Po[n*16+4],Po[n*16+5]),W0(6,14,22,30,Po[n*16+6],Po[n*16+7]),W0(0,10,20,30,Po[n*16+8],Po[n*16+9]),W0(2,12,22,24,Po[n*16+10],Po[n*16+11]),W0(4,14,16,26,Po[n*16+12],Po[n*16+13]),W0(6,8,18,28,Po[n*16+14],Po[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^tn[n]^tn[n+16]}const q0=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Che(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};q0.fill(0),q0[0]=t,e&&(q0[1]=e.length),q0[2]=1,q0[3]=1,n&&q0.set(n,32),r&&q0.set(r,48);for(let s=0;s<16;s++)i.h[s]=xhe[s]^bhe(q0,s*4);return e&&(pB(i,e),i.c=128),i}function pB(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,Ehe(t,!1),t.c=0),t.b[t.c++]=e[n]}function _he(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;Ehe(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function Ahe(t,e,n,r,i){n=n||64,t=JA.normalizeInput(t),r&&(r=JA.normalizeInput(r)),i&&(i=JA.normalizeInput(i));const s=Che(n,e,r,i);return pB(s,t),_he(s)}function Yst(t,e,n,r,i){const s=Ahe(t,e,n,r,i);return JA.toHex(s)}var Jst={blake2b:Ahe,blake2bHex:Yst,blake2bInit:Che,blake2bUpdate:pB,blake2bFinal:_he};const She=whe;function Qst(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function H0(t,e,n,r,i,s){Ln[t]=Ln[t]+Ln[e]+i,Ln[r]=XA(Ln[r]^Ln[t],16),Ln[n]=Ln[n]+Ln[r],Ln[e]=XA(Ln[e]^Ln[n],12),Ln[t]=Ln[t]+Ln[e]+s,Ln[r]=XA(Ln[r]^Ln[t],8),Ln[n]=Ln[n]+Ln[r],Ln[e]=XA(Ln[e]^Ln[n],7)}function XA(t,e){return t>>>e^t<<32-e}const Ihe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),No=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Ln=new Uint32Array(16),Gs=new Uint32Array(16);function khe(t,e){let n=0;for(n=0;n<8;n++)Ln[n]=t.h[n],Ln[n+8]=Ihe[n];for(Ln[12]^=t.t,Ln[13]^=t.t/4294967296,e&&(Ln[14]=~Ln[14]),n=0;n<16;n++)Gs[n]=Qst(t.b,4*n);for(n=0;n<10;n++)H0(0,4,8,12,Gs[No[n*16+0]],Gs[No[n*16+1]]),H0(1,5,9,13,Gs[No[n*16+2]],Gs[No[n*16+3]]),H0(2,6,10,14,Gs[No[n*16+4]],Gs[No[n*16+5]]),H0(3,7,11,15,Gs[No[n*16+6]],Gs[No[n*16+7]]),H0(0,5,10,15,Gs[No[n*16+8]],Gs[No[n*16+9]]),H0(1,6,11,12,Gs[No[n*16+10]],Gs[No[n*16+11]]),H0(2,7,8,13,Gs[No[n*16+12]],Gs[No[n*16+13]]),H0(3,4,9,14,Gs[No[n*16+14]],Gs[No[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=Ln[n]^Ln[n+8]}function $he(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(Ihe),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(gB(r,e),r.c=64),r}function gB(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,khe(t,!1),t.c=0),t.b[t.c++]=e[n]}function The(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;khe(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function Phe(t,e,n){n=n||32,t=She.normalizeInput(t);const r=$he(n,e);return gB(r,t),The(r)}function Xst(t,e,n){const r=Phe(t,e,n);return She.toHex(r)}var eot={blake2s:Phe,blake2sHex:Xst,blake2sInit:$he,blake2sUpdate:gB,blake2sFinal:The};const K4=Jst,G4=eot;var tot={blake2b:K4.blake2b,blake2bHex:K4.blake2bHex,blake2bInit:K4.blake2bInit,blake2bUpdate:K4.blake2bUpdate,blake2bFinal:K4.blake2bFinal,blake2s:G4.blake2s,blake2sHex:G4.blake2sHex,blake2sInit:G4.blake2sInit,blake2sUpdate:G4.blake2sUpdate,blake2sFinal:G4.blake2sFinal},not={};const rot=":";function m1(t){const[e,n]=t.split(rot);return{namespace:e,reference:n}}function Nhe(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function Ohe(t,e){return t.includes(":")?[t]:e.chains||[]}var iot=Object.defineProperty,sot=Object.defineProperties,oot=Object.getOwnPropertyDescriptors,Rhe=Object.getOwnPropertySymbols,aot=Object.prototype.hasOwnProperty,cot=Object.prototype.propertyIsEnumerable,mB=(t,e,n)=>e in t?iot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mhe=(t,e)=>{for(var n in e||(e={}))aot.call(e,n)&&mB(t,n,e[n]);if(Rhe)for(var n of Rhe(e))cot.call(e,n)&&mB(t,n,e[n]);return t},lot=(t,e)=>sot(t,oot(e)),jhe=(t,e,n)=>mB(t,typeof e!="symbol"?e+"":e,n);const uot="ReactNative",Kc={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},dot="js";function eS(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function V0(){return!ua()&&!!d1()&&navigator.product===uot}function hot(){return V0()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function fot(){return V0()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Hv(){return!eS()&&!!d1()&&!!ua()}function Z4(){return V0()?Kc.reactNative:eS()?Kc.node:Hv()?Kc.browser:Kc.unknown}function Dhe(){var t;try{return V0()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function pot(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function got(t){var e,n;const r=Lhe();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),lot(Mhe(Mhe({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function Lhe(){return SA()||{name:"",description:"",url:"",icons:[""]}}function mot(){if(Z4()===Kc.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=mue();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function yot(){var t;const e=Z4();return e===Kc.browser?[e,((t=gL())==null?void 0:t.host)||"unknown"].join(":"):e}function Bhe(t,e,n){const r=mot(),i=yot();return[[t,e].join("-"),[dot,n].join("-"),r,i].join("/")}function wot({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=Bhe(t,e,r),d={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=pot(l[1]||"",d);return l[0]+"?"+h}function y1(t,e){return t.filter(n=>e.includes(n)).length===t.length}function yB(t){return Object.fromEntries(t.entries())}function wB(t){return new Map(Object.entries(t))}function w1(t=le.FIVE_MINUTES,e){const n=le.toMiliseconds(t||le.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function fh(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function Uhe(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function vot(t){return Uhe("topic",t)}function bot(t){return Uhe("id",t)}function Fhe(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function ss(t,e){return le.fromMiliseconds(Date.now()+le.toMiliseconds(t))}function K0(t){return Date.now()>=le.toMiliseconds(t)}function Xn(t,e){return`${t}${e?`:${e}`:""}`}function ph(t=[],e=[]){return[...new Set([...t,...e])]}async function xot({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=Eot(s,t,e),a=Z4();if(a===Kc.browser){if(!((r=ua())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Cot(o)}else a===Kc.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function Eot(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Iot(r,!0)}`}else i=`${i}/wc?${r}`;return i}function Cot(t){let e="_self";Sot()?e="_top":(Aot()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function _ot(t,e){let n="";try{if(Hv()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function zhe(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function Whe(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function vB(){return typeof process<"u"&&not.IS_VITEST==="true"}function Aot(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Sot(){try{return window.self!==window.top}catch{return!1}}function Iot(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function qhe(t){return Buffer.from(t,"base64").toString("utf-8")}function kot(t){return new Promise(e=>setTimeout(e,t))}let $ot=class{constructor({limit:e}){jhe(this,"limit"),jhe(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const tS=BigInt(2**32-1),Hhe=BigInt(32);function Vhe(t,e=!1){return e?{h:Number(t&tS),l:Number(t>>Hhe&tS)}:{h:Number(t>>Hhe&tS)|0,l:Number(t&tS)|0}}function Khe(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=Vhe(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const Ghe=(t,e,n)=>t>>>n,Zhe=(t,e,n)=>t<<32-n|e>>>n,G0=(t,e,n)=>t>>>n|e<<32-n,Z0=(t,e,n)=>t<<32-n|e>>>n,Y4=(t,e,n)=>t<<64-n|e>>>n-32,J4=(t,e,n)=>t>>>n-32|e<<64-n,Tot=(t,e)=>e,Pot=(t,e)=>t,Not=(t,e,n)=>t<<n|e>>>32-n,Oot=(t,e,n)=>e<<n|t>>>32-n,Rot=(t,e,n)=>e<<n-32|t>>>64-n,Mot=(t,e,n)=>t<<n-32|e>>>64-n;function ed(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const bB=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),xB=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,jot=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Dot=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Lot=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Bot=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Vv=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function EB(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zf(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Hl(t,...e){if(!EB(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function CB(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");zf(t.outputLen),zf(t.blockLen)}function Y0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function _B(t,e){Hl(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Q4(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Vl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function AB(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function gh(t,e){return t<<32-e|t>>>e}const Yhe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Jhe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Wf=Yhe?t=>t:t=>Jhe(t);function Uot(t){for(let e=0;e<t.length;e++)t[e]=Jhe(t[e]);return t}const J0=Yhe?t=>t:Uot,Qhe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Fot=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function X4(t){if(Hl(t),Qhe)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Fot[t[n]];return e}const qf={_0:48,_9:57,A:65,F:70,a:97,f:102};function Xhe(t){if(t>=qf._0&&t<=qf._9)return t-qf._0;if(t>=qf.A&&t<=qf.F)return t-(qf.A-10);if(t>=qf.a&&t<=qf.f)return t-(qf.a-10)}function SB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Qhe)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Xhe(t.charCodeAt(s)),a=Xhe(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function zot(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function td(t){return typeof t=="string"&&(t=zot(t)),Hl(t),t}function v1(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Hl(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let nS=class{};function e8(t){const e=r=>t().update(td(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Wot(t){const e=(r,i)=>t(i).update(td(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Kv(t=32){if(Vv&&typeof Vv.getRandomValues=="function")return Vv.getRandomValues(new Uint8Array(t));if(Vv&&typeof Vv.randomBytes=="function")return Uint8Array.from(Vv.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const qot=BigInt(0),t8=BigInt(1),Hot=BigInt(2),Vot=BigInt(7),Kot=BigInt(256),Got=BigInt(113),efe=[],tfe=[],nfe=[];for(let t=0,e=t8,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],efe.push(2*(5*r+n)),tfe.push((t+1)*(t+2)/2%64);let i=qot;for(let s=0;s<7;s++)e=(e<<t8^(e>>Vot)*Got)%Kot,e&Hot&&(i^=t8<<(t8<<BigInt(s))-t8);nfe.push(i)}const rfe=Khe(nfe,!0),Zot=rfe[0],Yot=rfe[1],ife=(t,e,n)=>n>32?Rot(t,e,n):Not(t,e,n),sfe=(t,e,n)=>n>32?Mot(t,e,n):Oot(t,e,n);function Jot(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=ife(l,u,1)^n[a],h=sfe(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=tfe[o],c=ife(i,s,a),l=sfe(i,s,a),u=efe[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Zot[r],t[1]^=Yot[r]}Vl(n)}let Qot=class uEe extends nS{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,zf(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Q4(this.state)}clone(){return this._cloneInto()}keccak(){J0(this.state32),Jot(this.state32,this.rounds),J0(this.state32),this.posOut=0,this.pos=0}update(e){Y0(this),e=td(e),Hl(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Y0(this,!1),Hl(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return zf(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(_B(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Vl(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new uEe(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Xot=(t,e,n)=>e8(()=>new Qot(e,t,n)),eat=Xot(1,136,256/8);function tat(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function nat(t,e,n){return t&e^~t&n}function rat(t,e,n){return t&e^t&n^e&n}let ofe=class extends nS{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=AB(this.buffer)}update(e){Y0(this),e=td(e),Hl(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=AB(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Y0(this),_B(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Vl(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;tat(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=AB(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Q0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Oo=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ro=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),iat=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),X0=new Uint32Array(64);let sat=class extends ofe{constructor(e=32){super(64,e,8,!1),this.A=Q0[0]|0,this.B=Q0[1]|0,this.C=Q0[2]|0,this.D=Q0[3]|0,this.E=Q0[4]|0,this.F=Q0[5]|0,this.G=Q0[6]|0,this.H=Q0[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)X0[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=X0[d-15],f=X0[d-2],g=gh(h,7)^gh(h,18)^h>>>3,m=gh(f,17)^gh(f,19)^f>>>10;X0[d]=m+X0[d-7]+g+X0[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=gh(a,6)^gh(a,11)^gh(a,25),f=u+h+nat(a,c,l)+iat[d]+X0[d]|0,g=(gh(r,2)^gh(r,13)^gh(r,22))+rat(r,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=r,r=f+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Vl(X0)}destroy(){this.set(0,0,0,0,0,0,0,0),Vl(this.buffer)}};const afe=Khe(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),oat=afe[0],aat=afe[1],eg=new Uint32Array(80),tg=new Uint32Array(80);let IB=class extends ofe{constructor(e=64){super(128,e,16,!1),this.Ah=Ro[0]|0,this.Al=Ro[1]|0,this.Bh=Ro[2]|0,this.Bl=Ro[3]|0,this.Ch=Ro[4]|0,this.Cl=Ro[5]|0,this.Dh=Ro[6]|0,this.Dl=Ro[7]|0,this.Eh=Ro[8]|0,this.El=Ro[9]|0,this.Fh=Ro[10]|0,this.Fl=Ro[11]|0,this.Gh=Ro[12]|0,this.Gl=Ro[13]|0,this.Hh=Ro[14]|0,this.Hl=Ro[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:g,Hh:m,Hl:y}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,f,g,m,y]}set(e,n,r,i,s,o,a,c,l,u,d,h,f,g,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=g|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let v=0;v<16;v++,n+=4)eg[v]=e.getUint32(n),tg[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=eg[v-15]|0,_=tg[v-15]|0,O=G0(E,_,1)^G0(E,_,8)^Ghe(E,_,7),S=Z0(E,_,1)^Z0(E,_,8)^Zhe(E,_,7),R=eg[v-2]|0,I=tg[v-2]|0,D=G0(R,I,19)^Y4(R,I,61)^Ghe(R,I,6),j=Z0(R,I,19)^J4(R,I,61)^Zhe(R,I,6),F=jot(S,j,tg[v-7],tg[v-16]),M=Dot(F,O,D,eg[v-7],eg[v-16]);eg[v]=M|0,tg[v]=F|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:g,Gh:m,Gl:y,Hh:w,Hl:b}=this;for(let v=0;v<80;v++){const E=G0(d,h,14)^G0(d,h,18)^Y4(d,h,41),_=Z0(d,h,14)^Z0(d,h,18)^J4(d,h,41),O=d&f^~d&m,S=h&g^~h&y,R=Lot(b,_,S,aat[v],tg[v]),I=Bot(R,w,E,O,oat[v],eg[v]),D=R|0,j=G0(r,i,28)^Y4(r,i,34)^Y4(r,i,39),F=Z0(r,i,28)^J4(r,i,34)^J4(r,i,39),M=r&s^r&a^s&a,C=i&o^i&c^o&c;w=m|0,b=y|0,m=f|0,y=g|0,f=d|0,g=h|0,{h:d,l:h}=ed(l|0,u|0,I|0,D|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const x=bB(D,F,C);r=xB(x,I,j,M),i=x|0}({h:r,l:i}=ed(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=ed(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=ed(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=ed(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=ed(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:g}=ed(this.Fh|0,this.Fl|0,f|0,g|0),{h:m,l:y}=ed(this.Gh|0,this.Gl|0,m|0,y|0),{h:w,l:b}=ed(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,i,s,o,a,c,l,u,d,h,f,g,m,y,w,b)}roundClean(){Vl(eg,tg)}destroy(){Vl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},cat=class extends IB{constructor(){super(48),this.Ah=Oo[0]|0,this.Al=Oo[1]|0,this.Bh=Oo[2]|0,this.Bl=Oo[3]|0,this.Ch=Oo[4]|0,this.Cl=Oo[5]|0,this.Dh=Oo[6]|0,this.Dl=Oo[7]|0,this.Eh=Oo[8]|0,this.El=Oo[9]|0,this.Fh=Oo[10]|0,this.Fl=Oo[11]|0,this.Gh=Oo[12]|0,this.Gl=Oo[13]|0,this.Hh=Oo[14]|0,this.Hl=Oo[15]|0}};const Mo=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let lat=class extends IB{constructor(){super(32),this.Ah=Mo[0]|0,this.Al=Mo[1]|0,this.Bh=Mo[2]|0,this.Bl=Mo[3]|0,this.Ch=Mo[4]|0,this.Cl=Mo[5]|0,this.Dh=Mo[6]|0,this.Dl=Mo[7]|0,this.Eh=Mo[8]|0,this.El=Mo[9]|0,this.Fh=Mo[10]|0,this.Fl=Mo[11]|0,this.Gh=Mo[12]|0,this.Gl=Mo[13]|0,this.Hh=Mo[14]|0,this.Hl=Mo[15]|0}};const rS=e8(()=>new sat),uat=e8(()=>new IB),dat=e8(()=>new cat),hat=e8(()=>new lat),fat=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),os=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),rt=new Uint32Array(32);function ng(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=rt[2*t],l=rt[2*t+1],u=rt[2*e],d=rt[2*e+1],h=rt[2*n],f=rt[2*n+1],g=rt[2*r],m=rt[2*r+1],y=bB(c,u,o);l=xB(y,l,d,a),c=y|0,{Dh:m,Dl:g}={Dh:m^l,Dl:g^c},{Dh:m,Dl:g}={Dh:Tot(m,g),Dl:Pot(m)},{h:f,l:h}=ed(f,h,m,g),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:G0(d,u,24),Bl:Z0(d,u,24)},rt[2*t]=c,rt[2*t+1]=l,rt[2*e]=u,rt[2*e+1]=d,rt[2*n]=h,rt[2*n+1]=f,rt[2*r]=g,rt[2*r+1]=m}function rg(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=rt[2*t],l=rt[2*t+1],u=rt[2*e],d=rt[2*e+1],h=rt[2*n],f=rt[2*n+1],g=rt[2*r],m=rt[2*r+1],y=bB(c,u,o);l=xB(y,l,d,a),c=y|0,{Dh:m,Dl:g}={Dh:m^l,Dl:g^c},{Dh:m,Dl:g}={Dh:G0(m,g,16),Dl:Z0(m,g,16)},{h:f,l:h}=ed(f,h,m,g),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:Y4(d,u,63),Bl:J4(d,u,63)},rt[2*t]=c,rt[2*t+1]=l,rt[2*e]=u,rt[2*e+1]=d,rt[2*n]=h,rt[2*n+1]=f,rt[2*r]=g,rt[2*r+1]=m}function pat(t,e={},n,r,i){if(zf(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let gat=class extends nS{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,zf(e),zf(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Q4(this.buffer)}update(e){Y0(this),e=td(e),Hl(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===n&&(J0(i),this.compress(i,0,!1),J0(i),this.pos=0);const l=Math.min(n-this.pos,s-c),u=o+c;if(l===n&&!(u%4)&&c+l<s){const d=new Uint32Array(a,u,Math.floor((s-c)/4));J0(d);for(let h=0;c+n<s;h+=i.length,c+=n)this.length+=n,this.compress(d,h,!1);J0(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Y0(this),_B(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Vl(this.buffer.subarray(n)),J0(r),this.compress(r,0,!0),J0(r);const i=Q4(e);this.get().forEach((s,o)=>i[o]=Wf(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},mat=class extends gat{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=os[0]|0,this.v0h=os[1]|0,this.v1l=os[2]|0,this.v1h=os[3]|0,this.v2l=os[4]|0,this.v2h=os[5]|0,this.v3l=os[6]|0,this.v3h=os[7]|0,this.v4l=os[8]|0,this.v4h=os[9]|0,this.v5l=os[10]|0,this.v5h=os[11]|0,this.v6l=os[12]|0,this.v6h=os[13]|0,this.v7l=os[14]|0,this.v7h=os[15]|0,pat(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,o=0;if(r!==void 0&&(r=td(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=td(s);const a=Q4(s);this.v4l^=Wf(a[0]),this.v4h^=Wf(a[1]),this.v5l^=Wf(a[2]),this.v5h^=Wf(a[3])}if(i!==void 0){i=td(i);const a=Q4(i);this.v6l^=Wf(a[0]),this.v6h^=Wf(a[1]),this.v7l^=Wf(a[2]),this.v7h^=Wf(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:g,v7l:m,v7h:y}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,f,g,m,y]}set(e,n,r,i,s,o,a,c,l,u,d,h,f,g,m,y){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=g|0,this.v7l=m|0,this.v7h=y|0}compress(e,n,r){this.get().forEach((c,l)=>rt[l]=c),rt.set(os,16);let{h:i,l:s}=Vhe(BigInt(this.length));rt[24]=os[8]^s,rt[25]=os[9]^i,r&&(rt[28]=~rt[28],rt[29]=~rt[29]);let o=0;const a=fat;for(let c=0;c<12;c++)ng(0,4,8,12,e,n+2*a[o++]),rg(0,4,8,12,e,n+2*a[o++]),ng(1,5,9,13,e,n+2*a[o++]),rg(1,5,9,13,e,n+2*a[o++]),ng(2,6,10,14,e,n+2*a[o++]),rg(2,6,10,14,e,n+2*a[o++]),ng(3,7,11,15,e,n+2*a[o++]),rg(3,7,11,15,e,n+2*a[o++]),ng(0,5,10,15,e,n+2*a[o++]),rg(0,5,10,15,e,n+2*a[o++]),ng(1,6,11,12,e,n+2*a[o++]),rg(1,6,11,12,e,n+2*a[o++]),ng(2,7,8,13,e,n+2*a[o++]),rg(2,7,8,13,e,n+2*a[o++]),ng(3,4,9,14,e,n+2*a[o++]),rg(3,4,9,14,e,n+2*a[o++]);this.v0l^=rt[0]^rt[16],this.v0h^=rt[1]^rt[17],this.v1l^=rt[2]^rt[18],this.v1h^=rt[3]^rt[19],this.v2l^=rt[4]^rt[20],this.v2h^=rt[5]^rt[21],this.v3l^=rt[6]^rt[22],this.v3h^=rt[7]^rt[23],this.v4l^=rt[8]^rt[24],this.v4h^=rt[9]^rt[25],this.v5l^=rt[10]^rt[26],this.v5h^=rt[11]^rt[27],this.v6l^=rt[12]^rt[28],this.v6h^=rt[13]^rt[29],this.v7l^=rt[14]^rt[30],this.v7h^=rt[15]^rt[31],Vl(rt)}destroy(){this.destroyed=!0,Vl(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const yat=Wot(t=>new mat(t)),wat="https://rpc.walletconnect.org/v1";function cfe(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(eat(n)).toString("hex")}async function vat(t,e,n,r,i,s){switch(n.t){case"eip191":return await bat(t,e,n.s);case"eip1271":return await xat(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function bat(t,e,n){return(await Let({hash:cfe(e),signature:n})).toLowerCase()===t.toLowerCase()}async function xat(t,e,n,r,i,s){const o=m1(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:cfe(e)).substring(2),h=a+d+c+u+l,f=await fetch(`${s||wat}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Eat(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:g}=await f.json();return g?g.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Eat(){return Date.now()+Math.floor(Math.random()*1e3)}function Cat(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return p1.encode(s)}function _at(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=yat(r,{dkLen:32});return p1.encode(i)}function lfe(t){const e=new Uint8Array(rS(Aat(t)));return p1.encode(e)}function Aat(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function ufe(t){const e=Buffer.from(t,"base64"),n=Ytt(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=Ftt(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),o=hat(s);return int.encode(o).replace(/=+$/,"")}function kB(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function Sat(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(kB(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(kB(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(kB(r.length)),i.push(r);const s=Buffer.concat(i),o=rS(s);return Buffer.from(o).toString("hex").toUpperCase()}var Iat=Object.defineProperty,kat=Object.defineProperties,$at=Object.getOwnPropertyDescriptors,dfe=Object.getOwnPropertySymbols,Tat=Object.prototype.hasOwnProperty,Pat=Object.prototype.propertyIsEnumerable,hfe=(t,e,n)=>e in t?Iat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nat=(t,e)=>{for(var n in e||(e={}))Tat.call(e,n)&&hfe(t,n,e[n]);if(dfe)for(var n of dfe(e))Pat.call(e,n)&&hfe(t,n,e[n]);return t},Oat=(t,e)=>kat(t,$at(e));const Rat="did:pkh:",$B=t=>t==null?void 0:t.split(":"),Mat=t=>{const e=t&&$B(t);if(e)return t.includes(Rat)?e[3]:e[1]},TB=t=>{const e=t&&$B(t);if(e)return e[2]+":"+e[3]},iS=t=>{const e=t&&$B(t);if(e)return e.pop()};async function ffe(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=pfe(i,i.iss),o=iS(i.iss);return await vat(o,s,r,TB(i.iss),n)}const pfe=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=iS(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Mat(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,g=sS(t.resources);if(g){const m=n8(g);i=qat(i,m)}return[n,r,"",i,"",s,o,a,c,l,u,d,h,f].filter(m=>m!=null).join(`
`)};function jat(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Dat(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function b1(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function Lat(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:Bat(e,n,r)}}}function Bat(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function gfe(t){return b1(t),`urn:recap:${jat(t).replace(/=/g,"")}`}function n8(t){const e=Dat(t.replace("urn:recap:",""));return b1(e),e}function Uat(t,e,n){const r=Lat(t,e,n);return gfe(r)}function Fat(t){return t&&t.includes("urn:recap:")}function zat(t,e){const n=n8(t),r=n8(e),i=Wat(n,r);return gfe(i)}function Wat(t,e){b1(t),b1(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=Oat(Nat({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function qat(t="",e){b1(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function mfe(t){var e;const n=n8(t);b1(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function yfe(t){const e=n8(t);b1(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function sS(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Fat(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function wfe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function PB(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function NB(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ka(t,...e){if(!wfe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function vfe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Hat(t,e){Ka(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ig(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Gv(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Vat(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Kat=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Gat(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function OB(t){if(typeof t=="string")t=Gat(t);else if(wfe(t))t=RB(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Zat(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Yat(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Jat=(t,e)=>{function n(r,...i){if(Ka(r),!Kat)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Ka(l):Ka(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Ka(i[1]);const o=e(r,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Ka(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Ka(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Ka(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function bfe(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Xat(e))throw new Error("invalid output, must be aligned");return e}function xfe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function Qat(t,e,n){PB(n);const r=new Uint8Array(16),i=Vat(r);return xfe(i,0,BigInt(e),n),xfe(i,8,BigInt(t),n),r}function Xat(t){return t.byteOffset%4===0}function RB(t){return Uint8Array.from(t)}const Efe=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),ect=Efe("expand 16-byte k"),tct=Efe("expand 32-byte k"),nct=ig(ect),rct=ig(tct);function Bn(t,e){return t<<e|t>>>32-e}function MB(t){return t.byteOffset%4===0}const oS=64,ict=16,Cfe=2**32-1,_fe=new Uint32Array;function sct(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(oS),u=ig(l),d=MB(i)&&MB(s),h=d?ig(i):_fe,f=d?ig(s):_fe;for(let g=0;g<c;o++){if(t(e,n,r,u,o,a),o>=Cfe)throw new Error("arx: counter overflow");const m=Math.min(oS,c-g);if(d&&m===oS){const y=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let w=0,b;w<ict;w++)b=y+w,f[b]=h[b]^u[w];g+=oS;continue}for(let y=0,w;y<m;y++)w=g+y,s[w]=i[w]^l[y];g+=m}}function oct(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=Zat({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return NB(i),NB(o),PB(s),PB(n),(a,c,l,u,d=0)=>{Ka(a),Ka(c),Ka(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),Ka(u),NB(d),d<0||d>=Cfe)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let g=a.length,m,y;if(g===32)f.push(m=RB(a)),y=rct;else if(g===16&&n)m=new Uint8Array(32),m.set(a),m.set(a,16),y=nct,f.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);MB(c)||f.push(c=RB(c));const w=ig(m);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,w,ig(c.subarray(0,16)),w),c=c.subarray(16)}const b=16-i;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const E=new Uint8Array(12);E.set(c,s?0:12-c.length),c=E,f.push(c)}const v=ig(c);return sct(t,y,w,v,l,u,d,o),Gv(...f),u}}const Zs=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let act=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=OB(e),Ka(e,32);const n=Zs(e,0),r=Zs(e,2),i=Zs(e,4),s=Zs(e,6),o=Zs(e,8),a=Zs(e,10),c=Zs(e,12),l=Zs(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Zs(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],g=o[7],m=o[8],y=o[9],w=Zs(e,n+0),b=Zs(e,n+2),v=Zs(e,n+4),E=Zs(e,n+6),_=Zs(e,n+8),O=Zs(e,n+10),S=Zs(e,n+12),R=Zs(e,n+14);let I=s[0]+(w&8191),D=s[1]+((w>>>13|b<<3)&8191),j=s[2]+((b>>>10|v<<6)&8191),F=s[3]+((v>>>7|E<<9)&8191),M=s[4]+((E>>>4|_<<12)&8191),C=s[5]+(_>>>1&8191),x=s[6]+((_>>>14|O<<2)&8191),A=s[7]+((O>>>11|S<<5)&8191),P=s[8]+((S>>>8|R<<8)&8191),N=s[9]+(R>>>5|i),$=0,L=$+I*a+D*(5*y)+j*(5*m)+F*(5*g)+M*(5*f);$=L>>>13,L&=8191,L+=C*(5*h)+x*(5*d)+A*(5*u)+P*(5*l)+N*(5*c),$+=L>>>13,L&=8191;let B=$+I*c+D*a+j*(5*y)+F*(5*m)+M*(5*g);$=B>>>13,B&=8191,B+=C*(5*f)+x*(5*h)+A*(5*d)+P*(5*u)+N*(5*l),$+=B>>>13,B&=8191;let T=$+I*l+D*c+j*a+F*(5*y)+M*(5*m);$=T>>>13,T&=8191,T+=C*(5*g)+x*(5*f)+A*(5*h)+P*(5*d)+N*(5*u),$+=T>>>13,T&=8191;let z=$+I*u+D*l+j*c+F*a+M*(5*y);$=z>>>13,z&=8191,z+=C*(5*m)+x*(5*g)+A*(5*f)+P*(5*h)+N*(5*d),$+=z>>>13,z&=8191;let q=$+I*d+D*u+j*l+F*c+M*a;$=q>>>13,q&=8191,q+=C*(5*y)+x*(5*m)+A*(5*g)+P*(5*f)+N*(5*h),$+=q>>>13,q&=8191;let U=$+I*h+D*d+j*u+F*l+M*c;$=U>>>13,U&=8191,U+=C*a+x*(5*y)+A*(5*m)+P*(5*g)+N*(5*f),$+=U>>>13,U&=8191;let V=$+I*f+D*h+j*d+F*u+M*l;$=V>>>13,V&=8191,V+=C*c+x*a+A*(5*y)+P*(5*m)+N*(5*g),$+=V>>>13,V&=8191;let Z=$+I*g+D*f+j*h+F*d+M*u;$=Z>>>13,Z&=8191,Z+=C*l+x*c+A*a+P*(5*y)+N*(5*m),$+=Z>>>13,Z&=8191;let K=$+I*m+D*g+j*f+F*h+M*d;$=K>>>13,K&=8191,K+=C*u+x*l+A*c+P*a+N*(5*y),$+=K>>>13,K&=8191;let J=$+I*y+D*m+j*g+F*f+M*h;$=J>>>13,J&=8191,J+=C*d+x*u+A*l+P*c+N*a,$+=J>>>13,J&=8191,$=($<<2)+$|0,$=$+L|0,L=$&8191,$=$>>>13,B+=$,s[0]=L,s[1]=B,s[2]=T,s[3]=z,s[4]=q,s[5]=U,s[6]=V,s[7]=Z,s[8]=K,s[9]=J}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Gv(r)}update(e){vfe(this),e=OB(e),Ka(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Gv(this.h,this.r,this.buffer,this.pad)}digestInto(e){vfe(this),Hat(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function cct(t){const e=(r,i)=>t(i).update(OB(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const lct=cct(t=>new act(t));function uct(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],g=e[4],m=e[5],y=e[6],w=e[7],b=i,v=n[0],E=n[1],_=n[2],O=o,S=a,R=c,I=l,D=u,j=d,F=h,M=f,C=g,x=m,A=y,P=w,N=b,$=v,L=E,B=_;for(let z=0;z<s;z+=2)O=O+D|0,N=Bn(N^O,16),C=C+N|0,D=Bn(D^C,12),O=O+D|0,N=Bn(N^O,8),C=C+N|0,D=Bn(D^C,7),S=S+j|0,$=Bn($^S,16),x=x+$|0,j=Bn(j^x,12),S=S+j|0,$=Bn($^S,8),x=x+$|0,j=Bn(j^x,7),R=R+F|0,L=Bn(L^R,16),A=A+L|0,F=Bn(F^A,12),R=R+F|0,L=Bn(L^R,8),A=A+L|0,F=Bn(F^A,7),I=I+M|0,B=Bn(B^I,16),P=P+B|0,M=Bn(M^P,12),I=I+M|0,B=Bn(B^I,8),P=P+B|0,M=Bn(M^P,7),O=O+j|0,B=Bn(B^O,16),A=A+B|0,j=Bn(j^A,12),O=O+j|0,B=Bn(B^O,8),A=A+B|0,j=Bn(j^A,7),S=S+F|0,N=Bn(N^S,16),P=P+N|0,F=Bn(F^P,12),S=S+F|0,N=Bn(N^S,8),P=P+N|0,F=Bn(F^P,7),R=R+M|0,$=Bn($^R,16),C=C+$|0,M=Bn(M^C,12),R=R+M|0,$=Bn($^R,8),C=C+$|0,M=Bn(M^C,7),I=I+D|0,L=Bn(L^I,16),x=x+L|0,D=Bn(D^x,12),I=I+D|0,L=Bn(L^I,8),x=x+L|0,D=Bn(D^x,7);let T=0;r[T++]=o+O|0,r[T++]=a+S|0,r[T++]=c+R|0,r[T++]=l+I|0,r[T++]=u+D|0,r[T++]=d+j|0,r[T++]=h+F|0,r[T++]=f+M|0,r[T++]=g+C|0,r[T++]=m+x|0,r[T++]=y+A|0,r[T++]=w+P|0,r[T++]=b+N|0,r[T++]=v+$|0,r[T++]=E+L|0,r[T++]=_+B|0}const dct=oct(uct,{counterRight:!1,counterLength:4,allowShortKeys:!1}),hct=new Uint8Array(16),Afe=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(hct.subarray(n))},fct=new Uint8Array(32);function Sfe(t,e,n,r,i){const s=t(e,n,fct),o=lct.create(s);i&&Afe(o,i),Afe(o,r);const a=Qat(r.length,i?i.length:0,!0);o.update(a);const c=o.digest();return Gv(s,a),c}const pct=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=bfe(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=Sfe(t,e,n,a,r);return s.set(c,o),Gv(c),s},decrypt(i,s){s=bfe(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=Sfe(t,e,n,o,r);if(!Yat(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Gv(c),s}}),Ife=Jat({blockSize:64,nonceLength:12,tagLength:16},pct(dct));let kfe=class extends nS{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,CB(e);const r=td(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Vl(s)}update(e){return Y0(this),this.iHash.update(e),this}digestInto(e){Y0(this),Hl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const aS=(t,e,n)=>new kfe(t,e).update(n).digest();aS.create=(t,e)=>new kfe(t,e);function gct(t,e,n){return CB(t),n===void 0&&(n=new Uint8Array(t.outputLen)),aS(t,td(n),td(e))}const jB=Uint8Array.from([0]),$fe=Uint8Array.of();function mct(t,e,n,r=32){CB(t),zf(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=$fe);const o=new Uint8Array(s*i),a=aS.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)jB[0]=u+1,c.update(u===0?$fe:l).update(n).update(jB).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),Vl(l,jB),o.slice(0,r)}const yct=(t,e,n,r,i)=>mct(t,gct(t,e,n),r,i),cS=rS,DB=BigInt(0),LB=BigInt(1);function lS(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function uS(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Tfe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?DB:BigInt("0x"+t)}function dS(t){return Tfe(X4(t))}function hS(t){return Hl(t),Tfe(X4(Uint8Array.from(t).reverse()))}function BB(t,e){return SB(t.toString(16).padStart(e*2,"0"))}function UB(t,e){return BB(t,e).reverse()}function Ga(t,e,n){let r;if(typeof e=="string")try{r=SB(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(EB(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const FB=t=>typeof t=="bigint"&&DB<=t;function wct(t,e,n){return FB(t)&&FB(e)&&FB(n)&&e<=t&&t<n}function zB(t,e,n,r){if(!wct(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function vct(t){let e;for(e=0;t>DB;t>>=LB,e+=1);return e}const fS=t=>(LB<<BigInt(t))-LB;function bct(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let s=r(t),o=r(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...h)=>n(o,s,...h),u=(h=r(0))=>{o=l(i(0),h),s=l(),h.length!==0&&(o=l(i(1),h),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){s=l();const g=s.slice();f.push(g),h+=s.length}return v1(...f)};return(h,f)=>{c(),u(h);let g;for(;!(g=f(d()));)u();return c(),g}}function pS(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function Pfe(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Za=BigInt(0),ha=BigInt(1),x1=BigInt(2),xct=BigInt(3),Nfe=BigInt(4),Ofe=BigInt(5),Rfe=BigInt(8);function Kl(t,e){const n=t%e;return n>=Za?n:e+n}function nd(t,e,n){let r=t;for(;e-- >Za;)r*=r,r%=n;return r}function Mfe(t,e){if(t===Za)throw new Error("invert: expected non-zero number");if(e<=Za)throw new Error("invert: expected positive modulus, got "+e);let n=Kl(t,e),r=e,i=Za,s=ha;for(;n!==Za;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==ha)throw new Error("invert: does not exist");return Kl(i,e)}function jfe(t,e){const n=(t.ORDER+ha)/Nfe,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Ect(t,e){const n=(t.ORDER-Ofe)/Rfe,r=t.mul(e,x1),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,x1),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Cct(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ha,n=0;for(;e%x1===Za;)e/=x1,n++;let r=x1;const i=Zv(t);for(;Lfe(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return jfe;let s=i.pow(r,e);const o=(e+ha)/x1;return function(a,c){if(a.is0(c))return c;if(Lfe(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,s),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,g=a.sqr(d);for(;!a.eql(g,a.ONE);)if(f++,g=a.sqr(g),f===l)throw new Error("Cannot find square root");const m=ha<<BigInt(l-f-1),y=a.pow(u,m);l=f,u=a.sqr(y),d=a.mul(d,u),h=a.mul(h,y)}return h}}function _ct(t){return t%Nfe===xct?jfe:t%Rfe===Ofe?Ect:Cct(t)}const Act=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Sct(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Act.reduce((r,i)=>(r[i]="function",r),e);return pS(t,n),t}function Ict(t,e,n){if(n<Za)throw new Error("invalid exponent, negatives unsupported");if(n===Za)return t.ONE;if(n===ha)return e;let r=t.ONE,i=e;for(;n>Za;)n&ha&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ha;return r}function Dfe(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function Lfe(t,e){const n=(t.ORDER-ha)/x1,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function kct(t,e){e!==void 0&&zf(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Zv(t,e,n=!1,r={}){if(t<=Za)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:o,nByteLength:a}=kct(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:fS(o),ZERO:Za,ONE:ha,create:u=>Kl(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Za<=u&&u<t},is0:u=>u===Za,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&ha)===ha,neg:u=>Kl(-u,t),eql:(u,d)=>u===d,sqr:u=>Kl(u*u,t),add:(u,d)=>Kl(u+d,t),sub:(u,d)=>Kl(u-d,t),mul:(u,d)=>Kl(u*d,t),pow:(u,d)=>Ict(l,u,d),div:(u,d)=>Kl(u*Mfe(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>Mfe(u,t),sqrt:s||(u=>(c||(c=_ct(t)),c(l,u))),toBytes:u=>n?UB(u,a):BB(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?hS(u):dS(u)},invertBatch:u=>Dfe(l,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(l)}function Bfe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Ufe(t){const e=Bfe(t);return e+Math.ceil(e/2)}function $ct(t,e,n=!1){const r=t.length,i=Bfe(e),s=Ufe(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?hS(t):dS(t),a=Kl(o,e-ha)+ha;return n?UB(a,i):BB(a,i)}const Yv=BigInt(0),E1=BigInt(1);function r8(t,e){const n=e.negate();return t?n:e}function Tct(t,e,n){const r=s=>s.pz,i=Dfe(t.Fp,n.map(r));return n.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function Ffe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function WB(t,e){Ffe(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=fS(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function zfe(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=E1);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function Pct(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Nct(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const qB=new WeakMap,Wfe=new WeakMap;function HB(t){return Wfe.get(t)||1}function qfe(t){if(t!==Yv)throw new Error("invalid wNAF")}function Oct(t,e){return{constTimeNegate:r8,hasPrecomputes(n){return HB(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>Yv;)r&E1&&(i=i.add(s)),s=s.double(),r>>=E1;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=WB(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=WB(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:g}=zfe(i,c,a);i=l,d?o=o.add(r8(f,r[g])):s=s.add(r8(h,r[u]))}return qfe(i),{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=WB(n,e);for(let a=0;a<o.windows&&i!==Yv;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=zfe(i,a,o);if(i=c,!u){const h=r[l];s=s.add(d?h.negate():h)}}return qfe(i),s},getPrecomputes(n,r,i){let s=qB.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(s=i(s)),qB.set(r,s))),s},wNAFCached(n,r,i){const s=HB(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=HB(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Ffe(r,e),Wfe.set(n,r),qB.delete(n)}}}function Rct(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>Yv||r>Yv;)n&E1&&(s=s.add(i)),r&E1&&(o=o.add(i)),i=i.double(),n>>=E1,r>>=E1;return{p1:s,p2:o}}function Mct(t,e,n,r){Pct(n,t),Nct(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=vct(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=fS(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const y=r[m],w=Number(y>>BigInt(f)&l);u[w]=u[w].add(n[m])}let g=o;for(let m=u.length-1,y=o;m>0;m--)y=y.add(u[m]),g=g.add(y);if(h=h.add(g),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function Hfe(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Sct(e),e}else return Zv(t)}function jct(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>Yv))throw new Error(`CURVE.${o} must be positive bigint`)}const r=Hfe(e.p,n.Fp),i=Hfe(e.n,n.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const i8=BigInt(0),Jv=BigInt(1),gS=BigInt(2);function Dct(t){return pS(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Lct(t){const e=Dct(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||Kv,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?gS**BigInt(254):gS**BigInt(447),g=a?BigInt(8)*gS**BigInt(251)-Jv:BigInt(4)*gS**BigInt(445)-Jv,m=f+g+Jv,y=I=>Kl(I,n),w=b(d);function b(I){return UB(y(I),u)}function v(I){const D=Ga("u coordinate",I,u);return a&&(D[31]&=127),y(hS(D))}function E(I){return hS(i(Ga("scalar",I,u)))}function _(I,D){const j=R(v(D),E(I));if(j===i8)throw new Error("invalid private or public key received");return b(j)}function O(I){return _(I,w)}function S(I,D,j){const F=y(I*(D-j));return D=y(D-F),j=y(j+F),{x_2:D,x_3:j}}function R(I,D){zB("u",I,i8,n),zB("scalar",D,f,m);const j=D,F=I;let M=Jv,C=i8,x=I,A=Jv,P=i8;for(let $=BigInt(l-1);$>=i8;$--){const L=j>>$&Jv;P^=L,{x_2:M,x_3:x}=S(P,M,x),{x_2:C,x_3:A}=S(P,C,A),P=L;const B=M+C,T=y(B*B),z=M-C,q=y(z*z),U=T-q,V=x+A,Z=x-A,K=y(Z*B),J=y(V*z),oe=K+J,se=K-J;x=y(oe*oe),A=y(F*y(se*se)),M=y(T*q),C=y(U*(T+y(h*U)))}({x_2:M,x_3:x}=S(P,M,x)),{x_2:C,x_3:A}=S(P,C,A);const N=s(C);return y(M*N)}return{scalarMult:_,scalarMultBase:O,getSharedSecret:(I,D)=>_(I,D),getPublicKey:I=>O(I),utils:{randomPrivateKey:()=>c(u)},GuBytes:w.slice()}}BigInt(0);const Bct=BigInt(1),Vfe=BigInt(2),Uct=BigInt(3),Fct=BigInt(5);BigInt(8);const Kfe={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function zct(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Kfe.p,o=t*t%s*t%s,a=nd(o,Vfe,s)*o%s,c=nd(a,Bct,s)*t%s,l=nd(c,Fct,s)*c%s,u=nd(l,e,s)*l%s,d=nd(u,n,s)*u%s,h=nd(d,r,s)*d%s,f=nd(h,i,s)*h%s,g=nd(f,i,s)*h%s,m=nd(g,e,s)*l%s;return{pow_p_5_8:nd(m,Vfe,s)*t%s,b2:o}}function Wct(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const VB=(()=>{const t=Kfe.p;return Lct({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=zct(e);return Kl(nd(n,Uct,t)*r,t)},adjustScalarBytes:Wct})})();function Gfe(t){t.lowS!==void 0&&lS("lowS",t.lowS),t.prehash!==void 0&&lS("prehash",t.prehash)}const Hf={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:n}=Hf;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=uS(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?uS(i.length/2|128):"";return uS(t)+s+i+e},decode(t,e){const{Err:n}=Hf;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Hf;if(t<s8)throw new e("integer: negative integers are not allowed");let n=uS(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Hf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return dS(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Hf,i=Ga("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Hf,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},s8=BigInt(0),o8=BigInt(1),qct=BigInt(2),mS=BigInt(3),Hct=BigInt(4);function Vct(t,e,n){function r(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),n)}return r}function Zfe(t,e,n){const{BYTES:r}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=Ga("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof s}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function Kct(t,e={}){const{Fp:n,Fn:r}=jct("weierstrass",t,e),{h:i,n:s}=t;pS(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(R,I,D){const{x:j,y:F}=I.toAffine(),M=n.toBytes(j);if(lS("isCompressed",D),D){a();const C=!n.isOdd(F);return v1(Yfe(C),M)}else return v1(Uint8Array.of(4),M,n.toBytes(F))}function l(R){Hl(R);const I=n.BYTES,D=I+1,j=2*I+1,F=R.length,M=R[0],C=R.subarray(1);if(F===D&&(M===2||M===3)){const x=n.fromBytes(C);if(!n.isValid(x))throw new Error("bad point: is not on curve, wrong x");const A=h(x);let P;try{P=n.sqrt(A)}catch($){const L=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+L)}a();const N=n.isOdd(P);return(M&1)===1!==N&&(P=n.neg(P)),{x,y:P}}else if(F===j&&M===4){const x=n.fromBytes(C.subarray(I*0,I*1)),A=n.fromBytes(C.subarray(I*1,I*2));if(!f(x,A))throw new Error("bad point: is not on curve");return{x,y:A}}else throw new Error(`bad point: got length ${F}, expected compressed=${D} or uncompressed=${j}`)}const u=e.toBytes||c,d=e.fromBytes||l,h=Vct(n,t.a,t.b);function f(R,I){const D=n.sqr(I),j=h(R);return n.eql(D,j)}if(!f(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const g=n.mul(n.pow(t.a,mS),Hct),m=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(g,m)))throw new Error("bad curve params: a or b");function y(R,I,D=!1){if(!n.isValid(I)||D&&n.is0(I))throw new Error(`bad point coordinate ${R}`);return I}function w(R){if(!(R instanceof _))throw new Error("ProjectivePoint expected")}const b=Pfe((R,I)=>{const{px:D,py:j,pz:F}=R;if(n.eql(F,n.ONE))return{x:D,y:j};const M=R.is0();I==null&&(I=M?n.ONE:n.inv(F));const C=n.mul(D,I),x=n.mul(j,I),A=n.mul(F,I);if(M)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:C,y:x}}),v=Pfe(R=>{if(R.is0()){if(e.allowInfinityPoint&&!n.is0(R.py))return;throw new Error("bad point: ZERO")}const{x:I,y:D}=R.toAffine();if(!n.isValid(I)||!n.isValid(D))throw new Error("bad point: x or y not field elements");if(!f(I,D))throw new Error("bad point: equation left != right");if(!R.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(R,I,D,j,F){return D=new _(n.mul(D.px,R),D.py,D.pz),I=r8(j,I),D=r8(F,D),I.add(D)}class _{constructor(I,D,j){this.px=y("x",I),this.py=y("y",D,!0),this.pz=y("z",j),Object.freeze(this)}static fromAffine(I){const{x:D,y:j}=I||{};if(!I||!n.isValid(D)||!n.isValid(j))throw new Error("invalid affine point");if(I instanceof _)throw new Error("projective point not allowed");return n.is0(D)&&n.is0(j)?_.ZERO:new _(D,j,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){return Tct(_,"pz",I)}static fromBytes(I){return Hl(I),_.fromHex(I)}static fromHex(I){const D=_.fromAffine(d(Ga("pointHex",I)));return D.assertValidity(),D}static fromPrivateKey(I){const D=Zfe(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return _.BASE.multiply(D(I))}static msm(I,D){return Mct(_,r,I,D)}precompute(I=8,D=!0){return S.setWindowSize(this,I),D||this.multiply(mS),this}_setWindowSize(I){this.precompute(I)}assertValidity(){v(this)}hasEvenY(){const{y:I}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(I)}equals(I){w(I);const{px:D,py:j,pz:F}=this,{px:M,py:C,pz:x}=I,A=n.eql(n.mul(D,x),n.mul(M,F)),P=n.eql(n.mul(j,x),n.mul(C,F));return A&&P}negate(){return new _(this.px,n.neg(this.py),this.pz)}double(){const{a:I,b:D}=t,j=n.mul(D,mS),{px:F,py:M,pz:C}=this;let x=n.ZERO,A=n.ZERO,P=n.ZERO,N=n.mul(F,F),$=n.mul(M,M),L=n.mul(C,C),B=n.mul(F,M);return B=n.add(B,B),P=n.mul(F,C),P=n.add(P,P),x=n.mul(I,P),A=n.mul(j,L),A=n.add(x,A),x=n.sub($,A),A=n.add($,A),A=n.mul(x,A),x=n.mul(B,x),P=n.mul(j,P),L=n.mul(I,L),B=n.sub(N,L),B=n.mul(I,B),B=n.add(B,P),P=n.add(N,N),N=n.add(P,N),N=n.add(N,L),N=n.mul(N,B),A=n.add(A,N),L=n.mul(M,C),L=n.add(L,L),N=n.mul(L,B),x=n.sub(x,N),P=n.mul(L,$),P=n.add(P,P),P=n.add(P,P),new _(x,A,P)}add(I){w(I);const{px:D,py:j,pz:F}=this,{px:M,py:C,pz:x}=I;let A=n.ZERO,P=n.ZERO,N=n.ZERO;const $=t.a,L=n.mul(t.b,mS);let B=n.mul(D,M),T=n.mul(j,C),z=n.mul(F,x),q=n.add(D,j),U=n.add(M,C);q=n.mul(q,U),U=n.add(B,T),q=n.sub(q,U),U=n.add(D,F);let V=n.add(M,x);return U=n.mul(U,V),V=n.add(B,z),U=n.sub(U,V),V=n.add(j,F),A=n.add(C,x),V=n.mul(V,A),A=n.add(T,z),V=n.sub(V,A),N=n.mul($,U),A=n.mul(L,z),N=n.add(A,N),A=n.sub(T,N),N=n.add(T,N),P=n.mul(A,N),T=n.add(B,B),T=n.add(T,B),z=n.mul($,z),U=n.mul(L,U),T=n.add(T,z),z=n.sub(B,z),z=n.mul($,z),U=n.add(U,z),B=n.mul(T,U),P=n.add(P,B),B=n.mul(V,U),A=n.mul(q,A),A=n.sub(A,B),B=n.mul(q,T),N=n.mul(V,N),N=n.add(N,B),new _(A,P,N)}subtract(I){return this.add(I.negate())}is0(){return this.equals(_.ZERO)}multiply(I){const{endo:D}=e;if(!r.isValidNot0(I))throw new Error("invalid scalar: out of range");let j,F;const M=C=>S.wNAFCached(this,C,_.normalizeZ);if(D){const{k1neg:C,k1:x,k2neg:A,k2:P}=D.splitScalar(I),{p:N,f:$}=M(x),{p:L,f:B}=M(P);F=$.add(B),j=E(D.beta,N,L,C,A)}else{const{p:C,f:x}=M(I);j=C,F=x}return _.normalizeZ([j,F])[0]}multiplyUnsafe(I){const{endo:D}=e,j=this;if(!r.isValid(I))throw new Error("invalid scalar: out of range");if(I===s8||j.is0())return _.ZERO;if(I===o8)return j;if(S.hasPrecomputes(this))return this.multiply(I);if(D){const{k1neg:F,k1:M,k2neg:C,k2:x}=D.splitScalar(I),{p1:A,p2:P}=Rct(_,j,M,x);return E(D.beta,A,P,F,C)}else return S.wNAFCachedUnsafe(j,I)}multiplyAndAddUnsafe(I,D,j){const F=this.multiplyUnsafe(D).add(I.multiplyUnsafe(j));return F.is0()?void 0:F}toAffine(I){return b(this,I)}isTorsionFree(){const{isTorsionFree:I}=e;return i===o8?!0:I?I(_,this):S.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:I}=e;return i===o8?this:I?I(_,this):this.multiplyUnsafe(i)}toBytes(I=!0){return lS("isCompressed",I),this.assertValidity(),u(_,this,I)}toRawBytes(I=!0){return this.toBytes(I)}toHex(I=!0){return X4(this.toBytes(I))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}_.BASE=new _(t.Gx,t.Gy,n.ONE),_.ZERO=new _(n.ZERO,n.ONE,n.ZERO),_.Fp=n,_.Fn=r;const O=r.BITS,S=Oct(_,e.endo?Math.ceil(O/2):O);return _}function Yfe(t){return Uint8Array.of(t?2:3)}function Gct(t,e,n={}){pS(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||Kv,i=e.hmac||((j,...F)=>aS(e.hash,j,v1(...F))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(j){const F=a>>o8;return j>F}function u(j){return l(j)?o.neg(j):j}function d(j,F){if(!o.isValidNot0(F))throw new Error(`invalid signature ${j}: out of range 1..CURVE.n`)}class h{constructor(F,M,C){d("r",F),d("s",M),this.r=F,this.s=M,C!=null&&(this.recovery=C),Object.freeze(this)}static fromCompact(F){const M=o.BYTES,C=Ga("compactSignature",F,M*2);return new h(o.fromBytes(C.subarray(0,M)),o.fromBytes(C.subarray(M,M*2)))}static fromDER(F){const{r:M,s:C}=Hf.toSig(Ga("DER",F));return new h(M,C)}assertValidity(){}addRecoveryBit(F){return new h(this.r,this.s,F)}recoverPublicKey(F){const M=s.ORDER,{r:C,s:x,recovery:A}=this;if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");if(a*qct<M&&A>1)throw new Error("recovery id is ambiguous for h>1 curve");const P=A===2||A===3?C+a:C;if(!s.isValid(P))throw new Error("recovery id 2 or 3 invalid");const N=s.toBytes(P),$=t.fromHex(v1(Yfe((A&1)===0),N)),L=o.inv(P),B=v(Ga("msgHash",F)),T=o.create(-B*L),z=o.create(x*L),q=t.BASE.multiplyUnsafe(T).add($.multiplyUnsafe(z));if(q.is0())throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(F){if(F==="compact")return v1(o.toBytes(this.r),o.toBytes(this.s));if(F==="der")return SB(Hf.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return X4(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return X4(this.toBytes("compact"))}}const f=Zfe(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),g={isValidPrivateKey(j){try{return f(j),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const j=a;return $ct(r(Ufe(j)),j)},precompute(j=8,F=t.BASE){return F.precompute(j,!1)}};function m(j,F=!0){return t.fromPrivateKey(j).toBytes(F)}function y(j){if(typeof j=="bigint")return!1;if(j instanceof t)return!0;const F=Ga("key",j).length,M=s.BYTES,C=M+1,x=2*M+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===C))return F===C||F===x}function w(j,F,M=!0){if(y(j)===!0)throw new Error("first arg must be private key");if(y(F)===!1)throw new Error("second arg must be public key");return t.fromHex(F).multiply(f(j)).toBytes(M)}const b=e.bits2int||function(j){if(j.length>8192)throw new Error("input is too large");const F=dS(j),M=j.length*8-c;return M>0?F>>BigInt(M):F},v=e.bits2int_modN||function(j){return o.create(b(j))},E=fS(c);function _(j){return zB("num < 2^"+c,j,s8,E),o.toBytes(j)}function O(j,F,M=S){if(["recovered","canonical"].some(q=>q in M))throw new Error("sign() legacy options not supported");const{hash:C}=e;let{lowS:x,prehash:A,extraEntropy:P}=M;x==null&&(x=!0),j=Ga("msgHash",j),Gfe(M),A&&(j=Ga("prehashed msgHash",C(j)));const N=v(j),$=f(F),L=[_($),_(N)];if(P!=null&&P!==!1){const q=P===!0?r(s.BYTES):P;L.push(Ga("extraEntropy",q))}const B=v1(...L),T=N;function z(q){const U=b(q);if(!o.isValidNot0(U))return;const V=o.inv(U),Z=t.BASE.multiply(U).toAffine(),K=o.create(Z.x);if(K===s8)return;const J=o.create(V*o.create(T+K*$));if(J===s8)return;let oe=(Z.x===K?0:2)|Number(Z.y&o8),se=J;return x&&l(J)&&(se=u(J),oe^=1),new h(K,se,oe)}return{seed:B,k2sig:z}}const S={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function I(j,F,M=S){const{seed:C,k2sig:x}=O(j,F,M);return bct(e.hash.outputLen,o.BYTES,i)(C,x)}t.BASE.precompute(8);function D(j,F,M,C=R){const x=j;F=Ga("msgHash",F),M=Ga("publicKey",M),Gfe(C);const{lowS:A,prehash:P,format:N}=C;if("strict"in C)throw new Error("options.strict was renamed to lowS");if(N!==void 0&&!["compact","der","js"].includes(N))throw new Error('format must be "compact", "der" or "js"');const $=typeof x=="string"||EB(x),L=!$&&!N&&typeof x=="object"&&x!==null&&typeof x.r=="bigint"&&typeof x.s=="bigint";if(!$&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let B,T;try{if(L)if(N===void 0||N==="js")B=new h(x.r,x.s);else throw new Error("invalid format");if($){try{N!=="compact"&&(B=h.fromDER(x))}catch(oe){if(!(oe instanceof Hf.Err))throw oe}!B&&N!=="der"&&(B=h.fromCompact(x))}T=t.fromHex(M)}catch{return!1}if(!B||A&&B.hasHighS())return!1;P&&(F=e.hash(F));const{r:z,s:q}=B,U=v(F),V=o.inv(q),Z=o.create(U*V),K=o.create(z*V),J=t.BASE.multiplyUnsafe(Z).add(T.multiplyUnsafe(K));return J.is0()?!1:o.create(J.x)===z}return Object.freeze({getPublicKey:m,getSharedSecret:w,sign:I,verify:D,utils:g,Point:t,Signature:h})}function Zct(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Zv(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function Yct(t){const{CURVE:e,curveOpts:n}=Zct(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function Jct(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Qct(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=Yct(t),i=Kct(e,n),s=Gct(i,r,n);return Jct(t,s)}function KB(t,e){const n=r=>Qct({...t,hash:r});return{...n(e),create:n}}const Jfe={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Qfe={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Xfe={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Xct=Zv(Jfe.p),elt=Zv(Qfe.p),tlt=Zv(Xfe.p),nlt=KB({...Jfe,Fp:Xct,lowS:!1},rS);KB({...Qfe,Fp:elt,lowS:!1},dat),KB({...Xfe,Fp:tlt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},uat);const rlt=nlt,epe="base10",fa="base16",Ya="base64pad",sg="base64url",a8="utf8",tpe=0,Vf=1,c8=2,ilt=0,npe=1,l8=12,GB=32;function slt(){const t=VB.utils.randomPrivateKey(),e=VB.getPublicKey(t);return{privateKey:Va(t,fa),publicKey:Va(e,fa)}}function ZB(){const t=Kv(GB);return Va(t,fa)}function olt(t,e){const n=VB.getSharedSecret(ql(t,fa),ql(e,fa)),r=yct(cS,n,void 0,void 0,GB);return Va(r,fa)}function yS(t){const e=cS(ql(t,fa));return Va(e,fa)}function Gl(t){const e=cS(ql(t,a8));return Va(e,fa)}function rpe(t){return ql(`${t}`,epe)}function C1(t){return Number(Va(t,epe))}function ipe(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function spe(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function alt(t){const e=rpe(typeof t.type<"u"?t.type:tpe);if(C1(e)===Vf&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?ql(t.senderPublicKey,fa):void 0,r=typeof t.iv<"u"?ql(t.iv,fa):Kv(l8),i=ql(t.symKey,fa),s=Ife(i,r).encrypt(ql(t.message,a8)),o=ope({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===sg?ipe(o):o}function clt(t){const e=ql(t.symKey,fa),{sealed:n,iv:r}=u8({encoded:t.encoded,encoding:t.encoding}),i=Ife(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Va(i,a8)}function llt(t,e){const n=rpe(c8),r=Kv(l8),i=ql(t,a8),s=ope({type:n,sealed:i,iv:r});return e===sg?ipe(s):s}function ult(t,e){const{sealed:n}=u8({encoded:t,encoding:e});return Va(n,a8)}function ope(t){if(C1(t.type)===c8)return Va(q4([t.type,t.sealed]),Ya);if(C1(t.type)===Vf){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Va(q4([t.type,t.senderPublicKey,t.iv,t.sealed]),Ya)}return Va(q4([t.type,t.iv,t.sealed]),Ya)}function u8(t){const e=(t.encoding||Ya)===sg?spe(t.encoded):t.encoded,n=ql(e,Ya),r=n.slice(ilt,npe),i=npe;if(C1(r)===Vf){const c=i+GB,l=c+l8,u=n.slice(i,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(C1(r)===c8){const c=n.slice(i),l=Kv(l8);return{type:r,sealed:c,iv:l}}const s=i+l8,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function dlt(t,e){const n=u8({encoded:t,encoding:e==null?void 0:e.encoding});return ape({type:C1(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Va(n.senderPublicKey,fa):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function ape(t){const e=(t==null?void 0:t.type)||tpe;if(e===Vf){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function cpe(t){return t.type===Vf&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function lpe(t){return t.type===c8}function hlt(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return q4([new Uint8Array([4]),e,n])}function flt(t,e){const[n,r,i]=t.split("."),s=Buffer.from(spe(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=cS(c),u=hlt(e);if(!rlt.verify(q4([o,a]),l,u))throw new Error("Invalid signature");return qv(t).payload}const plt="irn";function wS(t){return(t==null?void 0:t.relay)||{protocol:plt}}function Qv(t){const e=yhe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function glt(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function upe(t){if(!t.includes("wc:")){const l=qhe(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:mlt(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:glt(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function mlt(t){return t.startsWith("//")?t.substring(2):t}function ylt(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function dpe(t){const e=new URLSearchParams,n=ylt(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function vS(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var wlt=Object.defineProperty,vlt=Object.defineProperties,blt=Object.getOwnPropertyDescriptors,hpe=Object.getOwnPropertySymbols,xlt=Object.prototype.hasOwnProperty,Elt=Object.prototype.propertyIsEnumerable,fpe=(t,e,n)=>e in t?wlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Clt=(t,e)=>{for(var n in e||(e={}))xlt.call(e,n)&&fpe(t,n,e[n]);if(hpe)for(var n of hpe(e))Elt.call(e,n)&&fpe(t,n,e[n]);return t},_lt=(t,e)=>vlt(t,blt(e));function Xv(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function Alt(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Xv(n.accounts))}),e}function Slt(t,e){const n=[];return Object.values(t).forEach(r=>{Xv(r.accounts).includes(e)&&n.push(...r.methods)}),n}function Ilt(t,e){const n=[];return Object.values(t).forEach(r=>{Xv(r.accounts).includes(e)&&n.push(...r.events)}),n}function bS(t){return t.includes(":")}function eb(t){return bS(t)?t.split(":")[0]:t}function ppe(t){var e,n,r;const i={};if(!mh(t))return i;for(const[s,o]of Object.entries(t)){const a=bS(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=eb(s);i[u]=_lt(Clt({},i[u]),{chains:ph(a,(e=i[u])==null?void 0:e.chains),methods:ph(c,(n=i[u])==null?void 0:n.methods),events:ph(l,(r=i[u])==null?void 0:r.events)})}return i}function klt(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function gpe(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=klt(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=ph(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function $lt(t,e){var n,r,i,s,o,a;const c=ppe(t),l=ppe(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:ph((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:ph((i=c[h])==null?void 0:i.methods,(s=l[h])==null?void 0:s.methods),events:ph((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const Tlt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Plt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function qe(t,e){const{message:n,code:r}=Plt[t];return{message:e?`${n} ${e}`:n,code:r}}function Wr(t,e){const{message:n,code:r}=Tlt[t];return{message:e?`${n} ${e}`:n,code:r}}function Zl(t,e){return!!Array.isArray(t)}function mh(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function as(t){return typeof t>"u"}function Hi(t,e){return e&&as(t)?!0:typeof t=="string"&&!!t.trim().length}function YB(t,e){return e&&as(t)?!0:typeof t=="number"&&!isNaN(t)}function Nlt(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return y1(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Xv(a),d=n[o];(!y1(Ohe(o,d),u)||!y1(d.methods,c)||!y1(d.events,l))&&(s=!1)}),s):!1}function xS(t){return Hi(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Olt(t){if(Hi(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&xS(n)}}return!1}function Rlt(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Hi(t,!1)){if(e(t))return!0;const n=qhe(t);return e(n)}}catch{}return!1}function Mlt(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function jlt(t){return t==null?void 0:t.topic}function Dlt(t,e){let n=null;return Hi(t==null?void 0:t.publicKey,!1)||(n=qe("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function mpe(t){let e=!0;return Zl(t)?t.length&&(e=t.every(n=>Hi(n,!1))):e=!1,e}function Llt(t,e,n){let r=null;return Zl(e)&&e.length?e.forEach(i=>{r||xS(i)||(r=Wr("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):xS(t)||(r=Wr("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Blt(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=Llt(i,Ohe(i,s),`${e} ${n}`);o&&(r=o)}),r}function Ult(t,e){let n=null;return Zl(t)?t.forEach(r=>{n||Olt(r)||(n=Wr("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Wr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Flt(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Ult(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function zlt(t,e){let n=null;return mpe(t==null?void 0:t.methods)?mpe(t==null?void 0:t.events)||(n=Wr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Wr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function ype(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=zlt(r,`${e}, namespace`);i&&(n=i)}),n}function Wlt(t,e,n){let r=null;if(t&&mh(t)){const i=ype(t,e);i&&(r=i);const s=Blt(t,e,n);s&&(r=s)}else r=qe("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function JB(t,e){let n=null;if(t&&mh(t)){const r=ype(t,e);r&&(n=r);const i=Flt(t,e);i&&(n=i)}else n=qe("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function wpe(t){return Hi(t.protocol,!0)}function qlt(t,e){let n=!1;return t?t&&Zl(t)&&t.length&&t.forEach(r=>{n=wpe(r)}):n=!0,n}function Hlt(t){return typeof t=="number"}function Ja(t){return typeof t<"u"&&typeof t!==null}function Vlt(t){return!(!t||typeof t!="object"||!t.code||!YB(t.code,!1)||!t.message||!Hi(t.message,!1))}function Klt(t){return!(as(t)||!Hi(t.method,!1))}function Glt(t){return!(as(t)||as(t.result)&&as(t.error)||!YB(t.id,!1)||!Hi(t.jsonrpc,!1))}function Zlt(t){return!(as(t)||!Hi(t.name,!1))}function vpe(t,e){return!(!xS(e)||!Alt(t).includes(e))}function Ylt(t,e,n){return Hi(n,!1)?Slt(t,e).includes(n):!1}function Jlt(t,e,n){return Hi(n,!1)?Ilt(t,e).includes(n):!1}function bpe(t,e,n){let r=null;const i=Qlt(t),s=Xlt(e),o=Object.keys(i),a=Object.keys(s),c=xpe(Object.keys(t)),l=xpe(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=qe("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),y1(o,a)||(r=qe("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=Xv(e[d].accounts);h.includes(d)||(r=qe("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(y1(i[d].methods,s[d].methods)?y1(i[d].events,s[d].events)||(r=qe("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=qe("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function Qlt(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function xpe(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Xlt(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Xv(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function eut(t,e){return YB(t,!1)&&t<=e.max&&t>=e.min}function Epe(){const t=Z4();return new Promise(e=>{switch(t){case Kc.browser:e(tut());break;case Kc.reactNative:e(nut());break;case Kc.node:e(rut());break;default:e(!0)}})}function tut(){return Hv()&&(navigator==null?void 0:navigator.onLine)}async function nut(){if(V0()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function rut(){return!0}function iut(t){switch(Z4()){case Kc.browser:sut(t);break;case Kc.reactNative:out(t);break}}function sut(t){!V0()&&Hv()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function out(t){V0()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function aut(){var t;return Hv()&&ua()?((t=ua())==null?void 0:t.visibilityState)==="visible":!0}const QB={};let d8=class{static get(e){return QB[e]}static set(e,n){QB[e]=n}static delete(e){delete QB[e]}};function cut(t){const e=p1.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function lut({publicKey:t,signature:e,payload:n}){var r;const i=XB(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=hut(n.address),a=n.era==="00"?new Uint8Array([0]):XB(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${dut(n.tip)}`),d=put(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...i]),f=fut(h.length+1);return new Uint8Array([...f,s,...h])}function uut(t){const e=XB(t),n=tot.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function XB(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function dut(t){return t.startsWith("0x")?t.slice(2):t}function hut(t){const e=p1.decode(t)[0];return e===42?0:e===60?2:1}function fut(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function put(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function gut(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=cut(t.transaction.address),r=lut({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return uut(i)}class Gc{}let mut=class extends Gc{constructor(e){super()}};const Cpe=le.FIVE_SECONDS,Zc={pulse:"heartbeat_pulse"};let _pe=class dEe extends mut{constructor(e){super(e),this.events=new qi.EventEmitter,this.interval=Cpe,this.interval=(e==null?void 0:e.interval)||Cpe}static async init(e){const n=new dEe(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),le.toMiliseconds(this.interval))}pulse(){this.events.emit(Zc.pulse)}};function yut(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function xs(t,...e){try{return yut(t(...e))}catch(n){return Promise.reject(n)}}function wut(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function vut(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function ES(t){if(wut(t))return String(t);if(vut(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return ES(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const eU="base64:";function but(t){return typeof t=="string"?t:eU+Cut(t)}function xut(t){return typeof t!="string"||!t.startsWith(eU)?t:Eut(t.slice(eU.length))}function Eut(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Cut(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Qa(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function _ut(...t){return Qa(t.join(":"))}function CS(t){return t=Qa(t),t?t+":":""}function Aut(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function Sut(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}function mVt(t){return t}const Iut="memory",kut=()=>{const t=new Map;return{name:Iut,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function $ut(t={}){const e={mounts:{"":t.driver||kut()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(l,u)=>{if(e.watching){u=Qa(u);for(const d of e.watchListeners)d(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await Ape(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=g=>{let m=h.get(g.base);return m||(m={driver:g.driver,base:g.base,items:[]},h.set(g.base,m)),m};for(const g of l){const m=typeof g=="string",y=Qa(m?g:g.key),w=m?void 0:g.value,b=m||!g.options?u:{...u,...g.options},v=n(y);f(v).items.push({key:y,value:w,relativeKey:v.relativeKey,options:b})}return Promise.all([...h.values()].map(g=>d(g))).then(g=>g.flat())},c={hasItem(l,u={}){l=Qa(l);const{relativeKey:d,driver:h}=n(l);return xs(h.hasItem,d,u)},getItem(l,u={}){l=Qa(l);const{relativeKey:d,driver:h}=n(l);return xs(h.getItem,d,u).then(f=>If(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?xs(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:_ut(d.base,f.key),value:If(f.value)}))):Promise.all(d.items.map(h=>xs(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:If(f)})))))},getItemRaw(l,u={}){l=Qa(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?xs(h.getItemRaw,d,u):xs(h.getItem,d,u).then(f=>xut(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=Qa(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await xs(f.setItem,h,ES(u),d),f.watch||i("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return xs(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:ES(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>xs(d.driver.setItem,h.relativeKey,ES(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=Qa(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await xs(f.setItemRaw,h,u,d);else if(f.setItem)await xs(f.setItem,h,but(u),d);else return;f.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Qa(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await xs(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await xs(h.removeItem,d+"$",u),h.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Qa(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await xs(h.getMeta,d,u)),!u.nativeOnly){const g=await xs(h.getItem,d+"$",u).then(m=>If(m));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(f,g))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var y;l=CS(l);const d=r(l,!0);let h=[];const f=[];let g=!0;for(const w of d){(y=w.driver.flags)!=null&&y.maxDepth||(g=!1);const b=await xs(w.driver.getKeys,w.relativeBase,u);for(const v of b){const E=w.mountpoint+Qa(v);h.some(_=>E.startsWith(_))||f.push(E)}h=[w.mountpoint,...h.filter(v=>!v.startsWith(w.mountpoint))]}const m=u.maxDepth!==void 0&&!g;return f.filter(w=>(!m||Aut(w,u.maxDepth))&&Sut(w,l))},async clear(l,u={}){l=CS(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return xs(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>Spe(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=CS(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(Ape(u,i,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=CS(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await Spe(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=Qa(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Qa(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function Ape(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function Spe(t){typeof t.dispose=="function"&&await xs(t.dispose)}function _1(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function _S(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=_1(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let tU;function h8(){return tU||(tU=_S("keyval-store","keyval")),tU}function f8(t,e=h8()){return e("readonly",n=>_1(n.get(t)))}function nU(t,e,n=h8()){return n("readwrite",r=>(r.put(e,t),_1(r.transaction)))}function rU(t,e=h8()){return e("readwrite",n=>(n.delete(t),_1(n.transaction)))}function Ipe(t=h8()){return t("readwrite",e=>(e.clear(),_1(e.transaction)))}function Tut(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},_1(t.transaction)}function kpe(t=h8()){return t("readonly",e=>{if(e.getAllKeys)return _1(e.getAllKeys());const n=[];return Tut(e,r=>n.push(r.key)).then(()=>n)})}const Put="idb-keyval";var Nut=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=_S(t.dbName,t.storeName)),{name:Put,options:t,async hasItem(i){return!(typeof await f8(n(i),r)>"u")},async getItem(i){return await f8(n(i),r)??null},setItem(i,s){return nU(n(i),s,r)},removeItem(i){return rU(n(i),r)},getKeys(){return kpe(r)},clear(){return Ipe(r)}}};const Out="WALLET_CONNECT_V2_INDEXED_DB",Rut="keyvaluestorage";let Mut=class{constructor(){this.indexedDb=$ut({driver:Nut({dbName:Out,storeName:Rut})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,qa(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var iU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},AS={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof iU<"u"&&iU.localStorage?AS.exports=iU.localStorage:typeof window<"u"&&window.localStorage?AS.exports=window.localStorage:AS.exports=new e})();function jut(t){var e;return[t[0],Qu((e=t[1])!=null?e:"")]}let Dut=class{constructor(){this.localStorage=AS.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(jut)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Qu(n)}async setItem(e,n){this.localStorage.setItem(e,qa(n))}async removeItem(e){this.localStorage.removeItem(e)}};const Lut="wc_storage_version",$pe=1,But=async(t,e,n)=>{const r=Lut,i=await e.getItem(r);if(i&&i>=$pe){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,$pe),n(e),Uut(t,o)},Uut=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Fut=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new Dut;this.storage=e;try{const n=new Mut;But(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function zut(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var sU=Wut;function Wut(t,e,n){var r=n&&n.stringify||zut,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=r(t);for(var a=1;a<s;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-i,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var g=typeof e[u];if(g==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(g==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=r(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const Tpe=sU;var tb=yh;const p8=Xut().console||{},qut={mapHttpRequest:IS,mapHttpResponse:IS,wrapRequestSerializer:aU,wrapResponseSerializer:aU,wrapErrorSerializer:aU,req:IS,res:IS,err:Zut};function Hut(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function yh(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||p8;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=Hut(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=g8),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:Yut(t)};c.levels=yh.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=g8,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=f,e&&(c._logEvent=oU());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,nb(l,c,"error","log"),nb(l,c,"fatal","error"),nb(l,c,"warn","error"),nb(l,c,"info","log"),nb(l,c,"debug","log"),nb(l,c,"trace","log")}function f(g,m){if(!g)throw new Error("missing bindings for child Pino");m=m||{},i&&g.serializers&&(m.serializers=g.serializers);const y=m.serializers;if(i&&y){var w=Object.assign({},r,y),b=t.browser.serialize===!0?Object.keys(w):i;delete g.serializers,SS([g],b,w,this._stdErrSerialize)}function v(E){this._childLevel=(E._childLevel|0)+1,this.error=rb(E,g,"error"),this.fatal=rb(E,g,"fatal"),this.warn=rb(E,g,"warn"),this.info=rb(E,g,"info"),this.debug=rb(E,g,"debug"),this.trace=rb(E,g,"trace"),w&&(this.serializers=w,this._serialize=b),e&&(this._logEvent=oU([].concat(E._logEvent.bindings,g)))}return v.prototype=this,new v(this)}return c}yh.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},yh.stdSerializers=qut,yh.stdTimeFunctions=Object.assign({},{nullTime:Ppe,epochTime:Npe,unixTime:Jut,isoTime:Qut});function nb(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?g8:i[n]?i[n]:p8[n]||p8[r]||g8,Vut(t,e,n)}function Vut(t,e,n){!t.transmit&&e[n]===g8||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===p8?p8:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&SS(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,Kut(this,n,o,s)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=yh.levels.values[l],d=yh.levels.values[n];if(d<u)return;Gut(this,{ts:s,methodLevel:n,methodValue:d,transmitValue:yh.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function Kut(t,e,n,r){t._serialize&&SS(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=yh.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?Tpe(i.shift(),i):void 0}else typeof s=="string"&&(s=Tpe(i.shift(),i));return s!==void 0&&(o.msg=s),o}function SS(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=yh.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function rb(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function Gut(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;SS(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=oU(c)}function oU(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Zut(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Yut(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?Ppe:Npe}function IS(){return{}}function aU(t){return t}function g8(){}function Ppe(){return!1}function Npe(){return Date.now()}function Jut(){return Math.round(Date.now()/1e3)}function Qut(){return new Date(Date.now()).toISOString()}function Xut(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const cU=Vo(tb),edt={level:"info"},m8="custom_context",lU=1e3*1024;let tdt=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Ope=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new tdt(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},Rpe=class{constructor(e,n=lU){this.level=e??"error",this.levelValue=tb.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new Ope(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===tb.levels.values.error?console.error(e):n===tb.levels.values.warn?console.warn(e):n===tb.levels.values.debug?console.debug(e):n===tb.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(qa({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new Ope(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(qa({extraMetadata:e})),new Blob(n,{type:"application/json"})}},ndt=class{constructor(e,n=lU){this.baseChunkLogger=new Rpe(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},rdt=class{constructor(e,n=lU){this.baseChunkLogger=new Rpe(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var idt=Object.defineProperty,sdt=Object.defineProperties,odt=Object.getOwnPropertyDescriptors,Mpe=Object.getOwnPropertySymbols,adt=Object.prototype.hasOwnProperty,cdt=Object.prototype.propertyIsEnumerable,jpe=(t,e,n)=>e in t?idt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kS=(t,e)=>{for(var n in e||(e={}))adt.call(e,n)&&jpe(t,n,e[n]);if(Mpe)for(var n of Mpe(e))cdt.call(e,n)&&jpe(t,n,e[n]);return t},$S=(t,e)=>sdt(t,odt(e));function Dpe(t){return $S(kS({},t),{level:(t==null?void 0:t.level)||edt.level})}function ldt(t,e=m8){return t[e]||""}function udt(t,e,n=m8){return t[n]=e,t}function Yc(t,e=m8){let n="";return typeof t.bindings>"u"?n=ldt(t,e):n=t.bindings().context||"",n}function ddt(t,e,n=m8){const r=Yc(t,n);return r.trim()?`${r}/${e}`:e}function Xa(t,e,n=m8){const r=ddt(t,e,n),i=t.child({context:r});return udt(i,r,n)}function hdt(t){var e,n;const r=new ndt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:cU($S(kS({},t.opts),{level:"trace",browser:$S(kS({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function fdt(t){var e;const n=new rdt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:cU($S(kS({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function pdt(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?hdt(t):fdt(t)}var gdt=Object.defineProperty,mdt=(t,e,n)=>e in t?gdt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lpe=(t,e,n)=>mdt(t,typeof e!="symbol"?e+"":e,n);let ydt=class extends Gc{constructor(e){super(),this.opts=e,Lpe(this,"protocol","wc"),Lpe(this,"version",2)}};var wdt=Object.defineProperty,vdt=(t,e,n)=>e in t?wdt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bdt=(t,e,n)=>vdt(t,e+"",n);let xdt=class extends Gc{constructor(e,n){super(),this.core=e,this.logger=n,bdt(this,"records",new Map)}},Edt=class{constructor(e,n){this.logger=e,this.core=n}},Cdt=class extends Gc{constructor(e,n){super(),this.relayer=e,this.logger=n}},_dt=class extends Gc{constructor(e){super()}},Adt=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},Sdt=class extends Gc{constructor(e,n){super(),this.relayer=e,this.logger=n}},Idt=class extends Gc{constructor(e,n){super(),this.core=e,this.logger=n}},kdt=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},$dt=class{constructor(e,n){this.projectId=e,this.logger=n}},Tdt=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var Pdt=Object.defineProperty,Ndt=(t,e,n)=>e in t?Pdt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bpe=(t,e,n)=>Ndt(t,typeof e!="symbol"?e+"":e,n);let Odt=class{constructor(e){this.opts=e,Bpe(this,"protocol","wc"),Bpe(this,"version",2)}},Rdt=class{constructor(e){this.client=e}};const Mdt="PARSE_ERROR",jdt="INVALID_REQUEST",Ddt="METHOD_NOT_FOUND",Ldt="INVALID_PARAMS",Upe="INTERNAL_ERROR",uU="SERVER_ERROR",Bdt=[-32700,-32600,-32601,-32602,-32603],y8={[Mdt]:{code:-32700,message:"Parse error"},[jdt]:{code:-32600,message:"Invalid Request"},[Ddt]:{code:-32601,message:"Method not found"},[Ldt]:{code:-32602,message:"Invalid params"},[Upe]:{code:-32603,message:"Internal error"},[uU]:{code:-32e3,message:"Server error"}},Fpe=uU;function Udt(t){return Bdt.includes(t)}function zpe(t){return Object.keys(y8).includes(t)?y8[t]:y8[Fpe]}function Fdt(t){const e=Object.values(y8).find(n=>n.code===t);return e||y8[Fpe]}function Wpe(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var qpe={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var dU=function(t,e){return dU=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},dU(t,e)};function zdt(t,e){dU(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var hU=function(){return hU=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hU.apply(this,arguments)};function Wdt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qdt(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Hdt(t,e){return function(n,r){e(n,r,t)}}function Vdt(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Kdt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Gdt(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Zdt(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Ydt(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function fU(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hpe(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Jdt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Hpe(arguments[e]));return t}function Qdt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function w8(t){return this instanceof w8?(this.v=t,this):new w8(t)}function Xdt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,m){s.push([h,f,g,m])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof w8?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function eht(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:w8(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function tht(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fU=="function"?fU(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function nht(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function rht(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function iht(t){return t&&t.__esModule?t:{default:t}}function sht(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function oht(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const aht=ZE(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return hU},__asyncDelegator:eht,__asyncGenerator:Xdt,__asyncValues:tht,__await:w8,__awaiter:Kdt,__classPrivateFieldGet:sht,__classPrivateFieldSet:oht,__createBinding:Zdt,__decorate:qdt,__exportStar:Ydt,__extends:zdt,__generator:Gdt,__importDefault:iht,__importStar:rht,__makeTemplateObject:nht,__metadata:Vdt,__param:Hdt,__read:Hpe,__rest:Wdt,__spread:Jdt,__spreadArrays:Qdt,__values:fU},Symbol.toStringTag,{value:"Module"})));var Kf={},Vpe;function cht(){if(Vpe)return Kf;Vpe=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.isBrowserCryptoAvailable=Kf.getSubtleCrypto=Kf.getBrowerCrypto=void 0;function t(){return(Ea==null?void 0:Ea.crypto)||(Ea==null?void 0:Ea.msCrypto)||{}}Kf.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Kf.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Kf.isBrowserCryptoAvailable=n,Kf}var Gf={},Kpe;function lht(){if(Kpe)return Gf;Kpe=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.isBrowser=Gf.isNode=Gf.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Gf.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Gf.isNode=e;function n(){return!t()&&!e()}return Gf.isBrowser=n,Gf}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=aht;e.__exportStar(cht(),t),e.__exportStar(lht(),t)})(qpe);function Es(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function ec(t=6){return BigInt(Es(t))}function Ys(t,e,n){return{id:n||Es(),jsonrpc:"2.0",method:t,params:e}}function Zf(t,e){return{id:t,jsonrpc:"2.0",result:e}}function ib(t,e,n){return{id:t,jsonrpc:"2.0",error:uht(e)}}function uht(t,e){return typeof t>"u"?zpe(Upe):(typeof t=="string"&&(t=Object.assign(Object.assign({},zpe(uU)),{message:t})),Udt(t.code)&&(t=Fdt(t.code)),t)}let dht=class{},hht=class extends dht{constructor(){super()}},fht=class extends hht{constructor(e){super()}};const pht="^https?:",ght="^wss?:";function mht(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Gpe(t,e){const n=mht(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function Zpe(t){return Gpe(t,pht)}function Ype(t){return Gpe(t,ght)}function yht(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Jpe(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function sb(t){return Jpe(t)&&"method"in t}function A1(t){return Jpe(t)&&(cs(t)||mi(t))}function cs(t){return"result"in t}function mi(t){return"error"in t}let Xr=class extends fht{constructor(e){super(e),this.events=new qi.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Ys(e.method,e.params||[],e.id||ec().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{mi(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),A1(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const wht=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),vht=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Qpe=t=>t.split("?")[0],Xpe=10,bht=wht();let e0e=class{constructor(e){if(this.url=e,this.events=new qi.EventEmitter,this.registering=!1,!Ype(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(qa(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!Ype(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=qpe.isReactNative()?void 0:{rejectUnauthorized:!yht(e)},s=new bht(e,[],i);vht()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Qu(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=ib(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return Wpe(e,Qpe(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Xpe&&this.events.setMaxListeners(Xpe)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${Qpe(this.url)}`));return this.events.emit("register_error",n),n}};var xht={};const t0e="wc",n0e=2,pU="core",wh=`${t0e}@2:${pU}:`,Eht={logger:"error"},Cht={database:":memory:"},_ht="crypto",r0e="client_ed25519_seed",Aht=le.ONE_DAY,Sht="keychain",Iht="0.3",kht="messages",$ht="0.3",Tht=le.SIX_HOURS,Pht="publisher",i0e="irn",Nht="error",s0e="wss://relay.walletconnect.org",Oht="relayer",Ii={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Rht="_subscription",Yl={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Mht=.1,gU="2.21.7",qr={link_mode:"link_mode",relay:"relay"},TS={inbound:"inbound",outbound:"outbound"},jht="0.3",Dht="WALLETCONNECT_CLIENT_ID",o0e="WALLETCONNECT_LINK_MODE_APPS",Jc={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Lht="subscription",Bht="0.3",Uht="pairing",Fht="0.3",v8={wc_pairingDelete:{req:{ttl:le.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:le.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:le.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:le.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:le.ONE_DAY,prompt:!1,tag:0},res:{ttl:le.ONE_DAY,prompt:!1,tag:0}}},S1={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},rd={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},zht="history",Wht="0.3",qht="expirer",Jl={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Hht="0.3",Vht="verify-api",Kht="https://verify.walletconnect.com",a0e="https://verify.walletconnect.org",b8=a0e,Ght=`${b8}/v3`,Zht=[Kht,a0e],Yht="echo",Jht="https://echo.walletconnect.com",vh={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Yf={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},og={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},x8={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},I1={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},E8={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Qht=.1,Xht="event-client",eft=86400,tft="https://pulse.walletconnect.org/batch";function nft(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,y=0,w=0,b=g.length;w!==b&&g[w]===0;)w++,m++;for(var v=(b-w)*u+1>>>0,E=new Uint8Array(v);w!==b;){for(var _=g[w],O=0,S=v-1;(_!==0||O<y)&&S!==-1;S--,O++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=O,w++}for(var R=v-y;R!==v&&E[R]===0;)R++;for(var I=c.repeat(m);R<v;++R)I+=t.charAt(E[R]);return I}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var y=0,w=0;g[m]===c;)y++,m++;for(var b=(g.length-m)*l+1>>>0,v=new Uint8Array(b);g[m];){var E=n[g.charCodeAt(m)];if(E===255)return;for(var _=0,O=b-1;(E!==0||_<w)&&O!==-1;O--,_++)E+=a*v[O]>>>0,v[O]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,m++}if(g[m]!==" "){for(var S=b-w;S!==b&&v[S]===0;)S++;for(var R=new Uint8Array(y+(b-S)),I=y;S!==b;)R[I++]=v[S++];return R}}}function f(g){var m=h(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var rft=nft,ift=rft;const c0e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},sft=t=>new TextEncoder().encode(t),oft=t=>new TextDecoder().decode(t);let aft=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},cft=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return l0e(this,e)}},lft=class{constructor(e){this.decoders=e}or(e){return l0e(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const l0e=(t,e)=>new lft({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let uft=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new aft(e,n,r),this.decoder=new cft(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const PS=({name:t,prefix:e,encode:n,decode:r})=>new uft(t,e,n,r),C8=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=ift(n,e);return PS({prefix:t,name:e,encode:r,decode:s=>c0e(i(s))})},dft=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},hft=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Js=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>PS({prefix:e,name:t,encode(i){return hft(i,r,n)},decode(i){return dft(i,r,n,t)}}),fft=PS({prefix:"\0",name:"identity",encode:t=>oft(t),decode:t=>sft(t)});var pft=Object.freeze({__proto__:null,identity:fft});const gft=Js({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var mft=Object.freeze({__proto__:null,base2:gft});const yft=Js({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var wft=Object.freeze({__proto__:null,base8:yft});const vft=C8({prefix:"9",name:"base10",alphabet:"0123456789"});var bft=Object.freeze({__proto__:null,base10:vft});const xft=Js({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Eft=Js({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Cft=Object.freeze({__proto__:null,base16:xft,base16upper:Eft});const _ft=Js({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Aft=Js({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Sft=Js({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ift=Js({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),kft=Js({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$ft=Js({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Tft=Js({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Pft=Js({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Nft=Js({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Oft=Object.freeze({__proto__:null,base32:_ft,base32upper:Aft,base32pad:Sft,base32padupper:Ift,base32hex:kft,base32hexupper:$ft,base32hexpad:Tft,base32hexpadupper:Pft,base32z:Nft});const Rft=C8({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Mft=C8({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var jft=Object.freeze({__proto__:null,base36:Rft,base36upper:Mft});const Dft=C8({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Lft=C8({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Bft=Object.freeze({__proto__:null,base58btc:Dft,base58flickr:Lft});const Uft=Js({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Fft=Js({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),zft=Js({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Wft=Js({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var qft=Object.freeze({__proto__:null,base64:Uft,base64pad:Fft,base64url:zft,base64urlpad:Wft});const u0e=Array.from(""),Hft=u0e.reduce((t,e,n)=>(t[n]=e,t),[]),Vft=u0e.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Kft(t){return t.reduce((e,n)=>(e+=Hft[n],e),"")}function Gft(t){const e=[];for(const n of t){const r=Vft[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Zft=PS({prefix:"",name:"base256emoji",encode:Kft,decode:Gft});var Yft=Object.freeze({__proto__:null,base256emoji:Zft}),Jft=h0e,d0e=128,Qft=-128,Xft=Math.pow(2,31);function h0e(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Xft;)e[n++]=t&255|d0e,t/=128;for(;t&Qft;)e[n++]=t&255|d0e,t>>>=7;return e[n]=t|0,h0e.bytes=n-r+1,e}var ept=mU,tpt=128,f0e=127;function mU(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw mU.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&f0e)<<i:(o&f0e)*Math.pow(2,i),i+=7}while(o>=tpt);return mU.bytes=s-r,n}var npt=Math.pow(2,7),rpt=Math.pow(2,14),ipt=Math.pow(2,21),spt=Math.pow(2,28),opt=Math.pow(2,35),apt=Math.pow(2,42),cpt=Math.pow(2,49),lpt=Math.pow(2,56),upt=Math.pow(2,63),dpt=function(t){return t<npt?1:t<rpt?2:t<ipt?3:t<spt?4:t<opt?5:t<apt?6:t<cpt?7:t<lpt?8:t<upt?9:10},hpt={encode:Jft,decode:ept,encodingLength:dpt},p0e=hpt;const g0e=(t,e,n=0)=>(p0e.encode(t,e,n),e),m0e=t=>p0e.encodingLength(t),yU=(t,e)=>{const n=e.byteLength,r=m0e(t),i=r+m0e(n),s=new Uint8Array(i+n);return g0e(t,s,0),g0e(n,s,r),s.set(e,i),new fpt(t,n,e,s)};let fpt=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const y0e=({name:t,code:e,encode:n})=>new ppt(t,e,n);let ppt=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?yU(this.code,n):n.then(r=>yU(this.code,r))}else throw Error("Unknown type, must be binary type")}};const w0e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),gpt=y0e({name:"sha2-256",code:18,encode:w0e("SHA-256")}),mpt=y0e({name:"sha2-512",code:19,encode:w0e("SHA-512")});var ypt=Object.freeze({__proto__:null,sha256:gpt,sha512:mpt});const v0e=0,wpt="identity",b0e=c0e;var vpt=Object.freeze({__proto__:null,identity:{code:v0e,name:wpt,encode:b0e,digest:t=>yU(v0e,b0e(t))}});new TextEncoder,new TextDecoder;const x0e={...pft,...mft,...wft,...bft,...Cft,...Oft,...jft,...Bft,...qft,...Yft};({...ypt,...vpt});function E0e(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function bpt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?E0e(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function C0e(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const _0e=C0e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),wU=C0e("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=bpt(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),xpt={utf8:_0e,"utf-8":_0e,hex:x0e.base16,latin1:wU,ascii:wU,binary:wU,...x0e};function Ept(t,e="utf8"){const n=xpt[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?E0e(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var Cpt=Object.defineProperty,_pt=(t,e,n)=>e in t?Cpt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bh=(t,e,n)=>_pt(t,typeof e!="symbol"?e+"":e,n);let Apt=class{constructor(e,n){this.core=e,this.logger=n,bh(this,"keychain",new Map),bh(this,"name",Sht),bh(this,"version",Iht),bh(this,"initialized",!1),bh(this,"storagePrefix",wh),bh(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),bh(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),bh(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),bh(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=qe("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),bh(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Xa(n,this.name)}get context(){return Yc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,yB(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?wB(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Spt=Object.defineProperty,Ipt=(t,e,n)=>e in t?Spt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qs=(t,e,n)=>Ipt(t,typeof e!="symbol"?e+"":e,n);let kpt=class{constructor(e,n,r){this.core=e,this.logger=n,Qs(this,"name",_ht),Qs(this,"keychain"),Qs(this,"randomSessionIdentifier",ZB()),Qs(this,"initialized",!1),Qs(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Qs(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Qs(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=KA(i);return dB(s.publicKey)}),Qs(this,"generateKeyPair",()=>{this.isInitialized();const i=slt();return this.setPrivateKey(i.publicKey,i.privateKey)}),Qs(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=KA(s),a=this.randomSessionIdentifier;return await uhe(a,i,Aht,o)}),Qs(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=olt(a,s);return this.setSymKey(c,o)}),Qs(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||yS(i);return await this.keychain.set(o,i),o}),Qs(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Qs(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Qs(this,"encode",async(i,s,o)=>{this.isInitialized();const a=ape(o),c=qa(s);if(lpe(a))return llt(c,o==null?void 0:o.encoding);if(cpe(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;i=await this.generateSharedKey(h,f)}const l=this.getSymKey(i),{type:u,senderPublicKey:d}=a;return alt({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),Qs(this,"decode",async(i,s,o)=>{this.isInitialized();const a=dlt(s,o);if(lpe(a)){const c=ult(s,o==null?void 0:o.encoding);return Qu(c)}if(cpe(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=clt({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return Qu(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Qs(this,"getPayloadType",(i,s=Ya)=>{const o=u8({encoded:i,encoding:s});return C1(o.type)}),Qs(this,"getPayloadSenderPublicKey",(i,s=Ya)=>{const o=u8({encoded:i,encoding:s});return o.senderPublicKey?Va(o.senderPublicKey,fa):void 0}),this.core=e,this.logger=Xa(n,this.name),this.keychain=r||new Apt(this.core,this.logger)}get context(){return Yc(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(r0e)}catch{e=ZB(),await this.keychain.set(r0e,e)}return Ept(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var $pt=Object.defineProperty,Tpt=Object.defineProperties,Ppt=Object.getOwnPropertyDescriptors,A0e=Object.getOwnPropertySymbols,Npt=Object.prototype.hasOwnProperty,Opt=Object.prototype.propertyIsEnumerable,vU=(t,e,n)=>e in t?$pt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rpt=(t,e)=>{for(var n in e||(e={}))Npt.call(e,n)&&vU(t,n,e[n]);if(A0e)for(var n of A0e(e))Opt.call(e,n)&&vU(t,n,e[n]);return t},Mpt=(t,e)=>Tpt(t,Ppt(e)),Qc=(t,e,n)=>vU(t,typeof e!="symbol"?e+"":e,n);let jpt=class extends Edt{constructor(e,n){super(e,n),this.logger=e,this.core=n,Qc(this,"messages",new Map),Qc(this,"messagesWithoutClientAck",new Map),Qc(this,"name",kht),Qc(this,"version",$ht),Qc(this,"initialized",!1),Qc(this,"storagePrefix",wh),Qc(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Qc(this,"set",async(r,i,s)=>{this.isInitialized();const o=Gl(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===TS.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Mpt(Rpt({},c),{[o]:i}))}return await this.persist(),o}),Qc(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Qc(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Qc(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=Gl(i);return typeof s[o]<"u"}),Qc(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=Gl(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Qc(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Xa(e,this.name),this.core=n}get context(){return Yc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,yB(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,yB(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?wB(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?wB(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Dpt=Object.defineProperty,Lpt=Object.defineProperties,Bpt=Object.getOwnPropertyDescriptors,S0e=Object.getOwnPropertySymbols,Upt=Object.prototype.hasOwnProperty,Fpt=Object.prototype.propertyIsEnumerable,bU=(t,e,n)=>e in t?Dpt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ob=(t,e)=>{for(var n in e||(e={}))Upt.call(e,n)&&bU(t,n,e[n]);if(S0e)for(var n of S0e(e))Fpt.call(e,n)&&bU(t,n,e[n]);return t},I0e=(t,e)=>Lpt(t,Bpt(e)),Ql=(t,e,n)=>bU(t,typeof e!="symbol"?e+"":e,n);let zpt=class extends Cdt{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Ql(this,"events",new qi.EventEmitter),Ql(this,"name",Pht),Ql(this,"queue",new Map),Ql(this,"publishTimeout",le.toMiliseconds(le.ONE_MINUTE)),Ql(this,"initialPublishTimeout",le.toMiliseconds(le.ONE_SECOND*15)),Ql(this,"needsTransportRestart",!1),Ql(this,"publish",async(r,i,s)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const d=(s==null?void 0:s.ttl)||Tht,h=(s==null?void 0:s.prompt)||!1,f=(s==null?void 0:s.tag)||0,g=(s==null?void 0:s.id)||ec().toString(),m=Qv(wS().protocol),y={id:g,method:(s==null?void 0:s.publishMethod)||m.publish,params:ob({topic:r,message:i,ttl:d,prompt:h,tag:f,attestation:s==null?void 0:s.attestation},(s==null?void 0:s.tvf)&&{tvf:s.tvf})},w=`Failed to publish payload, please try again. id:${g} tag:${f}`;try{as((o=y.params)==null?void 0:o.prompt)&&((a=y.params)==null||delete a.prompt),as((c=y.params)==null?void 0:c.tag)&&((l=y.params)==null||delete l.tag);const b=new Promise(async v=>{const E=({id:O})=>{var S;((S=y.id)==null?void 0:S.toString())===O.toString()&&(this.removeRequestFromQueue(O),this.relayer.events.removeListener(Ii.publish,E),v())};this.relayer.events.on(Ii.publish,E);const _=fh(new Promise((O,S)=>{this.rpcPublish(y,s).then(O).catch(R=>{this.logger.warn(R,R==null?void 0:R.message),S(R)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${g} tag:${f}`);try{await _,this.events.removeListener(Ii.publish,E)}catch(O){this.queue.set(g,{request:y,opts:s,attempt:1}),this.logger.warn(O,O==null?void 0:O.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,topic:r,message:i,opts:s}}),await fh(b,this.publishTimeout,w)}catch(b){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(b),(u=s==null?void 0:s.internal)!=null&&u.throwOnFailedPublish)throw b}finally{this.queue.delete(g)}}),Ql(this,"publishCustom",async r=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:l,opts:u={}}=r,{attestation:d,tvf:h,publishMethod:f,prompt:g,tag:m,ttl:y=le.FIVE_MINUTES}=u,w=u.id||ec().toString(),b=Qv(wS().protocol),v=f||b.publish,E={id:w,method:v,params:ob(I0e(ob({},l),{ttl:y,prompt:g,tag:m,attestation:d}),h)},_=`Failed to publish custom payload, please try again. id:${w} tag:${m}`;try{as((i=E.params)==null?void 0:i.prompt)&&((s=E.params)==null||delete s.prompt),as((o=E.params)==null?void 0:o.tag)&&((a=E.params)==null||delete a.tag);const O=new Promise(async S=>{const R=({id:D})=>{var j;((j=E.id)==null?void 0:j.toString())===D.toString()&&(this.removeRequestFromQueue(D),this.relayer.events.removeListener(Ii.publish,R),S())};this.relayer.events.on(Ii.publish,R);const I=fh(new Promise((D,j)=>{this.rpcPublish(E,u).then(D).catch(F=>{this.logger.warn(F,F==null?void 0:F.message),j(F)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${v} id:${w} tag:${m}`);try{await I,this.events.removeListener(Ii.publish,R)}catch(D){this.queue.set(w,{request:E,opts:u,attempt:1}),this.logger.warn(D,D==null?void 0:D.message)}});this.logger.trace({type:"method",method:"publish",params:{id:w,payload:l,opts:u}}),await fh(O,this.publishTimeout,_)}catch(O){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(O),(c=u==null?void 0:u.internal)!=null&&c.throwOnFailedPublish)throw O}finally{this.queue.delete(w)}}),Ql(this,"on",(r,i)=>{this.events.on(r,i)}),Ql(this,"once",(r,i)=>{this.events.once(r,i)}),Ql(this,"off",(r,i)=>{this.events.off(r,i)}),Ql(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Xa(n,this.name),this.registerEventListeners()}get context(){return Yc(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(Ii.publish,ob(ob({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,I0e(ob({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Zc.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Ii.connection_stalled);return}this.checkQueue()}),this.relayer.on(Ii.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var Wpt=Object.defineProperty,qpt=(t,e,n)=>e in t?Wpt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ab=(t,e,n)=>qpt(t,typeof e!="symbol"?e+"":e,n);let Hpt=class{constructor(){ab(this,"map",new Map),ab(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),ab(this,"get",e=>this.map.get(e)||[]),ab(this,"exists",(e,n)=>this.get(e).includes(n)),ab(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),ab(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var Vpt=Object.defineProperty,Kpt=Object.defineProperties,Gpt=Object.getOwnPropertyDescriptors,k0e=Object.getOwnPropertySymbols,Zpt=Object.prototype.hasOwnProperty,Ypt=Object.prototype.propertyIsEnumerable,xU=(t,e,n)=>e in t?Vpt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_8=(t,e)=>{for(var n in e||(e={}))Zpt.call(e,n)&&xU(t,n,e[n]);if(k0e)for(var n of k0e(e))Ypt.call(e,n)&&xU(t,n,e[n]);return t},EU=(t,e)=>Kpt(t,Gpt(e)),Cr=(t,e,n)=>xU(t,typeof e!="symbol"?e+"":e,n);let Jpt=class extends Sdt{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Cr(this,"subscriptions",new Map),Cr(this,"topicMap",new Hpt),Cr(this,"events",new qi.EventEmitter),Cr(this,"name",Lht),Cr(this,"version",Bht),Cr(this,"pending",new Map),Cr(this,"cached",[]),Cr(this,"initialized",!1),Cr(this,"storagePrefix",wh),Cr(this,"subscribeTimeout",le.toMiliseconds(le.ONE_MINUTE)),Cr(this,"initialSubscribeTimeout",le.toMiliseconds(le.ONE_SECOND*15)),Cr(this,"clientId"),Cr(this,"batchSubscribeTopicsLimit",500),Cr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Cr(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=wS(i),a={topic:r,relay:o,transportType:i==null?void 0:i.transportType};(s=i==null?void 0:i.internal)!=null&&s.skipSubscribe||this.pending.set(r,a);const c=await this.rpcSubscribe(r,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),Cr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Cr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Cr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),Cr(this,"on",(r,i)=>{this.events.on(r,i)}),Cr(this,"once",(r,i)=>{this.events.once(r,i)}),Cr(this,"off",(r,i)=>{this.events.off(r,i)}),Cr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),Cr(this,"start",async()=>{await this.onConnect()}),Cr(this,"stop",async()=>{await this.onDisconnect()}),Cr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Cr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Cr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Zc.pulse,async()=>{await this.checkPending()}),this.events.on(Jc.created,async r=>{const i=Jc.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Jc.deleted,async r=>{const i=Jc.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Xa(n,this.name),this.clientId=""}get context(){return Yc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=wS(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Wr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const o=await this.getSubscriptionId(e);if((i=r==null?void 0:r.internal)!=null&&i.skipSubscribe)return o;(!r||(r==null?void 0:r.transportType)===qr.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:Qv(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{if((r==null?void 0:r.transportType)===qr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(d=>this.logger.warn(d))},le.toMiliseconds(le.ONE_SECOND)),o;const l=new Promise(async d=>{const h=f=>{f.topic===e&&(this.events.removeListener(Jc.created,h),d(f.id))};this.events.on(Jc.created,h);try{const f=await fh(new Promise((g,m)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y==null?void 0:y.message),m(y)}).then(g)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Jc.created,h),d(f)}catch{}}),u=await fh(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ii.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Qv(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await fh(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Ii.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Qv(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await fh(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Ii.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:Qv(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,EU(_8({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,_8({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,_8({},n)),this.topicMap.set(n.topic,e),this.events.emit(Jc.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Jc.deleted,EU(_8({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Jc.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Jc.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>EU(_8({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await kot(le.toMiliseconds(le.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Gl(e+await this.getClientId())}};var Qpt=Object.defineProperty,$0e=Object.getOwnPropertySymbols,Xpt=Object.prototype.hasOwnProperty,e0t=Object.prototype.propertyIsEnumerable,CU=(t,e,n)=>e in t?Qpt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T0e=(t,e)=>{for(var n in e||(e={}))Xpt.call(e,n)&&CU(t,n,e[n]);if($0e)for(var n of $0e(e))e0t.call(e,n)&&CU(t,n,e[n]);return t},Un=(t,e,n)=>CU(t,typeof e!="symbol"?e+"":e,n);let t0t=class extends _dt{constructor(e){super(e),Un(this,"protocol","wc"),Un(this,"version",2),Un(this,"core"),Un(this,"logger"),Un(this,"events",new qi.EventEmitter),Un(this,"provider"),Un(this,"messages"),Un(this,"subscriber"),Un(this,"publisher"),Un(this,"name",Oht),Un(this,"transportExplicitlyClosed",!1),Un(this,"initialized",!1),Un(this,"connectionAttemptInProgress",!1),Un(this,"relayUrl"),Un(this,"projectId"),Un(this,"packageName"),Un(this,"bundleId"),Un(this,"hasExperiencedNetworkDisruption",!1),Un(this,"pingTimeout"),Un(this,"heartBeatTimeout",le.toMiliseconds(le.THIRTY_SECONDS+le.FIVE_SECONDS)),Un(this,"reconnectTimeout"),Un(this,"connectPromise"),Un(this,"reconnectInProgress",!1),Un(this,"requestsInFlight",[]),Un(this,"connectTimeout",le.toMiliseconds(le.ONE_SECOND*15)),Un(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||ec().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Un(this,"resetPingTimeout",()=>{eS()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),Un(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Un(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Ii.connect)}),Un(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Un(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Ii.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Un(this,"registerProviderListeners",()=>{this.provider.on(Yl.payload,this.onPayloadHandler),this.provider.on(Yl.connect,this.onConnectHandler),this.provider.on(Yl.disconnect,this.onDisconnectHandler),this.provider.on(Yl.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Xa(e.logger,this.name):cU(Dpe({level:e.logger||Nht})),this.messages=new jpt(this.logger,e.core),this.subscriber=new Jpt(this,this.logger),this.publisher=new zpt(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||s0e,hot()?this.packageName=Dhe():fot()&&(this.bundleId=Dhe()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return Yc(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:qr.relay},TS.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Jc.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Jc.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,T0e({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await fh(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Epe())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=ss(le.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Ii.message,e),await this.recordMessageEvent(e,TS.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Yl.disconnect,s),await fh(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Yl.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Yl.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Yl.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,le.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(eS())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Xr(new e0e(wot({sdkVersion:gU,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),sb(e)){if(!e.method.endsWith(Rht))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:qr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(T0e({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else A1(e)&&this.events.emit(Ii.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,TS.inbound),this.events.emit(Ii.message,e))}async acknowledgePayload(e){const n=Zf(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Yl.payload,this.onPayloadHandler),this.provider.off(Yl.connect,this.onConnectHandler),this.provider.off(Yl.disconnect,this.onDisconnectHandler),this.provider.off(Yl.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Epe();iut(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Zc.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&aut())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Ii.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},le.toMiliseconds(Mht)))))}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function n0t(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function P0e(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function N0e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const r0t="[object RegExp]",i0t="[object String]",s0t="[object Number]",o0t="[object Boolean]",O0e="[object Arguments]",a0t="[object Symbol]",c0t="[object Date]",l0t="[object Map]",u0t="[object Set]",d0t="[object Array]",h0t="[object Function]",f0t="[object ArrayBuffer]",_U="[object Object]",p0t="[object Error]",g0t="[object DataView]",m0t="[object Uint8Array]",y0t="[object Uint8ClampedArray]",w0t="[object Uint16Array]",v0t="[object Uint32Array]",b0t="[object BigUint64Array]",x0t="[object Int8Array]",E0t="[object Int16Array]",C0t="[object Int32Array]",_0t="[object BigInt64Array]",A0t="[object Float32Array]",S0t="[object Float64Array]";function I0t(){}function R0e(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function k0t(t,e,n){return A8(t,e,void 0,void 0,void 0,void 0,n)}function A8(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return S8(t,e,s,o)}return S8(t,e,s,o)}function S8(t,e,n,r){if(Object.is(t,e))return!0;let i=N0e(t),s=N0e(e);if(i===O0e&&(i=_U),s===O0e&&(s=_U),i!==s)return!1;switch(i){case i0t:return t.toString()===e.toString();case s0t:{const c=t.valueOf(),l=e.valueOf();return n0t(c,l)}case o0t:case c0t:case a0t:return Object.is(t.valueOf(),e.valueOf());case r0t:return t.source===e.source&&t.flags===e.flags;case h0t:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case l0t:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!A8(l,e.get(c),c,t,e,n,r))return!1;return!0}case u0t:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>A8(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case d0t:case m0t:case y0t:case w0t:case v0t:case b0t:case x0t:case E0t:case C0t:case _0t:case A0t:case S0t:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!A8(t[c],e[c],c,t,e,n,r))return!1;return!0}case f0t:return t.byteLength!==e.byteLength?!1:S8(new Uint8Array(t),new Uint8Array(e),n,r);case g0t:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:S8(new Uint8Array(t),new Uint8Array(e),n,r);case p0t:return t.name===e.name&&t.message===e.message;case _U:{if(!(S8(t.constructor,e.constructor,n,r)||R0e(t)&&R0e(e)))return!1;const c=[...Object.keys(t),...P0e(t)],l=[...Object.keys(e),...P0e(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!A8(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function $0t(t,e){return k0t(t,e,I0t)}var T0t=Object.defineProperty,M0e=Object.getOwnPropertySymbols,P0t=Object.prototype.hasOwnProperty,N0t=Object.prototype.propertyIsEnumerable,AU=(t,e,n)=>e in t?T0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j0e=(t,e)=>{for(var n in e||(e={}))P0t.call(e,n)&&AU(t,n,e[n]);if(M0e)for(var n of M0e(e))N0t.call(e,n)&&AU(t,n,e[n]);return t},tc=(t,e,n)=>AU(t,typeof e!="symbol"?e+"":e,n);let k1=class extends Adt{constructor(e,n,r,i=wh,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,tc(this,"map",new Map),tc(this,"version",jht),tc(this,"cached",[]),tc(this,"initialized",!1),tc(this,"getKey"),tc(this,"storagePrefix",wh),tc(this,"recentlyDeleted",[]),tc(this,"recentlyDeletedLimit",200),tc(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!as(o)?this.map.set(this.getKey(o),o):Mlt(o)?this.map.set(o.id,o):jlt(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),tc(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),tc(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),tc(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>$0t(a[c],o[c]))):this.values)),tc(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=j0e(j0e({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),tc(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Xa(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Yc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=qe("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var O0t=Object.defineProperty,R0t=(t,e,n)=>e in t?O0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cn=(t,e,n)=>R0t(t,typeof e!="symbol"?e+"":e,n);let M0t=class{constructor(e,n){this.core=e,this.logger=n,Cn(this,"name",Uht),Cn(this,"version",Fht),Cn(this,"events",new jv),Cn(this,"pairings"),Cn(this,"initialized",!1),Cn(this,"storagePrefix",wh),Cn(this,"ignoredPayloadTypes",[Vf]),Cn(this,"registeredMethods",[]),Cn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Cn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Cn(this,"create",async r=>{this.isInitialized();const i=ZB(),s=await this.core.crypto.setSymKey(i),o=ss(le.FIVE_MINUTES),a={protocol:i0e},c={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=dpe({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(S1.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType,internal:r==null?void 0:r.internal}),{topic:s,uri:l}}),Cn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[vh.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=upe(r.uri);i.props.properties.topic=s,i.addTrace(vh.pairing_uri_validation_success),i.addTrace(vh.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(vh.existing_pairing),u.active)throw i.setError(Yf.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(vh.pairing_not_expired)}const d=c||ss(le.FIVE_MINUTES),h={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),i.addTrace(vh.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(S1.create,h),i.addTrace(vh.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(vh.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Yf.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(f){throw i.setError(Yf.subscribe_pairing_topic_failure),f}return i.addTrace(vh.subscribe_pairing_topic_success),h}),Cn(this,"activate",async({topic:r})=>{this.isInitialized();const i=ss(le.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Cn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=w1();this.events.once(Xn("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),Cn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Cn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Cn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Cn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Wr("USER_DISCONNECTED")),await this.deletePairing(i))}),Cn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return dpe({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Cn(this,"sendRequest",async(r,i,s)=>{const o=Ys(i,s),a=await this.core.crypto.encode(r,o),c=v8[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),Cn(this,"sendResult",async(r,i,s)=>{const o=Zf(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=v8[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Cn(this,"sendError",async(r,i,s)=>{const o=ib(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=v8[c]?v8[c].res:v8.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Cn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Wr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Cn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>K0(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Cn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Cn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Cn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(S1.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Cn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{cs(i)?this.events.emit(Xn("pairing_ping",s),{}):mi(i)&&this.events.emit(Xn("pairing_ping",s),{error:i.error})},500)}),Cn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(S1.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Cn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Wr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Cn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Wr("WC_METHOD_UNSUPPORTED",r))}),Cn(this,"isValidPair",(r,i)=>{var s;if(!Ja(r)){const{message:a}=qe("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Yf.malformed_pairing_uri),new Error(a)}if(!Rlt(r.uri)){const{message:a}=qe("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Yf.malformed_pairing_uri),new Error(a)}const o=upe(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=qe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Yf.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=qe("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Yf.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&le.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(Yf.pairing_expired);const{message:a}=qe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Cn(this,"isValidPing",async r=>{if(!Ja(r)){const{message:s}=qe("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Cn(this,"isValidDisconnect",async r=>{if(!Ja(r)){const{message:s}=qe("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Cn(this,"isValidPairingTopic",async r=>{if(!Hi(r,!1)){const{message:i}=qe("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=qe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(K0(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=qe("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Xa(n,this.name),this.pairings=new k1(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Yc(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Ii.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==qr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);sb(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):A1(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Jl.expired,async e=>{const{topic:n}=Fhe(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(S1.expire,{topic:n}))})}};var j0t=Object.defineProperty,D0t=(t,e,n)=>e in t?j0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xs=(t,e,n)=>D0t(t,typeof e!="symbol"?e+"":e,n);let L0t=class extends xdt{constructor(e,n){super(e,n),this.core=e,this.logger=n,Xs(this,"records",new Map),Xs(this,"events",new qi.EventEmitter),Xs(this,"name",zht),Xs(this,"version",Wht),Xs(this,"cached",[]),Xs(this,"initialized",!1),Xs(this,"storagePrefix",wh),Xs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Xs(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:ss(le.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(rd.created,o)}),Xs(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=mi(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(rd.updated,i))}),Xs(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Xs(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(rd.deleted,s)}}),this.persist()}),Xs(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Xs(this,"on",(r,i)=>{this.events.on(r,i)}),Xs(this,"once",(r,i)=>{this.events.once(r,i)}),Xs(this,"off",(r,i)=>{this.events.off(r,i)}),Xs(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Xa(n,this.name)}get context(){return Yc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Ys(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(rd.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(rd.created,e=>{const n=rd.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(rd.updated,e=>{const n=rd.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(rd.deleted,e=>{const n=rd.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Zc.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{le.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(rd.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var B0t=Object.defineProperty,U0t=(t,e,n)=>e in t?B0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jo=(t,e,n)=>U0t(t,typeof e!="symbol"?e+"":e,n);let F0t=class extends Idt{constructor(e,n){super(e,n),this.core=e,this.logger=n,jo(this,"expirations",new Map),jo(this,"events",new qi.EventEmitter),jo(this,"name",qht),jo(this,"version",Hht),jo(this,"cached",[]),jo(this,"initialized",!1),jo(this,"storagePrefix",wh),jo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),jo(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),jo(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Jl.created,{target:s,expiration:o})}),jo(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),jo(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Jl.deleted,{target:i,expiration:s})}}),jo(this,"on",(r,i)=>{this.events.on(r,i)}),jo(this,"once",(r,i)=>{this.events.once(r,i)}),jo(this,"off",(r,i)=>{this.events.off(r,i)}),jo(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Xa(n,this.name)}get context(){return Yc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return vot(e);if(typeof e=="number")return bot(e);const{message:n}=qe("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Jl.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;le.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Jl.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Zc.pulse,()=>this.checkExpirations()),this.events.on(Jl.created,e=>{const n=Jl.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Jl.expired,e=>{const n=Jl.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Jl.deleted,e=>{const n=Jl.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var z0t=Object.defineProperty,W0t=(t,e,n)=>e in t?z0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vi=(t,e,n)=>W0t(t,typeof e!="symbol"?e+"":e,n);let q0t=class extends kdt{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Vi(this,"name",Vht),Vi(this,"abortController"),Vi(this,"isDevEnv"),Vi(this,"verifyUrlV3",Ght),Vi(this,"storagePrefix",wh),Vi(this,"version",n0e),Vi(this,"publicKey"),Vi(this,"fetchPromise"),Vi(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&le.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Vi(this,"register",async i=>{if(!Hv()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=ua(),u=this.startAbortTimer(le.ONE_SECOND*5),d=await new Promise((h,f)=>{const g=()=>{window.removeEventListener("message",y),l.body.removeChild(m),f("attestation aborted")};this.abortController.signal.addEventListener("abort",g);const m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",g,{signal:this.abortController.signal});const y=w=>{if(w.data&&typeof w.data=="string")try{const b=JSON.parse(w.data);if(b.type==="verify_attestation"){if(qv(b.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",g),window.removeEventListener("message",y),h(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};l.body.appendChild(m),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),Vi(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(qv(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),Vi(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(le.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Vi(this,"getVerifyUrl",i=>{let s=i||b8;return Zht.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${b8}`),s=b8),s}),Vi(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(le.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Vi(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Vi(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Vi(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Vi(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Vi(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Vi(this,"validateAttestation",(i,s)=>{const o=flt(i,s.publicKey),a={hasExpired:le.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Xa(n,this.name),this.abortController=new AbortController,this.isDevEnv=vB(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Yc(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),le.toMiliseconds(e))}};var H0t=Object.defineProperty,V0t=(t,e,n)=>e in t?H0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D0e=(t,e,n)=>V0t(t,typeof e!="symbol"?e+"":e,n);let K0t=class extends $dt{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,D0e(this,"context",Yht),D0e(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${Jht}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Xa(n,this.context)}};var G0t=Object.defineProperty,L0e=Object.getOwnPropertySymbols,Z0t=Object.prototype.hasOwnProperty,Y0t=Object.prototype.propertyIsEnumerable,SU=(t,e,n)=>e in t?G0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I8=(t,e)=>{for(var n in e||(e={}))Z0t.call(e,n)&&SU(t,n,e[n]);if(L0e)for(var n of L0e(e))Y0t.call(e,n)&&SU(t,n,e[n]);return t},Cs=(t,e,n)=>SU(t,typeof e!="symbol"?e+"":e,n);let J0t=class extends Tdt{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Cs(this,"context",Xht),Cs(this,"storagePrefix",wh),Cs(this,"storageVersion",Qht),Cs(this,"events",new Map),Cs(this,"shouldPersist",!1),Cs(this,"init",async()=>{if(!vB())try{const i={eventId:Whe(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Bhe(this.core.relayer.protocol,this.core.relayer.version,gU)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Cs(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=Whe(),u=this.core.projectId||"",d=Date.now(),h=I8({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),Cs(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return I8(I8({},a),this.setMethods(a.eventId))}),Cs(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Cs(this,"setEventListeners",()=>{this.core.heartbeat.on(Zc.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{le.fromMiliseconds(Date.now())-le.fromMiliseconds(i.timestamp)>eft&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Cs(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Cs(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Cs(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Cs(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Cs(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,I8(I8({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Cs(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Cs(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${tft}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${gU}${s}`,{method:"POST",body:JSON.stringify(i)})}),Cs(this,"getAppDomain",()=>Lhe().url),this.logger=Xa(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var Q0t=Object.defineProperty,B0e=Object.getOwnPropertySymbols,X0t=Object.prototype.hasOwnProperty,egt=Object.prototype.propertyIsEnumerable,IU=(t,e,n)=>e in t?Q0t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U0e=(t,e)=>{for(var n in e||(e={}))X0t.call(e,n)&&IU(t,n,e[n]);if(B0e)for(var n of B0e(e))egt.call(e,n)&&IU(t,n,e[n]);return t},Or=(t,e,n)=>IU(t,typeof e!="symbol"?e+"":e,n);const tgt=class hEe extends ydt{constructor(e){var n;super(e),Or(this,"protocol",t0e),Or(this,"version",n0e),Or(this,"name",pU),Or(this,"relayUrl"),Or(this,"projectId"),Or(this,"customStoragePrefix"),Or(this,"events",new qi.EventEmitter),Or(this,"logger"),Or(this,"heartbeat"),Or(this,"relayer"),Or(this,"crypto"),Or(this,"storage"),Or(this,"history"),Or(this,"expirer"),Or(this,"pairing"),Or(this,"verify"),Or(this,"echoClient"),Or(this,"linkModeSupportedApps"),Or(this,"eventClient"),Or(this,"initialized",!1),Or(this,"logChunkController"),Or(this,"on",(a,c)=>this.events.on(a,c)),Or(this,"once",(a,c)=>this.events.once(a,c)),Or(this,"off",(a,c)=>this.events.off(a,c)),Or(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Or(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:qr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||s0e,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Dpe({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Eht.logger,name:pU}),{logger:s,chunkLoggerController:o}=pdt({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Xa(s,this.name),this.heartbeat=new _pe,this.crypto=new kpt(this,this.logger,e==null?void 0:e.keychain),this.history=new L0t(this,this.logger),this.expirer=new F0t(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Fut(U0e(U0e({},Cht),e==null?void 0:e.storageOptions)),this.relayer=new t0t({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new M0t(this,this.logger),this.verify=new q0t(this,this.logger,this.storage),this.echoClient=new K0t(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new J0t(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new hEe(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Dht,r),n}get context(){return Yc(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(o0e,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(o0e)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&xht.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}},F0e=sU;var ngt=xh;const k8=hgt().console||{},rgt={mapHttpRequest:OS,mapHttpResponse:OS,wrapRequestSerializer:$U,wrapResponseSerializer:$U,wrapErrorSerializer:$U,req:OS,res:OS,err:cgt};function igt(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function xh(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||k8;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=igt(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=$8),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:lgt(t)};c.levels=xh.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=$8,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=f,e&&(c._logEvent=kU());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,cb(l,c,"error","log"),cb(l,c,"fatal","error"),cb(l,c,"warn","error"),cb(l,c,"info","log"),cb(l,c,"debug","log"),cb(l,c,"trace","log")}function f(g,m){if(!g)throw new Error("missing bindings for child Pino");m=m||{},i&&g.serializers&&(m.serializers=g.serializers);const y=m.serializers;if(i&&y){var w=Object.assign({},r,y),b=t.browser.serialize===!0?Object.keys(w):i;delete g.serializers,NS([g],b,w,this._stdErrSerialize)}function v(E){this._childLevel=(E._childLevel|0)+1,this.error=lb(E,g,"error"),this.fatal=lb(E,g,"fatal"),this.warn=lb(E,g,"warn"),this.info=lb(E,g,"info"),this.debug=lb(E,g,"debug"),this.trace=lb(E,g,"trace"),w&&(this.serializers=w,this._serialize=b),e&&(this._logEvent=kU([].concat(E._logEvent.bindings,g)))}return v.prototype=this,new v(this)}return c}xh.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},xh.stdSerializers=rgt,xh.stdTimeFunctions=Object.assign({},{nullTime:z0e,epochTime:W0e,unixTime:ugt,isoTime:dgt});function cb(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?$8:i[n]?i[n]:k8[n]||k8[r]||$8,sgt(t,e,n)}function sgt(t,e,n){!t.transmit&&e[n]===$8||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===k8?k8:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&NS(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,ogt(this,n,o,s)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=xh.levels.values[l],d=xh.levels.values[n];if(d<u)return;agt(this,{ts:s,methodLevel:n,methodValue:d,transmitValue:xh.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function ogt(t,e,n,r){t._serialize&&NS(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=xh.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?F0e(i.shift(),i):void 0}else typeof s=="string"&&(s=F0e(i.shift(),i));return s!==void 0&&(o.msg=s),o}function NS(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=xh.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function lb(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function agt(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;NS(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=kU(c)}function kU(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function cgt(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function lgt(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?z0e:W0e}function OS(){return{}}function $U(t){return t}function $8(){}function z0e(){return!1}function W0e(){return Date.now()}function ugt(){return Math.round(Date.now()/1e3)}function dgt(){return new Date(Date.now()).toISOString()}function hgt(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const fgt=Vo(ngt),pgt={level:"info"},T8="custom_context";var ggt=Object.defineProperty,mgt=Object.defineProperties,ygt=Object.getOwnPropertyDescriptors,q0e=Object.getOwnPropertySymbols,wgt=Object.prototype.hasOwnProperty,vgt=Object.prototype.propertyIsEnumerable,H0e=(t,e,n)=>e in t?ggt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bgt=(t,e)=>{for(var n in e||(e={}))wgt.call(e,n)&&H0e(t,n,e[n]);if(q0e)for(var n of q0e(e))vgt.call(e,n)&&H0e(t,n,e[n]);return t},xgt=(t,e)=>mgt(t,ygt(e));function Egt(t){return xgt(bgt({},t),{level:(t==null?void 0:t.level)||pgt.level})}function Cgt(t,e=T8){return t[e]||""}function _gt(t,e,n=T8){return t[n]=e,t}function V0e(t,e=T8){let n="";return typeof t.bindings>"u"?n=Cgt(t,e):n=t.bindings().context||"",n}function Agt(t,e,n=T8){const r=V0e(t,n);return r.trim()?`${r}/${e}`:e}function Sgt(t,e,n=T8){const r=Agt(t,e,n),i=t.child({context:r});return _gt(i,r,n)}const K0e="wc",G0e=2,Z0e="client",TU=`${K0e}@${G0e}:${Z0e}:`,PU={name:Z0e,logger:"error"},Y0e="WALLETCONNECT_DEEPLINK_CHOICE",Igt="proposal",J0e="Proposal expired",kgt="session",ub=le.SEVEN_DAYS,$gt="engine",eo={wc_sessionPropose:{req:{ttl:le.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:le.ONE_DAY,prompt:!1,tag:1104},res:{ttl:le.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:le.ONE_DAY,prompt:!1,tag:1106},res:{ttl:le.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:le.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:le.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:le.ONE_DAY,prompt:!1,tag:1112},res:{ttl:le.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:le.ONE_DAY,prompt:!1,tag:1114},res:{ttl:le.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:le.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:le.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1119}}},NU={min:le.FIVE_MINUTES,max:le.SEVEN_DAYS},Eh={idle:"IDLE",active:"ACTIVE"},Tgt={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Pgt="request",Ngt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Ogt="wc",Rgt="auth",Mgt="authKeys",jgt="pairingTopics",Dgt="requests",RS=`${Ogt}@${1.5}:${Rgt}:`,MS=`${RS}:PUB_KEY`;var Lgt=Object.defineProperty,Bgt=Object.defineProperties,Ugt=Object.getOwnPropertyDescriptors,Q0e=Object.getOwnPropertySymbols,Fgt=Object.prototype.hasOwnProperty,zgt=Object.prototype.propertyIsEnumerable,OU=(t,e,n)=>e in t?Lgt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ar=(t,e)=>{for(var n in e||(e={}))Fgt.call(e,n)&&OU(t,n,e[n]);if(Q0e)for(var n of Q0e(e))zgt.call(e,n)&&OU(t,n,e[n]);return t},Do=(t,e)=>Bgt(t,Ugt(e)),ke=(t,e,n)=>OU(t,typeof e!="symbol"?e+"":e,n);let Wgt=class extends Rdt{constructor(e){super(e),ke(this,"name",$gt),ke(this,"events",new jv),ke(this,"initialized",!1),ke(this,"requestQueue",{state:Eh.idle,queue:[]}),ke(this,"sessionRequestQueue",{state:Eh.idle,queue:[]}),ke(this,"emittedSessionRequests",new $ot({limit:500})),ke(this,"requestQueueDelay",le.ONE_SECOND),ke(this,"expectedPairingMethodMap",new Map),ke(this,"recentlyDeletedMap",new Map),ke(this,"recentlyDeletedLimit",200),ke(this,"relayMessageCache",[]),ke(this,"pendingSessions",new Map),ke(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(eo)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},le.toMiliseconds(this.requestQueueDelay)))}),ke(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Do(ar({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=$lt(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=i,d,h=!1;try{if(u){const O=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=O.active}}catch(O){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),O}if(!u||!h){const{topic:O,uri:S}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=O,d=S}if(!u){const{message:O}=qe("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(O)}const f=await this.client.core.crypto.generateKeyPair(),g=eo.wc_sessionPropose.req.ttl||le.FIVE_MINUTES,m=ss(g),y=Do(ar(ar({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:i0e}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Es()}),w=Xn("session_connect",y.id),{reject:b,resolve:v,done:E}=w1(g,J0e),_=({id:O})=>{O===y.id&&(this.client.events.off("proposal_expire",_),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:J0e,code:0}}))};return this.client.events.on("proposal_expire",_),this.events.once(w,({error:O,session:S})=>{this.client.events.off("proposal_expire",_),O?b(O):S&&v(S)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:d,approval:E}}),ke(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ke(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[og.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(I){throw o.setError(x8.no_internet_connection),I}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(I){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(x8.proposal_not_found),I}try{await this.isValidApprove(n)}catch(I){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(x8.session_approve_namespace_validation_failure),I}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:m,requiredNamespaces:y,optionalNamespaces:w}=f;let b=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});b||(b=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:og.session_approve_started,properties:{topic:g,trace:[og.session_approve_started,og.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),E=m.publicKey,_=await this.client.core.crypto.generateSharedKey(v,E),O=ar(ar(ar({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:ss(ub)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),S=qr.relay;b.addTrace(og.subscribing_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:S,internal:{skipSubscribe:!0}})}catch(I){throw b.setError(x8.subscribe_session_topic_failure),I}b.addTrace(og.subscribe_session_topic_success);const R=Do(ar({},O),{topic:_,requiredNamespaces:y,optionalNamespaces:w,pairingTopic:g,acknowledged:!1,self:O.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:v,transportType:qr.relay});await this.client.session.set(_,R),b.addTrace(og.store_session);try{await this.sendApproveSession({sessionTopic:_,proposal:f,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:v},sessionSettleRequest:O,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),b.addTrace(og.session_approve_publish_success)}catch(I){throw this.client.logger.error(I),this.client.session.delete(_,Wr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(_),I}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:m.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(_,ss(ub)),{topic:_,acknowledged:()=>Promise.resolve(this.client.session.get(_))}}),ke(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:eo.wc_sessionPropose.reject}),await this.deleteProposal(r)}),ke(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=w1(),c=Es(),l=ec().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Xn("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:s}}),ke(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Es(),{done:s,resolve:o,reject:a}=w1();return this.events.once(Xn("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,ss(ub)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),ke(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:i,topic:s,expiry:o=eo.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===qr.relay&&await this.confirmOnlineStateOrThrow();const c=Es(),l=ec().toString(),{done:u,resolve:d,reject:h}=w1(o,"Request expired. Please try again.");this.events.once(Xn("session_request",c),({error:y,result:w})=>{y?h(y):d(w)});const f="wc_sessionRequest",g=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(g)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:{request:Do(ar({},i),{expiryTimestamp:ss(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:g}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await u();const m={request:Do(ar({},i),{expiryTimestamp:ss(o)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),y()}),new Promise(async y=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const b=await _ot(this.client.core.storage,Y0e);await xot({id:c,topic:s,wcDeepLink:b})}y()}),u()]).then(y=>y[2])}),ke(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===qr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);cs(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):mi(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),ke(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Es(),s=ec().toString(),{done:o,resolve:a,reject:c}=w1();this.events.once(Xn("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ke(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=ec().toString(),a=Es();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ke(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Wr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=qe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),ke(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>Nlt(r,n)))),ke(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ke(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?qr.link_mode:qr.relay;o===qr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:g,methods:m=[],expiry:y}=n,w=[...n.resources||[]],{topic:b,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:v}});const E=await this.client.core.crypto.generateKeyPair(),_=yS(E);if(await Promise.all([this.client.auth.authKeys.set(MS,{responseTopic:_,publicKey:E}),this.client.auth.pairingTopics.set(_,{topic:_,pairingTopic:b})]),await this.client.core.relayer.subscribe(_,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),m.length>0){const{namespace:$}=m1(a[0]);let L=Uat($,"request",m);sS(w)&&(L=zat(L,w.pop())),w.push(L)}const O=y&&y>eo.wc_sessionAuthenticate.req.ttl?y:eo.wc_sessionAuthenticate.req.ttl,S={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:g,resources:w},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:ss(O)},R={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},I={requiredNamespaces:{},optionalNamespaces:R,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:ss(eo.wc_sessionPropose.req.ttl),id:Es()},{done:D,resolve:j,reject:F}=w1(O,"Request expired"),M=Es(),C=Xn("session_connect",I.id),x=Xn("session_request",M),A=async({error:$,session:L})=>{this.events.off(x,P),$?F($):L&&j({session:L})},P=async $=>{var L,B,T;if(await this.deletePendingAuthRequest(M,{message:"fulfilled",code:0}),$.error){const J=Wr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return $.error.code===J.code?void 0:(this.events.off(C,A),F($.error.message))}await this.deleteProposal(I.id),this.events.off(C,A);const{cacaos:z,responder:q}=$.result,U=[],V=[];for(const J of z){await ffe({cacao:J,projectId:this.client.core.projectId})||(this.client.logger.error(J,"Signature verification failed"),F(Wr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:oe}=J,se=sS(oe.resources),ae=[TB(oe.iss)],fe=iS(oe.iss);if(se){const ce=mfe(se),de=yfe(se);U.push(...ce),ae.push(...de)}for(const ce of ae)V.push(`${ce}:${fe}`)}const Z=await this.client.core.crypto.generateSharedKey(E,q.publicKey);let K;U.length>0&&(K={topic:Z,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:q,controller:q.publicKey,expiry:ss(ub),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:gpe([...new Set(U)],[...new Set(V)]),transportType:o},await this.client.core.relayer.subscribe(Z,{transportType:o}),await this.client.session.set(Z,K),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:q.metadata}),K=this.client.session.get(Z)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(B=q.metadata.redirect)!=null&&B.linkMode&&(T=q.metadata.redirect)!=null&&T.universal&&r&&(this.client.core.addLinkModeSupportedApp(q.metadata.redirect.universal),this.client.session.update(Z,{transportType:qr.link_mode})),j({auths:z,session:K})};this.events.once(C,A),this.events.once(x,P);let N;try{if(s){const $=Ys("wc_sessionAuthenticate",S,M);this.client.core.history.set(b,$);const L=await this.client.core.crypto.encode("",$,{type:c8,encoding:sg});N=vS(r,b,L)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:S,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:M}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:I,expiry:eo.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:I.id})])}catch($){throw this.events.off(C,A),this.events.off(x,P),$}return await this.setProposal(I.id,I),await this.setAuthRequest(M,{request:Do(ar({},S),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:N??v,response:D}}),ke(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[I1.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw s.setError(E8.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(E8.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||qr.relay;a===qr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=yS(c),d={type:Vf,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const y of i){if(!await ffe({cacao:y,projectId:this.client.core.projectId})){s.setError(E8.invalid_cacao);const _=Wr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:_,encodeOpts:d}),new Error(_.message)}s.addTrace(I1.cacaos_verified);const{p:w}=y,b=sS(w.resources),v=[TB(w.iss)],E=iS(w.iss);if(b){const _=mfe(b),O=yfe(b);h.push(..._),v.push(...O)}for(const _ of v)f.push(`${_}:${E}`)}const g=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(I1.create_authenticated_session_topic);let m;if((h==null?void 0:h.length)>0){m={topic:g,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:ss(ub),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:gpe([...new Set(h)],[...new Set(f)]),transportType:a},s.addTrace(I1.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(g,{transportType:a})}catch(y){throw s.setError(E8.subscribe_authenticated_session_topic_failure),y}s.addTrace(I1.subscribe_authenticated_session_topic_success),await this.client.session.set(g,m),s.addTrace(I1.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(I1.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw s.setError(E8.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:m}}),ke(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===qr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=yS(o),l={type:Vf,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:eo.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),ke(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return pfe(r,i)}),ke(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ke(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ke(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Wr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(Y0e).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,Wr("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Eh.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),ke(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(x8.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Wr("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ke(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Eh.idle,this.client.events.emit("session_request_expire",{id:n}))}),ke(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),ke(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ke(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,ss(eo.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ke(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=qr.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),ke(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||ss(eo.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),ke(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:h={}}=n,f=Ys(i,s,c);let g;const m=!!u;try{const b=m?sg:Ya;g=await this.client.core.crypto.encode(r,f,{encoding:b})}catch(b){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),b}let y;if(Ngt.includes(i)){const b=Gl(JSON.stringify(f)),v=Gl(g);y=await this.client.core.verify.register({id:v,decryptedId:b})}const w=ar(ar({},eo[i].req),h);if(w.attestation=y,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(r,f),m){const b=vS(u,r,g);await global.Linking.openURL(b,this.client.name)}else w.tvf=Do(ar({},d),{correlationId:f.id}),l?(w.internal=Do(ar({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,g,w)):this.client.core.relayer.publish(r,g,w).catch(b=>this.client.logger.error(b));return f.id}),ke(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=Ys("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const o=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:Ya}),a=Gl(JSON.stringify(s)),c=Gl(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:Do(ar({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),ke(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=n,c=Zf(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:Ya}),u=Ys("wc_sessionSettle",o,a==null?void 0:a.id),d=await this.client.core.crypto.encode(r,u,{encoding:Ya});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:d},opts:Do(ar({},a),{publishMethod:"wc_approveSession"})})}),ke(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=Zf(r,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const g=d?sg:Ya;u=await this.client.core.crypto.encode(i,l,Do(ar({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),g}let h,f;try{h=await this.client.core.history.get(i,r);const g=h.request;try{f=this.getTVFParams(r,g.params,s)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m==null?void 0:m.message}`)}}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),g}if(d){const g=vS(c,i,u);await global.Linking.openURL(g,this.client.name)}else{const g=h.request.method,m=eo[g].res;m.tvf=Do(ar({},f),{correlationId:r}),o?(m.internal=Do(ar({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),ke(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=ib(r,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?sg:Ya;u=await this.client.core.crypto.encode(i,l,Do(ar({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),f}let h;try{h=await this.client.core.history.get(i,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),f}if(d){const f=vS(c,i,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,g=a||eo[f].res;this.client.core.relayer.publish(i,u,g)}await this.client.core.history.resolve(l)}),ke(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;K0(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{K0(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),ke(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ke(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ke(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Eh.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Eh.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Eh.idle}),ke(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ke(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ke(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=qe("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ke(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ke(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Yf.proposal_listener_not_found)),this.isValidConnect(ar({},i.params));const u=a.expiryTimestamp||ss(eo.wc_sessionPropose.req.ttl),d=ar({id:c,pairingTopic:r,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:Gl(JSON.stringify(i)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(vh.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:eo.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ke(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(cs(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(mi(r)){await this.deleteProposal(s);const o=Xn("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),ke(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const g=this.client.proposal.get(f.proposalId),m=Do(ar(ar(ar({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:qr.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(Xn("session_connect",f.proposalId),{session:m}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ke(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;cs(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Xn("session_approve",i),{})):mi(r)&&(await this.client.session.delete(n,Wr("USER_DISCONNECTED")),this.events.emit(Xn("session_approve",i),{error:r.error}))}),ke(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=d8.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Wr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(ar({topic:n},i));try{d8.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(c){throw d8.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ke(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ke(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=Xn("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);cs(r)?this.events.emit(Xn("session_update",i),{}):mi(r)&&this.events.emit(Xn("session_update",i),{error:r.error})}),ke(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,ss(ub)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ke(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=Xn("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);cs(r)?this.events.emit(Xn("session_extend",i),{}):mi(r)&&this.events.emit(Xn("session_extend",i),{error:r.error})}),ke(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ke(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=Xn("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);cs(r)?this.events.emit(Xn("session_ping",i),{}):mi(r)&&this.events.emit(Xn("session_ping",i),{error:r.error})},500)}),ke(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(Ii.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Wr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ke(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(ar({topic:o},h));const f=this.client.session.get(o),g=await this.getVerifyContext({attestationId:c,hash:Gl(JSON.stringify(Ys("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),m={id:d,topic:o,params:h,verifyContext:g};await this.setPendingSessionRequest(m),u===qr.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=f.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),ke(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=Xn("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);cs(r)?this.events.emit(Xn("session_request",i),{result:r.result}):mi(r)&&this.events.emit(Xn("session_request",i),{error:r.error})}),ke(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=d8.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(ar({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),d8.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ke(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),cs(r)?this.events.emit(Xn("session_request",i),{result:r.result}):mi(r)&&this.events.emit(Xn("session_request",i),{error:r.error})}),ke(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:o,hash:Gl(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:f,pairingTopic:i,transportType:c}),c===qr.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),f={type:Vf,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:f,rpcOpts:eo.wc_sessionAuthenticate.autoReject,appLink:h})}}),ke(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ke(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Eh.idle,this.processSessionRequestQueue()},le.toMiliseconds(this.requestQueueDelay))}),ke(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Xn("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Xn("session_request",s.request.id),{error:r})})}),ke(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Eh.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ke(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Eh.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),ke(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Ys("wc_sessionPropose",Do(ar({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),ke(this,"isValidConnect",async n=>{if(!Ja(n)){const{message:l}=qe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(as(r)||await this.isValidPairingTopic(r),!qlt(c)){const{message:l}=qe("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!as(i)&&mh(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!as(s)&&mh(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),as(o)||this.validateSessionProps(o,"sessionProperties"),!as(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ke(this,"validateNamespaces",(n,r)=>{const i=Wlt(n,"connect()",r);if(i)throw new Error(i.message)}),ke(this,"isValidApprove",async n=>{if(!Ja(n))throw new Error(qe("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=JB(i,"approve()");if(l)throw new Error(l.message);const u=bpe(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Hi(s,!0)){const{message:d}=qe("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(as(o)||this.validateSessionProps(o,"sessionProperties"),!as(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(h=>d.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),ke(this,"isValidReject",async n=>{if(!Ja(n)){const{message:s}=qe("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Vlt(i)){const{message:s}=qe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ke(this,"isValidSessionSettleRequest",n=>{if(!Ja(n)){const{message:l}=qe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!wpe(r)){const{message:l}=qe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Dlt(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=JB(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(K0(o)){const{message:l}=qe("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ke(this,"isValidUpdate",async n=>{if(!Ja(n)){const{message:c}=qe("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=JB(i,"update()");if(o)throw new Error(o.message);const a=bpe(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),ke(this,"isValidExtend",async n=>{if(!Ja(n)){const{message:i}=qe("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ke(this,"isValidRequest",async n=>{if(!Ja(n)){const{message:c}=qe("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!vpe(a,s)){const{message:c}=qe("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!Klt(i)){const{message:c}=qe("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!Ylt(a,s,i.method)){const{message:c}=qe("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!eut(o,NU)){const{message:c}=qe("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${NU.min} and ${NU.max}`);throw new Error(c)}}),ke(this,"isValidRespond",async n=>{var r;if(!Ja(n)){const{message:o}=qe("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Glt(s)){const{message:o}=qe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),ke(this,"isValidPing",async n=>{if(!Ja(n)){const{message:i}=qe("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ke(this,"isValidEmit",async n=>{if(!Ja(n)){const{message:a}=qe("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!vpe(o,s)){const{message:a}=qe("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Zlt(i)){const{message:a}=qe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!Jlt(o,s,i.name)){const{message:a}=qe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),ke(this,"isValidDisconnect",async n=>{if(!Ja(n)){const{message:i}=qe("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ke(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Hi(i,!1))throw new Error("uri is required parameter");if(!Hi(s,!1))throw new Error("domain is required parameter");if(!Hi(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>m1(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=m1(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ke(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||b8,validation:"UNKNOWN",origin:o.url||""}};try{if(a===qr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ke(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=qe("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),ke(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ke(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),ke(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=qe("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),ke(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,l,u,d,h;return!n||r!==qr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ke(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),ke(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=zhe(n,"topic")||"",i=decodeURIComponent(zhe(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:qr.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),ke(this,"registerLinkModeListeners",async()=>{var n;if(vB()||V0()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ke(this,"getTVFParams",(n,r,i)=>{var s,o,a;if(!((s=r.request)!=null&&s.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),ke(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ke(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,o=Tgt[s];if(s==="sui_signTransaction")return[_at(r.transactionBytes)];if(s==="near_signTransaction")return[lfe(r)];if(s==="near_signTransactions")return r.map(c=>lfe(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[gut({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return Zl(r)?r.map(c=>ufe(c)):[ufe(r)];if(s==="cosmos_signDirect")return[Sat(r)];if(typeof r=="string")return[r];const a=r[o.key];if(Zl(a))return s==="solana_signAllTransactions"?a.map(c=>Cat(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Ii.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(MS)?this.client.auth.authKeys.get(MS):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===qr.link_mode?sg:Ya});sb(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:Gl(r)})):A1(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Jl.expired,async e=>{const{topic:n,id:r}=Fhe(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,qe("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,qe("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(S1.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(S1.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Hi(e,!1)){const{message:n}=qe("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=qe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(K0(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=qe("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Hi(e,!1)){const{message:n}=qe("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=qe("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(K0(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=qe("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=qe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Hi(e,!1)){const{message:n}=qe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=qe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Hlt(e)){const{message:n}=qe("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=qe("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(K0(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=qe("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},qgt=class extends k1{constructor(e,n){super(e,n,Igt,TU),this.core=e,this.logger=n}},Hgt=class extends k1{constructor(e,n){super(e,n,kgt,TU),this.core=e,this.logger=n}},Vgt=class extends k1{constructor(e,n){super(e,n,Pgt,TU,r=>r.id),this.core=e,this.logger=n}},Kgt=class extends k1{constructor(e,n){super(e,n,Mgt,RS,()=>MS),this.core=e,this.logger=n}},Ggt=class extends k1{constructor(e,n){super(e,n,jgt,RS),this.core=e,this.logger=n}},Zgt=class extends k1{constructor(e,n){super(e,n,Dgt,RS,r=>r.id),this.core=e,this.logger=n}};var Ygt=Object.defineProperty,Jgt=(t,e,n)=>e in t?Ygt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RU=(t,e,n)=>Jgt(t,typeof e!="symbol"?e+"":e,n);let Qgt=class{constructor(e,n){this.core=e,this.logger=n,RU(this,"authKeys"),RU(this,"pairingTopics"),RU(this,"requests"),this.authKeys=new Kgt(this.core,this.logger),this.pairingTopics=new Ggt(this.core,this.logger),this.requests=new Zgt(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var Xgt=Object.defineProperty,emt=(t,e,n)=>e in t?Xgt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_n=(t,e,n)=>emt(t,typeof e!="symbol"?e+"":e,n);let tmt=class fEe extends Odt{constructor(e){super(e),_n(this,"protocol",K0e),_n(this,"version",G0e),_n(this,"name",PU.name),_n(this,"metadata"),_n(this,"core"),_n(this,"logger"),_n(this,"events",new qi.EventEmitter),_n(this,"engine"),_n(this,"session"),_n(this,"proposal"),_n(this,"pendingRequest"),_n(this,"auth"),_n(this,"signConfig"),_n(this,"on",(r,i)=>this.events.on(r,i)),_n(this,"once",(r,i)=>this.events.once(r,i)),_n(this,"off",(r,i)=>this.events.off(r,i)),_n(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),_n(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),_n(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),_n(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),_n(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),_n(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||PU.name,this.metadata=got(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:fgt(Egt({level:(e==null?void 0:e.logger)||PU.logger}));this.core=(e==null?void 0:e.core)||new tgt(e),this.logger=Sgt(n,this.name),this.session=new Hgt(this.core,this.logger),this.proposal=new qgt(this.core,this.logger),this.pendingRequest=new Vgt(this.core,this.logger),this.engine=new Wgt(this),this.auth=new Qgt(this.core,this.logger)}static async init(e){const n=new fEe(e);return await n.initialize(),n}get context(){return V0e(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const X0e=sU;var db=Ch;const P8=dmt().console||{},nmt={mapHttpRequest:DS,mapHttpResponse:DS,wrapRequestSerializer:jU,wrapResponseSerializer:jU,wrapErrorSerializer:jU,req:DS,res:DS,err:amt};function rmt(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Ch(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||P8;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=rmt(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=N8),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:cmt(t)};c.levels=Ch.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=N8,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=f,e&&(c._logEvent=MU());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,hb(l,c,"error","log"),hb(l,c,"fatal","error"),hb(l,c,"warn","error"),hb(l,c,"info","log"),hb(l,c,"debug","log"),hb(l,c,"trace","log")}function f(g,m){if(!g)throw new Error("missing bindings for child Pino");m=m||{},i&&g.serializers&&(m.serializers=g.serializers);const y=m.serializers;if(i&&y){var w=Object.assign({},r,y),b=t.browser.serialize===!0?Object.keys(w):i;delete g.serializers,jS([g],b,w,this._stdErrSerialize)}function v(E){this._childLevel=(E._childLevel|0)+1,this.error=fb(E,g,"error"),this.fatal=fb(E,g,"fatal"),this.warn=fb(E,g,"warn"),this.info=fb(E,g,"info"),this.debug=fb(E,g,"debug"),this.trace=fb(E,g,"trace"),w&&(this.serializers=w,this._serialize=b),e&&(this._logEvent=MU([].concat(E._logEvent.bindings,g)))}return v.prototype=this,new v(this)}return c}Ch.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Ch.stdSerializers=nmt,Ch.stdTimeFunctions=Object.assign({},{nullTime:ege,epochTime:tge,unixTime:lmt,isoTime:umt});function hb(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?N8:i[n]?i[n]:P8[n]||P8[r]||N8,imt(t,e,n)}function imt(t,e,n){!t.transmit&&e[n]===N8||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===P8?P8:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&jS(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,smt(this,n,o,s)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=Ch.levels.values[l],d=Ch.levels.values[n];if(d<u)return;omt(this,{ts:s,methodLevel:n,methodValue:d,transmitValue:Ch.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function smt(t,e,n,r){t._serialize&&jS(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=Ch.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?X0e(i.shift(),i):void 0}else typeof s=="string"&&(s=X0e(i.shift(),i));return s!==void 0&&(o.msg=s),o}function jS(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=Ch.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function fb(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function omt(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;jS(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=MU(c)}function MU(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function amt(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function cmt(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?ege:tge}function DS(){return{}}function jU(t){return t}function N8(){}function ege(){return!1}function tge(){return Date.now()}function lmt(){return Math.round(Date.now()/1e3)}function umt(){return new Date(Date.now()).toISOString()}function dmt(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const pb=Vo(db),hmt={level:"info"},O8="custom_context",DU=1e3*1024;let fmt=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},nge=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new fmt(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},rge=class{constructor(e,n=DU){this.level=e??"error",this.levelValue=db.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new nge(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===db.levels.values.error?console.error(e):n===db.levels.values.warn?console.warn(e):n===db.levels.values.debug?console.debug(e):n===db.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(qa({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new nge(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(qa({extraMetadata:e})),new Blob(n,{type:"application/json"})}},pmt=class{constructor(e,n=DU){this.baseChunkLogger=new rge(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},gmt=class{constructor(e,n=DU){this.baseChunkLogger=new rge(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var mmt=Object.defineProperty,ymt=Object.defineProperties,wmt=Object.getOwnPropertyDescriptors,ige=Object.getOwnPropertySymbols,vmt=Object.prototype.hasOwnProperty,bmt=Object.prototype.propertyIsEnumerable,sge=(t,e,n)=>e in t?mmt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LS=(t,e)=>{for(var n in e||(e={}))vmt.call(e,n)&&sge(t,n,e[n]);if(ige)for(var n of ige(e))bmt.call(e,n)&&sge(t,n,e[n]);return t},BS=(t,e)=>ymt(t,wmt(e));function gb(t){return BS(LS({},t),{level:(t==null?void 0:t.level)||hmt.level})}function xmt(t,e=O8){return t[e]||""}function Emt(t,e,n=O8){return t[n]=e,t}function nc(t,e=O8){let n="";return typeof t.bindings>"u"?n=xmt(t,e):n=t.bindings().context||"",n}function Cmt(t,e,n=O8){const r=nc(t,n);return r.trim()?`${r}/${e}`:e}function pa(t,e,n=O8){const r=Cmt(t,e,n),i=t.child({context:r});return Emt(i,r,n)}function _mt(t){var e,n;const r=new pmt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:pb(BS(LS({},t.opts),{level:"trace",browser:BS(LS({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function Amt(t){var e;const n=new gmt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:pb(BS(LS({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function oge(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?_mt(t):Amt(t)}var LU={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ea<"u"&&Ea,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Ea<"u"&&Ea||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(x){return x&&DataView.prototype.isPrototypeOf(x)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(x){return x&&u.indexOf(Object.prototype.toString.call(x))>-1};function h(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(x)||x==="")throw new TypeError('Invalid character in header field name: "'+x+'"');return x.toLowerCase()}function f(x){return typeof x!="string"&&(x=String(x)),x}function g(x){var A={next:function(){var P=x.shift();return{done:P===void 0,value:P}}};return c.iterable&&(A[Symbol.iterator]=function(){return A}),A}function m(x){this.map={},x instanceof m?x.forEach(function(A,P){this.append(P,A)},this):Array.isArray(x)?x.forEach(function(A){if(A.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+A.length);this.append(A[0],A[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(A){this.append(A,x[A])},this)}m.prototype.append=function(x,A){x=h(x),A=f(A);var P=this.map[x];this.map[x]=P?P+", "+A:A},m.prototype.delete=function(x){delete this.map[h(x)]},m.prototype.get=function(x){return x=h(x),this.has(x)?this.map[x]:null},m.prototype.has=function(x){return this.map.hasOwnProperty(h(x))},m.prototype.set=function(x,A){this.map[h(x)]=f(A)},m.prototype.forEach=function(x,A){for(var P in this.map)this.map.hasOwnProperty(P)&&x.call(A,this.map[P],P,this)},m.prototype.keys=function(){var x=[];return this.forEach(function(A,P){x.push(P)}),g(x)},m.prototype.values=function(){var x=[];return this.forEach(function(A){x.push(A)}),g(x)},m.prototype.entries=function(){var x=[];return this.forEach(function(A,P){x.push([P,A])}),g(x)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(x){if(!x._noBody){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}}function w(x){return new Promise(function(A,P){x.onload=function(){A(x.result)},x.onerror=function(){P(x.error)}})}function b(x){var A=new FileReader,P=w(A);return A.readAsArrayBuffer(x),P}function v(x){var A=new FileReader,P=w(A),N=/charset=([A-Za-z0-9_-]+)/.exec(x.type),$=N?N[1]:"utf-8";return A.readAsText(x,$),P}function E(x){for(var A=new Uint8Array(x),P=new Array(A.length),N=0;N<A.length;N++)P[N]=String.fromCharCode(A[N]);return P.join("")}function _(x){if(x.slice)return x.slice(0);var A=new Uint8Array(x.byteLength);return A.set(new Uint8Array(x)),A.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(x){this.bodyUsed=this.bodyUsed,this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:c.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:c.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():c.arrayBuffer&&c.blob&&l(x)?(this._bodyArrayBuffer=_(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||d(x))?this._bodyArrayBuffer=_(x):this._bodyText=x=Object.prototype.toString.call(x):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var x=y(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var x=y(this);return x||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var x=y(this);if(x)return x;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function R(x){var A=x.toUpperCase();return S.indexOf(A)>-1?A:x}function I(x,A){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var P=A.body;if(x instanceof I){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,A.headers||(this.headers=new m(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!P&&x._bodyInit!=null&&(P=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new m(A.headers)),this.method=R(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal||function(){if("AbortController"in a){var L=new AbortController;return L.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&P)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(P),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var N=/([?&])_=[^&]*/;if(N.test(this.url))this.url=this.url.replace(N,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function D(x){var A=new FormData;return x.trim().split("&").forEach(function(P){if(P){var N=P.split("="),$=N.shift().replace(/\+/g," "),L=N.join("=").replace(/\+/g," ");A.append(decodeURIComponent($),decodeURIComponent(L))}}),A}function j(x){var A=new m,P=x.replace(/\r?\n[\t ]+/g," ");return P.split("\r").map(function(N){return N.indexOf(`
`)===0?N.substr(1,N.length):N}).forEach(function(N){var $=N.split(":"),L=$.shift().trim();if(L){var B=$.join(":").trim();try{A.append(L,B)}catch(T){console.warn("Response "+T.message)}}}),A}O.call(I.prototype);function F(x,A){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=A.statusText===void 0?"":""+A.statusText,this.headers=new m(A.headers),this.url=A.url||"",this._initBody(x)}O.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},F.error=function(){var x=new F(null,{status:200,statusText:""});return x.ok=!1,x.status=0,x.type="error",x};var M=[301,302,303,307,308];F.redirect=function(x,A){if(M.indexOf(A)===-1)throw new RangeError("Invalid status code");return new F(null,{status:A,headers:{location:x}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(A,P){this.message=A,this.name=P;var N=Error(A);this.stack=N.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function C(x,A){return new Promise(function(P,N){var $=new I(x,A);if($.signal&&$.signal.aborted)return N(new o.DOMException("Aborted","AbortError"));var L=new XMLHttpRequest;function B(){L.abort()}L.onload=function(){var q={statusText:L.statusText,headers:j(L.getAllResponseHeaders()||"")};$.url.indexOf("file://")===0&&(L.status<200||L.status>599)?q.status=200:q.status=L.status,q.url="responseURL"in L?L.responseURL:q.headers.get("X-Request-URL");var U="response"in L?L.response:L.responseText;setTimeout(function(){P(new F(U,q))},0)},L.onerror=function(){setTimeout(function(){N(new TypeError("Network request failed"))},0)},L.ontimeout=function(){setTimeout(function(){N(new TypeError("Network request timed out"))},0)},L.onabort=function(){setTimeout(function(){N(new o.DOMException("Aborted","AbortError"))},0)};function T(q){try{return q===""&&a.location.href?a.location.href:q}catch{return q}}if(L.open($.method,T($.url),!0),$.credentials==="include"?L.withCredentials=!0:$.credentials==="omit"&&(L.withCredentials=!1),"responseType"in L&&(c.blob?L.responseType="blob":c.arrayBuffer&&(L.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof m||a.Headers&&A.headers instanceof a.Headers)){var z=[];Object.getOwnPropertyNames(A.headers).forEach(function(q){z.push(h(q)),L.setRequestHeader(q,f(A.headers[q]))}),$.headers.forEach(function(q,U){z.indexOf(U)===-1&&L.setRequestHeader(U,q)})}else $.headers.forEach(function(q,U){L.setRequestHeader(U,q)});$.signal&&($.signal.addEventListener("abort",B),L.onreadystatechange=function(){L.readyState===4&&$.signal.removeEventListener("abort",B)}),L.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return C.polyfill=!0,a.fetch||(a.fetch=C,a.Headers=m,a.Request=I,a.Response=F),o.Headers=m,o.Request=I,o.Response=F,o.fetch=C,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(LU,LU.exports);var Smt=LU.exports;const age=Vo(Smt);var Imt=Object.defineProperty,kmt=Object.defineProperties,$mt=Object.getOwnPropertyDescriptors,cge=Object.getOwnPropertySymbols,Tmt=Object.prototype.hasOwnProperty,Pmt=Object.prototype.propertyIsEnumerable,lge=(t,e,n)=>e in t?Imt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uge=(t,e)=>{for(var n in e||(e={}))Tmt.call(e,n)&&lge(t,n,e[n]);if(cge)for(var n of cge(e))Pmt.call(e,n)&&lge(t,n,e[n]);return t},dge=(t,e)=>kmt(t,$mt(e));const Nmt={Accept:"application/json","Content-Type":"application/json"},Omt="POST",hge={headers:Nmt,method:Omt},fge=10;let yi=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new qi.EventEmitter,this.isAvailable=!1,this.registering=!1,!Zpe(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=qa(e),r=await(await age(this.url,dge(uge({},hge),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!Zpe(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=qa({id:1,jsonrpc:"2.0",method:"test",params:[]});await age(e,dge(uge({},hge),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Qu(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=ib(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return Wpe(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>fge&&this.events.setMaxListeners(fge)}};const pge="error",Rmt="wss://relay.walletconnect.org",Mmt="wc",jmt="universal_provider",US=`${Mmt}@2:${jmt}:`,gge="https://rpc.walletconnect.org/v1/",mge="generic",Dmt=`${gge}bundler`,Xl={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function BU(t){return t==null||typeof t!="object"&&typeof t!="function"}function yge(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function wge(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Lmt="[object RegExp]",vge="[object String]",bge="[object Number]",xge="[object Boolean]",Ege="[object Arguments]",Bmt="[object Symbol]",Umt="[object Date]",Fmt="[object Map]",zmt="[object Set]",Wmt="[object Array]",qmt="[object ArrayBuffer]",Hmt="[object Object]",Vmt="[object DataView]",Kmt="[object Uint8Array]",Gmt="[object Uint8ClampedArray]",Zmt="[object Uint16Array]",Ymt="[object Uint32Array]",Jmt="[object Int8Array]",Qmt="[object Int16Array]",Xmt="[object Int32Array]",e1t="[object Float32Array]",t1t="[object Float64Array]";function UU(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function n1t(t,e){return mb(t,void 0,t,new Map,e)}function mb(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(BU(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=mb(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,mb(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(mb(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(UU(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=mb(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),$1(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),$1(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),$1(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,$1(o,t,n,r,i),o}if(typeof t=="object"&&r1t(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),$1(o,t,n,r,i),o}return t}function $1(t,e,n=t,r,i){const s=[...Object.keys(e),...yge(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=mb(e[a],a,n,r,i))}}function r1t(t){switch(wge(t)){case Ege:case Wmt:case qmt:case Vmt:case xge:case Umt:case e1t:case t1t:case Jmt:case Qmt:case Xmt:case Fmt:case bge:case Hmt:case Lmt:case zmt:case vge:case Bmt:case Kmt:case Gmt:case Zmt:case Ymt:return!0;default:return!1}}function i1t(t,e){return n1t(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case bge:case vge:case xge:{const o=new t.constructor(t==null?void 0:t.valueOf());return $1(o,t),o}case Ege:{const o={};return $1(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function Cge(t){return i1t(t)}function _ge(t){return t!==null&&typeof t=="object"&&wge(t)==="[object Arguments]"}function Age(t){return typeof t=="object"&&t!==null}function s1t(){}function o1t(t){return UU(t)}function a1t(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function c1t(t){if(BU(t))return t;if(Array.isArray(t)||UU(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function l1t(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=FU(i,o,r,new Map)}return i}function FU(t,e,n,r){if(BU(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return c1t(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...yge(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(_ge(a)&&(a={...a}),_ge(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Cge(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||Age(c)&&Age(a)?t[o]=FU(c,a,n,r):c==null&&a1t(a)?t[o]=FU({},a,n,r):c==null&&o1t(a)?t[o]=Cge(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function u1t(t,...e){return l1t(t,...e,s1t)}var d1t=Object.defineProperty,h1t=Object.defineProperties,f1t=Object.getOwnPropertyDescriptors,Sge=Object.getOwnPropertySymbols,p1t=Object.prototype.hasOwnProperty,g1t=Object.prototype.propertyIsEnumerable,Ige=(t,e,n)=>e in t?d1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FS=(t,e)=>{for(var n in e||(e={}))p1t.call(e,n)&&Ige(t,n,e[n]);if(Sge)for(var n of Sge(e))g1t.call(e,n)&&Ige(t,n,e[n]);return t},m1t=(t,e)=>h1t(t,f1t(e));function Xc(t,e,n){var r;const i=m1(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${gge}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function T1(t){return t.includes(":")?t.split(":")[1]:t}function kge(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function y1t(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function $ge(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n==null?void 0:n.chains)==null?void 0:r.length)&&((i=n==null?void 0:n.chains)==null?void 0:i.length)>0}))}function zS(t={},e={}){const n=$ge(Tge(t)),r=$ge(Tge(e));return u1t(n,r)}function Tge(t){var e,n,r,i,s;const o={};if(!mh(t))return o;for(const[a,c]of Object.entries(t)){const l=bS(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=eb(a);o[f]=m1t(FS(FS({},o[f]),c),{chains:ph(l,(e=o[f])==null?void 0:e.chains),methods:ph(u,(n=o[f])==null?void 0:n.methods),events:ph(d,(r=o[f])==null?void 0:r.events)}),(mh(h)||mh(((i=o[f])==null?void 0:i.rpcMap)||{}))&&(o[f].rpcMap=FS(FS({},h),(s=o[f])==null?void 0:s.rpcMap))}return o}function Pge(t){return t.includes(":")?t.split(":")[2]:t}function Nge(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=bS(n)?[n]:r.chains?r.chains:kge(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function zU(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Oge={},Fn=t=>Oge[t],WU=(t,e)=>{Oge[t]=e};var w1t=Object.defineProperty,Rge=Object.getOwnPropertySymbols,v1t=Object.prototype.hasOwnProperty,b1t=Object.prototype.propertyIsEnumerable,Mge=(t,e,n)=>e in t?w1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jge=(t,e)=>{for(var n in e||(e={}))v1t.call(e,n)&&Mge(t,n,e[n]);if(Rge)for(var n of Rge(e))b1t.call(e,n)&&Mge(t,n,e[n]);return t};const Dge="eip155",x1t=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],E1t=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,qU=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,Lge=t=>Object.keys(t).filter(e=>x1t.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),C1t=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!mh(i)&&!mh(r))return;const o=Lge(r);for(const a of n){const c=E1t(a);if(!c)continue;s[qU(c)]=o;const l=i==null?void 0:i[`${Dge}:${c}`];if(l){const u=l==null?void 0:l[`${Dge}:${c}:${e}`];s[qU(c)]=jge(jge({},s[qU(c)]),Lge(u||l))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var _1t=Object.defineProperty,A1t=(t,e,n)=>e in t?_1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yb=(t,e,n)=>A1t(t,typeof e!="symbol"?e+"":e,n);let S1t=class{constructor(e){yb(this,"name","polkadot"),yb(this,"client"),yb(this,"httpProviders"),yb(this,"events"),yb(this,"namespace"),yb(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=T1(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Xc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Fn("disableProviderPing")))}};var I1t=Object.defineProperty,k1t=Object.defineProperties,$1t=Object.getOwnPropertyDescriptors,Bge=Object.getOwnPropertySymbols,T1t=Object.prototype.hasOwnProperty,P1t=Object.prototype.propertyIsEnumerable,HU=(t,e,n)=>e in t?I1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uge=(t,e)=>{for(var n in e||(e={}))T1t.call(e,n)&&HU(t,n,e[n]);if(Bge)for(var n of Bge(e))P1t.call(e,n)&&HU(t,n,e[n]);return t},Fge=(t,e)=>k1t(t,$1t(e)),wb=(t,e,n)=>HU(t,typeof e!="symbol"?e+"":e,n);let N1t=class{constructor(e){wb(this,"name","eip155"),wb(this,"client"),wb(this,"chainId"),wb(this,"namespace"),wb(this,"httpProviders"),wb(this,"events"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Xl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Xc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Fn("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(T1(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l==null?void 0:l.sessionProperties)==null?void 0:o.capabilities)||{},d=`${a}${c.join(",")}`,h=u==null?void 0:u[d];if(h)return h;let f;try{f=C1t(l,a,c)}catch(m){console.warn("Failed to extract capabilities from session",m)}if(f)return f;const g=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:Fge(Uge({},l.sessionProperties||{}),{capabilities:Fge(Uge({},u||{}),{[d]:g})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return g}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ys("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${Dmt}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}};var O1t=Object.defineProperty,R1t=(t,e,n)=>e in t?O1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vb=(t,e,n)=>R1t(t,typeof e!="symbol"?e+"":e,n);let M1t=class{constructor(e){vb(this,"name","solana"),vb(this,"client"),vb(this,"httpProviders"),vb(this,"events"),vb(this,"namespace"),vb(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=T1(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Xc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Fn("disableProviderPing")))}};var j1t=Object.defineProperty,D1t=(t,e,n)=>e in t?j1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bb=(t,e,n)=>D1t(t,typeof e!="symbol"?e+"":e,n);let L1t=class{constructor(e){bb(this,"name","cosmos"),bb(this,"client"),bb(this,"httpProviders"),bb(this,"events"),bb(this,"namespace"),bb(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=T1(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Xc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Fn("disableProviderPing")))}};var B1t=Object.defineProperty,U1t=(t,e,n)=>e in t?B1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xb=(t,e,n)=>U1t(t,typeof e!="symbol"?e+"":e,n);let F1t=class{constructor(e){xb(this,"name","algorand"),xb(this,"client"),xb(this,"httpProviders"),xb(this,"events"),xb(this,"namespace"),xb(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Xc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Xl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Xc(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Xr(new yi(r,Fn("disableProviderPing")))}};var z1t=Object.defineProperty,W1t=(t,e,n)=>e in t?z1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Eb=(t,e,n)=>W1t(t,typeof e!="symbol"?e+"":e,n);let q1t=class{constructor(e){Eb(this,"name","cip34"),Eb(this,"client"),Eb(this,"httpProviders"),Eb(this,"events"),Eb(this,"namespace"),Eb(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=T1(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Fn("disableProviderPing")))}};var H1t=Object.defineProperty,V1t=(t,e,n)=>e in t?H1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cb=(t,e,n)=>V1t(t,typeof e!="symbol"?e+"":e,n);let K1t=class{constructor(e){Cb(this,"name","elrond"),Cb(this,"client"),Cb(this,"httpProviders"),Cb(this,"events"),Cb(this,"namespace"),Cb(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=T1(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Xc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Fn("disableProviderPing")))}};var G1t=Object.defineProperty,Z1t=(t,e,n)=>e in t?G1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_b=(t,e,n)=>Z1t(t,typeof e!="symbol"?e+"":e,n);let Y1t=class{constructor(e){_b(this,"name","multiversx"),_b(this,"client"),_b(this,"httpProviders"),_b(this,"events"),_b(this,"namespace"),_b(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=T1(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Xc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Fn("disableProviderPing")))}};var J1t=Object.defineProperty,Q1t=(t,e,n)=>e in t?J1t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ab=(t,e,n)=>Q1t(t,typeof e!="symbol"?e+"":e,n);let X1t=class{constructor(e){Ab(this,"name","near"),Ab(this,"client"),Ab(this,"httpProviders"),Ab(this,"events"),Ab(this,"namespace"),Ab(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Xc(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Xl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Xc(e,this.namespace);return typeof r>"u"?void 0:new Xr(new yi(r,Fn("disableProviderPing")))}};var eyt=Object.defineProperty,tyt=(t,e,n)=>e in t?eyt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sb=(t,e,n)=>tyt(t,typeof e!="symbol"?e+"":e,n);let nyt=class{constructor(e){Sb(this,"name","tezos"),Sb(this,"client"),Sb(this,"httpProviders"),Sb(this,"events"),Sb(this,"namespace"),Sb(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Xc(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Xl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Xc(e,this.namespace);return typeof r>"u"?void 0:new Xr(new yi(r))}};var ryt=Object.defineProperty,iyt=(t,e,n)=>e in t?ryt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ib=(t,e,n)=>iyt(t,typeof e!="symbol"?e+"":e,n);let syt=class{constructor(e){Ib(this,"name",mge),Ib(this,"client"),Ib(this,"httpProviders"),Ib(this,"events"),Ib(this,"namespace"),Ib(this,"chainId"),this.namespace=e.namespace,this.events=Fn("events"),this.client=Fn("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return m1(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=m1(i);r[s.reference]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Xc(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Fn("disableProviderPing")))}};var oyt=Object.defineProperty,ayt=Object.defineProperties,cyt=Object.getOwnPropertyDescriptors,zge=Object.getOwnPropertySymbols,lyt=Object.prototype.hasOwnProperty,uyt=Object.prototype.propertyIsEnumerable,VU=(t,e,n)=>e in t?oyt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WS=(t,e)=>{for(var n in e||(e={}))lyt.call(e,n)&&VU(t,n,e[n]);if(zge)for(var n of zge(e))uyt.call(e,n)&&VU(t,n,e[n]);return t},KU=(t,e)=>ayt(t,cyt(e)),eu=(t,e,n)=>VU(t,typeof e!="symbol"?e+"":e,n);const dyt=class pEe{constructor(e){eu(this,"client"),eu(this,"namespaces"),eu(this,"optionalNamespaces"),eu(this,"sessionProperties"),eu(this,"scopedProperties"),eu(this,"events",new jv),eu(this,"rpcProviders",{}),eu(this,"session"),eu(this,"providerOpts"),eu(this,"logger"),eu(this,"uri"),eu(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:pb(gb({level:(e==null?void 0:e.logger)||pge})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new pEe(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:WS({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,Zf(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Wr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=Nge(this.session.namespaces);this.namespaces=zS(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=Nge(i.namespaces);return this.namespaces=zS(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Zl(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await tmt.init({core:this.providerOpts.core,logger:this.providerOpts.logger||pge,relayUrl:this.providerOpts.relayUrl||Rmt,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>eb(n)))];WU("client",this.client),WU("events",this.events),WU("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=y1t(n,this.session);if((r==null?void 0:r.length)===0)return;const i=kge(r),s=zS(this.namespaces,this.optionalNamespaces),o=KU(WS({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new N1t({namespace:o});break;case"algorand":this.rpcProviders[n]=new F1t({namespace:o});break;case"solana":this.rpcProviders[n]=new M1t({namespace:o});break;case"cosmos":this.rpcProviders[n]=new L1t({namespace:o});break;case"polkadot":this.rpcProviders[n]=new S1t({namespace:o});break;case"cip34":this.rpcProviders[n]=new q1t({namespace:o});break;case"elrond":this.rpcProviders[n]=new K1t({namespace:o});break;case"multiversx":this.rpcProviders[n]=new Y1t({namespace:o});break;case"near":this.rpcProviders[n]=new X1t({namespace:o});break;case"tezos":this.rpcProviders[n]=new nyt({namespace:o});break;default:this.rpcProviders[n]=new syt({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&Zl(o)&&this.events.emit("accountsChanged",o.map(Pge))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=eb(o),l=zU(o)!==zU(a)?`${c}:${zU(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=KU(WS({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",KU(WS({},Wr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Xl.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[mge]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=zS(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>eb(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=eb(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i);const s=this.getProvider(r).getDefaultChain();n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e})):this.getProvider(r).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(Pge);if(!Zl(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${US}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${US}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${US}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(US)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}},hyt="wc",fyt="ethereum_provider",pyt=`${hyt}@2:${fyt}:`,gyt="https://rpc.walletconnect.org/v1/",GU=["eth_sendTransaction","personal_sign"],Wge=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],ZU=["chainChanged","accountsChanged"],qge=["chainChanged","accountsChanged","message","disconnect","connect"],myt=async()=>{const{createAppKit:t}=await De(()=>Promise.resolve().then(()=>wjt),void 0);return t};var yyt=Object.defineProperty,wyt=Object.defineProperties,vyt=Object.getOwnPropertyDescriptors,Hge=Object.getOwnPropertySymbols,byt=Object.prototype.hasOwnProperty,xyt=Object.prototype.propertyIsEnumerable,YU=(t,e,n)=>e in t?yyt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P1=(t,e)=>{for(var n in e||(e={}))byt.call(e,n)&&YU(t,n,e[n]);if(Hge)for(var n of Hge(e))xyt.call(e,n)&&YU(t,n,e[n]);return t},R8=(t,e)=>wyt(t,vyt(e)),el=(t,e,n)=>YU(t,typeof e!="symbol"?e+"":e,n);function qS(t){return Number(t[0].split(":")[1])}function HS(t){return`0x${t.toString(16)}`}function Eyt(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!Zl(e))throw new Error("Invalid chains");const c={chains:e,methods:r||GU,events:s||ZU,rpcMap:P1({},e.length?{[qS(e)]:a[qS(e)]}:{})},l=s==null?void 0:s.filter(f=>!ZU.includes(f)),u=r==null?void 0:r.filter(f=>!GU.includes(f));if(!n&&!o&&!i&&!(l!=null&&l.length)&&!(u!=null&&u.length))return{required:e.length?c:void 0};const d=(l==null?void 0:l.length)&&(u==null?void 0:u.length)||!n,h={chains:[...new Set(d?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:Wge))],events:[...new Set(c.events.concat(o!=null&&o.length?o:qge))],rpcMap:a};return{required:e.length?c:void 0,optional:n.length?h:void 0}}const Cyt=class gEe{constructor(){el(this,"events",new qi.EventEmitter),el(this,"namespace","eip155"),el(this,"accounts",[]),el(this,"signer"),el(this,"chainId",1),el(this,"modal"),el(this,"rpc"),el(this,"STORAGE_KEY",pyt),el(this,"on",(e,n)=>(this.events.on(e,n),this)),el(this,"once",(e,n)=>(this.events.once(e,n),this)),el(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),el(this,"off",(e,n)=>(this.events.off(e,n),this)),el(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new gEe;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=Eyt(this.rpc);try{const s=await new Promise(async(a,c)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));const d=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(R8(P1({namespaces:P1({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:d})).then(h=>{a(h)}).catch(h=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),c(new Error(h.message))})});if(!s)return;const o=Nhe(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:HS(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(o,a)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(R8(P1({},e),{chains:this.rpc.chains}),n).then(u=>{o(u)}).catch(u=>{var d;(d=this.modal)==null||d.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=i.session;if(s){const o=Nhe(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:HS(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",HS(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",R8(P1({},Wr("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",HS(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e==null?void 0:e.chains)!=null?n:[],s=(r=e==null?void 0:e.optionalChains)!=null?r:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?(e==null?void 0:e.methods)||GU:[],c=i.length?(e==null?void 0:e.events)||ZU:[],l=(e==null?void 0:e.optionalMethods)||[],u=(e==null?void 0:e.optionalEvents)||[],d=(e==null?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),h=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(f=>this.formatChainId(f)),optionalChains:s.map(f=>this.formatChainId(f)),methods:a,events:c,optionalMethods:l,optionalEvents:u,rpcMap:d,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?qS(this.rpc.chains):qS(this.rpc.optionalChains),this.signer=await dyt.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const r=await myt(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return Oyt}),s=i(R8(P1({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect");n=r(R8(P1({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(r){throw console.warn(r),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(r){throw this.signer.logger.error(r),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&Zl(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),r&&Zl(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r==null?void 0:r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${gyt}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n==null?void 0:n.accounts),this.setAccounts(n==null?void 0:n.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}};var _yt=Object.defineProperty,Ayt=Object.defineProperties,Syt=Object.getOwnPropertyDescriptors,Vge=Object.getOwnPropertySymbols,Iyt=Object.prototype.hasOwnProperty,kyt=Object.prototype.propertyIsEnumerable,Kge=(t,e,n)=>e in t?_yt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gge=(t,e)=>{for(var n in e||(e={}))Iyt.call(e,n)&&Kge(t,n,e[n]);if(Vge)for(var n of Vge(e))kyt.call(e,n)&&Kge(t,n,e[n]);return t},$yt=(t,e)=>Ayt(t,Syt(e));function Tyt(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const Pyt=t=>{const[e,n]=t.split(":");return Zge({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function Nyt(t){var e,n,r,i,s,o,a;const c=(e=t.chains)==null?void 0:e.map(Pyt).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");const l=c.find(d=>{var h;return d.id===((h=t.defaultChain)==null?void 0:h.id)}),u={projectId:t.projectId,networks:c,themeMode:t.themeMode,themeVariables:Tyt(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:l,metadata:$yt(Gge({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const d=[...(t.mobileWallets||[]).map(g=>({id:g.id,name:g.name,links:g.links})),...(t.desktopWallets||[]).map(g=>({id:g.id,name:g.name,links:{native:g.links.native,universal:g.links.universal}}))],h=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],f=d.filter(g=>!h.includes(g.id));f.length&&(u.customWallets=f)}return u}function Zge(t){return Gge({formatters:void 0,fees:void 0,serializers:void 0},t)}var Oyt=Object.freeze({__proto__:null,convertWCMToAppKitOptions:Nyt,defineChain:Zge}),Ryt=function(e,n){return Math.round(n*Math.log(e)/Math.LN2)},Myt=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],jyt=function(e){return function(n){return e.reduce(function(r,i){return r+(i.re.test(n)?i.length:0)},0)}},Dyt=jyt(Myt),Lyt=function(e){return e?Ryt(Dyt(e),e.length):0},Byt=Lyt;const Uyt=Vo(Byt);function Yge(t){return crypto.getRandomValues(new Uint8Array(t))}const Fyt=256,M8=65536;function zyt(){const[t]=Yge(1);return t}function Wyt(){const[t,e]=Yge(2);return(t<<8)+e}function qyt(t){if(typeof t!="number"||t<2||t>M8)throw new Error(`Invalid number: number must be at least two and at most ${M8}`);const e=t>256,n=e?M8:Fyt,r=e?Wyt:zyt,i=t*Math.floor(n/t);for(;;){const s=r();if(s<i)return s%t}}function Hyt(t,e,n){if(typeof n!="number"||n>M8)throw new Error(`Invalid argument: end must be a number less than or equal to ${M8}`);if(n-e<2)throw new Error("Invalid range: range must contain at least two values");const r=[];for(let i=0;i<t;i++)r[i]=e+qyt(n-e);return r}function Vyt(t,e,n="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof n!="string")throw new Error("Invalid argument: sep argument must be a string");return Hyt(t,0,e.length).reduce((r,i,s)=>{const o=e[i];return r+(s===0?o:n+o)},"")}const Kyt=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),Gyt=Object.freeze(Kyt.filter(t=>!t.includes("-")));function Zyt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Yyt=k.forwardRef(Zyt);function Jyt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const Qyt=k.forwardRef(Jyt);function Xyt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const VS=k.forwardRef(Xyt);function ewt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const KS=k.forwardRef(ewt);function twt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const JU=k.forwardRef(twt);function nwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const rwt=k.forwardRef(nwt);function iwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const swt=k.forwardRef(iwt);function owt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const awt=k.forwardRef(owt);function cwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const lwt=k.forwardRef(cwt);function uwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const dwt=k.forwardRef(uwt);function hwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const kb=k.forwardRef(hwt);function fwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const pwt=k.forwardRef(fwt);function gwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const mwt=k.forwardRef(gwt);function ywt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const Jge=k.forwardRef(ywt);function wwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const vwt=k.forwardRef(wwt);function bwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const xwt=k.forwardRef(bwt);function Ewt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Cwt=k.forwardRef(Ewt);function _wt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const Awt=k.forwardRef(_wt);function Swt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Iwt=k.forwardRef(Swt);function kwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const $wt=k.forwardRef(kwt);function Twt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Qge=k.forwardRef(Twt);function Pwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Nwt=k.forwardRef(Pwt);function Owt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Rwt=k.forwardRef(Owt);function Mwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Xge=k.forwardRef(Mwt);function jwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Dwt=k.forwardRef(jwt);function Lwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const QU=k.forwardRef(Lwt);function Bwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Uwt=k.forwardRef(Bwt);function Fwt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const zwt=k.forwardRef(Fwt);var j8={},Wwt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},eme={},tl={};let XU;const qwt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];tl.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},tl.getSymbolTotalCodewords=function(e){return qwt[e]},tl.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e},tl.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');XU=e},tl.isKanjiModeEnabled=function(){return typeof XU<"u"},tl.toSJIS=function(e){return XU(e)};var GS={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(GS);function tme(){this.buffer=[],this.length=0}tme.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Hwt=tme;function D8(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}D8.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)},D8.prototype.get=function(t,e){return this.data[t*this.size+e]},D8.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},D8.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Vwt=D8,nme={};(function(t){const e=tl.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(nme);var rme={};const Kwt=tl.getSymbolSize,ime=7;rme.getPositions=function(e){const n=Kwt(e);return[[0,0],[n-ime,0],[0,n-ime]]};var sme={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,u=null;for(let d=0;d<s;d++){a=c=0,l=u=null;for(let h=0;h<s;h++){let f=i.get(d,h);f===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=f,a=1),f=i.get(h,d),f===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=f,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(sme);var ZS={};const ag=GS,YS=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],JS=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ZS.getBlocksCount=function(e,n){switch(n){case ag.L:return YS[(e-1)*4+0];case ag.M:return YS[(e-1)*4+1];case ag.Q:return YS[(e-1)*4+2];case ag.H:return YS[(e-1)*4+3];default:return}},ZS.getTotalCodewordsCount=function(e,n){switch(n){case ag.L:return JS[(e-1)*4+0];case ag.M:return JS[(e-1)*4+1];case ag.Q:return JS[(e-1)*4+2];case ag.H:return JS[(e-1)*4+3];default:return}};var ome={},QS={};const L8=new Uint8Array(512),XS=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)L8[n]=e,XS[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)L8[n]=L8[n-255]})(),QS.log=function(e){if(e<1)throw new Error("log("+e+")");return XS[e]},QS.exp=function(e){return L8[e]},QS.mul=function(e,n){return e===0||n===0?0:L8[XS[e]+XS[n]]},function(t){const e=QS;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}}(ome);const ame=ome;function eF(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}eF.prototype.initialize=function(e){this.degree=e,this.genPoly=ame.generateECPolynomial(this.degree)},eF.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=ame.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var Gwt=eF,cme={},cg={},tF={};tF.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var _h={};const lme="[0-9]+",Zwt="[A-Z $%*+\\-./:]+";let B8="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";B8=B8.replace(/u/g,"\\u");const Ywt="(?:(?![A-Z0-9 $%*+\\-./:]|"+B8+`)(?:.|[\r
]))+`;_h.KANJI=new RegExp(B8,"g"),_h.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),_h.BYTE=new RegExp(Ywt,"g"),_h.NUMERIC=new RegExp(lme,"g"),_h.ALPHANUMERIC=new RegExp(Zwt,"g");const Jwt=new RegExp("^"+B8+"$"),Qwt=new RegExp("^"+lme+"$"),Xwt=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");_h.testKanji=function(e){return Jwt.test(e)},_h.testNumeric=function(e){return Qwt.test(e)},_h.testAlphanumeric=function(e){return Xwt.test(e)},function(t){const e=tF,n=_h;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}}(cg),function(t){const e=tl,n=ZS,r=GS,i=cg,s=tF,o=7973,a=e.getBCHDigit(o);function c(h,f,g){for(let m=1;m<=40;m++)if(f<=t.getCapacity(m,g,h))return m}function l(h,f){return i.getCharCountIndicator(h,f)+4}function u(h,f){let g=0;return h.forEach(function(m){const y=l(m.mode,f);g+=y+m.getBitsLength()}),g}function d(h,f){for(let g=1;g<=40;g++)if(u(h,g)<=t.getCapacity(g,f,i.MIXED))return g}t.from=function(f,g){return s.isValid(f)?parseInt(f,10):g},t.getCapacity=function(f,g,m){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const y=e.getSymbolTotalCodewords(f),w=n.getTotalCodewordsCount(f,g),b=(y-w)*8;if(m===i.MIXED)return b;const v=b-l(m,f);switch(m){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(f,g){let m;const y=r.from(g,r.M);if(Array.isArray(f)){if(f.length>1)return d(f,y);if(f.length===0)return 1;m=f[0]}else m=f;return c(m.mode,m.getLength(),y)},t.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let g=f<<12;for(;e.getBCHDigit(g)-a>=0;)g^=o<<e.getBCHDigit(g)-a;return f<<12|g}}(cme);var ume={};const nF=tl,dme=1335,evt=21522,hme=nF.getBCHDigit(dme);ume.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;nF.getBCHDigit(i)-hme>=0;)i^=dme<<nF.getBCHDigit(i)-hme;return(r<<10|i)^evt};var fme={};const tvt=cg;function $b(t){this.mode=tvt.NUMERIC,this.data=t.toString()}$b.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},$b.prototype.getLength=function(){return this.data.length},$b.prototype.getBitsLength=function(){return $b.getBitsLength(this.data.length)},$b.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var nvt=$b;const rvt=cg,rF=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Tb(t){this.mode=rvt.ALPHANUMERIC,this.data=t}Tb.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},Tb.prototype.getLength=function(){return this.data.length},Tb.prototype.getBitsLength=function(){return Tb.getBitsLength(this.data.length)},Tb.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=rF.indexOf(this.data[n])*45;r+=rF.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(rF.indexOf(this.data[n]),6)};var ivt=Tb;const svt=cg;function Pb(t){this.mode=svt.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Pb.getBitsLength=function(e){return e*8},Pb.prototype.getLength=function(){return this.data.length},Pb.prototype.getBitsLength=function(){return Pb.getBitsLength(this.data.length)},Pb.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var ovt=Pb;const avt=cg,cvt=tl;function Nb(t){this.mode=avt.KANJI,this.data=t}Nb.getBitsLength=function(e){return e*13},Nb.prototype.getLength=function(){return this.data.length},Nb.prototype.getBitsLength=function(){return Nb.getBitsLength(this.data.length)},Nb.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=cvt.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var lvt=Nb,pme={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var c,l,u,d,h,f,g,m,y;!a.empty();){c=a.pop(),l=c.value,d=c.cost,h=n[l]||{};for(u in h)h.hasOwnProperty(u)&&(f=h[u],g=d+f,m=o[u],y=typeof o[u]>"u",(y||m>g)&&(o[u]=g,a.push(u,g),s[u]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var w=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(w)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(pme);var gme=pme.exports;(function(t){const e=cg,n=nvt,r=ivt,i=ovt,s=lvt,o=_h,a=tl,c=gme;function l(w){return unescape(encodeURIComponent(w)).length}function u(w,b,v){const E=[];let _;for(;(_=w.exec(v))!==null;)E.push({data:_[0],index:_.index,mode:b,length:_[0].length});return E}function d(w){const b=u(o.NUMERIC,e.NUMERIC,w),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,w);let E,_;return a.isKanjiModeEnabled()?(E=u(o.BYTE,e.BYTE,w),_=u(o.KANJI,e.KANJI,w)):(E=u(o.BYTE_KANJI,e.BYTE,w),_=[]),b.concat(v,E,_).sort(function(S,R){return S.index-R.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function h(w,b){switch(b){case e.NUMERIC:return n.getBitsLength(w);case e.ALPHANUMERIC:return r.getBitsLength(w);case e.KANJI:return s.getBitsLength(w);case e.BYTE:return i.getBitsLength(w)}}function f(w){return w.reduce(function(b,v){const E=b.length-1>=0?b[b.length-1]:null;return E&&E.mode===v.mode?(b[b.length-1].data+=v.data,b):(b.push(v),b)},[])}function g(w){const b=[];for(let v=0;v<w.length;v++){const E=w[v];switch(E.mode){case e.NUMERIC:b.push([E,{data:E.data,mode:e.ALPHANUMERIC,length:E.length},{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.ALPHANUMERIC:b.push([E,{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.KANJI:b.push([E,{data:E.data,mode:e.BYTE,length:l(E.data)}]);break;case e.BYTE:b.push([{data:E.data,mode:e.BYTE,length:l(E.data)}])}}return b}function m(w,b){const v={},E={start:{}};let _=["start"];for(let O=0;O<w.length;O++){const S=w[O],R=[];for(let I=0;I<S.length;I++){const D=S[I],j=""+O+I;R.push(j),v[j]={node:D,lastCount:0},E[j]={};for(let F=0;F<_.length;F++){const M=_[F];v[M]&&v[M].node.mode===D.mode?(E[M][j]=h(v[M].lastCount+D.length,D.mode)-h(v[M].lastCount,D.mode),v[M].lastCount+=D.length):(v[M]&&(v[M].lastCount=D.length),E[M][j]=h(D.length,D.mode)+4+e.getCharCountIndicator(D.mode,b))}}_=R}for(let O=0;O<_.length;O++)E[_[O]].end=0;return{map:E,table:v}}function y(w,b){let v;const E=e.getBestModeForData(w);if(v=e.from(b,E),v!==e.BYTE&&v.bit<E.bit)throw new Error('"'+w+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(E));switch(v===e.KANJI&&!a.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new n(w);case e.ALPHANUMERIC:return new r(w);case e.KANJI:return new s(w);case e.BYTE:return new i(w)}}t.fromArray=function(b){return b.reduce(function(v,E){return typeof E=="string"?v.push(y(E,null)):E.data&&v.push(y(E.data,E.mode)),v},[])},t.fromString=function(b,v){const E=d(b,a.isKanjiModeEnabled()),_=g(E),O=m(_,v),S=c.find_path(O.map,"start","end"),R=[];for(let I=1;I<S.length-1;I++)R.push(O.table[S[I]].node);return t.fromArray(f(R))},t.rawSplit=function(b){return t.fromArray(d(b,a.isKanjiModeEnabled()))}})(fme);const eI=tl,iF=GS,uvt=Hwt,dvt=Vwt,hvt=nme,fvt=rme,sF=sme,oF=ZS,pvt=Gwt,tI=cme,gvt=ume,mvt=cg,aF=fme;function yvt(t,e){const n=t.size,r=fvt.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function wvt(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function vvt(t,e){const n=hvt.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function bvt(t,e){const n=t.size,r=tI.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function cF(t,e,n){const r=t.size,i=gvt.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function xvt(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function Evt(t,e,n){const r=new uvt;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),mvt.getCharCountIndicator(c.mode,t)),c.write(r)});const i=eI.getSymbolTotalCodewords(t),s=oF.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return Cvt(r,t,e)}function Cvt(t,e,n){const r=eI.getSymbolTotalCodewords(e),i=oF.getTotalCodewordsCount(e,n),s=r-i,o=oF.getBlocksCount(e,n),a=r%o,c=o-a,l=Math.floor(r/o),u=Math.floor(s/o),d=u+1,h=l-u,f=new pvt(h);let g=0;const m=new Array(o),y=new Array(o);let w=0;const b=new Uint8Array(t.buffer);for(let S=0;S<o;S++){const R=S<c?u:d;m[S]=b.slice(g,g+R),y[S]=f.encode(m[S]),g+=R,w=Math.max(w,R)}const v=new Uint8Array(r);let E=0,_,O;for(_=0;_<w;_++)for(O=0;O<o;O++)_<m[O].length&&(v[E++]=m[O][_]);for(_=0;_<h;_++)for(O=0;O<o;O++)v[E++]=y[O][_];return v}function _vt(t,e,n,r){let i;if(Array.isArray(t))i=aF.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=aF.rawSplit(t);l=tI.getBestVersionForData(u,n)}i=aF.fromString(t,l||40)}else throw new Error("Invalid data");const s=tI.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=Evt(e,n,i),a=eI.getSymbolSize(e),c=new dvt(a);return yvt(c,e),wvt(c),vvt(c,e),cF(c,n,0),e>=7&&bvt(c,e),xvt(c,o),isNaN(r)&&(r=sF.getBestMask(c,cF.bind(null,c,n))),sF.applyMask(r,c),cF(c,n,r),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}eme.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=iF.M,i,s;return typeof n<"u"&&(r=iF.from(n.errorCorrectionLevel,iF.M),i=tI.from(n.version),s=sF.from(n.maskPattern),n.toSJISFunc&&eI.setToSJISFunction(n.toSJISFunc)),_vt(e,i,r,s)};var mme={},lF={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,d=[s.color.light,s.color.dark];for(let h=0;h<l;h++)for(let f=0;f<l;f++){let g=(h*l+f)*4,m=s.color.light;if(h>=u&&f>=u&&h<l-u&&f<l-u){const y=Math.floor((h-u)/c),w=Math.floor((f-u)/c);m=d[a[y*o+w]?1:0]}r[g++]=m.r,r[g++]=m.g,r[g++]=m.b,r[g]=m.a}}})(lF),function(t){const e=lF;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=r()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),d=l.getContext("2d"),h=d.createImageData(u,u);return e.qrToImageData(h.data,s,c),n(d,l,u),d.putImageData(h,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),u=c.type||"image/png",d=c.rendererOpts||{};return l.toDataURL(u,d.quality)}}(mme);var yme={};const Avt=lF;function wme(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function uF(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function Svt(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(r+=s?uF("M",c+n,.5+l+n):uF("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(r+=uF("h",o),o=0)):i++}return r}yme.render=function(e,n,r){const i=Avt.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+wme(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+wme(i.color.dark,"stroke")+' d="'+Svt(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,h),h};const Ivt=Wwt,dF=eme,vme=mme,kvt=yme;function hF(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!Ivt())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(c,l){try{const u=dF.create(n,r);c(t(u,e,r))}catch(u){l(u)}})}try{const c=dF.create(n,r);i(null,t(c,e,r))}catch(c){i(c)}}j8.create=dF.create,j8.toCanvas=hF.bind(null,vme.render),j8.toDataURL=hF.bind(null,vme.renderToDataURL),j8.toString=hF.bind(null,function(t,e,n){return kvt.render(t,n)});function $vt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const U8=k.forwardRef($vt);function Tvt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Pvt=k.forwardRef(Tvt);function Nvt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const fF=k.forwardRef(Nvt);function Ovt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Rvt=k.forwardRef(Ovt);function Mvt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const jvt=k.forwardRef(Mvt);function Dvt({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Lvt=k.forwardRef(Dvt);function F8(t){return t?{"privy-ui":"t"}:void 0}class Ob{async authenticate(){if(!this.api)throw new ee("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ee("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(LWe,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw bn(e)}}async link(){if(!this.api)throw new ee("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ee("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(BWe,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw bn(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new ee("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new ee("Email must be set when initialzing authentication.");let i=F8(r);try{return await this.api.post(DWe,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw bn(s)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}let Bvt=class extends Ob{async link(){if(!this.api)throw new ee("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new ee("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(FWe,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw bn(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}},bme=class{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}};function pF(){try{let t="privy:__session_storage__test",e=new bme;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var Ct=typeof window<"u"&&window.localStorage?new bme:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function xme(t){var e;return{name:((e=t.metadata)==null?void 0:e.shortName)||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function Eme(t,e){let n=xme(e);if(n.universalLink)return mF(n.universalLink,t)}let gF="WALLETCONNECT_DEEPLINK_CHOICE";function Cme(t){return t.startsWith("http://")||t.startsWith("https://")}function _me(t,e){if(Cme(t))return mF(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function mF(t,e){if(!Cme(t))return _me(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function Ame(t,e){window.open(t,e,"noreferrer noopener")}let ga=class{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}};class Sme{get meta(){return this._meta}async authenticate(){if(!this.api)throw new ee("Auth flow has no API instance");if(!this.meta.channelToken)throw new ee("Auth flow must be initialized first");try{let e=await this.api.post(NWe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new ee("No response from authentication");return e}catch(e){throw bn(e)}}async link(){if(!this.api)throw new ee("Auth flow has no API instance");try{return await this.api.post(OWe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw bn(e)}}async _startChannelOnce(){if(!this.api)throw new ee("Auth flow has no API instance");let e=await this.api.post(PWe,{token:this.captchaToken});Tr&&!qN&&e.connect_uri&&Ame(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new ee("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new ee("Auth flow has no API instance");if(!this.meta.channelToken)throw new ee("Auth flow must be initialized first");let e=await this.api.get(RWe,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new ga(this._startChannelOnce.bind(this)),this.pollForReady=new ga(this._pollForReady.bind(this)),this._meta.disableSignup=n}}const yF="https://auth.privy.io",Hr=1400,wF=2500,nI=4e3,Uvt="2.25.0",z8="privy:token",Ime="privy-token",vF="privy:refresh_token",rI="privy:pat",kme="privy:id_token",$me="privy-id-token",bF="privy-session",xF="privy:caid",Tme=t=>`privy:guest:${t}`,iI=t=>`privy:cross-app:${t}`,sI="privy:state_code",W8="privy:code_verifier",oI="privy:headless_oauth",q8="privy:oauth_disable_signup",EF=t=>`privy:wallet:${t}`,Pme="privy:connectors",Nme="privy:connections",aI=12e4,Ome=3e4,Fvt="https://api.moonpay.com/v1",zvt="https://api.moonpay.com/v1",Wvt="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",qvt="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI";function CF(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function Rme(){var e;if(!CF())return;let t=window.chrome;return(e=t==null?void 0:t.runtime)==null?void 0:e.id}function _F(){var e;if(!CF())return!1;let t=window.chrome;return typeof((e=t==null?void 0:t.identity)==null?void 0:e.launchWebAuthFlow)=="function"}async function Mme(t){return new Promise((e,n)=>{_F()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},async r=>{try{let i=function(){var u,d;if(!CF())return;let l=window.chrome;return(d=(u=l==null?void 0:l.runtime)==null?void 0:u.lastError)==null?void 0:d.message}();if(i||!r){let l=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(l)}let s=new URL(r),o=Rme();if(!o)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==o)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let l=s.hostname.split(".");if(l.length!==3||l[1]!=="chromiumapp"||l[2]!=="org"||l[0]!==o)throw Error("Invalid responseUri origin")}}let a=s.searchParams.get("privy_oauth_state"),c=s.searchParams.get("privy_oauth_code");if(!a||!c)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:a,privyOAuthCode:c})}catch(i){n(i)}}):n(Error("Chrome identity API not available"))})}function AF(t){return crypto.getRandomValues(new Uint8Array(t))}function cI(){return Mm(AF(36))}function SF(){return cI()}async function IF(t,e="S256"){if(e!="S256")return t;{let n=await async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))}(t);return Mm(n)}}let Rb=class{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new ee("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ee("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new ee("User denied confirmation during OAuth flow");let e=function(){let n=Ct.get(W8);if(!n)throw new ee("Authentication error.");return n}();try{let n=await this.api.post(use,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return Ct.del(W8),Ct.del(oI),Ct.del(q8),n}catch(n){let r=bn(n);throw r.privyErrorCode?new ee(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new ee("Invalid code during oauth flow.",void 0,ne.OAUTH_USER_DENIED):new ee("Invalid code during OAuth flow.",void 0,ne.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new ee("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ee("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new ee("User denied confirmation during OAuth flow");let e=Ct.get(W8);if(!e)throw new ee("Authentication error.");try{let n=await this.api.post(dse,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return Ct.del(W8),n}catch(n){throw bn(n)}}async getAuthorizationUrl(){if(!this.api)throw new ee("Auth flow has no API instance");if(!this.meta.provider)throw new ee("Provider must be set when initializing OAuth authentication.");let e=cI();Ct.put(W8,e);let n=SF();Ct.put(sI,n);let r=await IF(e);this.meta.withPrivyUi||Ct.put(oI,!0),this.meta.disableSignup?Ct.put(q8,!0):Ct.del(q8);let i=F8(this.meta.withPrivyUi),s=window.location.href,o=function(){let a=Rme();if(a)return`https://${a}.chromiumapp.org`}();o&&(s=o);try{return await this.api.post(lse,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(a){throw bn(a)}}constructor(e){this.meta=e}};function jme(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Dme=({style:t,...e})=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),p.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),p.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),Lme=({style:t,...e})=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),p.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),Bme=({style:t,...e})=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),p.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),Hvt=({style:t})=>p.jsx(Qge,{style:{color:"var(--privy-color-error)",...t}}),Ume=t=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),p.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),p.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),p.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),p.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function Fme(t){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"b",children:[p.jsx("stop",{offset:"0",stopColor:"#3771c8"}),p.jsx("stop",{stopColor:"#3771c8",offset:".128"}),p.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),p.jsxs("linearGradient",{id:"a",children:[p.jsx("stop",{offset:"0",stopColor:"#fd5"}),p.jsx("stop",{offset:".1",stopColor:"#fd5"}),p.jsx("stop",{offset:".5",stopColor:"#ff543e"}),p.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),p.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),p.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),p.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),p.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),p.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function zme(t){return p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),p.jsxs("defs",{children:[p.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:p.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),p.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function Wme(t){return p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),p.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),p.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_1715_1956",children:p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function qme(t){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[p.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),p.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function Hme(t){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:p.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}const Vme=t=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),p.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});let Kme={google:{name:"Google",component:Ume},discord:{name:"Discord",component:Lme},github:{name:"Github",component:Bme},linkedin:{name:"LinkedIn",component:Wme},twitter:{name:"Twitter",component:Vme},spotify:{name:"Spotify",component:qme},instagram:{name:"Instagram",component:Fme},tiktok:{name:"Tiktok",component:Hme},line:{name:"LINE",component:zme},apple:{name:"Apple",component:Dme}};const kF=t=>t in Kme?Kme[t]:{name:"Unknown",component:Hvt};function Vvt(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!Ct.get(oI),popupFlow:window.opener!==null&&i,disableSignup:!!Ct.get(q8)}}function $F(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),Ct.del(sI),window.history.replaceState({},"",t)}let Mb=class{async initRegisterFlow(e){if(!this.api)throw new ee("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new ee("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new ee("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){var n,r;let e=await De(()=>Promise.resolve().then(()=>xE),void 0);if(!this.api)throw new ee("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ee("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let i=this.meta.initRegisterResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(sqe,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new ee("Passkey request timed out or rejected by user.",void 0,ne.PASSKEY_NOT_ALLOWED):bn(i)}}async authenticate(){var r,i,s;if(this.authenticateForRegistration)return this.register();let e=await De(()=>Promise.resolve().then(()=>xE),void 0);if(!this.api)throw new ee("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ee("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=((r=this.meta.allowedCredentialsIds)==null?void 0:r.map(o=>({type:"public-key",id:o})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let o=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n}));return(s=(i=this.meta).setPasskeyAuthState)==null||s.call(i,{status:"submitting-response"}),await this.api.post(iqe,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(o)})}catch(o){throw o.name==="NotAllowedError"?new ee("Passkey request timed out or rejected by user.",void 0,ne.PASSKEY_NOT_ALLOWED):bn(o)}}async link(){var n,r;let e=await De(()=>Promise.resolve().then(()=>xE),void 0);if(!this.api)throw new ee("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ee("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let i=this.meta.initLinkResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(rqe,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new ee("Passkey request timed out or rejected by user.",void 0,ne.PASSKEY_NOT_ALLOWED):bn(i)}}async _initRegisterOnce(e){if(!this.api)throw new ee("Auth flow has no API instance");let n=F8(e);return await this.api.post(nqe,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new ee("Auth flow has no API instance");let n=F8(e);return await this.api.post(tqe,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new ee("Auth flow has no API instance");return await this.api.post(eqe,{})}_transformInitLinkOptionsToCamelCase(e){var n,r,i,s,o,a,c,l,u;return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(d=>({type:d.type,alg:d.alg})),timeout:e.timeout,excludeCredentials:(n=e.exclude_credentials)==null?void 0:n.map(d=>({id:d.id,type:d.type,transports:d.transports})),authenticatorSelection:{authenticatorAttachment:(r=e.authenticator_selection)==null?void 0:r.authenticator_attachment,requireResidentKey:(i=e.authenticator_selection)==null?void 0:i.require_resident_key,residentKey:(s=e.authenticator_selection)==null?void 0:s.resident_key,userVerification:(o=e.authenticator_selection)==null?void 0:o.user_verification},attestation:e.attestation,extensions:{appid:(a=e.extensions)==null?void 0:a.app_id,credProps:(l=(c=e.extensions)==null?void 0:c.cred_props)==null?void 0:l.rk,hmacCreateSecret:(u=e.extensions)==null?void 0:u.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){var n,r,i,s;return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:((n=e.allow_credentials)==null?void 0:n.map(o=>({id:o.id,type:o.type,transports:o.transports})))||[],timeout:e.timeout,extensions:{appid:(r=e.extensions)==null?void 0:r.app_id,credProps:(i=e.extensions)==null?void 0:i.cred_props,hmacCreateSecret:(s=e.extensions)==null?void 0:s.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n}){this.authenticateForRegistration=!1,this.initRegisterOnce=new ga(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new ga(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new ga(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n}}};const TF=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;let jb=class{get meta(){var e,n,r,i;return{connectorType:(e=this.wallet)==null?void 0:e.connectorType,walletClientType:(n=this.wallet)==null?void 0:n.walletClientType,chainId:(r=this.wallet)==null?void 0:r.chainId,address:(i=this.wallet)==null?void 0:i.address,disableSignup:this._meta.disableSignup}}async authenticate(){var e,n,r;if(!this.client)throw new ee("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:(e=this.wallet)==null?void 0:e.chainId,walletClientType:(n=this.wallet)==null?void 0:n.walletClientType,connectorType:(r=this.wallet)==null?void 0:r.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new ee("SiweFlow has no wallet instance");let{message:i,signature:s}=await this.sign();return await this.client.authenticateWithSiweInternal({message:i,signature:s,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(i){throw bn(i)}}async link(){if(!this.client)throw new ee("SiweFlow has no client instance");try{if(!this.wallet)throw new ee("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw bn(e)}}async sign(){if(!this.client)throw new ee("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new ee("Could not prepare SIWE message");if(!this.wallet)throw new ee("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new ee("SiweFlow has no client instance");if(!this.wallet)throw new ee("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ee("SiweFlow has no client instance");if(!this.wallet)throw new ee("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=TF({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new ga(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s==null?void 0:s.message,this.signature=s==null?void 0:s.signature}};const Lo=(...t)=>{if(typeof Buffer>"u")throw new ee("Buffer is not defined.",void 0,ne.BUFFER_NOT_DEFINED);return Buffer.from(...t)},Kvt=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;let lI=class{get meta(){var e;return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:(e=this.wallet)==null?void 0:e.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new ee("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw bn(e)}}async link(){if(!this.client)throw new ee("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw bn(e)}}async sign(){var i;let e,n;if(!this.client)throw new ee("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new ee("Could not prepare SIWS message");if(!r&&!this.wallet.signMessage||r&&!this.wallet.signTransaction)throw new ee("Wallet does not support the necessary signing methods");if(r&&this._siwsTransactionMethods){let s=await this.wallet.signTransaction(this._siwsTransactionMethods.deserializeTransactionFromB64String(this.preparedMessage));e=s.serialize().toString("base64"),n=Lo(((i=s.signatures[0])==null?void 0:i.signature)??Buffer.from("missing signature")).toString("base64")}else e=this.preparedMessage,n=Lo(await this.wallet.signMessage(new TextEncoder().encode(this.preparedMessage))).toString("base64");return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new ee("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ee("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._siwsTransactionMethods?this.preparedMessage=this._siwsTransactionMethods.prepareSiwsTransactionWithMemo({address:e,nonce:this.nonce}):this.preparedMessage=Kvt({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s="plain",o){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new ga(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=s,this._siwsTransactionMethods=o}},Db=class{async authenticate(){if(!this.api)throw new ee("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ee("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(VWe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw bn(e)}}async link(){if(!this.api)throw new ee("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ee("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(qWe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw bn(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new ee("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new ee("phone nNumber must be set when initialzing authentication.");let i=F8(r);try{return await this.api.post(WWe,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw bn(s)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}},Gvt=class extends Db{async link(){if(!this.api)throw new ee("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new ee("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(KWe,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw bn(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}};const Gme=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,Zme=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||Gme(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!Zme(n))return!1}return!0},Yme=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},Lb=(t,e,n,r)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new br(`Unsupported chainId ${t}`,4901);return Fd({transport:ta(Jf(s,n,r.appId)),chain:s})},Jf=(t,e,n)=>{var o,a,c;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let l=new URL(t.rpcUrls.privy.http[0]);l.searchParams.append("privyAppId",n),r=l.toString()}else r=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(c=t.rpcUrls.default)==null?void 0:c.http[0];if(!r)throw new br(`No RPC url found for ${i}`);return r},Jme=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),to=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},PF=(t,e=3,n=4)=>to(t,e,n,"solana"),uI=t=>new Promise(e=>setTimeout(e,t)),NF=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise(async(i,s)=>{var c;let o=!1,a=0;for(;!o&&a<r;){if((c=e.abortSignal)!=null&&c.aborted)return;t().then(l=>{o=!0,i(l)},(...l)=>{o=!0,s(...l)}),a+=1,await uI(n)}o||s(Error("Exceeded max attempts before resolving function"))})},Qme=(t,e,n={},r={})=>{let i=new URL(e,t);for(let[o,a]of Object.entries(n))a!==void 0&&i.searchParams.set(o,a);let s=Object.entries(r);if(s.length>0){let o=new URLSearchParams;for(let[a,c]of s)o.append(a,c);i.hash=o.toString()}return i.href},Zvt=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),OF=t=>typeof t=="string"?t:"0x"+t.toString(16);async function Yvt({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,o=window;return new Promise(a=>{function c(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",c);let l=t.getProviders();console.debug("Detected injected providers:",l.map(d=>d.info));let u=[];for(let d of l)e.includes("coinbase_wallet")&&d.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&d.info.rdns==="app.phantom"||u.push({type:d.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:d});if(r!=="solana-only")for(let d of function(){var m;let h=window,f=h.ethereum;if(!f)return[];let g=[];if((m=f.providers)!=null&&m.length)for(let y of f.providers)y&&g.push(y);return g.push(h.ethereum),g}()){let h=Gme(d);if(!l.some(f=>f.info.name===h)){if(Zme(d,!0)&&!u.find(f=>f.type==="metamask")){u.push({type:"metamask",legacyInjectedProvider:d});continue}if(h==="Phantom"&&!u.find(f=>f.type==="phantom")){u.push({type:"phantom",legacyInjectedProvider:d});continue}if(h==="Coinbase Wallet"&&!u.find(f=>{var g,m,y;return f.type==="coinbase_wallet"&&((y=(m=(g=n.coinbaseWallet)==null?void 0:g.config)==null?void 0:m.preference)==null?void 0:y.options)!=="smartWalletOnly"})){u.push({type:"coinbase_wallet",legacyInjectedProvider:d});continue}u.find(f=>f.type==="unknown_browser_extension")||u.push({type:"unknown_browser_extension",legacyInjectedProvider:d})}}a(u)}o.ethereum?c():(window.addEventListener("ethereum#initialized",c,{once:!0}),setTimeout(()=>{c()},i))})}function H8(t){return`eip155:${String(Number(t))}`}const Jvt=(t,e,n,r)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new br(`Unsupported chainId ${t}`,4901);return Jf(s,n,r)},dI=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map(([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}}).filter(r=>r!==void 0);return{...t,types:{...t.types,EIP712Domain:n}}},Xme=k.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:me,setError:me,setExecuting:me,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:me,reset:me,execute:me});let hI=class extends So{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}};const Qvt=({children:t,id:e,captchaSiteKey:n,captchaEnabled:r})=>{let i=k.useRef(null),[s,o]=k.useState(),[a,c]=k.useState(),[l,u]=k.useState(!1),d=k.useMemo(()=>r?l||s||a?!l||s||a?s&&!a?{status:"success",token:s}:a?{status:"error",error:a}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[r,s,a,l]);return p.jsx(Xme.Provider,{value:{...d,ref:i,enabled:r,siteKey:n,appId:e,setToken:o,setError:c,setExecuting:u,remove(){var h;r&&((h=i.current)==null||h.remove(),u(!1),c(void 0),o(void 0))},reset(){var h;r&&((h=i.current)==null||h.reset(),u(!1),c(void 0),o(void 0))},execute(){var h;r&&(u(!0),(h=i.current)==null||h.execute())},async waitForResult(){if(!r)return"";try{return await function(h,{interval:f=100,timeout:g=5e3}={}){return new Promise((m,y)=>{let w,b=0,v=()=>{b>=g?y("Max attempts reached without result"):(w=h(),b+=f,w==null?setTimeout(v,f):m(w))};v()})}(()=>{var h;return(h=i.current)==null?void 0:h.getResponse()},{interval:200,timeout:2e4})}catch{throw new hI("Captcha failed",null,ne.CAPTCHA_TIMEOUT)}}},children:t})},rc=()=>k.useContext(Xme);let V8=class{async authenticate(){if(!this.api)throw new ee("Auth flow has no API instance");try{return await this.api.post(oqe,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw bn(e)}}async link(){if(!this.api)throw new ee("Auth flow has no API instance");try{return await this.api.post(aqe,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw bn(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}};function e1e(t){let e={detail:"",retryable:!1};return(t==null?void 0:t.privyErrorCode)===ne.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),(t==null?void 0:t.privyErrorCode)===ne.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),(t==null?void 0:t.privyErrorCode)===ne.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===ne.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===ne.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===ne.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),(t==null?void 0:t.privyErrorCode)===ne.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof hI&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function t1e(t){return Object.fromEntries(decodeURIComponent(t).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function n1e(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let Bb=class mEe{static parse(e){try{return new mEe(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return dM(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=dM(e)}},Xvt=class yEe extends Bb{static parse(e){try{return new yEe(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}},r1e=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const no=(t,e)=>{if(e!=null&&e.imported)return r1e(e);let n=Dl(t);if(!n)throw Error("Failed to find primary wallet");return r1e(n)},ebt=({style:t,...e})=>p.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[p.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),i1e="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",s1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";let o1e=class extends br{constructor(){super("Wallet timeout"),this.type="wallet_error"}},a1e=class extends br{constructor(){super("User rejected connection"),this.type="wallet_error"}};const lg=t=>t instanceof br?t:t!=null&&t.code?new Bo(t):new br("Unknown connector error",t);let Ub=class extends So{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}},Bo=class extends Ub{constructor(e){var r,i,s;super(e.message,e.code,e.data);let n=Object.values(Ru).find(o=>o.eipCode===e.code);this.details=n||Ru.UNKNOWN_ERROR,e.code===-32002&&((r=e.message)!=null&&r.includes("already pending for origin")?(i=e.message)!=null&&i.includes("wallet_requestPermissions")?this.details=Ru.E32002_CONNECTION_ALREADY_PENDING:this.details=Ru.E32002_REQUEST_ALREADY_PENDING:(s=e.message)!=null&&s.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Ru.E32002_WALLET_LOCKED))}};const ug={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Ru};function Qf(t){return t.type==="ethereum"}function RF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if((r==null?void 0:r.address)!==(i==null?void 0:i.address)||r&&i&&Qf(r)&&Qf(i)&&(r==null?void 0:r.chainId)!==(i==null?void 0:i.chainId)||(r==null?void 0:r.connectorType)!==(i==null?void 0:i.connectorType)||(r==null?void 0:r.connectedAt)!==(i==null?void 0:i.connectedAt)||(r==null?void 0:r.walletClientType)!==(i==null?void 0:i.walletClientType)||(r==null?void 0:r.isConnected)!==(i==null?void 0:i.isConnected)||(r==null?void 0:r.linked)!==(i==null?void 0:i.linked))return!1}return!0}let c1e=class extends C0{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}};const MF=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||aI;let Fb,K8;function G8(t){return t.chainType==="ethereum"}let N1=class extends c1e{buildConnectedWallet(e,n,r,i){let s=async()=>!!this.wallets.find(o=>Ei(o.address)===Ei(e));return{type:"ethereum",address:Ei(e),chainId:n,meta:r,imported:i,switchChain:async o=>{var h,f,g,m;let a,c;if(!s)throw new br("Wallet is not currently connected.");let l=(h=this.wallets.find(y=>Ei(y.address)===Ei(e)))==null?void 0:h.chainId;if(!l)throw new br("Unable to determine current chainId.");if(typeof o=="number"?(a=`0x${o.toString(16)}`,c=o):(a=o,c=Number(o)),l===H8(a))return;let u=this.chains.find(y=>y.id===c);if(!u)throw new br(`Unsupported chainId: ${o}`);let d=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:a}]})};try{return await d()}catch(y){if(((w,b)=>{var v;switch(b){case"coinbase_wallet":case"base_account":return w.message.includes("addEthereumChain");case"rabby_wallet":return w.message.includes("Unrecognized chain ID");default:return w.code===4902||((v=w.message)==null?void 0:v.includes("4902"))}})(y,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await uI(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:a,chainName:u.name,nativeCurrency:u.nativeCurrency,rpcUrls:[((f=u.rpcUrls.default)==null?void 0:f.http[0])??""],blockExplorerUrls:[((g=u.blockExplorers)==null?void 0:g.default.url)??""]}]}),d();throw this.walletClientType==="rainbow"&&((m=y.message)!=null&&m.includes("wallet_switchEthereumChain"))?new br(`Rainbow does not support the chainId ${n}`):y}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new br("Wallet is not currently connected.");return this.proxyProvider},sign:async o=>{if(!await s())throw new br("Wallet is not currently connected.");return await this.sign(o)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,r=e;try{if(r===void 0){let c=await NF(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,c),Array.isArray(c)&&(r=c)}}catch(c){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",c)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let i=r[0],s=Ei(i),o=[];if(this.walletClientType==="privy"){let c=Ct.get(EF(s));this.chains.find(l=>l.id===Number(c))||(Ct.del(EF(s)),c=null),n=c||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let c=await NF(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,c),typeof c=="string")n=c;else{if(typeof c!="number")throw Error("Invalid chainId returned from provider");n=`0x${c.toString(16)}`}}catch(c){console.warn("Failed to get chainId from provider, defaulting to 0x1",c),n="0x1"}let a=H8(n);if(!o.find(c=>Ei(c.address)===s)){let c={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};o.push(this.buildConnectedWallet(Ei(i),a,c,this.connectorType==="embedded_imported"))}RF(o,this.wallets)||(this.wallets=o,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((n,r)=>r.connectedAt-n.connectedAt).find(n=>e.find(r=>Ei(r)===Ei(n.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){var n;return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[sr(e),(n=this.wallets[0])==null?void 0:n.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach(o=>{o.chainId=H8(s),this.walletClientType==="privy"&&Ct.put(EF(o.address),s)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await uI(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=MF(i,e),this.connected=!1,this.initialized=!1}},dg=class{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new br(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(n=>{throw lg(n)})}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new o1e,i=this.rpcTimeoutDuration)=>new Promise((s,o)=>setTimeout(()=>{o(r)},i)),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach(i=>{this.removeListener(i.eventName,i.listener)}),this.walletProvider=r,this._subscriptions.forEach(i=>{var s;(s=this.walletProvider)==null||s.on(i.eventName,i.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=n||aI,this._subscriptions=[]}},tbt=class extends N1{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:s1e,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new br("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw lg(e)}}constructor(e,n,r,i,s){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new dg(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map(o=>o.id))},Fb?(this.proxyProvider.setWalletProvider(Fb.getProvider()),this.setBaseAccountSdk(Fb),console.log("Base Account SDK Initialized")):this.importPromise=De(()=>Promise.resolve().then(()=>XUt),void 0).then(({createBaseAccountSDK:o})=>{Fb=o(this.baseAccountConfig),this.proxyProvider.setWalletProvider(Fb.getProvider()),this.setBaseAccountSdk(Fb),console.log("Base Account SDK Initialized")}).catch(console.error)}},nbt=[1,11155111,137,10,8453,84532,42161,7777777,43114,56],rbt=class extends N1{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:i1e,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new br("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw lg(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",K8=Doe({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(K8.getProvider())}constructor(e,n,r,i){var s,o;if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new dg(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map(a=>a.id))},this.walletClientType=((s=this.coinbaseWalletConfig.preference)==null?void 0:s.options)==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!K8){let a=((o=this.coinbaseWalletConfig.preference)==null?void 0:o.options)!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter(c=>!nbt.includes(c)):[];a.length>0&&!a.every(c=>Pne.has(c))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${a.join(", ")}`),K8=Doe(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(K8.getProvider())}};const l1e=({...t})=>p.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});let u1e=class extends N1{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[OF((e==null?void 0:e.chainId)||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:l1e,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:s,walletIndex:o}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=o,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}};const ibt=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];let id=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}},d1e=class extends C0{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new id(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await lr()||!this.address)throw new id("Disconnected",4900);let{hash:r}=await w9t(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new id(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await lr()||!this.address)throw new id("Disconnected",4900);let{signature:r}=await y9t(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new id(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new id(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=Lb(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await g9t({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await m9t(dI(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:OF(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...Loe(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return OF(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>ibt.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await lr();if(await v9t({address:this.address}),!n||!this.address)throw new id("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&ys(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new id("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new id("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await ia(i,async({message:o})=>this.walletProxy.signWithUserSigner({accessToken:r,message:o}),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new id(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new id(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:s,chains:o,appId:a,chainId:c=1,walletIndex:l,privyClient:u,walletAccount:d}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=c,this.rpcConfig=s,this.chains=o,this.publicClient=Lb(c,this.chains,s,{appId:a}),this.rpcTimeoutDuration=MF(s,"privy"),this.appId=a,this.walletIndex=l,this.privyClient=u,this.walletAccount=d}},jF=class extends N1{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new dg(void 0,aI),this.id=e,this.name=n,this.icon=r,this.connectorType=i}};const DF=({style:t,...e})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),LF=({...t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[p.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),p.jsx("g",{transform:"translate(4, 4)",children:p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[p.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),p.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),p.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),p.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),p.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),p.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),p.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),p.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),p.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),p.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),p.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),p.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),p.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),h1e=({style:t,...e})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[p.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function BF(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var sbt=0;let f1e=class extends N1{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new br("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw lg(e)}}constructor(e,n,r,i,s){super(s||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new dg(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let o=i.provider;this.proxyProvider.setWalletProvider(o)}};var O1="__private_"+sbt+++"__walletBranding";let UF=class extends N1{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return BF(this,O1)[O1]??{name:"Browser Extension",icon:DF,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new br("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw lg(e)}}constructor(e,n,r,i,s){super(s??"unknown",e,n,r),Object.defineProperty(this,O1,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new dg(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?BF(this,O1)[O1]={name:"MetaMask",icon:LF,id:"io.metamask"}:s==="phantom"&&(BF(this,O1)[O1]={name:"Phantom",icon:h1e,id:"phantom"})}},obt=class extends f1e{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{Tr||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new br("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw lg(e)}}};const abt=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitkeep","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],FF=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:VJ?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r,i,s;if("phantom"in window){let o=window;if((e=(t=o==null?void 0:o.phantom)==null?void 0:t.ethereum)!=null&&e.isPhantom&&((r=(n=o==null?void 0:o.phantom)==null?void 0:n.ethereum)!=null&&r.chainId)||(s=(i=o==null?void 0:o.phantom)==null?void 0:i.solana)!=null&&s.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=fI({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:VJ?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){var t;return"solflare"in window&&!!((t=window==null?void 0:window.solflare)!=null&&t.isSolflare)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=fI({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r;return!(!("backpack"in window)||!((e=(t=window==null?void 0:window.backpack)==null?void 0:t.ethereum)!=null&&e.isBackpack)&&!((r=(n=window==null?void 0:window.backpack)==null?void 0:n.solana)!=null&&r.isBackpack))},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=fI({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.com/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){var t;return"okxwallet"in window&&!!((t=window==null?void 0:window.okxwallet)!=null&&t.isOkxWallet)},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+fI({client:this.client,isSolana:t,connectOnly:e}))}}});function p1e({connectorType:t,walletClientType:e}){for(let n of abt)if(t===n||e===n)return FF[n]}function fI({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}const pI=()=>{let t=Ct.get(Nme);return t&&Array.isArray(t)&&t.map(e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e)).every(Boolean)?t:[]};let cbt=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function lbt(t){return t.toLowerCase().split(" ").join("_")}let ubt=class extends c1e{get isInstalled(){return this.adapter.readyState==="Installed"}get wallet(){return this.adapter.wallet}buildConnectedWallet(e,n){let r,i,s,o;if(e.readyState!=="Installed"||!e.publicKey)throw Error("Wallet is not connected.");return"signMessage"in e&&(r=async(...a)=>{if(!e.connected)throw Error("Wallet is not connected.");return await e.signMessage(a[0])}),"sendTransaction"in e&&(i=async(...a)=>await e.sendTransaction(a[0],a[1],a[2])),"signTransaction"in e&&(s=async a=>await e.signTransaction(a)),"signAllTransactions"in e&&(o=async a=>await e.signAllTransactions(a)),{type:"solana",address:e.publicKey.toBase58(),meta:n,imported:!1,connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:async()=>e.connected,disconnect:()=>{try{e.disconnect()}catch{console.error("Wallet does not support programmatic disconnect")}},getProvider:Z6(`${this.walletClientType||""} wallet does not support 'getProvider'`),signMessage:r??Z6(`${this.walletClientType||""} wallet does not support 'signMessage'`),sendTransaction:i??Z6(`${this.walletClientType||""} wallet does not support 'sendTransaction'`),signTransaction:s??Z6(`${this.walletClientType||""} wallet does not support 'signTransaction'`),signAllTransactions:o??Z6(`${this.walletClientType||""} wallet does not support 'signAllTransactions'`)}}async syncAccounts(){if(this.adapter.readyState==="Installed"&&this.adapter.publicKey){let e={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};this.wallets.find(n=>this.adapter.publicKey&&n.address===this.adapter.publicKey.toBase58())||(this.wallets=[this.buildConnectedWallet(this.adapter,e)],this.emit("walletsUpdated"))}else this.wallets.length>0&&(this.wallets=[],this.emit("walletsUpdated"))}get walletBranding(){return{id:this.adapter.name,name:this.adapter.name,icon:this.adapter.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await this.adapter.autoConnect().catch(()=>{}),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort((e,n)=>n.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this.adapter.connected&&["Installed"].includes(this.adapter.readyState)}subscribeListeners(){this.adapter.addListener("disconnect",this.onDisconnect),this.adapter.addListener("connect",this.onConnect),this.adapter.addListener("error",this.onError),this.adapter.addListener("readyStateChange",this.onReadyStateChange)}unsubscribeListeners(){this.adapter.removeAllListeners()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!cbt.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||pI().some(({walletClientType:e})=>e==="phantom"))}constructor(e,n){super(lbt(e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{this.adapter.disconnect().then(()=>this.onDisconnect()).catch(r=>console.error("Error disconnecting",r))},this.promptConnection=async()=>{try{await this.adapter.connect()}catch(r){throw lg(r)}},this.onDisconnect=()=>{this.syncAccounts()},this.onConnect=r=>{this.syncAccounts()},this.onError=r=>{this.syncAccounts()},this.onReadyStateChange=r=>{r!=="Installed"&&(this.connected=!1),this.syncAccounts()},this.adapter=e,this.autoConnectEnabled=n,this.wallets=[]}},zF=class extends ubt{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new dg(void 0,aI),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}};function dbt(t){return t.chainType==="solana"}function g1e(t){return t.type==="solana"}const Z8=Cv(()=>({listings:[]})),hbt=Z8.setState,WF=t=>{let e;try{e=new URL(t).hostname}catch{return}return Z8.getState().listings.find(({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)})},Xf=t=>Z8(({listings:e})=>e.find(({slug:n})=>gI(n)===gI(t)));function gI(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function fbt({src:t,...e}){return p.jsx("img",{src:t,...e,style:{display:"none"}})}const Ah={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",externalWallets:{coinbaseWallet:{connectionOptions:"all"}},captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let pbt=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_wallets","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitkeep"]),m1e=t=>pbt.has(t),y1e=(t,e,n)=>n.indexOf(t)===e;const qF=792703809,HF="11111111111111111111111111111111";function zb(t){return t.includes("testnet")?"testnet":t.includes("devnet")?"devnet":"mainnet-beta"}function gbt(t,e){return`https://explorer.solana.com/account/${t}?cluster=${e}`}function mI(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return dt({...t.toHsl(),l:n})}function VF(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function mbt({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=dt(t).getLuminance(),r=dt(t).toHslString());let i=n?"dark":"light",s=n?Y8:yI,{accent:o,accentLight:a,accentHover:c,accentDark:l,accentDarkest:u}=function(g,m){if(!g){let w=m?Y8:yI;return{accent:dt(w.background.interactive),accentLight:dt(w.background.interactive),accentHover:dt(w.background["interactive-hover"]),accentDark:dt(w.background["interactive-clicked"]),accentDarkest:dt(w.background["interactive-disabled"])}}let y=dt(g);return{accent:y,accentLight:mI(y,.15),accentHover:mI(y,.3),accentDark:mI(y,-.06),accentDarkest:mI(y,-.6)}}(e,n),d=function(g){let m=dt(yI.text.default),y=dt(Y8.text.default),w=VF(g,m),b=VF(g,y),v=g.toHsl();return v.h>=220&&v.h<=300&&b>=3?Y8.text.default:w>b?yI.text.default:Y8.text.default}(o),h=dt(d),f=VF(o,dt(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:o.toHslString(),accentLight:a.toHslString(),accentHover:c.toHslString(),accentDark:l.toHslString(),accentDarkest:u.toHslString(),foregroundAccent:h.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:f?"1":"0",linkNavigationColor:f?o.toHslString():s.text.default,linkNavigationDecoration:f?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const Y8={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},yI={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function w1e(t,e,n,r){var Z,K,J,oe,se,ae,fe,ce,de,ot,he,Ae,_e,ge,Ee,Wt,ye,je,Ye,bt,ft,Xt,Ot,At,Oe,Le,we,lt,St,ht,It,Ue,Nt,Kt,qt,tt,Dr,ut,mn,xa,jn,Pn,W,H,Y,Q,te,ie,xe,ve,nt,Ht,Ie,Ze,kt,Xe,Se,Mt,Jt,pn,kn,Nn,$n,fr,Et,vi,Qt,pr;let i,s,o,a,c,l,u,d,h,f,g,m,y,w,b,v,E=n?console.warn:()=>{};e!=null&&e.loginMethods?(i=e.loginMethods.includes("email"),s=e.loginMethods.includes("sms"),a=e.loginMethods.includes("wallet"),c=e.loginMethods.includes("google"),l=e.loginMethods.includes("twitter"),u=e.loginMethods.includes("discord"),f=e.loginMethods.includes("spotify"),g=e.loginMethods.includes("instagram"),d=e.loginMethods.includes("tiktok"),h=e.loginMethods.includes("line"),y=e.loginMethods.includes("github"),m=e.loginMethods.includes("linkedin"),w=e.loginMethods.includes("apple"),b=e.loginMethods.includes("farcaster"),v=e.loginMethods.includes("telegram"),o=e.loginMethods.includes("passkey")):(i=t.email_auth,s=t.sms_auth,a=t.wallet_auth||t.solana_wallet_auth,c=t.google_oauth,l=t.twitter_oauth,u=t.discord_oauth,y=t.github_oauth,f=t.spotify_oauth,g=t.instagram_oauth,d=t.tiktok_oauth,h=t.line_oauth,m=t.linkedin_oauth,w=t.apple_oauth,b=t.farcaster_auth,v=t.telegram_auth,o=t.passkey_auth),t.passkey_auth&&(o=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(o=!1);let _=[i,s].filter(Boolean),O=[c,l,u,y,f,g,d,h,m,w,b,v].filter(Boolean),S=[a].filter(Boolean),R=((Z=e==null?void 0:e.loginMethods)==null?void 0:Z.includes("passkey"))??!1,I=t.passkeys_for_signup_enabled??!1,D=[o&&(I||R)].filter(Boolean);if(_.length+O.length+S.length+D.length===0)throw Error("You must enable at least one login method");let j=((K=e==null?void 0:e.appearance)==null?void 0:K.showWalletLoginFirst)!==void 0?(J=e==null?void 0:e.appearance)==null?void 0:J.showWalletLoginFirst:t.show_wallet_login_first;j&&S.length===0?(E("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),j=!1):j||O.length+_.length!==0||(E("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),j=!0);let F=((se=(oe=e==null?void 0:e.externalWallets)==null?void 0:oe.walletConnect)==null?void 0:se.enabled)??!0;e!=null&&e.loginMethods&&e.loginMethodsAndOrder&&E("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let M=(({input:$t,overrides:en})=>en?en.primary.concat(en.overflow??[]).filter(m1e).filter(y1e):$t?$t.filter(m1e).filter(y1e):Ah.appearance.walletList)({input:(ae=e==null?void 0:e.appearance)==null?void 0:ae.walletList,overrides:e==null?void 0:e.loginMethodsAndOrder}),C=(({input:$t})=>{if(!$t||!$t.primary[0])return;let en=[$t.primary[0]],yr=[];for(let Gr of($t.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),$t.primary.slice(1)))en.includes(Gr)?console.warn(`Duplicated login method: ${Gr}`):en.push(Gr);for(let Gr of $t.overflow??[])en.includes(Gr)||yr.includes(Gr)?console.warn(`Duplicated login method: ${Gr}`):yr.push(Gr);return{primary:en,overflow:yr}})({input:e==null?void 0:e.loginMethodsAndOrder}),x=((fe=e==null?void 0:e.intl)==null?void 0:fe.defaultCountry)??"US",{chains:A,defaultChain:P}=function({supportedChains:$t,defaultChainFromConfig:en}){let yr;if($t){if($t.length===0)throw Error("`supportedChains` must contain at least one chain");yr=Nne($t)}else yr=[...$6];let Gr=$t?yr[0]:Tl,Ho=en??Gr;if(!yr.find(zy=>zy.id===Ho.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:yr,defaultChain:Ho}}({supportedChains:e==null?void 0:e.supportedChains,defaultChainFromConfig:e==null?void 0:e.defaultChain}),N=!!(e!=null&&e.defaultChain),$=((ce=e==null?void 0:e.customAuth)==null?void 0:ce.getCustomAccessToken)&&((de=e==null?void 0:e.customAuth)==null?void 0:de.enabled)!==!1,L=(ot=e==null?void 0:e.embeddedWallets)==null?void 0:ot.requireUserPasswordOnCreate,B=(he=e==null?void 0:e.embeddedWallets)==null?void 0:he.createOnLogin,T=$?"all-users":t.embedded_wallet_config.ethereum.create_on_login,z=t.embedded_wallet_config.solana.create_on_login,q={"mainnet-beta":{rpcUrl:"https://api.mainnet-beta.solana.com",blockExplorerUrl:"https://explorer.solana.com"},testnet:{rpcUrl:"https://api.testnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=testnet"},devnet:{rpcUrl:"https://api.devnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=devnet"}};if(e!=null&&e.solanaClusters)for(let $t of e.solanaClusters){let{name:en,rpcUrl:yr,blockExplorerUrl:Gr}=$t;q[en]={rpcUrl:yr??q[en].rpcUrl,blockExplorerUrl:Gr??q[en].blockExplorerUrl}}t.solana_wallet_auth&&!((_e=(Ae=e==null?void 0:e.externalWallets)==null?void 0:Ae.solana)!=null&&_e.connectors)&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let U=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,V=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:((ge=e==null?void 0:e.appearance)==null?void 0:ge.logo)??t.logo_url??void 0,landingHeader:((Ee=e==null?void 0:e.appearance)==null?void 0:Ee.landingHeader)??Ah.appearance.landingHeader,loginMessage:typeof((Wt=e==null?void 0:e.appearance)==null?void 0:Wt.loginMessage)=="string"?(ye=e==null?void 0:e.appearance)==null?void 0:ye.loginMessage.slice(0,100):(je=e==null?void 0:e.appearance)==null?void 0:je.loginMessage,footerLogo:(Ye=e==null?void 0:e.appearance)==null?void 0:Ye.footerLogo,palette:mbt({backgroundTheme:((bt=e==null?void 0:e.appearance)==null?void 0:bt.theme)??Ah.appearance.theme,accentHex:((ft=e==null?void 0:e.appearance)==null?void 0:ft.accentColor)??t.accent_color}),loginGroupPriority:j?"web3-first":"web2-first",hideDirectWeb2Inputs:!!((Xt=e==null?void 0:e.appearance)!=null&&Xt.hideDirectWeb2Inputs),walletList:M,walletChainType:((Ot=e==null?void 0:e.appearance)==null?void 0:Ot.walletChainType)??(({evmWalletAuth:$t,solanaWalletAuth:en})=>$t&&en?"ethereum-and-solana":$t?"ethereum-only":en?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:a,email:i,sms:s,passkey:o,google:c,twitter:l,discord:u,github:y,spotify:f,instagram:g,tiktok:d,line:h,linkedin:m,apple:w,farcaster:b,telegram:v},disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:C,legal:{termsAndConditionsUrl:((At=e==null?void 0:e.legal)==null?void 0:At.termsAndConditionsUrl)??t.terms_and_conditions_url,privacyPolicyUrl:((Oe=e==null?void 0:e.legal)==null?void 0:Oe.privacyPolicyUrl)??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:(e==null?void 0:e.walletConnectCloudProjectId)??t.wallet_connect_cloud_project_id??Ah.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:((Le=e==null?void 0:e.externalWallets)==null?void 0:Le.signatureRequestTimeouts)??{}},chains:A,solanaClusters:q,defaultChain:P,intl:{defaultCountry:x},shouldEnforceDefaultChainOnConnect:N,captchaEnabled:t.captcha_enabled??Ah.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:((lt=(we=e==null?void 0:e.externalWallets)==null?void 0:we.coinbaseWallet)==null?void 0:lt.connectionOptions)??Ah.externalWallets.coinbaseWallet.connectionOptions,...(It=(ht=(St=e==null?void 0:e.externalWallets)==null?void 0:St.coinbaseWallet)==null?void 0:ht.config)==null?void 0:It.preference},...(Nt=(Ue=e==null?void 0:e.externalWallets)==null?void 0:Ue.coinbaseWallet)==null?void 0:Nt.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...(qt=(Kt=e==null?void 0:e.externalWallets)==null?void 0:Kt.baseAccount)==null?void 0:qt.config,preference:{...(ut=(Dr=(tt=e==null?void 0:e.externalWallets)==null?void 0:tt.baseAccount)==null?void 0:Dr.config)==null?void 0:ut.preference,telemetry:!1}}},walletConnect:{enabled:F,appKit:(xa=(mn=e==null?void 0:e.externalWallets)==null?void 0:mn.walletConnect)==null?void 0:xa.appKit},solana:{connectors:(Pn=(jn=e==null?void 0:e.externalWallets)==null?void 0:jn.solana)==null?void 0:Pn.connectors},disableAllExternalWallets:((W=e==null?void 0:e.externalWallets)==null?void 0:W.disableAllExternalWallets)??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:L??(!$&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1)),userOwnedRecoveryOptions:$?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:((H=e==null?void 0:e.embeddedWallets)==null?void 0:H.priceDisplay)??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:B??((Q=(Y=e==null?void 0:e.embeddedWallets)==null?void 0:Y.ethereum)==null?void 0:Q.createOnLogin)??T},solana:{createOnLogin:((ie=(te=e==null?void 0:e.embeddedWallets)==null?void 0:te.solana)==null?void 0:ie.createOnLogin)??z},disableAutomaticMigration:((xe=e==null?void 0:e.embeddedWallets)==null?void 0:xe.disableAutomaticMigration)??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:((ve=e==null?void 0:e.embeddedWallets)==null?void 0:ve.showWalletUIs)??t.enforce_wallet_uis??!0,extendedCalldataDecoding:((nt=e==null?void 0:e.embeddedWallets)==null?void 0:nt.extendedCalldataDecoding)??!1,transactionScanning:{enabled:((Ie=(Ht=e==null?void 0:e.embeddedWallets)==null?void 0:Ht.transactionScanning)==null?void 0:Ie.enabled)??!1,domain:((kt=(Ze=e==null?void 0:e.embeddedWallets)==null?void 0:Ze.transactionScanning)==null?void 0:kt.domain)??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:((Xe=e==null?void 0:e.mfa)==null?void 0:Xe.noPromptOnMfaRequired)??!1},passkeys:{shouldUnlinkOnUnenrollMfa:(Se=e==null?void 0:e.passkeys)==null?void 0:Se.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:(Mt=e==null?void 0:e.passkeys)==null?void 0:Mt.shouldUnenrollMfaOnUnlink},customAuth:$?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:U,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!(e!=null&&e.headless),render:{standalone:((Jt=e==null?void 0:e._render)==null?void 0:Jt.standalone)??Ah._render.standalone},fundingConfig:V,fundingMethodConfig:{...(e==null?void 0:e.fundingMethodConfig)??Ah.fundingMethodConfig,moonpay:{...((pn=e==null?void 0:e.fundingMethodConfig)==null?void 0:pn.moonpay)??Ah.fundingMethodConfig.moonpay,useSandbox:((kn=e==null?void 0:e.fundingMethodConfig)==null?void 0:kn.moonpay.useSandbox)??((Nn=e==null?void 0:e.fiatOnRamp)==null?void 0:Nn.useSandbox)??Ah.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e==null?void 0:e.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":((fr=($n=e==null?void 0:e.solana)==null?void 0:$n.rpcs)==null?void 0:fr["solana:mainnet"])??null,"solana:devnet":((vi=(Et=e==null?void 0:e.solana)==null?void 0:Et.rpcs)==null?void 0:vi["solana:devnet"])??null,"solana:testnet":((pr=(Qt=e==null?void 0:e.solana)==null?void 0:Qt.rpcs)==null?void 0:pr["solana:testnet"])??null}}}const v1e={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},b1e=w1e(v1e,void 0,!1);let KF=k.createContext({appConfig:b1e,isServerConfigLoaded:!1});const ybt=({children:t,client:e,legacyClient:n,clientConfig:r})=>{let[i,s]=k.useState(null),o=k.useMemo(()=>w1e(i??v1e,r,!!i,typeof window<"u"?window.location.origin:void 0),[i,r]);return k.useEffect(()=>{if(!i)return;let a=function(u){var y,w;if(!u)return{};let{appearance:d,supportedChains:h,defaultChain:f,externalWallets:g,...m}=u;return{...m,...h?{supportedChains:h.map(b=>b.id)}:void 0,...f?{defaultChain:f.id}:void 0,...g?{walletConnect:g.walletConnect?{enabled:g.walletConnect.enabled}:void 0,coinbaseWallet:g.coinbaseWallet,solana:{connectors:(w=(y=g.solana)==null?void 0:y.connectors)==null?void 0:w.get().map(b=>b.walletClientType)}}:void 0}}(r),c=function(u,d=0){let h=3735928559^d,f=1103547991^d;for(let g,m=0;m<u.length;m++)h=Math.imul(h^(g=u.charCodeAt(m)),2654435761),f=Math.imul(f^g,1597334677);return h=Math.imul(h^h>>>16,2246822507)^Math.imul(f^f>>>13,3266489909),4294967296*(2097151&(f=Math.imul(f^f>>>16,2246822507)^Math.imul(h^h>>>13,3266489909)))+(h>>>0)}(JSON.stringify(a)).toString(),l=`privy:sent:${i.id}:${c}`;localStorage.getItem(l)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:a}),localStorage.setItem(l,"t"))},[r,i]),k.useEffect(()=>{i||(async()=>{try{await e.initialize();let a=e.app.getConfig();a.custom_api_url&&n.updateApiUrl(a.custom_api_url),s(a)}catch(a){console.warn("Error generating app config: ",a)}})()},[]),p.jsx(KF.Provider,{value:{appConfig:o,isServerConfigLoaded:!!i},children:t})},Tn=()=>{let{appConfig:t}=k.useContext(KF);return t},x1e=()=>{let{isServerConfigLoaded:t}=k.useContext(KF);return t},E1e=k.createContext({app:b1e,currentScreen:null,lastScreen:null,navigate:me,navigateBack:me,resetNavigation:me,setModalData:me,onUserCloseViaDialogOrKeybindRef:void 0}),wbt=t=>{var a;let e=Tn(),n=t.authenticated,[r,i]=k.useState(t.initialScreen);k.useEffect(()=>{n||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)},[n]);let s=k.useRef(null);k.useEffect(()=>{t.open||(s.current=null)},[t.open]),k.useEffect(()=>{s.current=null},[t.initialScreen]);let o={app:e,data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:r,navigate:(c,l=!0)=>{t.setInitialScreen(c),l&&i(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(r)},resetNavigation:()=>{t.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:s};return p.jsxs(E1e.Provider,{value:o,children:[(typeof e.appearance.logo=="string"||((a=e.appearance.logo)==null?void 0:a.type)==="img")&&p.jsx(fbt,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},He=()=>k.useContext(E1e),vbt=({style:t,...e})=>{let{app:n}=He();return p.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[p.jsx("rect",{width:"28",height:"28",rx:"3",fill:(n==null?void 0:n.appearance.palette.colorScheme)==="dark"?"#3396ff":"#141414"}),p.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:p.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_1765_9946",children:p.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},C1e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";let Wb=class extends N1{async initialize(){var n,r,i,s,o,a;let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&((r=(n=this.walletProvider)==null?void 0:n.session)!=null&&r.peer.metadata.url&&(this.walletEntry=WF((s=(i=this.walletProvider)==null?void 0:i.session)==null?void 0:s.peer.metadata.url),this.walletClientType=((o=this.walletEntry)==null?void 0:o.slug)||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized"),(a=this.modal)==null||a.subscribeState(c=>{var l;c.open||(l=this.walletProvider)!=null&&l.session||!this.onQrModalClosed||this.onQrModalClosed()})}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){var e;return!!((e=this.walletProvider)!=null&&e.connected)}get walletBranding(){var n,r,i,s,o,a,c;let e=(i=(r=(n=this.walletProvider)==null?void 0:n.session)==null?void 0:r.peer.metadata.icons)==null?void 0:i[0];return{name:Zvt(((o=(s=this.walletProvider)==null?void 0:s.session)==null?void 0:o.peer.metadata.name)||"")||"WalletConnect",icon:typeof e=="string"?e:C1e,id:((c=(a=this.walletProvider)==null?void 0:a.session)==null?void 0:c.peer.metadata.name.toLowerCase())||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,function(){try{localStorage.removeItem(gF)}catch{}}(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise((e,n)=>{this.onQrModalClosed=()=>{n(new a1e)},(async()=>{var s,o,a,c,l,u;let r="",i=await Promise.race([(s=this.walletProvider)==null?void 0:s.enable(),this.proxyProvider.walletTimeout()]);if(i!=null&&i.length&&(r=i[0]),!r||r==="")throw new br("Unable to retrieve address");(a=(o=this.walletProvider)==null?void 0:o.session)!=null&&a.peer.metadata.url&&(this.walletEntry=WF((l=(c=this.walletProvider)==null?void 0:c.session)==null?void 0:l.peer.metadata.url),this.walletClientType=((u=this.walletEntry)==null?void 0:u.slug)||"unknown",this.proxyProvider.rpcTimeoutDuration=MF(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch(r=>{n(r?lg(r):new br("Unknown error during connection"))}).finally(()=>{var r;return(r=this.modal)==null?void 0:r.close()})})}disconnect(){var e;(e=this.walletProvider)==null||e.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect WalletConnect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let o=Jvt(s.id,this.chains,this.rpcConfig,this.privyAppId);o&&(e[s.id]=o)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map(s=>s.id),i=await Cyt.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:qge,optionalMethods:Wge,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",s=>{var o,a;if(i.signer.abortPairingAttempt(),function(){try{localStorage.removeItem(gF)}catch{}}(),!this.showPrivyQrModal){if(!this.modal)throw new br("Unable to open connect modal");return(o=this.modal)==null?void 0:o.open({uri:s})}if(Tr&&this.walletEntry){let{redirect:c,href:l}=function(d,h){let f=xme(h);if(f.deepLink)return _me(f.deepLink,d);if(f.universalLink)return mF(f.universalLink,d);throw new ee(`Unsupported wallet ${h.id}`)}(s,this.walletEntry);Ame(c,"_self"),function({href:d,name:h}){try{localStorage.setItem(gF,JSON.stringify({href:d,name:h}))}catch{}}({href:l,name:((a=this.walletEntry.metadata)==null?void 0:a.shortName)||this.walletEntry.name});let u=Eme(s,this.walletEntry);return this.redirectUri=c,this.fallbackUniversalRedirectUri=u==null?void 0:u.redirect,this.showPrivyQrModal({native:c,universal:c})}if(this.redirectUri=void 0,this.walletEntry){let c=Eme(s,this.walletEntry);this.fallbackUniversalRedirectUri=c==null?void 0:c.redirect}this.showPrivyQrModal({native:s,universal:void 0})}),i.on("connect",()=>{var s,o,a,c;(s=this.modal)==null||s.close(),(o=i.session)!=null&&o.peer.metadata.url&&(this.walletEntry=WF((a=i.session)==null?void 0:a.peer.metadata.url),this.walletClientType=((c=this.walletEntry)==null?void 0:c.slug)||"unknown")}),i}async enableProvider(){var e,n;return(e=this.walletProvider)!=null&&e.connected?Promise.resolve(this.walletProvider.accounts):await((n=this.walletProvider)==null?void 0:n.enable())}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:o,privyAppName:a,walletClientType:c,appKit:l}){super(c||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=o,this.privyAppName=a,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new dg(void 0,this.rpcTimeoutDuration),this.modal=l,c&&(this.walletEntry=(u=>Z8.getState().listings.find(({slug:d})=>gI(d)===gI(u)))(c),this.walletClientType=c)}},bbt=class extends C0{get wallets(){let e=new Set,n=this.walletConnectors.flatMap(i=>i.wallets).sort((i,s)=>i.connectedAt&&s.connectedAt?s.connectedAt-i.connectedAt:0).filter(i=>{let s=`${i.address}${i.walletClientType}${i.connectorType}${i.meta.id}`;return!e.has(s)&&(e.add(s),!0)}),r=n.findIndex(i=>i.address===(this.activeWallet?this.activeWallet:"unknown"));return r>=0&&n.unshift(n.splice(r,1)[0]),n}async initialize(e){var r,i,s;if(this.initialized&&!e||(e&&this.removeAllConnectors(),Ct.get(Pme)&&(Ct.getKeys().forEach(o=>{o.startsWith("walletconnect")&&Ct.del(o)}),Ct.del(Pme)),this.externalWalletConfig.disableAllExternalWallets))return;let n=Yvt({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(o=>{o.forEach(({type:a,eip6963InjectedProvider:c,legacyInjectedProvider:l})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:a,providers:{eip6963InjectedProvider:c,legacyInjectedProvider:l}})})});for(let o of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(FF)))!o.isInstalled&&this.walletList.includes(o.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&o.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:o.client,walletConfig:o}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&o.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new zF({id:o.client,name:o.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),(r=this.externalWalletConfig.solana.connectors)==null||r.get().forEach(this.addSolanaWalletConnector),(s=(i=this.externalWalletConfig.solana.connectors)==null?void 0:i._setOnConnectorsUpdated)==null||s.call(i,o=>{o==null||o.forEach(this.addSolanaWalletConnector)}),await n,this.initialized=!0}findWalletConnector(e,n){return e==="wallet_connect_v2"?this.walletConnectors.filter(G8).find(r=>r.connectorType===e)??null:this.walletConnectors.filter(G8).find(r=>r.connectorType===e&&r.walletClientType===n)??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(dbt).find(n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>e.connectorType==="embedded")}onInitialized(e){e.wallets.forEach(n=>{let r=this.storedConnections.find(i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType));r&&(n.connectedAt=r.connectedAt)}),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:s,privyClient:o}){let{entropyId:a,entropyIdVerifier:c}=no(n);for(let l of r){let u=this.findEmbeddedWalletConnectors().find(d=>d.walletIndex===l.walletIndex);if(u&&G8(u))u.proxyProvider.walletProxy=e;else{let d=new u1e({provider:new d1e({walletProxy:e,address:l.address,entropyId:a,entropyIdVerifier:c,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:l.walletIndex,privyClient:o,walletAccount:l}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:l.walletIndex});this.addWalletConnector(d)}}}addImportedWalletConnector(e,n,r,i){let s=this.findWalletConnector("embedded_imported","privy");if(s&&G8(s))s.proxyProvider.walletProxy=e;else{let o=new u1e({provider:new d1e({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(o)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>e.connectorType!=="embedded"),this.storedConnections=pI(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let n=this.walletConnectors.indexOf(e);this.walletConnectors.splice(n,1),this.storedConnections=pI(),this.emit("walletsUpdated")}}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){let s=this.findWalletConnector(e,n);if(s&&G8(s))return s instanceof Wb&&s.resetConnection(n),s;let o=e!=="injected"?e==="coinbase_wallet"?new rbt(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new tbt(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new Wb({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n,appKit:this.appKit}):i?new jF({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&(r!=null&&r.eip6963InjectedProvider)?new obt(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,"metamask"):n==="metamask"&&(r!=null&&r.legacyInjectedProvider)?new UF(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"metamask"):n==="phantom"&&(r!=null&&r.legacyInjectedProvider)?new UF(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"phantom"):r!=null&&r.legacyInjectedProvider&&n==="unknown_browser_extension"?new UF(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider):r!=null&&r.eip6963InjectedProvider?new f1e(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,n):void 0;return o&&this.addWalletConnector(o),o||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(n=>{console.debug("Failed to initialize connector",n)})}async activeWalletSign(e){let n=this.wallets,r=n.length>0?n[0]:null;return r&&Qf(r)?r.sign(e):null}setActiveWallet(e){this.activeWallet=Ei(e),this.emit("walletsUpdated")}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,s,o,a,c,l,u,d,h,f){super(),this.addSolanaWalletConnector=async g=>{let m=this.findSolanaWalletConnector(g.walletClientType);if(!m||m.connectorType==="null"){if((m==null?void 0:m.connectorType)==="null"){let y=this.walletConnectors.indexOf(m);this.walletConnectors.splice(y,1)}this.addWalletConnector(g)}},this.getEthereumProvider=()=>{let g=this.wallets[0],m=this.walletConnectors.find(y=>y.wallets.find(w=>w.address===(g==null?void 0:g.address)));return g&&m?m.proxyProvider:new dg},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=o,this.walletList=a,this.shouldEnforceDefaultChainOnConnect=c,this.externalWalletConfig=l,this.privyAppName=u,this.walletChainType=h||"ethereum-only",this.appKit=f,this.setBaseAccountSdk=d,this.storedConnections=pI()}},xbt=[ase,cse,hse],Ebt=class{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw bn(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw bn(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw bn(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=Uvt,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=ose.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:o})=>{let a=new Headers(o.headers);a.set("privy-app-id",this.appId),this.appClientId&&a.set("privy-client-id",this.appClientId),a.set("privy-ca-id",this.clientAnalyticsId||""),a.set("privy-client",`react-auth:${this.sdkVersion}`);let c=xbt.includes(s.toString());if(!a.has("authorization")){let l=await this.client.getAccessToken({disableAutoRefresh:c});l!==null&&a.set("authorization",`Bearer ${l}`)}o.headers=a,o.retryDelay&&typeof o.retryDelay=="number"&&(o.retryDelay=3*o.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new wWe}})}},Cbt=/paymaster\.biconomy\.io\/api/i,_bt={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const Abt=(t,e)=>t&&Cbt.test(t)?_bt:e&&e.policy_id?{policyId:e.policy_id}:void 0,Sbt=t=>{var e,n,r,i;return{rpId:t.rp_id,challenge:t.challenge,allowCredentials:((e=t.allow_credentials)==null?void 0:e.map(s=>({id:s.id,type:s.type,transports:s.transports})))||[],timeout:t.timeout,extensions:{appid:(n=t.extensions)==null?void 0:n.app_id,credProps:(r=t.extensions)==null?void 0:r.cred_props,hmacCreateSecret:(i=t.extensions)==null?void 0:i.hmac_create_secret},userVerification:t.user_verification}};let _1e=class{async authenticate(){if(!this.api)throw new ee("Auth flow has no API instance");try{return await this.api.post(fqe,{token:this.meta.token})}catch(e){throw bn(e)}}async link(){if(!this.api)throw new ee("Auth flow has no API instance");try{return await this.api.post(pqe,{token:this.meta.token})}catch(e){throw bn(e)}}constructor(e){this.meta={token:e}}},Ibt=class{getOrCreateGuestCredential(e){let n=Tme(e);if(pF()){if(Ct.get(n))return Ct.get(n);{let r=Mm(AF(32));return Ct.put(n,r),r}}return Mm(AF(32))}async authenticate(){if(!this.api)throw new ee("Auth flow has no API instance");try{return await this.api.post(gqe,{guest_credential:this.meta.guestCredential})}catch(e){throw bn(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}};function GF(){return!(m_e&&window.location.origin.startsWith("http://localhost"))}const A1e=Cv(()=>({identityToken:null}));var ZF,S1e=((ZF={}).PRIVY="privy_access_token",ZF.CUSTOMER="customer_access_token",ZF);let kbt=class{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(z8)}get privyAccessToken(){return this._getToken(rI)}_getToken(e){try{let n=Ct.get(e);return typeof n=="string"?Bb.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=Ct.get(vF);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=Ct.get(iI(e));if(typeof n!="string")return null;{let r=new Bb(n);return r.isExpired()?(Ct.del(iI(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=Ci.get(bF);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!=="deprecated";return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=Bb.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?Ct.put(iI(e),n):Ct.del(iI(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:s}=n;this.handleTokenResponse(n);let o=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:qs(r),isNewUser:i,oAuthTokens:o}}catch(n){throw console.warn("Error authenticating session"),Ur(n)}}_trackAuthenticateEvents(e,n){let r=function(i){return i instanceof Ob?"email":i instanceof Db?"sms":i instanceof jb?"siwe":i instanceof Ibt?"guest":i instanceof _1e?"custom_auth":i instanceof Rb?i.meta.provider:null}(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:qs(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),Ur(n)}}async _refresh(){if(!this.api)throw new ee("Session has no API instance");if(!this.client)throw new ee("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(ase,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),qs(r.user)}catch(r){if(r instanceof Uc&&r.privyErrorCode===ne.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw Ur(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){var e;try{await((e=this.api)==null?void 0:e.post(cse,{refresh_token:this.refreshToken}))}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){var n,r,i,s,o,a;if(typeof e=="string"){let c=Ct.get(z8);if(Ct.put(z8,e),!((n=this.client)!=null&&n.useServerCookies)){let l=(r=Bb.parse(e))==null?void 0:r.expiration;Ci.set(Ime,e,{sameSite:"Strict",secure:GF(),expires:l?new Date(1e3*l):void 0})}c!==e&&((s=(i=this.client)==null?void 0:i.onStoreCustomerAccessToken)==null||s.call(i,e))}else Ct.del(z8),Ci.remove(Ime),(a=(o=this.client)==null?void 0:o.onDeleteCustomerAccessToken)==null||a.call(o)}storeRefreshToken(e){var n;typeof e=="string"?(Ct.put(vF,e),(n=this.client)!=null&&n.useServerCookies||Ci.set(bF,"t",{sameSite:"Strict",secure:GF(),expires:30})):(Ct.del(vF),Ci.remove("privy-refresh-token"),Ci.remove(bF))}storePrivyAccessToken(e){typeof e=="string"?Ct.put(rI,e):Ct.del(rI)}storeIdentityToken(e){var r,i;if(A1e.setState({identityToken:e}),(r=this.client)==null?void 0:r.useServerCookies)return;Ct.put(kme,e);let n=(i=Bb.parse(e))==null?void 0:i.expiration;Ci.set($me,e,{sameSite:"Strict",secure:GF(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){Ct.del(kme),A1e.setState({identityToken:null}),Ci.remove($me)}constructor(){this.authenticateOnce=new ga(async e=>this._authenticate(e)),this.linkOnce=new ga(async e=>this._link(e)),this.refreshOnce=new ga(this._refresh.bind(this)),this.destroyOnce=new ga(this._destroy.bind(this))}},YF;var $bt=0,JF="__private_"+$bt+++"__getOrGenerateClientAnalyticsId";let Tbt=class{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:s,walletList:o,shouldEnforceDefaultChainOnConnect:a,externalWalletConfig:c,appName:l,walletChainType:u,setBaseAccountSdk:d,appKit:h}){this.connectors||(this.connectors=new bbt(this.appId,e,n,r,i,s,o,a,c,l,d,u,h))}generateApi(){let e=new Ebt({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new ee("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new ee("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(n=>n.type==="cross_app").forEach(n=>{this.storeProviderAccessToken(n.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(uqe,{action:"verify"})}catch(e){throw bn(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(dqe,{});return Sbt(e.options)}catch(e){throw bn(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(hqe,{});return qs(e)}catch(e){throw Ur(e)}}async unlinkEmail(e){try{let n=await this.api.post(UWe,{address:e});return await this.getAuthenticatedUser()??qs(n)}catch(n){throw Ur(n)}}async unlinkPhone(e){try{let n=await this.api.post(HWe,{phoneNumber:e});return await this.getAuthenticatedUser()??qs(n)}catch(n){throw Ur(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(_We,{address:e});return await this.getAuthenticatedUser()??qs(n)}catch(n){throw Ur(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post($We,{address:e});return await this.getAuthenticatedUser()??qs(n)}catch(n){throw Ur(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post(ZWe,{provider:e,subject:n});return await this.getAuthenticatedUser()??qs(r)}catch(r){throw Ur(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(MWe,{fid:e});return await this.getAuthenticatedUser()??qs(n)}catch(n){throw Ur(n)}}async unlinkTelegram(e){try{let n=await this.api.post(cqe,{telegram_user_id:e});return await this.getAuthenticatedUser()??qs(n)}catch(n){throw Ur(n)}}async revokeDelegatedWallet(){try{await this.api.post(vqe,{})}catch(e){throw Ur(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(hse,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:(i==null?void 0:i.keepAlive)??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(mqe,e)}catch(n){throw Ur(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(yqe,e)}catch(n){throw Ur(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${wqe}?partnerUserId=${e}`)}catch(n){throw Ur(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(S1e.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(S1e.PRIVY,e)}async _getToken(e,n){var r;return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?((r=Xvt.parse(this.session.getToken(e)))==null?void 0:r.appId)!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!(n!=null&&n.disableAutoRefresh)&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},n=this.session.token;n&&(e.authorization=`Bearer ${n}`);let r=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return r.enabled?{enabled:r.enabled,smartWalletVersion:r.smart_wallet_version,smartWalletType:r.smart_wallet_type,configuredNetworks:r.configured_networks.map(i=>({chainId:i.chain_id,bundlerUrl:i.bundler_url,paymasterUrl:i.paymaster_url,paymasterContext:Abt(i.paymaster_url,i.paymaster_context)}))}:{enabled:r.enabled}}catch(e){throw Ur(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(bWe,{address:e,token:n})).nonce}catch(r){throw Ur(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:o}){return await this.api.post(xWe,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:o})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){return await this.api.post(EWe,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let s=await this.api.post(CWe,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return qs(s)}catch(s){throw Ur(s)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){try{let o=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s});return qs(o)}catch(o){throw Ur(o)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(SWe,{address:e,token:n})).nonce}catch(r){throw Ur(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o="plain"}){return await this.api.post(IWe,{message:e,signature:n,walletClientType:r,connectorType:i,mode:s,message_type:o})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o="plain"}){let a=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o});this.session.handleTokenResponse(a);let c=qs(a.user);if(!c)throw Error("Authentication failed - no user returned");return{user:c,isNewUser:a.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:o,farcasterEmbeddedAddress:a,oAuthUserInfo:c}){try{let l,u;switch(r){case"email":l=zWe,u={nonce:e,email:n};break;case"sms":l=GWe,u={nonce:e,phoneNumber:n};break;case"siwe":if(l=AWe,!i)throw Error("Wallet parameters must be defined");u={nonce:e,address:n,...i};break;case"farcaster":l=jWe,u={nonce:e,farcaster_id:n,farcaster_embedded_address:a};break;case"telegram":l=lqe,u={nonce:e,telegram_auth_result:s,telegram_web_app_data:o};break;case"siws":l=TWe,u={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:l=YWe,u={nonce:e,userInfo:c}}let d=await this.api.post(l,u);return await this.getAuthenticatedUser()??qs(d)}catch(l){throw Ur(l)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){return await this.api.post(kWe,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){try{let o=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s});return qs(o)}catch(o){throw Ur(o)}}async updateUserAndIdToken(){try{let e=await this.api.get(bqe);return this.session.updateIdentityToken(e.identity_token),qs(e.user)}catch(e){throw Ur(e)}}async scanTransaction(e){try{return await this.api.post(xqe,e)}catch(n){throw Ur(n)}}constructor({apiUrl:e=yF,appId:n,appClientId:r,timeout:i=2e4}){Object.defineProperty(this,JF,{value:Pbt}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==yF&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=function(s,o){if(!Object.prototype.hasOwnProperty.call(s,o))throw TypeError("attempted to use private field on non-instance");return s}(this,JF)[JF](),YF||(YF=new kbt),this.session=YF,this.api=this.generateApi(),this.session.client=this}};function Pbt(){if(typeof window>"u")return null;try{let e=Ct.get(xF);if(typeof e=="string"&&e.length>0)return e}catch{}let t=Z7();try{return Ct.put(xF,t),t}catch{return t}}const Nbt=({delayedExecution:t,...e})=>{let{enabled:n,siteKey:r,appId:i,setError:s,setToken:o,setExecuting:a,ref:c}=rc(),[,l]=k.useMemo(()=>(r==null?void 0:r.split("t:"))||[],[r]);if(k.useEffect(()=>{var u;return(u=c.current)==null?void 0:u.remove},[]),!n)return null;if(!l)throw Error("Unsupported captcha site key");return p.jsx("div",{className:"hidden h-0 w-0",children:p.jsx(Uoe,{...e,ref:c,siteKey:l,options:{action:i,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{var u;(u=e.onUnsupported)==null||u.call(e),console.warn("Browser does not support Turnstile.")},onError:()=>{var u;(u=e.onError)==null||u.call(e),s("Captcha failed"),a(!1)},onSuccess:u=>{var d;(d=e.onSuccess)==null||d.call(e,u),o(u),a(!1)},onExpire:()=>{var u,d;(u=e.onExpire)==null||u.call(e);try{(d=c.current)==null||d.reset(),s(void 0),o(void 0)}catch{s("expired_and_failed_reset")}}})})},Obt=t=>{let[e,n]=k.useState("auto");return k.useEffect(()=>{let r=new ResizeObserver(i=>{var s;n(((s=i[0])==null?void 0:s.contentRect.height)??"auto")});return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}},[t.current]),e},Rbt={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},signSolanaTransaction:{onSuccess:[],onError:[]},signSolanaMessage:{onSuccess:[],onError:[]},sendSolanaTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},I1e=k.createContext(void 0);let k1e=()=>k.useContext(I1e);function qb(t,e){if(!e)return;let n=k1e().current[t];return k.useEffect(()=>{var r;for(let[i,s]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),(r=n[i])==null||r.push(s);return()=>{var i;for(let[s,o]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,s)||console.warn(`Invalid event type "${s}" for action "${t}"`),n[s]=(i=n[s])==null?void 0:i.filter(a=>a!==o)}},[e])}function $e(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function ep(){let t=k1e();return(e,n,...r)=>$e(t,e,n,...r)}function Mbt(t){qb("configureMfa",t)}const hg=G.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),jbt=G.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),QF=G.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),$1e=G(QF).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0);let Dbt=rs(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const Lbt=G.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),ei=G.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],Dbt),Sh=G.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],t=>t.$fullSize?"0":"4px",t=>t.$fullSize?"transparent":"var(--privy-color-background-2)",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)"),Hb=G.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],t=>t.$if?"display: none;":""),Bbt=G.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],t=>t.$withPadding?"64px 0px":"0px"),Ubt=G.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function Fbt(t){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:p.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:p.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let T1e=G.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function XF({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:n}},alwaysShowImplicitConsent:r}){let i=!(!t||!e);return n&&!r||!e&&!t?p.jsx(T1e,{}):p.jsxs(T1e,{children:["By logging in I agree to the"," ",e&&p.jsx("a",{href:e,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",t&&p.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const An=({className:t})=>{let{appearance:e}=Tn();return p.jsx(ki,{className:t,children:e.footerLogo??p.jsx(zbt,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:p.jsx(Fbt,{color:"currentColor",height:13,width:150})})})};let zbt=G.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const ki=G.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),P1e=({success:t,fail:e})=>p.jsxs(Wbt,{children:[p.jsx(N1e,{children:p.jsx(ez,{className:t?"success":e?"fail":""})}),p.jsx(N1e,{children:p.jsx(tu,{className:t?"success":e?"fail":""})})]});let N1e=G.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),Wbt=G.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const tu=G.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],t=>t.color??"var(--privy-color-icon-subtle)"),ez=G(tu).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],t=>t.color??"var(--privy-color-border-default)",t=>t.color??"var(--privy-color-border-default)"),fg=t=>p.jsx(qbt,{color:t.color||"var(--privy-color-foreground-3)"});let qbt=G(tu).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const R1=({variant:t="primary",size:e="lg",children:n,success:r,...i})=>{switch(t){case"secondary":return p.jsx(sd,{size:e,...i,children:n});case"error":return p.jsx(sd,{$warn:!0,size:e,...i,children:n});case"muted":return p.jsx(Kbt,{size:e,...i,children:n});default:return p.jsx(er,{size:e,success:r,...i,children:n})}},wI=G.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)",({$size:t})=>t==="sm"?"28px":"48px",({$size:t})=>t==="sm"?"10px":"16px"),er=({children:t,loading:e,disabled:n,success:r,size:i="lg",loadingText:s="Loading...",as:o,onClick:a,...c})=>{let l=o==="a",u=!(!e&&!n);return p.jsx(Vbt,{as:o,disabled:l?void 0:u,"aria-disabled":l?u:void 0,$success:r,$size:i,onClick:d=>{l&&u?d.preventDefault():a==null||a(d)},...c,children:e?p.jsxs(p.Fragment,{children:[p.jsx(fg,{}),s?p.jsx("span",{style:{marginLeft:"8px"},children:s}):null]}):t})},vI=({children:t,loading:e,disabled:n,...r})=>p.jsx(Hbt,{disabled:n,...r,children:e?p.jsx(fg,{color:"var(--privy-color-foreground-accent)"}):t});let Hbt=G(wI).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),Vbt=G(wI).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.disabled&&rs(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const sd=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let c=s==="a",l=!(!e&&!n);return p.jsx(Gbt,{as:s,disabled:c?void 0:l,"aria-disabled":c?l:void 0,$size:r,onClick:u=>{c&&l?u.preventDefault():o==null||o(u)},...a,children:e?p.jsxs(p.Fragment,{children:[p.jsx(fg,{}),i?p.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})},Kbt=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let c=s==="a",l=!(!e&&!n);return p.jsx(Zbt,{as:s,disabled:c?void 0:l,"aria-disabled":c?l:void 0,$size:r,onClick:u=>{c&&l?u.preventDefault():o==null||o(u)},...a,children:e?p.jsxs(p.Fragment,{children:[p.jsx(fg,{}),i?p.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})};let Gbt=G(wI).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)",t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)",t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.disabled&&rs(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])),Zbt=G(wI).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.disabled&&rs(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const bI=({children:t,onClick:e,disabled:n,isSubmitting:r,...i})=>p.jsxs(Ybt,{$isSubmitting:r,onClick:e,disabled:n,...i,children:[p.jsx("span",{children:t}),p.jsx("span",{children:p.jsx(fg,{})})]});let Ybt=G.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],t=>t.$isSubmitting?0:1,t=>t.$isSubmitting?1:0);const Jbt=({backFn:t})=>p.jsx("div",{children:p.jsx(tz,{onClick:t,children:p.jsx(qKe,{height:"16px",width:"16px",strokeWidth:2})})}),Qbt=({infoFn:t})=>p.jsx("div",{children:p.jsx(e2t,{"aria-label":"info",onClick:t,children:p.jsx(Ev,{height:"22px",width:"22px",strokeWidth:2})})}),Xbt=t=>p.jsx("div",{children:p.jsx(tz,{"aria-label":"close modal",onClick:t.onClose,children:p.jsx(ZKe,{height:"16px",width:"16px",strokeWidth:2})})}),an=({backFn:t,infoFn:e,onClose:n,title:r,closeable:i=!0,className:s})=>{let{closePrivyModal:o}=Fe(),a=Tn();return p.jsxs(t2t,{className:s,children:[p.jsxs(n2t,{children:[t&&p.jsx(Jbt,{backFn:t}),e&&p.jsx(Qbt,{infoFn:e})]}),r&&p.jsx(i2t,{id:"privy-dialog-title",children:r}),p.jsx(r2t,{children:!a.render.standalone&&i&&p.jsx(Xbt,{onClose:n||(()=>o())})})]})};let tz=G.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),e2t=G(tz).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),t2t=G.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),n2t=G.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),r2t=G.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),i2t=G.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const M1=({size:t})=>p.jsx(s2t,{$size:t,children:p.jsxs(o2t,{children:[p.jsx(a2t,{}),p.jsx(c2t,{})]})});let s2t=G.div.withConfig({displayName:"LoadingContainer",componentId:"sc-5be8451e-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],t=>t.$size?t.$size:"96px"),o2t=G.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-5be8451e-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),a2t=G.div.withConfig({displayName:"CircleFixed",componentId:"sc-5be8451e-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),c2t=G.div.withConfig({displayName:"CircleRotate",componentId:"sc-5be8451e-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const l2t=G.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),u2t=G.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),d2t=G.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),h2t=G(an).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),f2t=G.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),p2t=G.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let g2t=G.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),m2t=G.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),y2t=G.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),w2t=G.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),O1e=G.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}}),v2t=G.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),b2t=G.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const cr=({children:t,...e})=>p.jsx(l2t,{children:p.jsx(u2t,{...e,children:t})});let x2t=G.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),E2t=G(An).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),C2t=G.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],({pct:t})=>t),_2t=({step:t})=>t?p.jsx(x2t,{children:p.jsx(C2t,{pct:Math.min(100,t.current/t.total*100)})}):null;cr.Header=({title:t,subtitle:e,icon:n,iconVariant:r,iconLoadingStatus:i,showBack:s,onBack:o,showInfo:a,onInfo:c,showClose:l,onClose:u,step:d,...h})=>p.jsxs(d2t,{...h,children:[p.jsx(h2t,{backFn:s?o:void 0,infoFn:a?c:void 0,onClose:l?u:void 0,closeable:l}),(n||r||t||e)&&p.jsxs(g2t,{children:[n||r?p.jsx(cr.Icon,{icon:n,variant:r,loadingStatus:i}):null,p.jsxs(m2t,{children:[t&&p.jsx(y2t,{children:t}),e&&p.jsx(w2t,{children:e})]})]}),d&&p.jsx(_2t,{step:d})]}),cr.Body=Me.forwardRef(({children:t,...e},n)=>p.jsx(f2t,{ref:n,...e,children:t})),cr.Body.displayName="Screen.Body",cr.Footer=({children:t,...e})=>p.jsx(p2t,{...e,children:t}),cr.Actions=({children:t,...e})=>p.jsx(A2t,{...e,children:t}),cr.HelpText=({children:t,...e})=>p.jsx(S2t,{...e,children:t}),cr.Watermark=()=>p.jsx(E2t,{}),cr.Icon=({icon:t,variant:e="subtle",loadingStatus:n})=>e==="logo"&&t?p.jsx(v2t,typeof t=="string"?{children:p.jsx("img",{src:t,alt:""})}:Me.isValidElement(t)?{children:t}:{children:Me.createElement(t)}):e==="loading"?t?p.jsx(b2t,{children:p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[p.jsx(P1e,{success:n==null?void 0:n.success,fail:n==null?void 0:n.fail}),typeof t=="string"?p.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):Me.isValidElement(t)?Me.cloneElement(t,{style:{width:"38px",height:"38px"}}):Me.createElement(t,{style:{width:"38px",height:"38px"}})]})}):p.jsx(O1e,{$variant:e,children:p.jsx(M1,{size:"64px"})}):p.jsx(O1e,{$variant:e,children:t&&(typeof t=="string"?p.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):Me.isValidElement(t)?t:Me.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let A2t=G.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),S2t=G.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const xn=({primaryCta:t,secondaryCta:e,helpText:n,watermark:r=!0,children:i,...s})=>{let o=t||e?p.jsxs(p.Fragment,{children:[t&&(()=>{let{label:a,...c}=t,l=c.variant||"primary";return p.jsx(R1,{...c,variant:l,style:{width:"100%",...c.style},children:a})})(),e&&(()=>{let{label:a,...c}=e,l=c.variant||"secondary";return p.jsx(R1,{...c,variant:l,style:{width:"100%",...c.style},children:a})})()]}):null;return p.jsxs(cr,{id:s.id,className:s.className,children:[p.jsx(cr.Header,{...s}),i?p.jsx(cr.Body,{children:i}):null,n||o||r?p.jsxs(cr.Footer,{children:[n?p.jsx(cr.HelpText,{children:n}):null,o?p.jsx(cr.Actions,{children:o}):null,r?p.jsx(cr.Watermark,{}):null]}):null]})},nz=G.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),ic=G.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),nu=G.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),j1=G.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),xI=G.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),D1=G.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),L1=G.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),Vb=G.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),R1e=G.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),rz=G.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),iz=G.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),sz=G.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),M1e=G.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)"),oz=G.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),j1e=G.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),az=G.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)"),ru=G.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),D1e=G.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),L1e=({handleClose:t,user:e,onSelect:n})=>p.jsxs(xn,{title:"Verify your identity",subtitle:"Choose a verification method",icon:Ym,iconVariant:"subtle",onClose:t,showClose:!0,watermark:!0,children:[p.jsxs(R1e,{children:[e.mfaMethods.includes("totp")&&p.jsxs(ei,{onClick:()=>n("totp"),children:[p.jsx(Sh,{children:p.jsx(U_,{})}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&p.jsxs(ei,{onClick:()=>n("sms"),children:[p.jsx(Sh,{children:p.jsx(M0,{})}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&p.jsxs(ei,{onClick:()=>n("passkey"),children:[p.jsx(Sh,{children:p.jsx(wD,{})}),"Passkey"]},"passkey")]}),p.jsx(ki,{})]}),cz=({label:t,children:e,valueStyles:n})=>p.jsxs(I2t,{children:[p.jsx("div",{children:t}),p.jsx(k2t,{style:{...n},children:e})]});let I2t=G.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),k2t=G.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),$2t=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),B1e=t=>$2t.format(t);const U1e=(t,e)=>{let n=B1e(e*parseFloat(t));return n!=="$0.00"?n:"<$0.01"},B1=(t,e)=>{let n=B1e(e*parseFloat(vm(t)));return n==="$0.00"?"<$0.01":n},od=(t,e,n=6,r=!1)=>`${F1e(t,n,r)} ${e}`,F1e=(t,e=6,n=!1)=>{let r=parseFloat(vm(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return n?r:`${r==="0"?"<0.001":r}`},lz=t=>t.reduce((e,n)=>e+n,0n),T2t=(t,e)=>{let{chains:n}=Fe(),r=`https://etherscan.io/address/${e}`,i=`${((s,o)=>{var l;let a=Number(s),c=o.find(u=>u.id===a);if(!c)throw new br(`Unsupported chainId ${s}`,4901);return(l=c.blockExplorers)==null?void 0:l.default.url})(t,n)}/address/${e}`;if(!i)return r;try{new URL(i)}catch{return r}return i},P2t=1e9;function J8(t,e){let n=parseFloat(t.toString())/P2t,r=N2t.format(e*n);return r==="$0.00"?"<$0.01":r}let N2t=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});const O2t=(t,e=0)=>{let n=t[e],r=t[e+7];if(!n||!r)throw Error(`Buffer offset out of range: first: ${n}, last: ${r}.`);return(BigInt(t[e+4]+256*t[e+5]+65536*t[e+6]+(r<<24))<<32n)+BigInt(n+256*t[++e]+65536*t[++e]+16777216*t[++e])};function R2t(t,e=0){let n=0n;for(let r=0;r<8;r++)n|=BigInt(t[e+r])<<BigInt(8*r);return n}async function Kb(t,e){try{return await t}catch{return e}}const Q8="11111111111111111111111111111111",M2t=["CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C","CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"],j2t=["JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"];function pg(t,e=6,n=!1,r=!1){let i=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),s=r?"":" SOL";return n?`${i}${s}`:`${i==="0"?"<0.001":i}${s}`}function z1e({amount:t,fee:e,tokenPrice:n,isUsdc:r}){let i=BigInt(Math.floor(parseFloat(t)*10**(r?6:9))),s=r?i:i+e;return{fundingAmountInBaseUnit:i,fundingAmountInUsd:n?J8(i,n):void 0,totalPriceInUsd:n?J8(s,n):void 0,totalPriceInNativeCurrency:pg(s),feePriceInNativeCurrency:pg(e),feePriceInUsd:n?J8(e,n):void 0}}let D2t={"mainnet-beta":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},devnet:{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},testnet:{}};async function ad(t,e,n){let r=D2t[t];if(!r[n]){let i=await e.getSplTokenMetadata({mintAddress:n,cluster:t});i&&(r[n]={address:n,symbol:i.symbol,decimals:i.decimals})}return r[n]}function gg(t){return"version"in t}function EI(t,e){let n=(gg(t)?t.message:t.compileMessage()).staticAccountKeys.find(r=>r.toBase58()===e);if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}function W1e(t,e,n){var r;return{signature:t,parsedTransaction:n??null,signedTransaction:e,fees:BigInt(((r=n==null?void 0:n.meta)==null?void 0:r.fee)||0)}}async function q1e(t,e){var r;let{value:n}=await e.simulateTransaction(t);if(n.err==="BlockhashNotFound")throw Error("Simulation failed: Blockhash not found");return n.err==null&&((r=n.logs)==null?void 0:r.every(i=>!/insufficient funds/gi.test(i)))}async function L2t({tx:t,connection:e,client:n,checkFunds:r}){var d,h,f,g;let i=gg(t)?t.message:t.compileMessage(),s=((d=i.staticAccountKeys[0])==null?void 0:d.toBase58())??"",o=await async function(m,y){return BigInt((gg(m)?(await y.getFeeForMessage(m.message)).value:await m.getEstimatedFee(y))??0)}(t,e),a=!r||await Kb(q1e(t,e),!0),c={},l=[],u=await async function(m,y){return[...m.staticAccountKeys.map(w=>w),...(await Promise.all(m.addressTableLookups.map(async w=>y.getAddressLookupTable(w.accountKey).then(({value:b})=>b)))).map((w,b)=>{var v,E;return[...((v=m.addressTableLookups[b])==null?void 0:v.writableIndexes.map(_=>{let O=w==null?void 0:w.state.addresses[_];if(O)return{key:O,isWritable:!0,altIdx:b}}))??[],...((E=m.addressTableLookups[b])==null?void 0:E.readonlyIndexes.map(_=>{let O=w==null?void 0:w.state.addresses[_];if(O)return{key:O,isWritable:!1,altIdx:b}}))??[]]}).flat().filter(w=>!!w).sort((w,b)=>w.isWritable!==b.isWritable?w.isWritable?-1:1:w.altIdx-b.altIdx).map(({key:w})=>w)]}(i,e);for(let m of i.compiledInstructions){let y=((h=i.staticAccountKeys[m.programIdIndex])==null?void 0:h.toBase58())||"";if(y!=="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"&&y!=="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")if(y!==Q8){if(y==="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"){let w=await Kb(function(b,v,E){let[_,O,S,R]=b.accountKeyIndexes.map(I=>v[I]);return{type:"ata-creation",program:E,payer:_==null?void 0:_.toBase58(),ata:O==null?void 0:O.toBase58(),owner:S==null?void 0:S.toBase58(),mint:R==null?void 0:R.toBase58()}}(m,u,y));if(!w){l.push({type:"unknown",program:y,discriminator:m.data[0]});continue}if(l.push(w),w.ata&&w.owner&&w.mint){c[w.ata]={owner:w.owner,mint:w.mint};continue}}if(M2t.includes(y)){let w=await Kb(F2t(m,u,e,n,y));if(!w){l.push({type:"unknown",program:y,discriminator:m.data[0]});continue}l.push(w)}else if(j2t.includes(y)){let w=await Kb(z2t(m,u,e,n,y));if(!w){l.push({type:"unknown",program:y,discriminator:m.data[0]});continue}l.push(w)}else l.push({type:"unknown",program:y,discriminator:m.data[0]})}else{let w=await Kb(U2t(m,u));if(!w){l.push({type:"unknown",program:y,discriminator:m.data[0]});continue}l.push(w)}else{let w=await Kb(B2t(m,u,e,n,c,y));if(!w){l.push({type:"unknown",program:y,discriminator:m.data[0]});continue}l.push(w),w.type==="spl-transfer"&&(w.fromAta&&w.fromAccount&&w.token.address&&(c[f=w.fromAta]??(c[f]={owner:w.fromAccount,mint:w.token.address})),w.toAta&&w.toAccount&&w.token.address&&(c[g=w.toAta]??(c[g]={owner:w.toAccount,mint:w.token.address})))}}return{spender:s,fee:o,instructions:l,hasFunds:!!a}}function ma(t,e=0){try{return R2t(t,e)}catch{}try{return t.readBigInt64LE(e)}catch{}let n=Lo(t);try{return O2t(n)}catch{}try{return n.subarray(e).readBigInt64LE()}catch{}try{return n.readBigInt64LE(e)}catch{}return 0n}async function B2t(t,e,n,r,i,s){var c,l,u,d,h,f,g,m,y,w,b;let o=t.data[0],a=t.accountKeyIndexes.map(v=>e[v]);if(o===1){let[v,E,_]=a;return{type:"spl-init-account",program:s,account:v==null?void 0:v.toBase58(),mint:E==null?void 0:E.toBase58(),owner:_==null?void 0:_.toBase58()}}if(o===3){let v,E,[_,O,S]=a,R="",I=O?i[O.toBase58()]:void 0;if(I)v=I.owner,R=I.mint;else if(O){let M=await n.getParsedAccountInfo(O,"confirmed"),C=(c=M.value)==null?void 0:c.data;v=(u=(l=C==null?void 0:C.parsed)==null?void 0:l.info)==null?void 0:u.owner,R=((h=(d=C==null?void 0:C.parsed)==null?void 0:d.info)==null?void 0:h.mint)??"",E=(m=(g=(f=C==null?void 0:C.parsed)==null?void 0:f.info)==null?void 0:g.tokenAmount)==null?void 0:m.decimals}if(!R&&_){let M=await n.getParsedAccountInfo(_,"confirmed"),C=(y=M.value)==null?void 0:y.data;R=((b=(w=C==null?void 0:C.parsed)==null?void 0:w.info)==null?void 0:b.mint)??""}let D=zb(n.rpcEndpoint),j=await ad(D,r,R),F=(j==null?void 0:j.symbol)??"";return E??(E=(j==null?void 0:j.decimals)??9),{type:"spl-transfer",program:s,fromAta:_==null?void 0:_.toBase58(),fromAccount:S==null?void 0:S.toBase58(),toAta:O==null?void 0:O.toBase58(),toAccount:v,value:ma(t.data,1),token:{symbol:F,decimals:E,address:R}}}if(o===9){let[v,E,_]=a;return{type:"spl-close-account",program:s,source:v==null?void 0:v.toBase58(),destination:E==null?void 0:E.toBase58(),owner:_==null?void 0:_.toBase58()}}if(o===17)return{type:"spl-sync-native",program:s};throw Error(`Token program instruction type ${o} not supported`)}async function U2t(t,e){let n=t.data[0],r=t.accountKeyIndexes.map(i=>e[i]);if(n===0){let[,i]=r;return{type:"create-account",program:Q8,account:i==null?void 0:i.toBase58(),value:ma(t.data,4),withSeed:!1}}if(n===2){let[i,s]=r;return{type:"sol-transfer",program:Q8,fromAccount:i==null?void 0:i.toBase58(),toAccount:s==null?void 0:s.toBase58(),token:{symbol:"SOL",decimals:9},value:ma(t.data,4),withSeed:!1}}if(n===3){let[,i]=r,s=ma(t.data.slice(t.data.length-32-8-8));return{type:"create-account",program:Q8,account:i==null?void 0:i.toBase58(),withSeed:!0,value:s}}if(n===11){let[i,s]=r;return{type:"sol-transfer",program:Q8,fromAccount:i==null?void 0:i.toBase58(),toAccount:s==null?void 0:s.toBase58(),value:ma(t.data,4),token:{symbol:"SOL",decimals:9},withSeed:!0}}throw Error(`System program instruction type ${n} not supported`)}async function F2t(t,e,n,r,i){let s=t.accountKeyIndexes.map(c=>{var l;return(l=e[c])==null?void 0:l.toBase58()}),o=t.data[0],a=zb(n.rpcEndpoint);if(o===143){let c=s[10],l=s[11];return{type:"raydium-swap-base-input",program:i,mintIn:c,mintOut:l,tokenIn:c?await ad(a,r,c):void 0,tokenOut:l?await ad(a,r,l):void 0,amountIn:ma(t.data,8),minimumAmountOut:ma(t.data,16)}}if(o===55){let c=s[10],l=s[11];return{type:"raydium-swap-base-output",program:i,mintIn:c,mintOut:l,tokenIn:c?await ad(a,r,c):void 0,tokenOut:l?await ad(a,r,l):void 0,maxAmountIn:ma(t.data,8),amountOut:ma(t.data,16)}}throw Error(`Raydium swap program instruction type ${o} not supported`)}async function z2t(t,e,n,r,i){var c,l,u,d,h,f;let s=t.data[0],o=t.accountKeyIndexes.map(g=>e[g]),a=zb(n.rpcEndpoint);if([208,51,239,151,123,43,237,92].includes(s)){let g=(c=o[5])==null?void 0:c.toBase58(),m=(l=o[6])==null?void 0:l.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:g,mintOut:m,tokenIn:g?await ad(a,r,g):void 0,tokenOut:m?await ad(a,r,m):void 0,outAmount:ma(t.data,t.data.length-1-2-8-8),quotedInAmount:ma(t.data,t.data.length-1-2-8)}}if([176,209,105,168,154,125,69,62].includes(s)){let g=(u=o[7])==null?void 0:u.toBase58(),m=(d=o[8])==null?void 0:d.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:g,mintOut:m,tokenIn:g?await ad(a,r,g):void 0,tokenOut:m?await ad(a,r,m):void 0,outAmount:ma(t.data,t.data.length-1-2-8-8),quotedInAmount:ma(t.data,t.data.length-1-2-8)}}if([193,32,155,51,65,214,156,129].includes(s)){let g=(h=o[7])==null?void 0:h.toBase58(),m=(f=o[8])==null?void 0:f.toBase58();return{type:"jupiter-swap-shared-accounts-route",program:i,mintIn:g,mintOut:m,tokenIn:g?await ad(a,r,g):void 0,tokenOut:m?await ad(a,r,m):void 0,inAmount:ma(t.data,t.data.length-1-2-8-8),quotedOutAmount:ma(t.data,t.data.length-1-2-8)}}throw[62,198,214,193,213,159,108,210].includes(s)&&console.warn("Jupiter swap program instruction 'claim' not implemented"),[116,206,27,191,166,19,0,73].includes(s)&&console.warn("Jupiter swap program instruction 'claim_token' not implemented"),[26,74,236,151,104,64,183,249].includes(s)&&console.warn("Jupiter swap program instruction 'close_token' not implemented"),[229,194,212,172,8,10,134,147].includes(s)&&console.warn("Jupiter swap program instruction 'create_open_orders' not implemented"),[28,226,32,148,188,136,113,171].includes(s)&&console.warn("Jupiter swap program instruction 'create_program_open_orders' not implemented"),[232,242,197,253,240,143,129,52].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_ledger' not implemented"),[147,241,123,100,244,132,174,118].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_account' not implemented"),[229,23,203,151,122,227,173,42].includes(s)&&console.warn("Jupiter swap program instruction 'route' not implemented"),[150,86,71,116,167,93,14,104].includes(s)&&console.warn("Jupiter swap program instruction 'route_with_token_ledger' not implemented"),[228,85,185,112,78,79,77,2].includes(s)&&console.warn("Jupiter swap program instruction 'set_token_ledger' not implemented"),[230,121,143,80,119,159,106,170].includes(s)&&console.warn("Jupiter swap program instruction 'shared_accounts_route_with_token_ledger' not implemented"),Error(`Jupiter swap program instruction type ${s} not supported`)}const W2t=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=lz(t),i=e?B1(r,e):void 0,s=od(r,n);return p.jsx(uz,{children:i||s})},H1e=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=lz(t),i=e?B1(r,e):void 0,s=od(r,n);return p.jsx(uz,{children:i?p.jsxs(p.Fragment,{children:[p.jsx(q2t,{children:"USD"}),i==="<$0.01"?p.jsxs(G1e,{children:[p.jsx(K1e,{children:"<"}),"$0.01"]}):i]}):s})},V1e=({quantities:t,tokenPrice:e,tokenSymbol:n="SOL",tokenDecimals:r=9})=>{let i=t.reduce((a,c)=>a+c,0n),s=e&&n==="SOL"&&r===9?J8(i,e):void 0,o=n==="SOL"&&r===9?pg(i):`${es(i,r)} ${n}`;return p.jsx(uz,{children:s?p.jsx(p.Fragment,{children:s==="<$0.01"?p.jsxs(G1e,{children:[p.jsx(K1e,{children:"<"}),"$0.01"]}):s}):o})};let uz=G.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),q2t=G.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),K1e=G.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),G1e=G.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const Z1e=G.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),dz=G.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),H2t=G.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),V2t=G(dz).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),X8=G(dz).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),CI=G.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),hz=G.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),K2t=G.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),cd=G.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),nl=G.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),G2t=G.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],t=>t.height??"12"),Z2t=({gas:t,tokenPrice:e,tokenSymbol:n})=>p.jsxs(CI,{style:{paddingBottom:"12px"},children:[p.jsxs(Y1e,{children:[p.jsx(Q1e,{children:"Est. Fees"}),p.jsx("div",{children:p.jsx(H1e,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:n})})]}),e&&p.jsx(J1e,{children:`${od(BigInt(t),n)}`})]}),Y2t=({value:t,gas:e,tokenPrice:n,tokenSymbol:r})=>{let i=BigInt(t??0)+BigInt(e);return p.jsxs(CI,{children:[p.jsxs(Y1e,{children:[p.jsx(Q1e,{children:"Total (including fees)"}),p.jsx("div",{children:p.jsx(H1e,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:n,tokenSymbol:r})})]}),n&&p.jsx(J1e,{children:od(i,r)})]})};let Y1e=G.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),J1e=G.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),Q1e=G.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const ex=k.createContext(void 0),_I=k.createContext(void 0),J2t=({defaultValue:t,children:e})=>{let[n,r]=k.useState(t||null);return p.jsx(ex.Provider,{value:{activePanel:n,togglePanel:i=>{r(n===i?null:i)}},children:p.jsx(n3t,{children:e})})},Q2t=({value:t,children:e})=>{let{activePanel:n,togglePanel:r}=k.useContext(ex),i=n===t;return p.jsx(_I.Provider,{value:{onToggle:()=>r(t),value:t},children:p.jsx(o3t,{isActive:i?"true":"false","data-open":String(i),children:e})})},X2t=({children:t})=>{let{activePanel:e}=k.useContext(ex),{onToggle:n,value:r}=k.useContext(_I),i=e===r;return p.jsxs(p.Fragment,{children:[p.jsxs(r3t,{onClick:n,"data-open":String(i),children:[p.jsx(s3t,{children:t}),p.jsx(c3t,{isactive:i?"true":"false",children:p.jsx(F_,{height:"16px",width:"16px",strokeWidth:"2"})})]}),p.jsx(i3t,{})]})},e3t=({children:t})=>{let{activePanel:e}=k.useContext(ex),{value:n}=k.useContext(_I);return p.jsx(a3t,{"data-open":String(e===n),children:p.jsx(X1e,{children:t})})},t3t=({children:t})=>{let{activePanel:e}=k.useContext(ex),{value:n}=k.useContext(_I);return p.jsx(X1e,{children:typeof t=="function"?t({isActive:e===n}):t})};let n3t=G.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),r3t=G.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),i3t=G.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),s3t=G.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),o3t=G.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),a3t=G.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),X1e=G.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),c3t=G.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)");const fz=({walletAddress:t,chainId:e=1,network:n,rpcEndpoint:r})=>p.jsx(l3t,{href:n==="ethereum"?T2t(e,t):gbt(t,zb(r||"")),target:"_blank",children:to(t)});let l3t=G.a.withConfig({displayName:"StyledLink",componentId:"sc-adda23e5-0"})(["&:hover{text-decoration:underline;}"]);const eye=({from:t,to:e,txn:n,transactionInfo:r,tokenPrice:i,gas:s,tokenSymbol:o})=>{let a=BigInt((n==null?void 0:n.value)||0);return p.jsx(J2t,{...Tn().render.standalone?{defaultValue:"details"}:{},children:p.jsxs(Q2t,{value:"details",children:[p.jsx(X2t,{children:p.jsxs(u3t,{children:[p.jsx("div",{children:(r==null?void 0:r.title)||"Details"}),p.jsx(d3t,{children:p.jsx(W2t,{weiQuantities:[a],tokenPrice:i,tokenSymbol:o})})]})}),p.jsxs(e3t,{children:[p.jsx(cz,{label:"From",children:p.jsx(fz,{walletAddress:t,chainId:n.chainId||1,network:"ethereum"})}),p.jsx(cz,{label:"To",children:p.jsx(fz,{walletAddress:e,chainId:n.chainId||1,network:"ethereum"})}),r&&r.action&&p.jsx(cz,{label:"Action",children:r.action}),s&&p.jsx(Z2t,{value:n.value,gas:s,tokenPrice:i,tokenSymbol:o})]}),p.jsx(t3t,{children:({isActive:c})=>p.jsx(Y2t,{value:n.value,displayFee:c,gas:s||"0x0",tokenPrice:i,tokenSymbol:o})})]})})};let u3t=G.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-e1259f7b-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),d3t=G.div.withConfig({displayName:"TotalText",componentId:"sc-e1259f7b-1"})(["flex-shrink:0;padding-left:8px;"]);const tye=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:n}=Fe(),[r,i]=k.useState(!0),[s,o]=k.useState(void 0),[a,c]=k.useState(void 0);return k.useEffect(()=>{(async()=>{if(e&&t)try{i(!0);let l=await n();l?c(l):o(Error("Unable to fetch SOL price"))}catch(l){o(l)}finally{i(!1)}else i(!1)})()},[]),{solPrice:a,isSolPriceLoading:r,solPriceError:s}};function Gb(t){let{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}=(a=>{let{showFiatPrices:c,getUsdTokenPrice:l,chains:u}=Fe(),[d,h]=k.useState(!0),[f,g]=k.useState(void 0),[m,y]=k.useState(void 0);return k.useEffect(()=>{a||(a=1);let w=gM(u).find(b=>b.id===Number(a));(async()=>{if(c){if(!w)return h(!1),void g(Error(`Unable to fetch token price on chain id ${a}`));try{h(!0);let b=await l(w);b?y(b):g(Error(`Unable to fetch token price on chain id ${w.id}`))}catch(b){g(b)}finally{h(!1)}}else h(!1)})()},[a]),{tokenPrice:m,isTokenPriceLoading:d,tokenPriceError:f}})(t==="solana"?-1:t),{solPrice:i,isSolPriceLoading:s,solPriceError:o}=tye({enabled:t==="solana"});return t==="solana"?{tokenPrice:i,isTokenPriceLoading:s,tokenPriceError:o}:{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}}const nye=k.createContext(null);function tp(){let t=k.useContext(nye);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function AI(t,e,n,r){let i=Loe(t),s=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...s,type:oVe[s.type]}}const pz=({pendingTransaction:t})=>{let{wallets:e}=tp(),{walletProxy:n,rpcConfig:r,chains:i,appId:s,nativeTokenSymbolForChainId:o}=Fe(),[a,c]=k.useState(null),[l,u]=k.useState(t),{tokenPrice:d}=Gb(l.chainId),h=o(t.chainId)||"ETH",f=k.useMemo(()=>e.find(g=>g.walletClientType==="privy"),[e]);return k.useEffect(()=>{(async function(){if(!n||!f)return l;let g=Lb(l.chainId,i,r,{appId:s}),m=await AI(l,g,f.address);return c(sr(BigInt(m.gas??0))),m})().then(u).catch(console.error)},[n]),f?p.jsx(h3t,{children:p.jsx(eye,{from:f.address,to:l.to,txn:l,gas:a??void 0,tokenPrice:d,tokenSymbol:h})}):null};let h3t=G.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]),gz=G.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const mz=({style:t,...e})=>p.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),rye=({hasBlockingError:t,error:e,onClose:n,onBack:r,handleSubmit:i,account:s,submitSuccess:o})=>{var c;let{pendingTransaction:a}=Fe();return p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:n},"header"),p.jsx(gz,{children:p.jsxs("div",{children:[p.jsx(P1e,{success:o,fail:!!e}),p.jsx(e?Jm:mz,{style:{width:"38px",height:"38px"}})]})}),p.jsx(ic,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),p.jsxs(xI,{children:[p.jsxs(L1,{children:[p.jsx(D1,{children:p.jsx(Ym,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),p.jsxs(L1,{children:[p.jsx(D1,{children:p.jsx(JKe,{})}),"You last added a passkey on"," ",(c=s==null?void 0:s.firstVerifiedAt)==null?void 0:c.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),a&&p.jsx(j1,{children:p.jsx(pz,{pendingTransaction:a})}),e&&p.jsxs(p.Fragment,{children:[p.jsx(D1e,{style:{marginTop:"1.25rem"},children:e.message}),p.jsx(er,{disabled:t,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),r&&p.jsx(az,{style:{marginTop:"1rem"},onClick:r,children:"Choose another method"}),p.jsx(ki,{})]})};let f3t=Array(6).fill("");var tx,p3t=((tx=p3t||{})[tx.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",tx[tx.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",tx);function yz(t){return/^[0-9]{1}$/.test(t)}function iye(t){return t.length===6&&t.every(yz)}const SI=({onChange:t,disabled:e,errorReasonOverride:n,success:r})=>{let[i,s]=k.useState(f3t),[o,a]=k.useState(null),[c,l]=k.useState(null),u=async h=>{var S;h.preventDefault();let f=h.currentTarget.value.replace(/\s+/g,"");if(f==="")return;let g=i.reduce((R,I)=>R+Number(yz(I)),0),m=f.split(""),y=!m.every(yz),w=m.length+g>6;if(y)return a("Passcode can only be numbers"),void l(1);if(w)return a("Passcode must be exactly 6 numbers"),void l(1);a(null),l(null);let b=Number((S=h.currentTarget.name)==null?void 0:S.charAt(4)),v=[...f||[""]].slice(0,6-b),E=[...i.slice(0,b),...v,...i.slice(b+v.length)];s(E);let _=Math.min(Math.max(b+v.length,0),5),O=document.querySelector(`input[name=pin-${_}]`);if(O==null||O.focus(),iye(E))try{await t(E.join(""));let R=document.querySelector(`input[name=pin-${_}]`);R==null||R.blur()}catch(R){l(1),a(R.message)}else try{await t(null)}catch(R){l(1),a(R.message)}},d=r?"success":!n&&!o?"":"fail";return p.jsx(p.Fragment,{children:p.jsxs(g3t,{children:[p.jsx("div",{children:i.map((h,f)=>p.jsx("input",{name:`pin-${f}`,type:"text",value:i[f],onChange:u,onKeyUp:g=>{g.key==="Backspace"&&(m=>{c===1&&(a(null),l(null));let y=[...i.slice(0,m),"",...i.slice(m+1)];if(s(y),m>0){let w=document.querySelector(`input[name=pin-${m-1}]`);w==null||w.focus()}iye(y)?t(y.join("")):t(null)})(f)},inputMode:"numeric",autoFocus:f===0,pattern:"[0-9]",className:d,autoComplete:Tr?"one-time-code":"off",disabled:e},f))}),p.jsx("div",{children:p.jsx(m3t,{$fail:!!n||!!o,children:n||o})})]})})};let g3t=G.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),m3t=G.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)");const sye=({selectedMethod:t,submitSuccess:e,hasBlockingError:n,onClose:r,onBack:i,handleSubmitCode:s})=>{let{app:o}=He(),{pendingTransaction:a}=Fe();switch(t){case"sms":return p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:r},"header"),p.jsx(ru,{style:{marginBottom:"1.5rem"},children:p.jsx(M0,{})}),p.jsx(ic,{children:"Enter verification code"}),p.jsxs(j1,{children:[p.jsx(SI,{success:e,disabled:n,onChange:s}),p.jsxs(nu,{children:["To continue, please enter the 6-digit code sent to your ",p.jsx("strong",{children:"mobile device"})]}),a&&p.jsx(pz,{pendingTransaction:a})]}),i&&p.jsx(az,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),p.jsx(sd,{onClick:r,children:"Cancel"}),p.jsx(ki,{})]});case"totp":return p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:r},"header"),p.jsx(ru,{style:{marginBottom:"1.5rem"},children:p.jsx(U_,{})}),p.jsx(ic,{children:"Enter verification code"}),p.jsxs(j1,{children:[p.jsx(SI,{success:e,disabled:n,onChange:s}),p.jsxs(nu,{children:["To continue, please enter the 6-digit code generated from your"," ",p.jsx("strong",{children:"authenticator app"})]}),a&&p.jsx(pz,{pendingTransaction:a})]}),i&&p.jsx(az,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),p.jsx(sd,{onClick:r,children:"Cancel"}),p.jsx(ki,{})]});default:return null}},y3t=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class ai extends Error{constructor(e,n){super(n),this.type=e}}function Zb(t){let e=t.type;return typeof e=="string"&&y3t.includes(e)}function nx(t){return Zb(t)&&t.type==="wallet_not_on_device"}function wz(t){return!!Zb(t)&&t.type==="mfa_timeout"}function vz(t){return!!Zb(t)&&t.type==="missing_or_invalid_mfa"}function w3t(t){return!!Zb(t)&&t.type==="mfa_verification_max_attempts_reached"}function oye(t){return!(!Zb(t)||!t.message.includes("code 429"))}function aye(t){return!!function(e){let n=e.type;return typeof n=="string"&&n==="client_error"}(t)&&t.message==="MFA canceled"}const II=t=>w3t(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:vz(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:wz(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),v3t={component:()=>{let{user:t}=fn(),{data:e}=He(),[n,r]=k.useState(t==null?void 0:t.mfaMethods[0]),[i,s]=k.useState(!1),[o,a]=k.useState(),[c,l]=k.useState();if(k.useEffect(()=>{r(t==null?void 0:t.mfaMethods[0])},[t==null?void 0:t.mfaMethods]),!(e!=null&&e.mfaVerify))throw Error("Missing modal data for MFA verification screen.");let{onFailure:u,onSuccess:d,generateOptions:h,verifyTotpCode:f,verifyPasskey:g,verifySmsCode:m,sendSmsCode:y}=e.mfaVerify,w=async _=>{if(_!=="passkey")try{r(_),_==="sms"&&(r(_),await y()),_==="totp"&&r(_)}catch(O){console.error(O)}else try{r(_);let O=await h();if(!O)throw Error("something went wrong");a(O),await g(O),s(!0),l(void 0),d()}catch(O){l(II(O))}},b=async _=>{l(void 0);try{if(!_||!n)return;if(n==="passkey"){if(!o)throw Error("Missing passkey challenge");await g(o)}else n==="sms"?await m(_):n==="totp"&&await f(_);l(void 0),s(!0),d()}catch(O){throw II(O).error}},v=()=>{c||!i?u((c==null?void 0:c.error)??Error("Canceled MFA verification.")):d()},E=k.useRef(!1);return k.useEffect(()=>{!E.current&&n&&(E.current=!0,w(n).finally(()=>{E.current=!1}))},[open]),t?n==="passkey"?p.jsx(rye,{account:t.linkedAccounts.filter(_=>_.type==="passkey"&&_.enrolledInMfa).sort((_,O)=>O.firstVerifiedAt.valueOf()-_.firstVerifiedAt.valueOf())[0],submitSuccess:i,hasBlockingError:(c==null?void 0:c.isBlocking)??!1,error:c==null?void 0:c.error,onClose:v,onBack:()=>{r(void 0),l(void 0)},handleSubmit:()=>b(o).catch(l)}):n==="sms"||n==="totp"?p.jsx(sye,{selectedMethod:n,submitSuccess:i,hasBlockingError:(c==null?void 0:c.isBlocking)??!1,handleSubmitCode:b,onClose:v,onBack:t.mfaMethods.length>1?()=>r(void 0):void 0}):p.jsx(L1e,{user:t,onSelect:w,handleClose:v}):null}};function cye(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=k.useContext(ov);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}const lye=({onClose:t})=>{let{user:e}=fn(),[n,r]=k.useState((e==null?void 0:e.mfaMethods[0])??null),{init:i,cancel:s,submit:o}=cye(),[a,c]=k.useState(!1),[l,u]=k.useState(null),[d,h]=k.useState();k.useEffect(()=>{r((e==null?void 0:e.mfaMethods[0])??null)},[e==null?void 0:e.mfaMethods]);let f=k.useRef(!1);async function g(w){h(void 0);try{if(!w||!n)return;await o(n,w),c(!0),h(void 0),t()}catch(b){throw II(b).error}}async function m(w){if(w!=="passkey")try{r(w),await i(w)}catch(b){console.error(b)}else try{r(w);let b=await i(w);if(!b)throw Error("something went wrong");u(b),await o(w,b),c(!0),h(void 0),t()}catch(b){h(II(b))}}k.useEffect(()=>{!f.current&&n&&(f.current=!0,m(n).finally(()=>{f.current=!1}))},[]);let y=()=>{r(null),h(void 0),s(),t()};return e?n==="passkey"?p.jsx(rye,{account:e.linkedAccounts.filter(w=>w.type==="passkey"&&w.enrolledInMfa).sort((w,b)=>b.firstVerifiedAt.valueOf()-w.firstVerifiedAt.valueOf())[0],submitSuccess:a,hasBlockingError:(d==null?void 0:d.isBlocking)??!1,error:d==null?void 0:d.error,onClose:y,onBack:()=>{r(null),h(void 0)},handleSubmit:()=>g(l).catch(h)}):n?p.jsx(sye,{submitSuccess:a,hasBlockingError:(d==null?void 0:d.isBlocking)??!1,handleSubmitCode:g,selectedMethod:n,onClose:y,onBack:e.mfaMethods.length>1?()=>r(null):void 0}):p.jsx(L1e,{user:e,onSelect:m,handleClose:y}):null},kI=Cv(()=>({inProgressMfaFlow:void 0})),b3t=pKe([":root{","};"],t=>x3t(t.palette)),x3t=t=>rs(["",""],Object.entries(function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}}(t)).map(([e,n])=>`${e}: ${n};`).join(`
`)),uye=G.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),E3t=({children:t,open:e,onClick:n,...r})=>p.jsx(zle,{show:e,as:Me.Fragment,children:p.jsxs($Qe,{onClose:n,...r,as:_3t,children:[p.jsx(I4,{as:Me.Fragment,enterFrom:"entering",leaveTo:"leaving",children:p.jsx(C3t,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),p.jsx(A3t,{children:p.jsx(I4,{as:Me.Fragment,enterFrom:"entering",leaveTo:"leaving",children:p.jsx(qle,{as:S3t,children:t})})})]})});let C3t=G.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),_3t=G.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),A3t=G.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const S3t=G.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),I3t=G.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let dye=()=>{let{ready:t,isModalOpen:e}=fn(),{headless:n}=Tn(),{currentScreen:r}=He(),{status:i,execute:s,reset:o,enabled:a}=rc(),c=kI(d=>d.inProgressMfaFlow),l=()=>kI.setState({inProgressMfaFlow:void 0}),u=e&&r&&r.isCaptchaRequired&&!n&&i==="ready";return k.useEffect(()=>{u&&s()},[u]),k.useEffect(()=>{!e&&a&&o()},[e,a]),r&&!t&&r.isShownBeforeReady?p.jsxs(p.Fragment,{children:[p.jsx(an,{}),p.jsx(cd,{}),p.jsx(I3t,{children:p.jsx(tu,{})}),p.jsx(nl,{}),p.jsx(ki,{})]}):r||c!=="txn"?r?p.jsxs(p.Fragment,{children:[p.jsx(Hb,{$if:!!c,children:p.jsx(r.component,{})}),c==="txn"&&p.jsx(lye,{onClose:l}),c==="auth"&&p.jsx(v3t.component,{})]}):null:p.jsx(lye,{onClose:l})},k3t=()=>{let t=k.useRef(null);return p.jsx(T3t,{style:{height:Obt(t)},id:"privy-modal-content",children:p.jsx("div",{ref:t,children:p.jsx(dye,{})})})};const $3t=({open:t})=>{let e=Tn(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=Fe(),{onUserCloseViaDialogOrKeybindRef:s}=He();return{gracefulClosePrivyModal:k.useCallback(()=>{if(!(s!=null&&s.current))return i({shouldCallAuthOnSuccess:!1});s.current()},[i])}})(),r=kI(i=>i.inProgressMfaFlow);return Mbt({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||kI.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?p.jsx(uye,{children:p.jsx(hye,{id:"privy-modal-content",children:p.jsx(dye,{})})}):p.jsx(E3t,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:p.jsx(uye,{children:p.jsx(k3t,{})})})};let hye=G.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),T3t=G(hye).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function P3t(t){let e=k.useRef(null),n=k.useRef();return k.useEffect(()=>{var r,i;(r=n.current)==null||r.remove(),n.current=function({botUsername:s,scriptHost:o}){let a=document.createElement("script"),{origin:c}=new URL(o);return a.async=!0,a.src=`${c}/js/telegram-login.js`,a.setAttribute("data-telegram-login",s),a.setAttribute("data-request-access","write"),a.setAttribute("data-lang","en"),a}(t),(i=e.current)==null||i.after(n.current)},[t]),p.jsx("div",{ref:e,hidden:!0})}const un=({address:t,showCopyIcon:e,url:n,className:r})=>{let[i,s]=k.useState(!1);function o(a){a.stopPropagation(),navigator.clipboard.writeText(t).then(()=>s(!0)).catch(console.error)}return k.useEffect(()=>{if(i){let a=setTimeout(()=>s(!1),3e3);return()=>clearTimeout(a)}},[i]),p.jsxs(N3t,n?{children:[p.jsx(R3t,{title:t,className:r,href:`${n}/address/${t}`,target:"_blank",children:to(t)}),e&&p.jsx(sd,{onClick:o,size:"sm",style:{gap:"0.375rem"},children:p.jsxs(p.Fragment,i?{children:["Copied",p.jsx(k4,{size:16})]}:{children:["Copy",p.jsx(xA,{size:16})]})})]}:{children:[p.jsx(O3t,{title:t,className:r,children:to(t)}),e&&p.jsx(sd,{onClick:o,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:p.jsxs(p.Fragment,i?{children:["Copied",p.jsx(k4,{size:14})]}:{children:["Copy",p.jsx(xA,{size:14})]})})]})};let N3t=G.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),O3t=G.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),R3t=G.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);const M3t=()=>{let{solanaWallets:t}=Fe(),{ready:e,wallets:n}=tp();return k.useEffect(()=>{if(e){let r=[...n,...t].map(i=>({address:i.address,connectorType:i.connectorType,walletClientType:i.walletClientType,connectedAt:i.connectedAt,id:i.meta.id}));Ct.put(Nme,r)}},[e,n,t]),null};async function iu(t,e,n,r,i,s=!1){var l,u,d;let o=s,a=async h=>{var f;if(o&&e&&e.length>0){h===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):(f=r.current)==null||f.reject(new ai("missing_or_invalid_mfa","MFA verification failed, retry."));let g=await new Promise((m,y)=>{n.current={resolve:m,reject:y},setTimeout(()=>{var b;let w=new ai("mfa_timeout","Timed out waiting for MFA code");(b=r.current)==null||b.reject(w),y(w)},3e5)});return await t(g)}return await t()},c=null;for(let h=0;h<4;h++)try{c=await a(h),(l=r.current)==null||l.resolve(void 0);break}catch(f){if(f.type!=="missing_or_invalid_mfa")throw(u=r.current)==null||u.resolve(void 0),f;o=!0}if(c===null){let h=new ai("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(d=r.current)==null||d.reject(h),h}return c}var fye;let j3t=(fye=0,()=>"id-"+fye++);function ls(t){return t.error!==void 0}let Ki=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},bz=new Map,D3t=(t,e)=>typeof e=="bigint"?e.toString():e;function us(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((a,c)=>`${a}${JSON.stringify(c,D3t)}`)(t,e);if(t==="privy:wallet:create"){let a=bz.get(s);if(a)return a}let o=new Promise((a,c)=>{let l=j3t();Ki.enqueue(l,{resolve:a,reject:c}),i.postMessage({id:l,event:t,data:e},r)}).finally(()=>{bz.delete(s)});return bz.set(s,o),o}function L3t(t){let e=x1e(),n=k.useRef(null),r=k.useRef(t.mfaMethods),i=ep(),[s,o]=k.useState(!1);return k.useEffect(()=>{r.current=t.mfaMethods},[t.mfaMethods]),k.useEffect(()=>{if(!s)return;let a=n.current;if(!a)return;function c(d){var h;d&&d.origin===t.origin&&typeof(h=d.data).event=="string"&&/^privy:.+/.test(h.event)&&function(f){switch(f.event){case"privy:iframe:ready":let g=Ki.dequeue(f.event,f.id);return ls(f)?g.reject(new ai(f.error.type,f.error.message)):g.resolve(f.data);case"privy:user-signer:sign":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:wallets:add":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:wallets:set-recovery":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:wallets:connect":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:wallets:recover":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:wallets:rpc":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:wallet:create":let m=Ki.dequeue(f.event,f.id);return ls(f)?m.reject(new ai(f.error.type,f.error.message)):m.resolve(f.data);case"privy:wallets:import":let y=Ki.dequeue(f.event,f.id);return ls(f)?y.reject(new ai(f.error.type,f.error.message)):y.resolve(f.data);case"privy:mfa:verify":let w=Ki.dequeue(f.event,f.id);return ls(f)?w.reject(new ai(f.error.type,f.error.message)):w.resolve(f.data);case"privy:mfa:init-enrollment":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:mfa:submit-enrollment":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:mfa:unenroll":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:mfa:clear":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:auth:unlink-passkey":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:solana-wallet:create":let b=Ki.dequeue(f.event,f.id);return ls(f)?b.reject(new ai(f.error.type,f.error.message)):b.resolve(f.data);case"privy:farcaster:init-signer":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:farcaster:sign":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:delegated-actions:consent":{let v=Ki.dequeue(f.event,f.id);return ls(f)?v.reject(new ai(f.error.type,f.error.message)):v.resolve(f.data)}default:console.warn("Unsupported wallet proxy method:",f)}}(d.data)}let l={signWithUserSigner:d=>iu(h=>us("privy:user-signer:sign",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:d=>iu(h=>us("privy:wallets:add",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:d=>iu(h=>us("privy:wallets:set-recovery",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:d=>iu(h=>us("privy:wallets:connect",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:d=>iu(h=>us("privy:wallets:recover",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!d.recoveryAccessToken&&!d.recoveryPassword&&!d.recoverySecretOverride),rpc:d=>iu(h=>us("privy:wallets:rpc",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:d=>us("privy:wallet:create",d,a,t.origin),importWallet:d=>us("privy:wallets:import",d,a,t.origin),createSolana:d=>iu(h=>us("privy:solana-wallet:create",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:d=>us("privy:delegated-actions:consent",d,a,t.origin),verifyMfa:d=>iu(h=>us("privy:mfa:verify",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:d=>iu(h=>us("privy:mfa:init-enrollment",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:d=>iu(h=>us("privy:mfa:submit-enrollment",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:d=>iu(h=>us("privy:mfa:unenroll",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:d=>us("privy:mfa:clear",d,a,t.origin),unlinkPasskeyAccount:d=>iu(h=>us("privy:auth:unlink-passkey",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:d=>us("privy:farcaster:init-signer",d,a,t.origin),signFarcasterMessage:d=>us("privy:farcaster:sign",d,a,t.origin)};window.addEventListener("message",c);let u=new AbortController;return NF(()=>us("privy:iframe:ready",{},a,t.origin),{abortSignal:u.signal}).then(()=>t.onLoad(l),(...d)=>{console.warn("Privy iframe failed to load: ",...d),t.onLoadFailed()}),()=>{window.removeEventListener("message",c),u.abort()}},[s]),e?p.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>o(!0),src:Qme(t.origin,`/apps/${t.appId}/embedded-wallets`,{caid:t.clientAnalyticsId,client_id:t.appClientId})}):null}function Yb(t){return["ethereum","solana"].includes(t.chainType)}const B3t=({address:t,user:e})=>{let n=e.linkedAccounts.find(r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t);if(!n)throw new ee("Address to delegate is not associated with current user.");if(!Yb(n))throw new ee(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},U3t=({address:t,user:e})=>{let n=e.linkedAccounts.find(i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t);if(!n)throw new ee("Address to delegate is not associated with current user.");let r=n.imported?n:Dl(e);if(!r)throw new ee("Unable to determine root address for delegated address.");if(!Yb(r))throw new ee(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},pye=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated),F3t=()=>{let t=Tn();k.useEffect(()=>{(async e=>{let n=new URL("v3/wallets","https://explorer-api.walletconnect.com");n.searchParams.append("projectId",e);let r=await fetch(n);return r.ok?Object.values((await r.json()).listings).sort(({slug:i},{slug:s})=>i==="rainbow"&&s==="metamask"?1:i==="metamask"||i==="rainbow"?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await r.text().catch(()=>"No response.")}`),[])})(t.walletConnectCloudProjectId).then(e=>hbt({listings:e})).catch(console.error)},[t.walletConnectCloudProjectId])};function gye(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const mye="popup-privy-oauth",yye="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class z3t{async authenticate(){if(!this.api)throw new ee("Auth flow has no API instance");try{return await this.api.post(use,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw bn(e)}}async link(){if(!this.api)throw new ee("Auth flow has no API instance");try{return await this.api.post(dse,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw bn(e)}}constructor({authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}){this.meta={authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}}}async function wye({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find(i=>i.provider_app_id===n);if(!r)throw new ee("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const $I=()=>window.open(void 0,void 0,W3t({w:440,h:680}));let W3t=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(s-e)/2/(s/window.screen.availHeight)+r}`};const TI=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let o=t==null?void 0:t.linkedAccounts.find(d=>d.type==="cross_app"&&(d.embeddedWallets.some(h=>h.address===e)||d.smartWallets.some(h=>h.address===e)));if(!t||!o)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new ee("Cannot request a signature with this wallet address");let a=n.getProviderAccessToken(o.providerApp.id),c=await wye({api:n.api,requesterAppId:i,providerAppId:o.providerApp.id});if(!a){if(c.readOnly)throw console.error("cannot transact against a read-only provider app"),new ee("Cannot transact against a read-only provider app");await s({appId:o.providerApp.id,action:"link"})&&(a=n.getProviderAccessToken(o.providerApp.id))}if(!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new ee("Transactions require a valid token");let l=$I();if(!l)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new ee("Failed to initialize signature request");let u=new URL(c.customAuthTransactUrl||`${c.apiUrl}/oauth/transact`);return u.searchParams.set("token",a||""),u.searchParams.set("request",q3t(r)),l.location=u.href,new Promise((d,h)=>{let f=setTimeout(()=>{y(),h(new ee("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})},12e4),g=setInterval(()=>{l.closed&&(y(),h(new ee("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))},300),m=w=>{var b,v,E;w.data&&(((b=w.data.token)==null?void 0:b.action)==="set"&&((v=w.data.token)==null?void 0:v.value)!==void 0?n.storeProviderAccessToken(o.providerApp.id,w.data.token.value):((E=w.data.token)==null?void 0:E.action)==="clear"&&n.storeProviderAccessToken(o.providerApp.id,null),w.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&w.data.result&&(y(),d(w.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),w.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&w.data.error&&(y(),h(w.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:w.data.error,address:e}})))};window.addEventListener("message",m);let y=()=>{l.close(),clearInterval(g),clearTimeout(f),window.removeEventListener("message",m)}})};let q3t=t=>JSON.stringify({content:{request:{request:xz(t,sr)}},timestamp:Date.now(),callbackUrl:window.origin});const xz=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map(n=>xz(n,e)):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([n,r])=>[n,xz(r,e)])):t,H3t=({title:t,description:e,children:n,...r})=>p.jsx(vye,{...r,children:p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:t}),typeof e=="string"?p.jsx("p",{children:e}):e,n]})}),rl=({title:t,description:e,icon:n,children:r,...i})=>p.jsxs(V3t,{...i,children:[n||null,p.jsx("h3",{children:t}),e&&typeof e=="string"?p.jsx("p",{children:e}):e,r]});let vye=G.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),V3t=G(vye).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const bye=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[p.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),p.jsx("defs",{children:p.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[p.jsx("stop",{stopColor:"#3E82F4"}),p.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),xye=({style:t,...e})=>p.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[p.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[p.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),p.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),p.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),p.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),p.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),p.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_2115_829",children:p.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function Eye({url:t,popup:e,provider:n}){return e.location=t,new Promise((r,i)=>{function s(){e==null||e.close(),window.removeEventListener("message",o)}function o(a){a.data&&(a.data.type==="PRIVY_OAUTH_RESPONSE"&&a.data.stateCode&&a.data.authorizationCode&&(r(a.data),s()),a.origin==="https://cdn.apple-cloudkit.com"&&a.data.ckSession&&(r({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:a.data.ckSession}),s()),a.data.type==="PRIVY_OAUTH_ERROR"&&(i(a.data.error),s()))}window.addEventListener("message",o)})}async function K3t({api:t,provider:e,stateCode:n,codeVerifier:r,authorizationCode:i}){if(!i||!n)throw new ee("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(i==="undefined")throw new ee("User denied confirmation during OAuth flow");try{return(await t.post(XWe,{authorization_code:i,state_code:n,code_verifier:r,provider:e})).access_token}catch(s){let o=bn(s);throw o.privyErrorCode?new ee(o.message||"Invalid code during OAuth flow.",void 0,o.privyErrorCode):o.message==="User denied confirmation during OAuth flow"?new ee("Invalid code during oauth flow.",void 0,ne.OAUTH_USER_DENIED):new ee("Invalid code during OAuth flow.",void 0,ne.UNKNOWN_AUTH_ERROR)}}async function Cye({api:t,provider:e}){let n=cI(),r=SF(),i=await IF(n);try{return e==="icloud"?{url:(await t.post(QWe,{client_type:"web"})).url}:{url:(await t.post(JWe,{redirect_to:window.location.href,code_challenge:i,state_code:r})).url,codeVerifier:n,stateCode:r,provider:e}}catch(s){throw bn(s)}}const Ez=(t,{chainType:e,walletIndex:n}={})=>(t==null?void 0:t.linkedAccounts.filter(r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e)))??[],_ye=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:o,setUser:a,walletIndex:c,chainType:l,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})=>{if(c===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await wM(i,{request:{chain_type:l}});else if(l==="ethereum"){let m=Wm(t);m&&await o({address:m.address}),await n.create({accessToken:e,solanaAddress:m==null?void 0:m.address,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})}else{if(l!=="solana")throw Error("Invalid input to create wallet");{let m=Xd(t);m&&await o({address:m.address}),await n.createSolana({accessToken:e,ethereumAddress:m==null?void 0:m.address,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await wM(i,{request:{chain_type:l}});else{let{entropyId:m,entropyIdVerifier:y}=no(t);await o(),await n.addWallet({accessToken:e,entropyId:m,entropyIdVerifier:y,chainType:l,hdWalletIndex:c})}let f=await r(),g=Ez(f,{chainType:l,walletIndex:c})[0];return a(f),{user:f,account:g}},Cz=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:n,refreshSessionAndUser:r,privy:i,client:s}=Fe(),o=Tn();return{create:async({walletIndex:a,chainType:c,latestUser:l,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})=>{let f=l;f||(f=await r());let g=await s.getAccessToken();if(!f||!g||!t)throw Error("User must be authenticated before creating a Privy wallet");return await _ye({appConfig:o,user:f,refreshSessionAndUser:r,privy:i,accessToken:g,proxy:t,recoverEmbeddedWallet:e,setUser:n,walletIndex:a,chainType:c,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})}}},G3t=({title:t,description:e,onClose:n})=>p.jsx(xn,{title:t,subtitle:e,icon:$4,iconVariant:"success",watermark:!0,onBack:n}),_z={component:()=>{let{user:t}=fn(),{closePrivyModal:e,isNewUserThisSession:n,updateWallets:r}=Fe(),{app:i,data:s,onUserCloseViaDialogOrKeybindRef:o}=He(),{onSuccess:a,onFailure:c,callAuthOnSuccessOnClose:l}=s.createWallet,u=()=>{let d=Xd(t)??Wm(t);t&&d?(r(),a({user:t,account:d})):c(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:l})};return k.useEffect(()=>{let d=setTimeout(u,wF);return()=>clearTimeout(d)},[]),o.current=u,p.jsx(G3t,{title:n?"Welcome"+(i!=null&&i.name?` to ${i==null?void 0:i.name}`:""):"All set!",description:n?"You've successfully created an account.":"Your account is secured.",onClose:u})}},Az=G.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),Z3t=G.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let Aye={"google-drive":{name:"Google Drive",component:xye},icloud:{name:"iCloud",component:bye}};const Sye={component:()=>{var D;let{logout:t}=fn(),{navigate:e,setModalData:n,data:r}=He(),{closePrivyModal:i,createAnalyticsEvent:s}=Fe(),{execute:o}=(()=>{let{client:j,walletProxy:F,refreshSessionAndUser:M}=Fe(),{data:C}=He(),{user:x}=fn(),A=ep(),{create:P}=Cz();return{execute:async({provider:N,action:$,popup:L,shouldCreateEth:B,shouldCreateSol:T})=>{var V,Z;let z,q;if(!j)throw new ee("Missing client");function U(K){if(!K&&j)throw j.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:N}}),new ee("Recovery OAuth failed")}switch(N){case"google-drive":{let K,J,{url:oe,codeVerifier:se,stateCode:ae}=await Cye({api:j.api,provider:N});U(oe);try{let fe=await Eye({url:oe,popup:L,provider:N});if(K=fe.stateCode,J=fe.authorizationCode,K!==ae)throw j.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:N,storedStateCode:ae??"",returnedStateCode:K??""}}),new ee("Unexpected auth flow. This may be a phishing attempt.",void 0,ne.OAUTH_UNEXPECTED)}catch(fe){throw j.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:fe.toString(),provider:N}}),new ee("Recovery OAuth failed")}[z,q]=await Promise.all([j.getAccessToken(),K3t({api:j.api,provider:N,codeVerifier:se,stateCode:K,authorizationCode:J})]);break}case"icloud":{let{url:K}=await Cye({api:j.api,provider:N});U(K);let{ckWebAuthToken:J}=await Eye({url:K,popup:L,provider:N});q=J,z=await j.getAccessToken()}}if(!F)throw new ee("Cannot connect to wallet proxy");if(!z)throw new ee("Unable to authorize user");switch($){case"recover":{let K=(V=C==null?void 0:C.recoverWallet)==null?void 0:V.entropyId,J=(Z=C==null?void 0:C.recoverWallet)==null?void 0:Z.entropyIdVerifier;if(!K||!J)throw new ee("Recovery OAuth failed");j.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:K,recoveryMethod:N}}),await F.recover({accessToken:z,entropyId:K,entropyIdVerifier:J,recoveryAccessToken:q}),j.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:K,recoveryMethod:N}});break}case"create-wallet":{let K;if(j.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),B&&T)K=await P({recoveryMethod:N,recoveryAccessToken:q,chainType:"ethereum",walletIndex:0,latestUser:x}),K=await P({chainType:"solana",walletIndex:0,latestUser:K.user});else if(T)K=await P({recoveryMethod:N,recoveryAccessToken:q,chainType:"solana",walletIndex:0,latestUser:x});else{if(!B)throw Error("Invalid args to create wallet");K=await P({recoveryMethod:N,recoveryAccessToken:q,chainType:"ethereum",walletIndex:0,latestUser:x})}if(!K)throw A("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");j.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:K.account.address}}),A("createWallet","onSuccess",{wallet:K.account});break}case"set-recovery":{let K=Dl(x);if(!K)throw A("setWalletRecovery","onError",ne.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");j.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:K.address,existingRecoveryMethod:K.recoveryMethod,targetRecoveryMethod:N}});let{entropyId:J,entropyIdVerifier:oe}=no(x);await F.setRecovery({accessToken:z,entropyId:J,entropyIdVerifier:oe,recoveryMethod:N,recoveryAccessToken:q});let se=Dl(await M());if(!se)throw A("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");j.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:K.address,existingRecoveryMethod:K.recoveryMethod,targetRecoveryMethod:N}}),A("setWalletRecovery","onSuccess",{method:N,wallet:se});break}default:throw new ee("Unsupported recovery action")}}}})(),[a,c]=k.useState(!1),{provider:l,action:u,isInAccountCreateFlow:d,shouldCreateEth:h,shouldCreateSol:f}=r==null?void 0:r.recoveryOAuthStatus,[g,m]=k.useState(void 0),[y,w]=k.useState(u==="create-wallet");if(l==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let b=Aye[l].name,v=Aye[l].component,E=(D=r==null?void 0:r.recoverWallet)==null?void 0:D.onCompleteNavigateTo,_=new ga(async(j="create-wallet")=>(w(!0),new Promise((F,M)=>{setTimeout(async()=>{try{let C=window.open();await o({provider:l,action:j,popup:C,shouldCreateEth:h,shouldCreateSol:f}),c(!0),F()}catch{m({message:`${j==="recover"?"Recovery":"Back up"} with ${b} unsuccessful`,detail:u==="recover"?`Please verify that you are selecting the ${b} account associated with your backup.`:"",retryable:!0}),M()}},0)})));k.useEffect(()=>{u!=="recover"&&_.execute(d?"create-wallet":"set-recovery")},[]),k.useEffect(()=>{if(!a)return;let j=setTimeout(()=>{d?(n({createWallet:{onSuccess:()=>{},onFailure:F=>{s({eventName:"embedded_wallet_creation_failure_logout",payload:{error:F,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(_z)):i({shouldCallAuthOnSuccess:!1})},Hr);return()=>clearTimeout(j)},[a]);let O=k.useCallback(async()=>{await _.execute("recover"),E?e(E):c(!0)},[]),S=l==="google-drive"?"Google Drive":"Apple iCloud",R=a&&`Successfully ${u==="recover"?"recovered":"backed up"} with ${S}.`||g&&g.message||`${u==="recover"?"Recovering":"Backing up"} with ${S}...`,I=g?g.detail:"";return p.jsxs(p.Fragment,{children:[p.jsx(an,{}),y?p.jsx(p.Fragment,{children:p.jsxs(Az,{children:[p.jsx(rl,{title:R,icon:p.jsx(v,{style:{width:"38px",height:"38px"}}),description:I}),g&&(g!=null&&g.retryable)?p.jsx(er,{onClick:()=>{$F(),m(void 0),u==="create-wallet"?_.execute("create-wallet"):O()},disabled:!a&&!(g!=null&&g.retryable),children:"Try again"}):null]})}):p.jsxs(Az,{children:[p.jsx(rl,{title:"Confirm it's really you",icon:p.jsx(v,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${S} where your account is backed up.`}),p.jsxs(er,{onClick:O,children:["Confirm with ",S]})]}),p.jsx(An,{})]})}};let Sz=G.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),Y3t={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},J3t=({onClose:t})=>p.jsxs(Z3t,{children:[p.jsx(rl,{title:"Why do I need to secure my account?",icon:p.jsx(Ev,{width:48}),description:p.jsxs(p.Fragment,{children:[p.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),p.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),p.jsx(er,{onClick:t,children:"Select backup method"})]});const Iz={component:()=>{let[t,e]=k.useState(!1),{navigate:n,lastScreen:r,navigateBack:i,setModalData:s,data:o,onUserCloseViaDialogOrKeybindRef:a}=He(),{user:c}=fn(),{embeddedWallets:l}=Tn(),{closePrivyModal:u}=Fe(),d=Dl(c),h=d===null,{isInAccountCreateFlow:f,isResettingPassword:g,shouldCreateEth:m,shouldCreateSol:y}=o.recoverySelection,w=d&&d.recoveryMethod!=="privy",b=w?p.jsxs("span",{children:["Your account is currently secured using"," ",p.jsx("strong",{children:Y3t[(d==null?void 0:d.recoveryMethod)||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function v(_){s({recoveryOAuthStatus:{provider:_,action:h?"create-wallet":"set-recovery",isInAccountCreateFlow:f,shouldCreateEth:m,shouldCreateSol:y}}),n(Sye)}function E(){var _,O;(_=o==null?void 0:o.setWalletPassword)==null||_.onFailure(Error("User exited set recovery flow")),u({shouldCallAuthOnSuccess:((O=o==null?void 0:o.setWalletPassword)==null?void 0:O.callAuthOnSuccessOnClose)??!1})}return a.current=E,p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:E,backFn:t?()=>e(!1):r?i:void 0,infoFn:r||t?void 0:()=>e(!0)},"header"),t?p.jsx(J3t,{onClose:()=>e(!1)}):p.jsxs(p.Fragment,{children:[p.jsx(rl,{title:w?"Update backup method":"Secure your account",icon:p.jsx(Xge,{width:48}),description:b}),p.jsx(Az,{children:l.userOwnedRecoveryOptions.filter(_=>!["icloud","google-drive"].includes((d==null?void 0:d.recoveryMethod)||"")||_!==(d==null?void 0:d.recoveryMethod)).sort().map(_=>{switch(_){case"google-drive":return p.jsxs(ei,{onClick:()=>v("google-drive"),children:[p.jsx(Sz,{children:p.jsx(xye,{style:{width:18}})}),"Back up to Google Drive"]},_);case"icloud":return p.jsxs(ei,{onClick:()=>v("icloud"),children:[p.jsx(Sz,{children:p.jsx(bye,{style:{width:24}})}),"Back up to Apple iCloud"]},_);case"user-passcode":return p.jsxs(ei,{onClick:()=>{n($we({isCreatingWallet:h,skipSplashScreen:!0}))},children:[p.jsx(Sz,{children:p.jsx(Uwt,{style:{width:18}})}),g?"Reset your":"Set a"," password"]},_);default:return null}})})]}),p.jsx(An,{})]})}};let Q3t=rs(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const Iye=G.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],Q3t,({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)",({error:t})=>t?"":"capitalize"),PI=G.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),NI=G(er).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],({$hideAnimations:t})=>t&&rs(["&&{transition:none;}"]));let kye=rs(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const kz=G.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],kye),X3t=G.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],kye),OI=G.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],({centered:t})=>t?"center":"space-between"),RI=G.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),$z=G.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),Tz=G.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),$ye=G(R1).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),MI=G.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),e5t=G(awt).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),jI=G(Iwt).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),DI=G($wt).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),t5t=G.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)"),n5t=({buttonHideAnimations:t,buttonLoading:e,password:n,onSubmit:r,onBack:i})=>{let[s,o]=k.useState(!0),[a,c]=k.useState(!1),[l,u]=k.useState(""),d=n===l;return k.useEffect(()=>{l&&!a&&c(!0)},[l]),p.jsxs(p.Fragment,{children:[p.jsx(an,{closeable:!1,backFn:i}),p.jsx(cd,{}),p.jsxs(PI,{children:[p.jsxs(RI,{children:[p.jsx(Jm,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),p.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),p.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),p.jsxs(OI,{children:[p.jsx(kz,{value:l,onChange:h=>u(h.target.value),onKeyUp:h=>{h.key==="Enter"&&r()},onBlur:()=>c(!0),placeholder:"confirm your password",type:s?"password":"text",style:{paddingRight:"2.3rem"}}),p.jsx(MI,{style:{right:"0.75rem"},children:s?p.jsx(jI,{onClick:()=>o(!1)}):p.jsx(DI,{onClick:()=>o(!0)})})]}),p.jsx(Iye,{"aria-hidden":!a||d,error:!0,children:"Passwords do not match"})]}),p.jsx(NI,{onClick:r,loading:e,disabled:!d,$hideAnimations:t,children:"Continue"}),p.jsx(nl,{}),p.jsx(An,{})]})},Tye=({className:t,checked:e,color:n="var(--privy-color-accent)",...r})=>p.jsx("label",{children:p.jsxs(r5t,{className:t,children:[p.jsx(Nye,{checked:e,...r}),p.jsx(i5t,{color:n,checked:e,children:p.jsx(Pye,{viewBox:"0 0 24 24",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let r5t=G.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),Pye=G.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),Nye=G.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),i5t=G.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],t=>t.color,t=>t.checked?t.color:"var(--privy-color-background)",Nye,t=>t.color,Pye,t=>t.checked?"visible":"hidden");const s5t=({buttonHideAnimations:t,buttonLoading:e,onSubmit:n,onBack:r,config:i})=>{let[s,o]=k.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx(an,{closeable:!1,backFn:r}),p.jsx(cd,{}),p.jsxs(PI,{children:[p.jsxs(RI,{children:[p.jsx(Jm,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),p.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),p.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),p.jsx($z,{children:p.jsxs(Tz,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:a=>{a.preventDefault(),o(c=>!c)},children:[p.jsx(Tye,{color:"var(--privy-color-error)",readOnly:!0,checked:s}),p.jsx(p.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),p.jsxs(o5t,{children:[i.initiatedBy==="user"&&p.jsx(sd,{onClick:i.onCancel,disabled:e,children:"Cancel"}),p.jsx(NI,{onClick:n,loading:e,$hideAnimations:t,disabled:!s,children:"Set Password"})]}),p.jsx(nl,{}),p.jsx(An,{})]})};let o5t=G.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),a5t=/[a-z]/,c5t=/[A-Z]/,l5t=/[0-9]/,Oye="!@#$%^&*()\\-_+.",Rye=`a-zA-Z0-9${Oye}`,u5t=RegExp(`[${Oye}]`),d5t=RegExp(`[${Rye}]`);const h5t=RegExp(`^[${Rye}]{6,}$`),Mye=()=>Vyt(4,Gyt);function f5t(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function p5t(t=""){return(.3*function(e){if(e.length<8)return 0;let n=0;return a5t.test(e)&&(n+=1),c5t.test(e)&&(n+=1),l5t.test(e)&&(n+=1),u5t.test(e)&&(n+=1),Math.max(0,Math.min(1,n/3))}(t)+Uyt(t)/95)/2}const g5t=({buttonHideAnimations:t,buttonLoading:e,password:n="",config:r,isResettingPassword:i,onSubmit:s,onClose:o,onBack:a,onPasswordChange:c,onPasswordGenerate:l})=>{let[u,d]=k.useState(!1),[h,f]=k.useState(!1);k.useEffect(()=>{n&&!h&&f(!0)},[n]);let g=k.useMemo(()=>h?6>((n==null?void 0:n.length)||0)?"Password must be at least 6 characters":h5t.test(n||"")?null:`Invalid characters used ( ${((w="")=>[...new Set(w.split("").filter(b=>!d5t.test(b)).map(b=>b.replace(" ","SPACE")))])(n).join(" ")} )`:null,[n,h]),m=k.useMemo(()=>g?{value:0,label:"Weak"}:function(w=""){let b=p5t(w);return{value:b,label:f5t(b)}}(n),[n,g]),y=k.useMemo(()=>!(n!=null&&n.length)||!!g,[g,n]);return p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:o,closeable:r.initiatedBy==="user",backFn:a}),p.jsx(cd,{}),p.jsxs(PI,{children:[p.jsxs(RI,{children:[p.jsx(Rwt,{height:48,width:48,stroke:"var(--privy-color-accent)"}),p.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),p.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),p.jsxs(OI,{children:[p.jsx(kz,{value:n,onChange:w=>c(w.target.value),onKeyUp:w=>{w.key==="Enter"&&s()},placeholder:"enter or generate a strong password",type:u?"password":"text",style:{paddingRight:"3.8rem"}}),p.jsxs(MI,{style:{width:"3.5rem"},children:[u?p.jsx(jI,{onClick:()=>d(!1)}):p.jsx(DI,{onClick:()=>d(!0)}),p.jsx(e5t,{onClick:l})]})]}),p.jsx(t5t,{value:m.value===0?.01:m.value,label:m.label}),p.jsx(Iye,{error:!!g,children:g||`Password Strength: ${h?m.label:"--"}`}),p.jsxs(y5t,{children:[p.jsx(m5t,{children:p.jsxs($z,{children:[p.jsxs(Tz,{children:[p.jsx(U8,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),p.jsxs(Tz,{children:[p.jsx(U8,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),p.jsx(NI,{onClick:s,loading:e,disabled:y,$hideAnimations:t,children:"Continue"})]})]}),p.jsx(nl,{}),p.jsx(An,{})]})};let m5t=G($z).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),y5t=G.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const w5t=({buttonHideAnimations:t,buttonLoading:e,appName:n,password:r,onSubmit:i,onBack:s})=>{let[o,a]=k.useState(!1),[c,l]=k.useState(!0),u=k.useCallback(()=>{a(!0),r&&navigator.clipboard.writeText(r)},[r]),d=k.useCallback(()=>{let h=document.createElement("a"),f=n.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),g=new Blob([v5t(n,r)],{type:"text/plain"}),m=URL.createObjectURL(g);h.href=m,h.target="_blank",h.download=`${f}-privy-wallet-recovery.txt`,document.body.appendChild(h),h.click(),setTimeout(()=>{h.remove(),URL.revokeObjectURL(m)},5e3)},[r]);return p.jsxs(p.Fragment,{children:[p.jsx(an,{backFn:s,closeable:!1}),p.jsx(cd,{}),p.jsxs(PI,{children:[p.jsxs(RI,{children:[p.jsx(Jm,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),p.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),p.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),p.jsxs(OI,{centered:!0,children:[p.jsx(X3t,{children:c?"".repeat(r.length):r}),p.jsx(MI,{style:{right:"0.75rem"},children:c?p.jsx(jI,{onClick:()=>l(!1)}):p.jsx(DI,{onClick:()=>l(!0)})})]}),p.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[p.jsx($ye,{onClick:u,children:p.jsxs(p.Fragment,o?{children:[p.jsx(Jge,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[p.jsx(Awt,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),p.jsxs($ye,{onClick:d,children:[p.jsx(swt,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),p.jsx(NI,{onClick:i,loading:e,$hideAnimations:t,children:"Continue"}),p.jsx(nl,{}),p.jsx(An,{})]})};let v5t=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const b5t=({error:t,onClose:e})=>p.jsxs(p.Fragment,{children:[p.jsx(an,{closeable:!1}),p.jsx(cd,{}),p.jsxs(X8,t?{children:[p.jsx(Pvt,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),p.jsx(rl,{title:"Something went wrong",description:t})]}:{children:[p.jsx(U8,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(rl,{title:"Success"})]}),p.jsx(er,{onClick:e,children:"Close"}),p.jsx(nl,{}),p.jsx(An,{})]});let x5t=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const jye=({onSubmit:t,...e})=>{let{lastScreen:n,navigate:r}=He(),{send:i,state:s}=(()=>{let[l,u]=k.useReducer(x5t,"creating");return{send:u,state:l}})(),o=k.useCallback(async()=>{s==="finalizing"&&await t(),i("next")},[s,i,t]);k.useEffect(()=>{let l;return s==="done"&&e.config.initiatedBy==="automatic"&&(l=setTimeout(()=>{var u;return(u=e.onClose)==null?void 0:u.call(e)},Hr)),()=>{l&&clearTimeout(l)}},[s,e.config.initiatedBy,e.onClose]);let a=k.useCallback(()=>{i("back")},[i]),c=k.useCallback(()=>{r(Iz)},[n,r]);return s==="creating"?p.jsx(g5t,{...e,onSubmit:o,onBack:n===Iz?c:void 0}):s==="saving"?p.jsx(w5t,{...e,onSubmit:o,onBack:a}):s==="confirming"?p.jsx(n5t,{...e,onSubmit:o,onBack:a}):s==="finalizing"?p.jsx(s5t,{...e,onSubmit:o,onBack:a}):s==="done"?p.jsx(b5t,{...e,onSubmit:o}):null};let E5t={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const LI=t=>{let e=E5t[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let Dye=k.createContext({});const C5t=({children:t})=>{let e=Tn(),[n,r]=k.useState({});return qb("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(Ct.put(Lye(e.id),i.type),i.type==="wallet"?(Ct.put(Pz(e.id),i.walletClientType),Ct.put(Nz(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(Ct.del(Pz(e.id)),Ct.del(Nz(e.id)),r({accountType:i.type})))}}),k.useEffect(()=>{if(!e.id)return;let i=Ct.get(Lye(e.id)),s=Ct.get(Pz(e.id)),o=Ct.get(Nz(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:s,chainType:o}:{accountType:i})},[e.id]),p.jsx(Dye.Provider,{value:n,children:t})};let Lye=t=>`privy:${t}:recent-login-method`,Pz=t=>`privy:${t}:recent-login-wallet-client`,Nz=t=>`privy:${t}:recent-login-chain-type`;const mg=()=>k.useContext(Dye),Bye=()=>{var i;let{app:t}=He(),e=(i=t==null?void 0:t.appearance)==null?void 0:i.logo,n=`${t==null?void 0:t.name} logo`,r={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?p.jsx("img",{src:e,alt:n,style:r}):e.type==="svg"||e.type==="img"?Me.cloneElement(e,{alt:n,style:r}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},_5t=t=>{let{app:e}=He();return e!=null&&e.appearance.logo?p.jsx(A5t,{...t,children:p.jsx(Bye,{})}):null},A5t=G.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),S5t=({name:t,logoUrl:e,size:n="38px"})=>typeof e=="string"?p.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:n,height:n,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):p.jsx("span",{}),I5t=({appId:t})=>{let[e,n]=k.useState(void 0),{startCrossAppAuthFlow:r,authenticated:i}=fn(),{client:s}=Fe();return k.useEffect(()=>{(async()=>s&&n(await s.getCrossAppProviderDetails(t)))()},[s]),p.jsx(ei,{onClick:()=>r({appId:t,action:i?"link":"login"}),disabled:!e,children:e?p.jsxs(p.Fragment,{children:[p.jsx(S5t,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):p.jsx(fg,{})})};let k5t=G.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)",({$disabled:t})=>t?"not-allowed":"pointer",({$disabled:t})=>t?.5:1,({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}},({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}},({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$disabled:t})=>t?"none":"underline",({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)");const Jb=({size:t="md",variant:e="navigation",disabled:n=!1,as:r,children:i,onClick:s,...o})=>p.jsx(k5t,{as:r,$size:t,$variant:e,$disabled:n,onClick:a=>{n?a.preventDefault():s==null||s(a)},...o,children:i}),Oz=(t,e)=>!Xd(t)&&(e==="all-users"||e==="users-without-wallets"&&!$5t(t).length);let $5t=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="ethereum");const Rz=(t,e)=>!Wm(t)&&(e==="all-users"||e==="users-without-wallets"&&!T5t(t).length);let T5t=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="solana");const yg=(t,e)=>Oz(t,e.ethereum.createOnLogin)||Rz(t,e.solana.createOnLogin),P5t=({title:t="Account not found",subtitle:e,appName:n="this app",ctaText:r="Try logging in again",onRetry:i})=>p.jsx(xn,{title:t,subtitle:e||`Please try logging in again or go to ${n} to create an account.`,icon:aXe,iconVariant:"warning",primaryCta:{label:r,onClick:i},watermark:!0}),rx={component:()=>{let{navigate:t,app:e,setModalData:n,data:r}=He(),{getAuthMeta:i,client:s}=Fe();return p.jsx(P5t,{appName:e==null?void 0:e.name,onRetry:()=>{let o=i();n({...r,login:{...r==null?void 0:r.login,...o!=null&&o.disableSignup?{disableSignup:!0}:{}}}),s!=null&&s.authFlow&&(s.authFlow=void 0),t(Uo)}})}},N5t=G.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)");function O5t(t){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),p.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}let Uye="0x0000000000000000000000000000000000000000";const Qb=({originCurrency:t,destinationCurrency:e,...n})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??Uye,destinationCurrency:e??Uye,...n});let Fye="https://api.relay.link",zye="https://api.testnets.relay.link";const ix=async({input:t,isTestnet:e})=>{let n=await fetch((e?zye:Fye)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();if(!(n.ok||typeof r.message=="string"&&r.message.startsWith("Invalid address")))throw console.error("Relay error:",r),Error(r.message??"Error fetching quote from relay");return r},BI=t=>{var n,r;let e=(r=(n=t.steps[0])==null?void 0:n.items)==null?void 0:r[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};function Mz({transactionHash:t,wallet:e,isTestnet:n,bridgingStatus:r,setBridgingStatus:i,onSuccess:s,onFailure:o}){k.useEffect(()=>{if(t&&e&&r){if(["delayed","waiting","pending"].includes(r)){let a=setInterval(async()=>{try{let c=await async function({transactionHash:l,isTestnet:u}){var f;let d=await fetch((u?zye:Fye)+"/requests/v2?hash="+l),h=await d.json();if(!d.ok)throw"message"in h&&typeof h.message=="string"?Error(h.message):Error("Error fetching request from relay");return((f=h.requests.at(0))==null?void 0:f.status)??"pending"}({transactionHash:t,isTestnet:n});i(c)}catch(c){console.error(c)}},1e3);return()=>clearInterval(a)}r==="success"?s({transactionHash:t,wallet:e}):["refund","failure"].includes(r)&&o({error:new Wye(t,n)})}},[r,t,n,e])}class Wye extends ee{constructor(e,n){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,ne.TRANSACTION_FAILURE),this.relayLink=n?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}}const sx=({error:t,allowlistConfig:e,onRetry:n,onCaptchaReset:r,onBack:i})=>{let s=((o,a)=>{if(o instanceof Wye)return{title:"Transaction failed",detail:p.jsxs(p.Fragment,{children:[p.jsx("span",{children:o.message}),p.jsxs("span",{children:[" ","Check the"," ",p.jsx(R5t,{href:o.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:Hc};if(o instanceof ee)switch(o.privyErrorCode){case ne.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:o.message,ctaText:"Try again",icon:Hc};case ne.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:o.message,ctaText:"Try again",icon:Hc};case ne.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:o.message,ctaText:"Try again",icon:Hc};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Hc}}else{if(o instanceof ai&&o.type==="twilio_verification_failed")return{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:dXe};if(!(o instanceof So))return o instanceof Uc&&o.status&&[400,422].includes(o.status)?{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:Hc}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Hc};switch(o.privyErrorCode){case ne.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:Hc};case ne.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:o.message,ctaText:"Try another method",icon:Hc};case ne.ALLOWLIST_REJECTED:return{title:a.errorTitle||"You don't have access to this app",detail:a.errorDetail||"Have you been invited?",ctaText:a.errorCtaText||"Try another account",icon:sL};case ne.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case ne.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case ne.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:Hc};case ne.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:Hc};case ne.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:Hc};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Hc}}}})(t,e);return p.jsx(xn,{title:s.title,subtitle:s.detail,icon:s.icon,onBack:i,iconVariant:"error",primaryCta:{label:s.ctaText,onClick:()=>{t instanceof So&&(t.privyErrorCode===ne.INVALID_CAPTCHA&&(r==null||r()),t.privyErrorCode===ne.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:n==null||n()},variant:"error"},watermark:!0})},Vr={component:()=>{var a,c;let{navigate:t,data:e,lastScreen:n,currentScreen:r,app:i}=He(),{reset:s}=rc(),o=((a=e==null?void 0:e.errorModalData)==null?void 0:a.previousScreen)||(n===r?void 0:n);return p.jsx(sx,{error:((c=e==null?void 0:e.errorModalData)==null?void 0:c.error)||Error(),allowlistConfig:i.allowlistConfig,onRetry:()=>{t(o||Uo,!1)},onCaptchaReset:s})}};let R5t=G.a.withConfig({displayName:"Link",componentId:"sc-89a5a605-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const qye=({onTransfer:t,isTransferring:e,transferSuccess:n})=>p.jsx(er,{...n?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),Hye=G.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),jz=G.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),Vye=G.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),M5t=G(JU).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],({$iconSize:t})=>`${t}px`,({$iconSize:t})=>`${t}px`),j5t=G(rwt).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),D5t=G.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),Kye=G.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),L5t=G.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let B5t=()=>p.jsx(L5t,{children:p.jsx(M5t,{$iconSize:60})});const U5t=({address:t,onClose:e,onRetry:n,onTransfer:r,isTransferring:i,transferSuccess:s})=>{var c;let{defaultChain:o}=Tn(),a=((c=o.blockExplorers)==null?void 0:c.default.url)??"https://etherscan.io";return p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:e,backFn:n}),p.jsxs(Hye,{children:[p.jsx(B5t,{}),p.jsxs(jz,{children:[p.jsx("h3",{children:"Check account assets before transferring"}),p.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),p.jsxs(D5t,{children:[p.jsx("p",{children:" To check your balance, you can:"}),p.jsx(Kye,{children:"Log out and log back into the other account, or "}),p.jsxs(Kye,{children:["Copy your wallet address and use a"," ",p.jsx("u",{children:p.jsx("a",{target:"_blank",href:a,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),p.jsxs(Vye,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[p.jsx(KS,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),p.jsx(un,{address:t,showCopyIcon:!1}),p.jsx(j5t,{})]}),p.jsx(qye,{onTransfer:r,isTransferring:i,transferSuccess:s})]})]}),p.jsx(An,{})]})},U1={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=Fe(),{data:n,navigate:r,lastScreen:i,setModalData:s}=He(),[o,a]=k.useState(void 0),[c,l]=k.useState(!1),[u,d]=k.useState(!1),h=async()=>{var f,g,m,y,w,b,v,E,_,O;try{if(!((f=n==null?void 0:n.accountTransfer)!=null&&f.nonce)||!((g=n==null?void 0:n.accountTransfer)!=null&&g.account))throw Error("missing account transfer inputs");d(!0),await t({nonce:(m=n==null?void 0:n.accountTransfer)==null?void 0:m.nonce,account:(y=n==null?void 0:n.accountTransfer)==null?void 0:y.account,accountType:(w=n==null?void 0:n.accountTransfer)==null?void 0:w.linkMethod,externalWalletMetadata:(b=n==null?void 0:n.accountTransfer)==null?void 0:b.externalWalletMetadata,telegramWebAppData:(v=n==null?void 0:n.accountTransfer)==null?void 0:v.telegramWebAppData,telegramAuthResult:(E=n==null?void 0:n.accountTransfer)==null?void 0:E.telegramAuthResult,farcasterEmbeddedAddress:(_=n==null?void 0:n.accountTransfer)==null?void 0:_.farcasterEmbeddedAddress,oAuthUserInfo:(O=n==null?void 0:n.accountTransfer)==null?void 0:O.oAuthUserInfo}),l(!0),d(!1),setTimeout(e,1e3)}catch(S){s({errorModalData:{error:S,previousScreen:i||U1}}),r(Vr,!0)}};return o?p.jsx(U5t,{address:o,onClose:e,onRetry:()=>a(void 0),onTransfer:h,isTransferring:u,transferSuccess:c}):p.jsx(F5t,{onClose:e,onInfo:()=>{var f;return a((f=n==null?void 0:n.accountTransfer)==null?void 0:f.embeddedWalletAddress)},onContinue:()=>{var f;return a((f=n==null?void 0:n.accountTransfer)==null?void 0:f.embeddedWalletAddress)},onTransfer:h,isTransferring:u,transferSuccess:c,data:n})}},F5t=({onClose:t,onContinue:e,onInfo:n,onTransfer:r,transferSuccess:i,isTransferring:s,data:o})=>{var c,l,u,d,h,f,g;if(!((c=o==null?void 0:o.accountTransfer)!=null&&c.linkMethod)||!((l=o==null?void 0:o.accountTransfer)!=null&&l.displayName))return;let a={method:(u=o==null?void 0:o.accountTransfer)==null?void 0:u.linkMethod,handle:(d=o==null?void 0:o.accountTransfer)==null?void 0:d.displayName,disclosedAccount:(h=o==null?void 0:o.accountTransfer)!=null&&h.embeddedWalletAddress?{type:"wallet",handle:(f=o==null?void 0:o.accountTransfer)==null?void 0:f.embeddedWalletAddress}:void 0};return p.jsxs(p.Fragment,{children:[p.jsx(an,{closeable:!0}),p.jsxs(Hye,{children:[p.jsx(gz,{children:p.jsxs("div",{children:[p.jsx(N5t,{color:"var(--privy-color-error)"}),p.jsx(Jm,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),p.jsxs(jz,{children:[p.jsxs("h3",{children:[function(m){switch(m){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitter":case"telegram":case"farcaster":return`${jme(m.replace("_oauth",""))} profile`;default:return m.startsWith("privy:")?"Cross-app account":m}}(a.method)," is associated with another account"]}),p.jsxs("p",{children:["Do you want to transfer",p.jsx("b",{children:a.handle?` ${a.handle}`:""})," to this account instead? This will delete your other account."]}),p.jsx(z5t,{onClick:n,disclosedAccount:a.disclosedAccount})]}),p.jsxs(jz,{style:{gap:12,marginTop:12},children:[(g=o==null?void 0:o.accountTransfer)!=null&&g.embeddedWalletAddress?p.jsx(er,{onClick:e,children:"Continue"}):p.jsx(qye,{onTransfer:r,transferSuccess:i,isTransferring:s}),p.jsx(sd,{onClick:t,children:"No thanks"})]})]}),p.jsx(An,{})]})};function z5t({disclosedAccount:t,onClick:e}){return t?p.jsxs(Vye,{onClick:e,children:[p.jsx(KS,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),p.jsx(un,{address:t.handle,showCopyIcon:!1}),p.jsx(O5t,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const W5t=({errorMessage:t,onClose:e})=>p.jsx(xn,t?{title:"Something went wrong",subtitle:t,icon:bA,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),np={component:()=>{let{app:t,setModalData:e,navigate:n,data:r,onUserCloseViaDialogOrKeybindRef:i}=He(),[s,o]=k.useState(""),{embeddedWallets:a}=Tn(),{authenticated:c,user:l}=fn(),{closePrivyModal:u,walletProxy:d,client:h}=Fe(),{onSuccess:f,onFailure:g,callAuthOnSuccessOnClose:m,shouldCreateEth:y,shouldCreateSol:w}=r.createWallet,b=t.embeddedWallets.mode==="legacy-embedded-wallets-only"&&(t==null?void 0:t.embeddedWallets.requireUserOwnedRecoveryOnCreate)===!0,[v,E]=k.useState(null),{create:_}=Cz(),O=y??(!!l&&Oz(l,t.embeddedWallets.ethereum.createOnLogin)),S=w??(!!l&&Rz(l,t.embeddedWallets.solana.createOnLogin)),R=new ga(async()=>{let I=await h.getAccessToken();if(l&&I&&d)try{let D;if(O&&S)D=await _({chainType:"ethereum",walletIndex:0,latestUser:l}),D=await _({chainType:"solana",walletIndex:0,latestUser:D.user});else if(S)D=await _({chainType:"solana",walletIndex:0,latestUser:l});else{if(!O)return void u({shouldCallAuthOnSuccess:m});D=await _({chainType:"ethereum",walletIndex:0,latestUser:l})}E(D),n(_z)}catch(D){o(D.message)}});return k.useEffect(()=>c&&l?b?(e({...r,createWallet:{...r.createWallet,shouldCreateEth:O,shouldCreateSol:S},recoverySelection:{...r==null?void 0:r.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:O,shouldCreateSol:S}}),n(Twe({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:a.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void R.execute():(n(Uo),void g(Error("User must be authenticated before creating a Privy wallet"))),[b,c]),i.current=()=>null,p.jsx(W5t,{errorMessage:s||void 0,onClose:()=>{v?(f(v),u({shouldCallAuthOnSuccess:m})):(g(new I0("User wallet creation failed")),u({shouldCallAuthOnSuccess:!1}))}})}},F1={component:()=>{let{user:t,logout:e}=fn(),{app:n,onUserCloseViaDialogOrKeybindRef:r,setModalData:i,navigate:s}=He(),{acceptTerms:o,closePrivyModal:a,createAnalyticsEvent:c}=Fe(),l=u=>{u==null||u.preventDefault(),a({shouldCallAuthOnSuccess:!1}),e()};return r.current=l,p.jsx(q5t,{termsAndConditionsUrl:n==null?void 0:n.legal.termsAndConditionsUrl,privacyPolicyUrl:n==null?void 0:n.legal.privacyPolicyUrl,onAccept:async u=>{u==null||u.preventDefault(),await o(),t&&yg(t,n.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:d=>{console.error(d),c({eventName:"embedded_wallet_creation_failure_logout",payload:{error:d,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(np)):a()},onDecline:l})}},q5t=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:n,onDecline:r,title:i="One last step",subtitle:s="By signing up, you agree to our terms and privacy policy."})=>p.jsx(xn,{title:i,subtitle:s,icon:uXe,primaryCta:{label:"Accept",onClick:n},secondaryCta:{label:"No thanks",onClick:r},watermark:!0,children:(t||e)&&p.jsxs(H5t,{children:[t&&p.jsxs(R1,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",p.jsx(iL,{width:16,height:16,strokeWidth:2.25})]}),e&&p.jsxs(R1,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",p.jsx(iL,{width:16,height:16,strokeWidth:2.25})]})]})});let H5t=G.div.withConfig({displayName:"LinksContainer",componentId:"sc-b9d25a6d-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const Gye=({color:t,...e})=>p.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:p.jsx("g",{children:p.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let V5t=G.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),K5t=G.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),G5t=G(pwt).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),Z5t=G(Gye).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function Y5t({children:t,iconOnly:e,value:n,hideCopyIcon:r,...i}){let[s,o]=k.useState(!1);return p.jsxs(V5t,{...i,onClick:()=>{navigator.clipboard.writeText(n||t).catch(console.error),o(!0),setTimeout(()=>o(!1),1500)},children:[t," ",s?p.jsxs(K5t,{children:[p.jsx(G5t,{})," ",!e&&"Copied"]}):!r&&p.jsx(Z5t,{})]})}const J5t=()=>p.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:p.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let Dz=(t,e,n,r,i)=>{for(let s=e;s<e+r;s++)for(let o=n;o<n+i;o++){let a=t==null?void 0:t[o];a&&a[s]&&(a[s]=0)}return t},Q5t=({x:t,y:e,cellSize:n,bgColor:r,fgColor:i})=>p.jsx(p.Fragment,{children:[0,1,2].map(s=>p.jsx("circle",{r:n*(7-2*s)/2,cx:t+7*n/2,cy:e+7*n/2,fill:s%2!=0?r:i},`finder-${t}-${e}-${s}`))}),X5t=({cellSize:t,matrixSize:e,bgColor:n,fgColor:r})=>p.jsx(p.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map(([i,s])=>p.jsx(Q5t,{x:i,y:s,cellSize:t,bgColor:n,fgColor:r},`finder-${i}-${s}`))}),e6t=({matrix:t,cellSize:e,color:n})=>p.jsx(p.Fragment,{children:t.map((r,i)=>r.map((s,o)=>s?p.jsx("rect",{height:e-.4,width:e-.4,x:i*e+.1*e,y:o*e+.1*e,rx:.5*e,ry:.5*e,fill:n},`cell-${i}-${o}`):p.jsx(Me.Fragment,{},`circle-${i}-${o}`)))}),t6t=({cellSize:t,matrixSize:e,element:n,sizePercentage:r,bgColor:i})=>{if(!n)return p.jsx(p.Fragment,{});let s=e*(r||.14),o=Math.floor(e/2-s/2),a=Math.floor(e/2+s/2);(a-o)%2!=e%2&&(a+=1);let c=(a-o)*t,l=c-.2*c,u=o*t;return p.jsxs(p.Fragment,{children:[p.jsx("rect",{x:o*t,y:o*t,width:c,height:c,fill:i}),p.jsx(n,{x:u+.1*c,y:u+.1*c,height:l,width:l})]})},n6t=t=>{var s;let e=t.outputSize,n=((o,a)=>{let c=j8.create(o,{errorCorrectionLevel:a}).modules,l=((u,d)=>{let h=u.slice(0),f=[];for(;h.length;)f.push(h.splice(0,d));return f})(Array.from(c.data),c.size);return l=Dz(l,0,0,7,7),l=Dz(l,l.length-7,0,7,7),Dz(l,0,l.length-7,7,7)})(t.url,t.errorCorrectionLevel),r=e/n.length,i=function(o,{min:a,max:c}){return Math.min(Math.max(o,a),c)}(2*r,{min:.025*e,max:.036*e});return p.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[p.jsx(e6t,{matrix:n,cellSize:r,color:t.fgColor}),p.jsx(X5t,{cellSize:r,matrixSize:n.length,fgColor:t.fgColor,bgColor:t.bgColor}),p.jsx(t6t,{cellSize:r,element:(s=t.logo)==null?void 0:s.element,bgColor:t.bgColor,matrixSize:n.length})]})},r6t=G.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],t=>`${t.$size}px`,t=>`${t.$size}px`,t=>t.$bgColor,t=>t.$borderColor);const ox=t=>{let{appearance:e}=Tn(),n=t.bgColor||"#FFFFFF",r=t.fgColor||"#000000",i=t.size||160,s=e.palette.colorScheme==="dark"?n:r;return p.jsx(r6t,{$size:i,$bgColor:n,$fgColor:r,$borderColor:s,children:p.jsx(n6t,{url:t.url,logo:{element:t.squareLogoElement??J5t},outputSize:i,bgColor:n,fgColor:r,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},rp=G.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let Zye=G.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)",({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)");const Yye=G(Zye).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),i6t=G(Zye).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],t=>t.$stacked?"16px":"88px",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),Jye=G.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],rp),Qye=({...t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[p.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),p.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),p.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),Xb={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:LF,md:LF}}};class il{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some(n=>n.startsWith("eip155:"))}isSol(e){return e.chains.some(n=>n.startsWith("solana:"))}inAllowList(e,n){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||n==="listing"&&this.includeWalletConnect)return!0;let r=il.normalize(e);return this.normalizedAllowList.some(i=>r===il.normalize(i))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(this.detectedGeneric||e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,n){var c;let r=new Map,i=l=>{let u=r.get(l.id);if(u){u.chainType!==l.chainType&&(u.chainType="multi");let d=new Set(u.chains);l.chains.forEach(h=>d.add(h)),u.chains=Array.from(d),!u.icon&&l.icon&&(u.icon=l.icon),!u.url&&l.url&&(u.url=l.url),!u.listing&&l.listing&&(u.listing=l.listing)}else r.set(l.id,l)};e.filter(l=>this.connectorOk(l)).forEach(l=>{var d,h;let u=il.normalize(l.walletClientType);i({id:u,label:((d=l.walletBranding)==null?void 0:d.name)??u,source:"connector",connector:l,chainType:l.chainType,icon:(h=l.walletBranding)==null?void 0:h.icon,url:void 0,chains:[l.chainType==="ethereum"?"eip155":"solana"]})}),n.filter(l=>this.listingOk(l)).forEach(l=>{var m,y;let u=this.isEth(l),d=this.isSol(l),h=il.normalize(l.slug),f=Xb[l.slug],g=((m=f==null?void 0:f.image_url)==null?void 0:m.sm)||((y=l.image_url)==null?void 0:y.sm);i({id:h,label:l.name||h,source:"listing",listing:l,chainType:u&&d?"multi":u?"ethereum":"solana",icon:g,url:l.homepage,chains:l.chains})});let s=e.find(l=>l.connectorType==="wallet_connect_v2");this.includeWalletConnectQr&&s&&i({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:s,chainType:"ethereum",icon:C1e,url:void 0,chains:[s.chainType==="ethereum"?"eip155":"solana"]});let o=Array.from(r.values());o.forEach(l=>{var d,h;let u=Xb[((d=l.listing)==null?void 0:d.slug)||l.id];(h=u==null?void 0:u.image_url)!=null&&h.sm&&(l.icon=u.image_url.sm)});let a=new Map;return(c=this.normalizedAllowList)==null||c.forEach((l,u)=>{a.set(il.normalize(l),u)}),{wallets:o.slice().sort((l,u)=>{let d=il.normalize(l.id),h=il.normalize(u.id);d==="binance-defi"?d="binance":d==="universalprofiles"?d="universal_profile":d==="cryptocom-defi"&&(d="cryptocom"),h==="binance-defi"?h="binance":h==="universalprofiles"?h="universal_profile":h==="cryptocom-defi"&&(h="cryptocom");let f=a.has(d),g=a.has(h);return f&&g?a.get(d)-a.get(h):f?-1:g?1:l.source==="connector"&&u.source==="listing"?-1:l.source==="listing"&&u.source==="connector"?1:l.label.toLowerCase().localeCompare(u.label.toLowerCase())}),walletCount:o.length}}constructor(e,n){var r,i,s,o,a;this.chainFilter=e,n&&n.length>0&&(this.normalizedAllowList=n.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedGeneric=((r=this.normalizedAllowList)==null?void 0:r.includes("detected_wallets"))??!1,this.detectedEth=((i=this.normalizedAllowList)==null?void 0:i.includes("detected_ethereum_wallets"))??!1,this.detectedSol=((s=this.normalizedAllowList)==null?void 0:s.includes("detected_solana_wallets"))??!1,this.includeWalletConnect=((o=this.normalizedAllowList)==null?void 0:o.includes("wallet_connect"))??!1,this.includeWalletConnectQr=((a=this.normalizedAllowList)==null?void 0:a.includes("wallet_connect_qr"))??!1}}var Lz=t=>p.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),p.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),p.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),p.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),p.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),p.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),p.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),Bz=t=>p.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[p.jsx("stop",{offset:"0",stopColor:"#9945ff"}),p.jsx("stop",{offset:".2",stopColor:"#7962e7"}),p.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),p.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),p.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const s6t=G.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),ax=G.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),o6t=G.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),a6t=Cv(()=>({isModalOpen:!1,resolvers:null}));Cv(()=>({}));const c6t=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&Ct.put(l6t(n),r),a6t.setState({wallet:r})},l6t=t=>`privy:${t}:active-wallet-connection`;function Xye({walletList:t,walletChainType:e}){var m;let n=Tn(),{connectors:r}=Fe(),i=Z8(y=>y.listings),s=e??n.appearance.walletChainType,o=t??((m=n.appearance)==null?void 0:m.walletList),a=k.useMemo(()=>new il(s,o),[s,o]),{wallets:c,walletCount:l}=k.useMemo(()=>a.getWallets(r,i),[a,r,i]),[u,d]=k.useState(""),h=k.useMemo(()=>u?c.filter(y=>y.label.toLowerCase().includes(u.toLowerCase())):c,[u,c]),[f,g]=k.useState();return{selected:f,setSelected:g,search:u,setSearch:d,wallets:h,walletCount:l}}let ewe=t=>!t||typeof t!="string"&&(t instanceof jF||t instanceof zF);const Uz=({index:t,style:e,data:n,recent:r})=>{var c,l;let i=n.wallets[t],{walletChainType:s,handleWalletClick:o}=n,a={...e,boxSizing:"border-box"};return i?p.jsxs(UI,{style:a,onClick:()=>o(i),children:[i.icon&&(i.connector&&!ewe(i.connector)?p.jsx(s6t,{children:typeof i.icon=="string"?p.jsx(ax,{src:i.icon}):p.jsx(i.icon,{style:{width:"32px",height:"32px"}})}):typeof i.icon=="string"?p.jsx(ax,{src:i.icon}):p.jsx(i.icon,{style:{width:"32px",height:"32px"}})),p.jsx(zI,{children:i.label}),r?p.jsxs(p.Fragment,{children:[p.jsx(o6t,{children:"Last used"}),p.jsx(FI,{children:p.jsxs(p.Fragment,{children:[s==="ethereum-only"&&p.jsx(Lz,{}),s==="solana-only"&&p.jsx(Bz,{})]})})]}):p.jsx(FI,{children:!(s==="ethereum-only"||s==="solana-only")&&p.jsxs(p.Fragment,{children:[((c=i.chains)==null?void 0:c.some(u=>u.startsWith("eip155")))&&p.jsx(Lz,{}),((l=i.chains)==null?void 0:l.some(u=>u.startsWith("solana")))&&p.jsx(Bz,{})]})})]}):null};var twe=({className:t,suggestedAddress:e,customDescription:n,connectOnly:r,preSelectedWalletId:i,...s})=>{var N;let o=Tn(),{connectors:a}=Fe(),c=s.walletChainType||o.appearance.walletChainType,l=s.walletList||((N=o.appearance)==null?void 0:N.walletList),{onBack:u,onClose:d,app:h}=s,{selected:f,setSelected:g,qrUrl:m,setQrUrl:y,connecting:w,uiState:b,wallets:v,walletCount:E,handleConnect:_,handleBack:O,showSearchBar:S,isInitialConnectView:R,title:I,search:D,setSearch:j}=function({onConnect:$,onBack:L,onClose:B,onConnectError:T,walletList:z,walletChainType:q,app:U}){let V=Tn(),{connectors:Z}=Fe(),{wallets:K,walletCount:J,search:oe,setSearch:se,selected:ae,setSelected:fe}=Xye({walletList:z,walletChainType:q}),[ce,de]=k.useState(),[ot,he]=k.useState(),[Ae,_e]=k.useState(),ge=!ae&&!ot&&!Ae,Ee=ge&&(J>6||oe.length>0),Wt=Z.find(bt=>bt.connectorType==="wallet_connect_v2"),ye=k.useCallback(async(bt,ft)=>{var Xt,Ot;if(bt){if((Ae==null?void 0:Ae.connector)===bt)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(de("loading"),typeof bt=="string")return _e({connector:bt,name:(ft==null?void 0:ft.name)??"Wallet",icon:ft==null?void 0:ft.icon}),void window.open(bt,"_blank");_e({connector:bt,name:(ft==null?void 0:ft.name)??bt.walletBranding.name??"Wallet",icon:(ft==null?void 0:ft.icon)??bt.walletBranding.icon});try{let At=await bt.connect({showPrompt:!0});if(!At)return de("error"),void(T==null?void 0:T(new br("Unable to connect wallet")));de("success"),c6t({address:At.address,client:At.walletClientType,appId:V.id}),setTimeout(()=>{$({connector:bt,wallet:At})},Hr)}catch(At){if(console.error("ERROR: ",{e:At}),((Xt=At==null?void 0:At.message)==null?void 0:Xt.includes("already pending for origin"))||((Ot=At==null?void 0:At.message)==null?void 0:Ot.includes("wallet_requestPermissions")))return void console.log("Connection request already pending, maintaining loading state");de("error"),T==null||T(new br("Unable to connect wallet"))}}},[V.id,$,Ae]),je=k.useCallback(()=>ot?(de(void 0),_e(void 0),void he(void 0)):Ae?(de(void 0),void _e(void 0)):ae?(de(void 0),_e(void 0),void fe(void 0)):ce==="error"||ce==="loading"?(de(void 0),void _e(void 0)):void(L==null?void 0:L()),[ot,Ae,ae,ce,L]),Ye=k.useMemo(()=>(Ae==null?void 0:Ae.connector)===Wt&&ot&&Tr?`Go to ${Ae.name} to continue`:(Ae==null?void 0:Ae.connector)===Wt&&ot?`Scan code to connect to ${Ae.name}`:typeof(Ae==null?void 0:Ae.connector)=="string"?`Open or install ${Ae.name}`:ae&&!Ae?"Select network":Ae?null:"Select your wallet",[Ae,ot,ae,Wt]);return{selected:ae,setSelected:fe,qrUrl:ot,setQrUrl:he,connecting:Ae,uiState:ce,search:oe,setSearch:se,wallets:K,walletCount:J,wc:Wt,isInitialConnectView:ge,showSearchBar:Ee,title:Ye,handleConnect:ye,handleBack:je,onClose:B,onConnect:$,app:U}}({...s,walletList:l,walletChainType:c}),F=a.find($=>$.connectorType==="wallet_connect_v2"),M=k.useRef(null),C=bZe({count:v.length,getScrollElement:()=>M.current,estimateSize:()=>56,overscan:6,gap:5}),x=k.useCallback(async $=>{var q,U,V,Z,K,J,oe;let L,B=c!=="solana-only"&&((q=$.chains)==null?void 0:q.some(se=>se.startsWith("eip155"))),T=c!=="ethereum-only"&&((U=$.chains)==null?void 0:U.some(se=>se.startsWith("solana"))),z=FF[$.id];if(T&&z)L=z.getMobileRedirect({isSolana:!0,connectOnly:!!r,useUniversalLink:!1});else{let se=(Z=(V=$.listing)==null?void 0:V.mobile)==null?void 0:Z.native;L=((J=(K=$.listing)==null?void 0:K.mobile)==null?void 0:J.universal)||se||$.url}if(B&&T){let se=il.normalize($.id),ae=a.filter(de=>il.normalize(de.walletClientType)===se&&!(de.chainType==="ethereum"&&de instanceof jF||de.chainType==="solana"&&de instanceof zF)),fe=ae.find(de=>de.chainType==="ethereum"),ce=ae.find(de=>de.chainType==="solana");if(!fe&&$.listing){let de=Xb[$.listing.slug]?{...$.listing,...Xb[$.listing.slug]}:$.listing;F.setWalletEntry(de,y),await F.resetConnection($.id),fe=F}if(!ce&&L&&(ce=L),fe||ce)return void g({eth:fe,sol:ce,name:$.label,icon:$.icon})}if(!ewe($.connector))return((oe=$.connector)==null?void 0:oe.connectorType)==="wallet_connect_v2"&&(await F.resetConnection($.id),F.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},y)),void await _($.connector,{name:$.label,icon:$.icon});if(B||T||$.url||$.listing){if(B&&$.listing){let se=Xb[$.listing.slug]?{...$.listing,...Xb[$.listing.slug]}:$.listing;F.setWalletEntry(se,y),await F.resetConnection($.id)}if(B&&T)return void g({eth:F,sol:L,name:$.label,icon:$.icon});if(T)return void await _(L,{name:$.label,icon:$.icon});if(B)return void($.listing?await _(F,{name:$.label,icon:$.icon}):$.url?await _($.url,{name:$.label,icon:$.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",$.label));if($.url)return void await _($.url,{name:$.label,icon:$.icon})}},[F,_,g,y,O,d,h,R,I,n,e,o,a]),A=u||O,P=!!u||!R;return k.useEffect(()=>{if(!i)return;let $=v.find(({id:L})=>L===i);$&&x($).catch(console.error)},[i]),p.jsxs(cr,{className:t,children:[p.jsx(cr.Header,{icon:w&&!m||m&&Tr&&(w!=null&&w.icon)?w.icon:w?void 0:Qye,iconVariant:w&&!m||m&&Tr?"loading":void 0,iconLoadingStatus:w&&!m||m&&Tr?{success:b==="success",fail:b==="error"}:void 0,title:w&&!m?`Waiting for ${w.name}`:m&&Tr?`Waiting for ${(w==null?void 0:w.name)??"connection"}`:I,subtitle:w&&!m&&typeof w.connector=="string"?`To connect to ${w.name}, install and open the app. Then confirm the connection when prompted.`:w&&!m&&typeof w.connector!="string"?b==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":R?n??(e?p.jsxs("span",{children:["Connect the wallet with address ",p.jsx(un,{address:e})," ",h!=null&&h.name?`to ${h.name}.`:"."]}):h?`Connect a wallet to your ${h.name} account`:null):null,showBack:P,showClose:!0,onBack:A,onClose:d}),p.jsxs(cr.Body,{ref:M,$colorScheme:o.appearance.palette.colorScheme,style:{marginBottom:m?"0.5rem":void 0},children:[S&&p.jsx(u6t,{children:p.jsxs(Yye,{style:{background:"transparent"},children:[p.jsx(Sh,{children:p.jsx(Dwt,{})}),p.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:$=>j($.target.value),value:D})]})}),m&&Tr&&b==="loading"&&p.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:p.jsx(R1,{variant:"primary",onClick:()=>window.open(m.universal??m.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),m&&!Tr&&b==="loading"&&p.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:p.jsx(f6t,{value:m.universal??m.native,iconOnly:!0,children:"Copy link"})}),m&&!Tr&&p.jsx(ox,{size:280,url:m.universal??m.native,squareLogoElement:w!=null&&w.icon?typeof w.icon=="string"?$=>p.jsx("svg",{...$,children:p.jsx("image",{href:w.icon,height:$.height,width:$.width})}):w.icon:vbt}),p.jsxs(d6t,{children:[w&&!m&&typeof w.connector=="string"&&p.jsxs(UI,{onClick:()=>window.open(w.connector,"_blank"),children:[w.icon&&(typeof w.icon=="string"?p.jsx(ax,{src:w.icon}):p.jsx(w.icon,{})),p.jsx(zI,{children:w.name})]}),(f==null?void 0:f.eth)&&!w&&p.jsxs(UI,{onClick:()=>_(f.eth,{name:f.name,icon:f.icon}),children:[f.icon&&(typeof f.icon=="string"?p.jsx(ax,{src:f.icon}):p.jsx(f.icon,{})),p.jsx(zI,{children:f.name}),p.jsx(FI,{children:p.jsx(Lz,{})})]}),(f==null?void 0:f.sol)&&!w&&p.jsxs(UI,{onClick:()=>_(f.sol,{name:f.name,icon:f.icon}),children:[f.icon&&(typeof f.icon=="string"?p.jsx(ax,{src:f.icon}):p.jsx(f.icon,{})),p.jsx(zI,{children:f.name}),p.jsx(FI,{children:p.jsx(Bz,{})})]}),R&&p.jsxs(p.Fragment,{children:[!(E>0)&&p.jsx(h6t,{children:"No wallets found. Try another search."}),E>0&&!m&&p.jsx("div",{style:{maxHeight:56*Math.min(v.length,5)+5,width:"100%"},children:p.jsx("div",{style:{height:`${C.getTotalSize()}px`,width:"100%",position:"relative"},children:C.getVirtualItems().map($=>p.jsx(Uz,{index:$.index,style:{position:"absolute",top:0,left:0,height:`${$.size}px`,transform:`translateY(${$.start}px)`},data:{wallets:v,walletChainType:c,handleWalletClick:x}},$.key))})})]})]})]}),p.jsxs(cr.Footer,{children:[w&&!m&&typeof w.connector!="string"&&b==="error"&&p.jsx(cr.Actions,{children:p.jsx(R1,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>_(w.connector,{name:w.name,icon:w.icon}),children:"Retry"})}),!!(h&&h.legal.privacyPolicyUrl&&h.legal.termsAndConditionsUrl)&&p.jsx(XF,{app:h,alwaysShowImplicitConsent:!0}),p.jsx(cr.Watermark,{})]})]})};let u6t=G.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-ee081e08-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),d6t=G.div.withConfig({displayName:"WalletListContainer",componentId:"sc-ee081e08-1"})(["display:flex;flex-direction:column;gap:","px;"],5),UI=G.button.withConfig({displayName:"Button",componentId:"sc-ee081e08-2"})(["button&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),FI=G.span.withConfig({displayName:"ButtonBadge",componentId:"sc-ee081e08-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),h6t=G.div.withConfig({displayName:"EmptyContainer",componentId:"sc-ee081e08-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),zI=G.span.withConfig({displayName:"WalletName",componentId:"sc-ee081e08-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),f6t=G(Y5t).withConfig({displayName:"StyledCopyableText",componentId:"sc-ee081e08-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const p6t=({...t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[p.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[p.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),p.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_2856_1743",children:p.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),nwe=t=>{var n;let e=(n=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses"))==null?void 0:n.split(" ").filter(r=>si(r,{strict:!0})).map(r=>Ei(r));return!!(e!=null&&e.length)&&!!(t!=null&&t.linkedAccounts.filter(r=>r.type=="wallet"&&e.includes(r.address)).length)};let rwe=k.createContext({plugins:{current:{}}});const g6t=({children:t})=>{let e=k.useRef({});return p.jsx(rwe.Provider,{value:{plugins:e},children:t})},e2=()=>{let{plugins:t}=k.useContext(rwe);return k.useCallback(e=>t.current[e],[t])},iwe=Symbol("solana-ledger-plugin"),m6t=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:n="Try another account",ctaLink:r,onCtaClick:i})=>p.jsx(xn,{title:t,subtitle:e,icon:sL,iconVariant:"warning",primaryCta:{label:n,onClick:()=>{r?window.open(r,"_blank"):i==null||i()}},watermark:!0}),WI={component:()=>{let{navigate:t,app:e}=He(),n=(e==null?void 0:e.allowlistConfig.errorTitle)||"You don't have access to this app",r=(e==null?void 0:e.allowlistConfig.errorDetail)||"Have you been invited?",i=(e==null?void 0:e.allowlistConfig.errorCtaText)||"Try another account",s=e==null?void 0:e.allowlistConfig.errorCtaLink;return p.jsx(m6t,{title:n,subtitle:r,ctaText:i,ctaLink:s??void 0,onCtaClick:()=>{t(Uo)}})}},y6t=({status:t,title:e,description:n,userIntentRequired:r,retriesRemaining:i,hasSelectedCta:s,onContinue:o,onRetry:a})=>{let c=k.useMemo(()=>{switch(t){case"loading":default:return;case"success":return r?{label:s?"Continuing...":"Continue",onClick:o,disabled:s,loading:s}:void 0;case"error":return i>0?{label:"Retry",onClick:a}:void 0}},[t,s,o,a]),l=k.useMemo(()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading",[t]);return p.jsx(xn,{icon:t==="loading"||t==="ready"?void 0:t==="success"?$4:bA,iconVariant:l,title:e,subtitle:n,primaryCta:c,watermark:!0})},ld={component:()=>{let{lastScreen:t,data:e,navigate:n,setModalData:r}=He(),{status:i,token:s,waitForResult:o,reset:a,execute:c}=rc(),l=k.useRef([]),u=S=>{l.current=[S,...l.current]},[d,h]=k.useState(!0);k.useEffect(()=>(u(setTimeout(h,1e3,!1)),()=>{l.current.forEach(S=>clearTimeout(S)),l.current=[]}),[]);let[f,g]=k.useState(""),[m,y]=k.useState("Checking that you are a human..."),[w,b]=k.useState(!1),[v,E]=k.useState(3),_=e==null?void 0:e.captchaModalData,O=async S=>{try{await(_==null?void 0:_.callback(S)),_!=null&&_.onSuccessNavigateTo&&n(_==null?void 0:_.onSuccessNavigateTo,!1)}catch(R){if(R instanceof hI)return;r({errorModalData:{error:R,previousScreen:t||Uo}}),n((_==null?void 0:_.onErrorNavigateTo)||Vr,!1)}};return k.useEffect(()=>{i==="success"?u(setTimeout(async()=>{let S=await o();!S||_!=null&&_.userIntentRequired||O(S)},1e3)):i==="ready"&&u(setTimeout(()=>{i==="ready"&&c()},500))},[i]),k.useEffect(()=>{if(!d)switch(i){case"success":g("Success!"),y("CAPTCHA passed successfully."),_!=null&&_.userIntentRequired||setTimeout(()=>{b(!0),O(s)},2e3);break;case"loading":g(""),y("Checking that you are a human...");break;case"error":g("Something went wrong"),y(v<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}},[i,d,w]),p.jsx(y6t,{status:i,title:f,description:m,userIntentRequired:_==null?void 0:_.userIntentRequired,retriesRemaining:v,hasSelectedCta:w,onContinue:()=>{b(!0),O(s)},onRetry:async()=>{if(v<=0)return;E(R=>R-1),a(),c();let S=await o();!S||_!=null&&_.userIntentRequired||O(S)}})}},w6t=t=>p.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:p.jsx("g",{children:p.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),v6t=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:n="Phantom supports Ledger",subtitle:r=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>p.jsx(xn,{title:n,subtitle:p.jsx(E6t,{children:r}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:p.jsxs(x6t,{children:[p.jsx(h1e,{style:{width:"48px",height:"48px"}}),p.jsx(sXe,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),p.jsx(w6t,{style:{width:"48px",height:"48px"}})]})}),b6t={component:function(){let{data:t,setModalData:e,navigate:n}=He();return p.jsx(v6t,{onContinueWithLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!0}}),n(ip)},onContinueWithoutLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!1}}),n(ip)}})}};let x6t=G.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),E6t=G.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const C6t=({style:t,...e})=>p.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:p.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),_6t=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:n})=>p.jsx(xn,{title:t,subtitle:e,icon:C6t,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:n},showBack:!0,onBack:n,watermark:!0}),cx={component:()=>{let{navigate:t}=He();return p.jsx(_6t,{onGoBack:()=>{t(Uo)}})}},swe=t=>(t==null?void 0:t.privyErrorCode)===ne.LINKED_TO_ANOTHER_USER?ug.ERROR_USER_EXISTS:t instanceof Bo&&!t.details.default?t.details:t instanceof o1e?ug.ERROR_TIMED_OUT:t instanceof a1e?ug.ERROR_USER_REJECTED_CONNECTION:(t==null?void 0:t.privyErrorCode)===ne.CANNOT_LINK_MORE_OF_TYPE?ug.ERROR_USER_LIMIT_REACHED:ug.ERROR_WALLET_CONNECTION,A6t=({walletLogo:t,title:e,subtitle:n,signSuccess:r,errorMessage:i,connectSuccess:s,separateConnectAndSign:o,signing:a,walletConnectRedirectUri:c,walletConnectFallbackUniversalUri:l,hasTabbedAway:u,showCoinbaseWalletResetCta:d,numRetries:h,onBack:f,onSign:g,onRetry:m,onCoinbaseReset:y,onDifferentWallet:w})=>{let b=d?{label:"Use a different wallet",onClick:y,disabled:r}:i===ug.ERROR_USER_EXISTS&&f?{label:"Use a different wallet",onClick:w}:s&&!r&&o?{label:a?"Signing":"Sign with your wallet",onClick:g,disabled:a}:!r&&(i!=null&&i.retryable)&&h<2?{label:"Retry",onClick:m,disabled:!1}:r||i?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return p.jsx(xn,{title:e,subtitle:n,icon:t,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!i},primaryCta:b,onBack:f,watermark:!0,children:!s&&c&&!u&&p.jsxs(S6t,{children:["Still here?"," ",p.jsx(Jb,{href:c,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),l&&p.jsxs(p.Fragment,{children:[" ","or"," ",p.jsx(Jb,{href:l,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},ip={component:()=>{var ot,he,Ae,_e,ge,Ee,Wt,ye,je,Ye,bt,ft,Xt,Ot,At;let t,[e,n]=k.useState(!1),[r,i]=k.useState(!1),[s,o]=k.useState(void 0),{authenticated:a,logout:c}=fn(),{app:l,navigate:u,navigateBack:d,lastScreen:h,currentScreen:f,setModalData:g,data:m}=He(),{getAuthFlow:y,walletConnectionStatus:w,closePrivyModal:b,initLoginWithWallet:v,loginWithWallet:E,updateWallets:_,createAnalyticsEvent:O}=Fe(),{walletConnectors:S}=fn(),[R,I]=k.useState(0),{user:D}=fn(),j=e2(),[F]=k.useState((D==null?void 0:D.linkedAccounts.length)||0),[M,C]=k.useState(""),[x,A]=k.useState(""),[P,N]=k.useState(!1),{hasTabbedAway:$}=function(){let[Oe,Le]=k.useState(!1),we=k.useCallback(()=>{document.hidden&&Le(!0)},[]);return k.useEffect(()=>(document.addEventListener("visibilitychange",we),()=>document.removeEventListener("visibilitychange",we)),[we]),{hasTabbedAway:Oe,reset:()=>Le(!1)}}(),{enabled:L,token:B}=rc(),T=Xf(((ot=w==null?void 0:w.connector)==null?void 0:ot.walletClientType)||"unknown"),z=Tr&&((he=w==null?void 0:w.connector)==null?void 0:he.connectorType)==="wallet_connect_v2"||Tr&&((Ae=w==null?void 0:w.connector)==null?void 0:Ae.connectorType)==="coinbase_wallet"||Tr&&((_e=w==null?void 0:w.connector)==null?void 0:_e.connectorType)==="base_account"||Tr&&((ge=w==null?void 0:w.connector)==null?void 0:ge.connectorType)==="injected"&&((Ee=w==null?void 0:w.connector)==null?void 0:Ee.walletClientType)==="phantom"||Tr&&((Wt=w==null?void 0:w.connector)==null?void 0:Wt.connectorType)==="solana_adapter"&&w.connector.walletClientType==="mobile_wallet_adapter",q=(w==null?void 0:w.status)==="connected",U=(w==null?void 0:w.status)==="switching_to_supported_chain";k.useEffect(()=>{var we,lt,St,ht,It,Ue;let Oe=y(),Le=Oe instanceof jb||Oe instanceof lI?Oe:void 0;q&&((we=w.connector)==null?void 0:we.chainType)==="solana"&&((lt=w.connector)==null?void 0:lt.walletClientType)==="phantom"&&j(iwe)&&((St=m==null?void 0:m.login)==null?void 0:St.isSigningInWithLedgerSolana)===void 0?u(b6t,!1):(q&&!Le&&(!L||B||a?v(w.connectedWallet,B,(ht=m==null?void 0:m.login)==null?void 0:ht.disableSignup,(It=m==null?void 0:m.login)!=null&&It.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{N(!0)}):(g({captchaModalData:{callback:Nt=>{var Kt,qt;return v(w.connectedWallet,Nt,(Kt=m==null?void 0:m.login)==null?void 0:Kt.disableSignup,(qt=m==null?void 0:m.login)!=null&&qt.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{N(!0)})},userIntentRequired:!1,onSuccessNavigateTo:ip,onErrorNavigateTo:Vr}}),u(ld,!1))),Le instanceof lI&&((Ue=m==null?void 0:m.login)!=null&&Ue.isSigningInWithLedgerSolana)&&(Le.messageType="transaction"),Le&&z&&q&&!Le.preparedMessage?Le.buildMessage():Le&&!z&&q&&(r||(async()=>{var Nt,Kt;i(!0),o(void 0);try{((Nt=w==null?void 0:w.connector)==null?void 0:Nt.connectorType)==="wallet_connect_v2"&&((Kt=w==null?void 0:w.connector)==null?void 0:Kt.walletClientType)==="metamask"&&await uI(2500),await Z()}catch(qt){console.warn("Auto-prompted signature failed",qt)}finally{i(!1)}})()))},[R,q,P]),k.useEffect(()=>{if(D&&e){let Oe=900;if(l!=null&&l.legal.requireUsersAcceptTerms&&!D.hasAcceptedTerms){let we=setTimeout(()=>{u(F1)},Oe);return()=>clearTimeout(we)}if(yg(D,l.embeddedWallets)){let we=setTimeout(()=>{g({createWallet:{onSuccess:()=>{},onFailure:lt=>{console.error(lt),O({eventName:"embedded_wallet_creation_failure_logout",payload:{error:lt,screen:"ConnectionStatusScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),u(np)},Oe);return()=>clearTimeout(we)}_();let Le=setTimeout(()=>b({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Hr);return()=>clearTimeout(Le)}},[D,e]);let V=Oe=>{var Le,we,lt,St,ht,It,Ue,Nt,Kt,qt,tt,Dr,ut,mn;if((Oe==null?void 0:Oe.privyErrorCode)!==ne.ALLOWLIST_REJECTED){if((Oe==null?void 0:Oe.privyErrorCode)===ne.USER_LIMIT_REACHED)return console.error(new G6(Oe).toString()),void u(cx);if((Oe==null?void 0:Oe.privyErrorCode)!==ne.USER_DOES_NOT_EXIST)return(Oe==null?void 0:Oe.privyErrorCode)===ne.ACCOUNT_TRANSFER_REQUIRED&&((we=(Le=Oe.data)==null?void 0:Le.data)!=null&&we.nonce)?(g({accountTransfer:{nonce:(St=(lt=Oe.data)==null?void 0:lt.data)==null?void 0:St.nonce,account:(ht=y())==null?void 0:ht.meta.address,displayName:(Nt=(Ue=(It=Oe.data)==null?void 0:It.data)==null?void 0:Ue.account)==null?void 0:Nt.displayName,externalWalletMetadata:{walletClientType:(Kt=y())==null?void 0:Kt.meta.walletClientType,chainId:(qt=y())==null?void 0:qt.meta.chainId,connectorType:(tt=y())==null?void 0:tt.meta.connectorType},linkMethod:y()instanceof jb?"siwe":"siws",embeddedWalletAddress:(mn=(ut=(Dr=Oe.data)==null?void 0:Dr.data)==null?void 0:ut.otherUser)==null?void 0:mn.embeddedWalletAddress}}),void u(U1)):void o(swe(Oe));u(rx)}else u(WI)};async function Z(){try{await E(),n(!0)}catch(Oe){V(Oe)}finally{i(!1)}}k.useEffect(()=>{w!=null&&w.connectError&&V(w==null?void 0:w.connectError)},[w]),((Oe,Le)=>{let we=k.useRef(()=>{});k.useEffect(()=>{we.current=Oe}),k.useEffect(()=>{if(Le!==null){let lt=setInterval(()=>we.current(),Le||0);return()=>clearInterval(lt)}},[Le])})(()=>{let Oe=K==="wallet_connect_v2"&&(w==null?void 0:w.connector)instanceof Wb?w.connector.redirectUri:void 0;Oe&&C(Oe);let Le=K==="wallet_connect_v2"&&(w==null?void 0:w.connector)instanceof Wb?w.connector.fallbackUniversalRedirectUri:void 0;Le&&A(Le)},(w==null?void 0:w.connector)instanceof Wb&&!M?500:null);let K=((ye=w==null?void 0:w.connector)==null?void 0:ye.connectorType)||"injected",J=((je=w==null?void 0:w.connector)==null?void 0:je.walletClientType)||"unknown",oe=((Ye=T==null?void 0:T.metadata)==null?void 0:Ye.shortName)||(T==null?void 0:T.name)||((bt=w==null?void 0:w.connector)==null?void 0:bt.walletBranding.name)||"Browser Extension",se=((ft=T==null?void 0:T.image_url)==null?void 0:ft.md)||((Xt=w==null?void 0:w.connector)==null?void 0:Xt.walletBranding.icon)||(Oe=>p.jsx(DF,{...Oe})),ae=oe==="Browser Extension"?oe.toLowerCase():oe;t=e?`Successfully connected with ${ae}`:s?s.message:U?"Switching networks":q?r&&z?"Signing":"Sign to verify":`Waiting for ${ae}`;let fe="Dont see your wallet? Check your other browser windows.";e?fe=F===((D==null?void 0:D.linkedAccounts.length)||0)?"Wallet was already linked.":"Youre good to go!":R>=2&&s?fe="Unable to connect wallet":s?fe=s.detail:U?fe="Switch your wallet to the requested network.":q&&z?fe="Sign the message in your wallet to verify it belongs to you.":J==="metamask"&&Tr?fe="Click continue to open and connect MetaMask.":J==="metamask"?fe="For the best experience, connect only one wallet at a time.":K==="wallet_connect"?fe="Open your mobile wallet app to continue":K==="coinbase_wallet"?Yme()||(fe=nwe(D)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue."):(Ot=m==null?void 0:m.login)!=null&&Ot.isSigningInWithLedgerSolana&&(fe="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let ce=(At=S==null?void 0:S.walletConnectors)==null?void 0:At.find(Oe=>Oe.walletClientType==="coinbase_wallet"),de=J==="coinbase_wallet"&&(nwe(D)||s===ug.ERROR_USER_EXISTS);return p.jsx(A6t,{walletLogo:se,title:t,subtitle:fe,signSuccess:e,errorMessage:s,connectSuccess:q,separateConnectAndSign:z,signing:r,walletConnectRedirectUri:M,walletConnectFallbackUniversalUri:x,hasTabbedAway:$,showCoinbaseWalletResetCta:de,numRetries:R,onBack:h&&f!==h?d:void 0,onSign:()=>{i(!0),Z()},onRetry:()=>{I(R+1),o(void 0),q?(i(!0),Z()):w==null||w.connectRetry()},onCoinbaseReset:()=>{ce&&(ce==null||ce.disconnect())},onDifferentWallet:d})}};let S6t=G.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-a5253f07-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const qI={component:()=>{var g,m,y,w,b,v,E;let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:n}=Fe(),{app:r,data:i,navigate:s}=He(),o=ep(),a=(g=i==null?void 0:i.externalConnectWallet)==null?void 0:g.description,c=k.useRef((m=i==null?void 0:i.externalConnectWallet)==null?void 0:m.suggestedAddress).current,l=k.useRef(((y=i==null?void 0:i.externalConnectWallet)==null?void 0:y.walletList)??r.appearance.walletList),u=k.useRef(((w=i==null?void 0:i.externalConnectWallet)==null?void 0:w.walletChainType)??r.appearance.walletChainType),d=l.current,h=u.current,f=n.current==="link"?void 0:()=>s(Uo);return p.jsx(twe,{walletList:d,walletChainType:h,onClose:e,onConnect:k.useCallback(({connector:_,wallet:O})=>{var S;o("connectWallet","onSuccess",{wallet:O}),t({status:"connected",connectedWallet:O,connector:_,connectError:null,connectRetry:()=>null}),s(ip,!((S=i==null?void 0:i.externalConnectWallet)!=null&&S.preSelectedWalletId))},[t,s,(b=i==null?void 0:i.login)==null?void 0:b.disableSignup,(v=i==null?void 0:i.externalConnectWallet)==null?void 0:v.preSelectedWalletId]),onConnectError:_=>{_ instanceof So?(console.warn(_.cause?_.cause:_.message),o("connectWallet","onError",_.privyErrorCode||ne.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(_),o("connectWallet","onError",ne.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:f,suggestedAddress:c,customDescription:a||"",preSelectedWalletId:(E=i==null?void 0:i.externalConnectWallet)==null?void 0:E.preSelectedWalletId,app:r})},isUnauthenticatedScreem:!0},Fz={component:()=>{var c,l,u,d;let{closePrivyModal:t}=Fe(),{app:e,data:n}=He(),r=ep(),i=(c=n==null?void 0:n.externalConnectWallet)==null?void 0:c.description,s=k.useRef((l=n==null?void 0:n.externalConnectWallet)==null?void 0:l.suggestedAddress).current,o=k.useRef(((u=n==null?void 0:n.externalConnectWallet)==null?void 0:u.walletList)??e.appearance.walletList),a=k.useRef(((d=n==null?void 0:n.externalConnectWallet)==null?void 0:d.walletChainType)??e.appearance.walletChainType);return p.jsx(twe,{walletList:o.current,walletChainType:a.current,onClose:()=>{r("connectWallet","onError",ne.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({wallet:h})=>{r("connectWallet","onSuccess",{wallet:h}),t()},onConnectError:h=>{h instanceof So?(console.warn(h.cause?h.cause:h.message),r("connectWallet","onError",h.privyErrorCode||ne.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(h),r("connectWallet","onError",ne.UNKNOWN_CONNECT_WALLET_ERROR))},suggestedAddress:s,customDescription:i,app:e})},isUnauthenticatedScreem:!0},owe=({chainType:t,withPadding:e})=>{let n="";return n=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",p.jsx(Bbt,{$withPadding:e,children:p.jsxs(Ubt,{children:[p.jsx(Ev,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),p.jsx("h3",{children:"No wallets available"}),p.jsxs("p",{children:["Please download an external wallet provider, like ",n,"."]})]})},"empty-wallet-state")};let I6t=_ae(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const HI=rs(["",""],t=>t.$isLoading?rs(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],I6t):""),Ih=({children:t,color:e,isLoading:n,isPulsing:r,...i})=>p.jsx(k6t,{$color:e,$isLoading:n,$isPulsing:r,...i,children:t});let k6t=G.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],t=>{let e,n;t.$color==="green"&&(e="var(--privy-color-success-dark)",n="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",n="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",n="var(--privy-color-background-2)");let r=_ae(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],n,n);return rs(["color:",";background-color:",";",";"],e,n,t.$isPulsing&&rs(["animation:"," 3s linear infinite;"],r))},HI);const z1=t=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),p.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[p.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),p.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),p.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),p.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_1715_1960",children:p.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),awe=t=>{let[e,n]=k.useState(!1);return p.jsx($6t,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{n(!0),setTimeout(()=>n(!1),1500)},justOpened:e,children:t.text})};let $6t=G.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.justOpened?"medium":"normal",t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const sc=G.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]);let T6t=G.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),P6t=G.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)",t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)"),N6t=G.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),cwe=G.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"),O6t=G(cwe).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),R6t=G(sc).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),M6t=G(sd).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const j6t=({value:t,title:e,placeholder:n,className:r,showCopyButton:i=!0,truncate:s,maxLength:o=40,disabled:a=!1})=>{let[c,l]=k.useState(!1),u=s&&t?((d,h,f)=>{if((d=d.startsWith("https://")?d.slice(8):d).length<=f)return d;if(h==="middle"){let g=Math.ceil(f/2)-2,m=Math.floor(f/2)-1;return`${d.slice(0,g)}...${d.slice(-m)}`}return`${d.slice(0,f-3)}...`})(t,s,o):t;return k.useEffect(()=>{if(c){let d=setTimeout(()=>l(!1),3e3);return()=>clearTimeout(d)}},[c]),p.jsxs(T6t,{className:r,children:[e&&p.jsx(R6t,{children:e}),p.jsxs(P6t,{$disabled:a,children:[p.jsx(N6t,{children:t?p.jsx(cwe,{$disabled:a,title:t,children:u}):p.jsx(O6t,{$disabled:a,children:n||"No value"})}),i&&t&&p.jsx(M6t,{onClick:function(d){d.stopPropagation(),navigator.clipboard.writeText(t).then(()=>l(!0)).catch(console.error)},size:"sm",children:p.jsxs(p.Fragment,c?{children:["Copied",p.jsx(k4,{size:14})]}:{children:["Copy",p.jsx(xA,{size:14})]})})]})]})},D6t=({connectUri:t,loading:e,success:n,errorMessage:r,onBack:i,onClose:s,onOpenFarcaster:o})=>p.jsx(xn,Tr||e?qN?{title:r?r.message:"Sign in with Farcaster",subtitle:r?r.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:z1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:t&&o?{label:"Open Farcaster app",onClick:o}:void 0,onBack:i,onClose:s,watermark:!0}:{title:r?r.message:"Signing in with Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:z1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:i,onClose:s,watermark:!0,children:t&&Tr&&p.jsx(L6t,{children:p.jsx(awe,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:i,onClose:s,watermark:!0,children:p.jsxs(B6t,{children:[p.jsx(U6t,{children:t?p.jsx(ox,{url:t,size:275,squareLogoElement:z1}):p.jsx(W6t,{children:p.jsx(tu,{})})}),p.jsxs(F6t,{children:[p.jsx(z6t,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&p.jsx(j6t,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),zz={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=fn(),{lastScreen:i,navigate:s,navigateBack:o,setModalData:a,app:c}=He(),{getAuthFlow:l,loginWithFarcaster:u,closePrivyModal:d,createAnalyticsEvent:h}=Fe(),[f,g]=k.useState(void 0),[m,y]=k.useState(!1),[w,b]=k.useState(!1),v=k.useRef([]),E=l(),_=E==null?void 0:E.meta.connectUri;return k.useEffect(()=>{let O=Date.now(),S=setInterval(async()=>{var D,j,F,M,C,x,A,P,N,$,L,B,T,z,q;let R=await E.pollForReady.execute(),I=Date.now()-O;if(R){clearInterval(S),y(!0);try{await u(),b(!0)}catch(U){let V={retryable:!1,message:"Authentication failed"};if((U==null?void 0:U.privyErrorCode)===ne.ALLOWLIST_REJECTED)return void s(WI);if((U==null?void 0:U.privyErrorCode)===ne.USER_LIMIT_REACHED)return console.error(new G6(U).toString()),void s(cx);if((U==null?void 0:U.privyErrorCode)===ne.USER_DOES_NOT_EXIST)return void s(rx);if((U==null?void 0:U.privyErrorCode)===ne.LINKED_TO_ANOTHER_USER)V.detail=U.message??"This account has already been linked to another user.";else{if((U==null?void 0:U.privyErrorCode)===ne.ACCOUNT_TRANSFER_REQUIRED&&((j=(D=U.data)==null?void 0:D.data)!=null&&j.nonce))return a({accountTransfer:{nonce:(M=(F=U.data)==null?void 0:F.data)==null?void 0:M.nonce,account:(x=(C=U.data)==null?void 0:C.data)==null?void 0:x.subject,displayName:(N=(P=(A=U.data)==null?void 0:A.data)==null?void 0:P.account)==null?void 0:N.displayName,linkMethod:"farcaster",embeddedWalletAddress:(B=(L=($=U.data)==null?void 0:$.data)==null?void 0:L.otherUser)==null?void 0:B.embeddedWalletAddress,farcasterEmbeddedAddress:(q=(z=(T=U.data)==null?void 0:T.data)==null?void 0:z.otherUser)==null?void 0:q.farcasterEmbeddedAddress}}),void s(U1);(U==null?void 0:U.privyErrorCode)===ne.INVALID_CREDENTIALS?(V.retryable=!0,V.detail="Something went wrong. Try again."):(U==null?void 0:U.privyErrorCode)===ne.TOO_MANY_REQUESTS&&(V.detail="Too many requests. Please wait before trying again.")}g(V)}}else I>12e4&&(clearInterval(S),g({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))},2e3);return()=>{clearInterval(S),v.current.forEach(R=>clearTimeout(R))}},[]),k.useEffect(()=>{if(n&&t&&w&&r){if(c!=null&&c.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let O=setTimeout(()=>{s(F1)},Hr);return()=>clearTimeout(O)}w&&(yg(r,c.embeddedWallets)?v.current.push(setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:O=>{console.error(O),h({eventName:"embedded_wallet_creation_failure_logout",payload:{error:O,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(np)},Hr)):v.current.push(setTimeout(()=>d({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Hr)))}},[w,n,t,r]),p.jsx(D6t,{connectUri:_,loading:m,success:w,errorMessage:f,onBack:i?o:void 0,onClose:d,onOpenFarcaster:()=>{_&&(window.location.href=_)}})}};let L6t=G.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-8d74ecf6-0"})(["margin-top:24px;"]),B6t=G.div.withConfig({displayName:"ContentContainer",componentId:"sc-8d74ecf6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),U6t=G.div.withConfig({displayName:"QrContainer",componentId:"sc-8d74ecf6-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),F6t=G.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-8d74ecf6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),z6t=G.div.withConfig({displayName:"InstructionText",componentId:"sc-8d74ecf6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),W6t=G.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-8d74ecf6-5"})(["position:relative;width:82px;height:82px;"]);const lwe=()=>{let[t,e]=k.useState(!1),{currentScreen:n,navigate:r,setModalData:i,data:s}=He(),{enabled:o,token:a}=rc(),{initLoginWithFarcaster:c}=Fe(),{accountType:l}=mg();return p.jsxs(ei,{onClick:async()=>{var u;e(!0);try{o&&!a?(i({captchaModalData:{callback:d=>{var h;return c(d,(h=s==null?void 0:s.login)==null?void 0:h.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:zz,onErrorNavigateTo:Vr}}),r(ld)):(await c(a,(u=s==null?void 0:s.login)==null?void 0:u.disableSignup),r(zz))}catch(d){i({errorModalData:{error:d,previousScreen:n||Uo}}),r(Vr)}finally{e(!1)}},disabled:!1,children:[p.jsx(z1,{width:32,height:32})," Farcaster",t&&p.jsx(fg,{}),l==="farcaster"&&p.jsx(q6t,{color:"gray",children:"Recent"})]})};let q6t=G(Ih).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const H6t=({status:t,passkeySignupFlow:e=!1,error:n,onRetry:r})=>p.jsx(xn,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:p.jsx(V6t,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(n instanceof So){if(n.privyErrorCode===ne.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(n.privyErrorCode===ne.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:EA,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&r?{label:"Retry",onClick:r}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),t2={component:()=>{let{app:t,data:e,setModalData:n,navigate:r}=He(),{loginWithPasskey:i,signupWithPasskey:s,closePrivyModal:o,createAnalyticsEvent:a}=Fe(),{user:c,logout:l}=fn(),{passkeySignupFlow:u}=(e==null?void 0:e.passkeyAuthModalData)??{},[d,h]=k.useState("loading"),[f,g]=k.useState(null),m=k.useRef([]),y=b=>{m.current=[b,...m.current]};k.useEffect(()=>()=>{m.current.forEach(b=>clearTimeout(b)),m.current=[]},[]);let w=async()=>{h("loading");try{u?await s():await i(),h("success")}catch(b){g(b),h("error")}};return k.useEffect(()=>{if(d==="success"&&c){if(t!=null&&t.legal.requireUsersAcceptTerms&&!c.hasAcceptedTerms)return void y(setTimeout(()=>{r(F1)},900));if(!yg(c,t==null?void 0:t.embeddedWallets))return void y(setTimeout(()=>{o({shouldCallAuthOnSuccess:!0,isSuccess:!0})},Hr));y(setTimeout(()=>{n({createWallet:{onSuccess:()=>{},onFailure:b=>{console.error(b),a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:b,screen:"PasskeyStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),r(np)},900))}},[c,d]),k.useEffect(()=>{w()},[]),p.jsx(H6t,{status:d,passkeySignupFlow:u,error:f,onRetry:w})}};let V6t=G.span.withConfig({displayName:"SubtitleText",componentId:"sc-ad4f7fb3-0"})(["white-space:pre-wrap;"]);const K6t=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:n,onLogin:r})=>p.jsx(xn,{title:t,subtitle:e,icon:EA,primaryCta:{label:"Create new account",onClick:n},secondaryCta:{label:"Log in with a passkey",onClick:r},watermark:!0}),G6t={component:()=>{let{enabled:t,token:e}=rc(),{navigate:n,setModalData:r}=He(),{initSignupWithPasskey:i,initLoginWithPasskey:s}=Fe();return p.jsx(K6t,{onSignup:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:o=>i({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:t2,onErrorNavigateTo:Vr}}),n(ld)):(await i({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!0}}),n(t2))},onLogin:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:o=>s({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:t2,onErrorNavigateTo:Vr}}),n(ld)):(await s({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(t2))}})}},uwe=()=>{let{enabled:t,token:e}=rc(),{navigate:n,setModalData:r,app:i,data:s}=He(),{initLoginWithPasskey:o}=Fe(),a=()=>{i.loginConfig.passkeysForSignupEnabled?n(G6t):(async()=>t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:c=>o({captchaToken:c,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:t2,onErrorNavigateTo:Vr}}),n(ld)):(await o({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(t2)))()};return k.useMemo(()=>{var l;let c=(l=s==null?void 0:s.login)==null?void 0:l.loginMethods;return c?c.filter(u=>u!=="passkey").length:Object.entries(i.loginMethods).filter(([u,d])=>d).filter(([u])=>u!=="passkey").length},[i.loginMethods,s==null?void 0:s.login])===0?p.jsxs(ei,{onClick:a,children:[p.jsx(wD,{})," Continue with passkey"]}):p.jsx(Jb,{as:"button",onClick:a,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},Z6t=({value:t,onChange:e})=>p.jsx("select",{value:t,onChange:e,children:hze.map(n=>p.jsxs("option",{value:n.code,children:[n.code," +",n.callCode]},n.code))}),VI=k.forwardRef((t,e)=>{let{app:n}=He(),[r,i]=k.useState(!1),{accountType:s}=mg(),[o,a]=k.useState(""),[c,l]=k.useState((n==null?void 0:n.intl.defaultCountry)??"US"),u=t_(o,c),d=dze(c),h=fze(c),f=yj(c),g=!u,[m,y]=k.useState(!1),w=f.length,b=_=>{let O=_.target.value;l(O),a(""),t.onChange&&t.onChange({rawPhoneNumber:o,qualifiedPhoneNumber:wj(o,O),countryCode:O,isValid:t_(o,c)})},v=(_,O)=>{try{let S=_.replace(/\D/g,"")===o.replace(/\D/g,"")?_:d.input(_);a(S),t.onChange&&t.onChange({rawPhoneNumber:S,qualifiedPhoneNumber:wj(_,O),countryCode:O,isValid:t_(_,O)})}catch(S){console.error("Error processing phone number:",S)}},E=()=>{y(!0);let _=wj(o,c);t.onSubmit({rawPhoneNumber:o,qualifiedPhoneNumber:_,countryCode:c,isValid:t_(o,c)}).finally(()=>y(!1))};return k.useEffect(()=>{if(t.defaultValue){let _=pze(t.defaultValue);d.reset(),b({target:{value:_.countryCode}}),v(_.phone,_.countryCode)}},[t.defaultValue]),p.jsxs(p.Fragment,{children:[p.jsx(Y6t,{children:p.jsxs(J6t,{$callingCodeLength:w,$stacked:t.stacked,children:[p.jsx(Z6t,{value:c,onChange:b}),p.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:h,onFocus:()=>i(!0),onChange:_=>{v(_.target.value,c)},onKeyUp:_=>{_.key==="Enter"&&E()},value:o,autoComplete:"tel"}),s!=="phone"||r||t.hideRecent?t.stacked||t.noIncludeSubmitButton?p.jsx("span",{}):p.jsx(bI,{isSubmitting:m,onClick:E,disabled:g,children:"Submit"}):p.jsx(Ih,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?p.jsx(er,{loading:m,loadingText:null,onClick:E,disabled:g,children:"Submit"}):null]})});let Y6t=G.div.withConfig({displayName:"InputContainer",componentId:"sc-f29a1304-0"})(["width:100%;"]),J6t=G.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-f29a1304-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$stacked?"16px":"88px");const dwe=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=k.useRef(null),{authenticated:i}=fn(),{navigate:s,setModalData:o,currentScreen:a,data:c}=He(),{initLoginWithSms:l}=Fe(),{enabled:u,token:d}=rc(),{whatsAppEnabled:h}=Tn();return p.jsxs(p.Fragment,{children:[p.jsx(Hb,{$if:!t,children:p.jsx(VI,{ref:r,onSubmit:async function({qualifiedPhoneNumber:f}){var g;if(!u||d||i)try{await l({phoneNumber:f,captchaToken:d,withPrivyUi:!0,disableSignup:(g=c==null?void 0:c.login)==null?void 0:g.disableSignup}),s(sp)}catch(m){o({errorModalData:{error:m,previousScreen:a||Uo}}),s(Vr)}else o({captchaModalData:{callback:m=>{var y;return l({phoneNumber:f,captchaToken:m,withPrivyUi:!0,disableSignup:(y=c==null?void 0:c.login)==null?void 0:y.disableSignup})},userIntentRequired:!1,onSuccessNavigateTo:sp,onErrorNavigateTo:Vr}}),s(ld)},defaultValue:n})}),p.jsx(Hb,{$if:t,children:p.jsxs(ei,{onClick:()=>{e(),setTimeout(()=>{var f;(f=r.current)==null||f.focus()},0)},children:[p.jsx(Sh,{children:p.jsx(nue,{})}),"Continue with ",h?"WhatsApp":"SMS"]})})]})};let Q6t={apple:{logo:Dme,displayName:"Apple"},discord:{logo:Lme,displayName:"Discord"},github:{logo:Bme,displayName:"GitHub"},google:{logo:Ume,displayName:"Google"},linkedin:{logo:Wme,displayName:"LinkedIn"},spotify:{logo:qme,displayName:"Spotify"},instagram:{logo:Fme,displayName:"Instagram"},twitter:{logo:Vme,displayName:"Twitter"},tiktok:{logo:Hme,displayName:"TikTok"},line:{logo:zme,displayName:"LINE"}};const Gi=({provider:t})=>{let{enabled:e,token:n}=rc(),{navigate:r,setModalData:i,data:s}=He(),[o,a]=k.useState(!1),{initLoginWithOAuth:c}=Fe(),{accountType:l}=mg(),u=k.useMemo(()=>l&&l!=="guest"&&l!=="authorization_key"&&l!=="cross_app"?LI(l):null,[l]),{displayName:d,logo:h}=Q6t[t];return p.jsxs(ei,{onClick:()=>{var f;a(!0),setTimeout(()=>{a(!1)},2e3),e&&!n?(i({captchaModalData:{callback:g=>{var m;return c(t,g,(m=s==null?void 0:s.login)==null?void 0:m.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Vr}}),r(ld)):c(t,void 0,(f=s==null?void 0:s.login)==null?void 0:f.disableSignup)},disabled:o,children:[p.jsx(Sh,{$fullSize:!0,children:p.jsx(h,{style:{width:"32px",height:"32px"}})}),d,(u==null?void 0:u.loginMethod)===t&&p.jsx(X6t,{color:"gray",children:"Recent"})]})};let X6t=G(Ih).withConfig({displayName:"StyledChip",componentId:"sc-afd4ca87-0"})(["margin-left:auto;"]);function hwe(t){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[p.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),p.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),p.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),p.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const e4t=({success:t,errorMessage:e,onRetry:n})=>{let r=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return p.jsx(xn,{title:r,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:hwe,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e!=null&&e.retryable&&n?{label:"Retry",onClick:n}:void 0,watermark:!0})},KI={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=fn(),{app:i,setModalData:s,navigate:o,resetNavigation:a,data:c}=He(),{initLoginWithTelegram:l,loginWithTelegram:u,updateWallets:d,setReadyToTrue:h,closePrivyModal:f,createAnalyticsEvent:g,getAuthMeta:m}=Fe(),[y,w]=k.useState(!1),[b,v]=k.useState(void 0),E=rc();async function _(){var O,S,R,I,D,j,F,M,C,x,A,P,N,$;try{let L=await async function(){let B;if(!t){if(E.enabled&&E.status==="error")throw new hI(E.error,null,ne.CAPTCHA_FAILURE);return E.enabled&&E.status!=="success"&&(E.execute(),B=await E.waitForResult()),B}}();await u({captchaToken:L}),w(!0),h(!0)}catch(L){if((L==null?void 0:L.privyErrorCode)===ne.ALLOWLIST_REJECTED)return v(void 0),a(),void o(WI);if((L==null?void 0:L.privyErrorCode)===ne.USER_LIMIT_REACHED)return console.error(new G6(L).toString()),v(void 0),a(),void o(cx);if((L==null?void 0:L.privyErrorCode)===ne.USER_DOES_NOT_EXIST)return v(void 0),a(),void o(rx);if((L==null?void 0:L.privyErrorCode)===ne.ACCOUNT_TRANSFER_REQUIRED&&((S=(O=L.data)==null?void 0:O.data)!=null&&S.nonce))return v(void 0),a(),s({accountTransfer:{nonce:(I=(R=L.data)==null?void 0:R.data)==null?void 0:I.nonce,account:(j=(D=L.data)==null?void 0:D.data)==null?void 0:j.subject,telegramAuthResult:(F=m())==null?void 0:F.telegramAuthResult,telegramWebAppData:(M=m())==null?void 0:M.telegramWebAppData,displayName:(A=(x=(C=L.data)==null?void 0:C.data)==null?void 0:x.account)==null?void 0:A.displayName,linkMethod:"telegram",embeddedWalletAddress:($=(N=(P=L.data)==null?void 0:P.data)==null?void 0:N.otherUser)==null?void 0:$.embeddedWalletAddress}}),void o(U1);let{retryable:B,detail:T}=e1e(L);v({retryable:B,detail:T,message:"Authentication failed"})}}return k.useEffect(()=>{_()},[]),k.useEffect(()=>{if(!(n&&t&&y&&r))return;if(i!=null&&i.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let S=setTimeout(()=>{o(F1)},Hr);return()=>clearTimeout(S)}if(yg(r,i.embeddedWallets)){let S=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(np)},Hr);return()=>clearTimeout(S)}d();let O=setTimeout(()=>f({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Hr);return()=>clearTimeout(O)},[n,t,y,r]),p.jsx(e4t,{success:y,errorMessage:b,onRetry:b!=null&&b.retryable?async()=>{var O,S;try{v(void 0),(O=c==null?void 0:c.telegramAuthModalData)!=null&&O.seamlessAuth||await l(void 0,(S=c==null?void 0:c.login)==null?void 0:S.disableSignup),await _()}catch(R){let{retryable:I,detail:D}=e1e(R);v({retryable:I,detail:D,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},fwe=()=>{let{enabled:t,token:e}=rc(),{navigate:n,setModalData:r,data:i}=He(),[s,o]=k.useState(!1),{initLoginWithTelegram:a}=Fe(),{accountType:c}=mg();async function l(u){var d;try{await a(u,(d=i==null?void 0:i.login)==null?void 0:d.disableSignup),r({telegramAuthModalData:{seamlessAuth:!1}}),n(KI)}catch(h){console.error(h),o(!1)}}return p.jsxs(ei,{onClick:async function(){if(o(!0),t&&!e)return r({captchaModalData:{callback:l,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Vr}}),void n(ld);await l(e)},disabled:s,children:[p.jsx(hwe,{width:32,height:32}),"Telegram",c==="telegram"&&p.jsx(t4t,{color:"gray",children:"Recent"})]})};let t4t=G(Ih).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const pwe=({onClick:t,text:e})=>p.jsxs(ei,{onClick:t,children:[p.jsx(Sh,{children:p.jsx(pXe,{})}),p.jsx(hg,{children:e})]}),gwe=({onClick:t,text:e,icon:n})=>p.jsxs(ei,{onClick:t,children:[p.jsx(Sh,{children:n}),p.jsx(hg,{children:e})]}),mwe=({connectOnly:t})=>{var Wt;let{closePrivyModal:e}=Fe(),{data:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i,navigate:s}=He(),o=Tn(),a=n==null?void 0:n.login,c=o.appearance.walletList,l=(a==null?void 0:a.walletChainType)??o.appearance.walletChainType,{accountType:u,walletClientType:d,chainType:h}=mg(),{wallets:f}=Xye({walletList:c,walletChainType:l}),g=k.useMemo(()=>u&&u!=="guest"&&u!=="authorization_key"&&u!=="cross_app"?LI(u):null,[u]),{email:m,sms:y,google:w,twitter:b,discord:v,github:E,spotify:_,instagram:O,tiktok:S,line:R,linkedin:I,apple:D,wallet:j,farcaster:F,telegram:M}=k.useMemo(()=>a!=null&&a.loginMethods?gze(a.loginMethods,!0):null,[a])??o.loginMethods,{passkey:C}=o.loginMethods,x=[m&&"email",y&&"sms",w&&"google",b&&"twitter",v&&"discord",E&&"github",_&&"spotify",O&&"instagram",S&&"tiktok",R&&"line",I&&"linkedin",D&&"apple",F&&"farcaster",M&&"telegram"].filter(ye=>!!ye),A=x.length>0,P=k.useMemo(()=>j&&!A?"web3-first":j&&(o==null?void 0:o.appearance.loginGroupPriority)||"web2-first",[j,A,o==null?void 0:o.appearance.loginGroupPriority]),N=o==null?void 0:o.appearance.hideDirectWeb2Inputs,[$,L]=k.useState("default"),[B,T]=k.useState(GI({mostRecentlyUsedAccountType:u,smsAvailable:y,emailAvailable:m,prefilledType:(Wt=a==null?void 0:a.prefill)==null?void 0:Wt.type}));k.useEffect(()=>{var ye;T(GI({mostRecentlyUsedAccountType:u,smsAvailable:y,emailAvailable:m,prefilledType:(ye=a==null?void 0:a.prefill)==null?void 0:ye.type}))},[m,y,u]);let z=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{L("default")},150)};i.current=z;let q=[];d&&j?q.push(d):g!=null&&g.loginMethod&&x.includes(g.loginMethod)&&q.push(g.loginMethod);let U=ye=>{var bt,ft;if(ye==="email")return p.jsx(Ewe,{isEditable:B==="email",setIsEditable:()=>{T("email")},defaultValue:((bt=a==null?void 0:a.prefill)==null?void 0:bt.type)==="email"?a.prefill.value:void 0},ye);if(ye==="sms")return p.jsx(dwe,{isEditable:B==="sms",setIsEditable:()=>{T("sms")},defaultValue:((ft=a==null?void 0:a.prefill)==null?void 0:ft.type)==="phone"?a.prefill.value:void 0},ye);if(ye==="apple")return p.jsx(Gi,{provider:"apple"},ye);if(ye==="discord")return p.jsx(Gi,{provider:"discord"},ye);if(ye==="farcaster")return p.jsx(lwe,{},ye);if(ye==="github")return p.jsx(Gi,{provider:"github"},ye);if(ye==="google")return p.jsx(Gi,{provider:"google"},ye);if(ye==="linkedin")return p.jsx(Gi,{provider:"linkedin"},ye);if(ye==="tiktok")return p.jsx(Gi,{provider:"tiktok"},ye);if(ye==="line")return p.jsx(Gi,{provider:"line"},ye);if(ye==="spotify")return p.jsx(Gi,{provider:"spotify"},ye);if(ye==="instagram")return p.jsx(Gi,{provider:"instagram"},ye);if(ye==="twitter")return p.jsx(Gi,{provider:"twitter"},ye);if(ye==="telegram")return p.jsx(fwe,{},ye);let je=f.findIndex(({id:Xt})=>Xt===il.normalize(ye)),Ye=h==="solana"?"solana-only":"ethereum-only";return p.jsx(Uz,{recent:!0,index:je,data:{wallets:f,walletChainType:Ye,handleWalletClick(Xt){r(Ot=>({...Ot,externalConnectWallet:{walletList:c,walletChainType:Ye,preSelectedWalletId:Xt.id}})),s(t?Fz:qI)}}})},V=f.filter(ye=>ye.id!==il.normalize(d||"")),Z=V.map((ye,je)=>p.jsx(Uz,{index:je,data:{walletChainType:l,wallets:V,handleWalletClick(Ye){r(bt=>({...bt,externalConnectWallet:{walletList:c,walletChainType:l,preSelectedWalletId:Ye.id}})),s(t?Fz:qI)}}},ye.id)),K=x.filter(ye=>ye!==(g==null?void 0:g.loginMethod)).flatMap(U),J=q.flatMap(U);P==="web3-first"&&$==="default"?Z.unshift(...J):P==="web2-first"&&K.unshift(...J);let oe=$==="web2-overflow"?()=>L("default"):void 0,se=x.filter(ye=>ye!=="email"&&ye!=="sms"),ae=i4t({priority:P,email:m,sms:y,social:se}),fe=s4t({priority:P,email:m,sms:y,social:se}),ce=p.jsx(pwe,{text:o4t({priority:P}),onClick:()=>{r({...n,externalConnectWallet:{walletChainType:(a==null?void 0:a.walletChainType)??o.appearance.walletChainType}}),s(qI)}}),de=p.jsx(gwe,{text:ae,icon:fe,onClick:()=>L("web2-overflow")}),ot=N?0:1,he=j&&Z.length>0,Ae=K.length===0&&j&&Z.length===0,_e=5-(he?1:0),ge=$==="default"&&(o==null?void 0:o.appearance.logo),Ee=$==="default"&&o.appearance.loginMessage;return p.jsxs(xn,{title:o.appearance.landingHeader,icon:ge?p.jsx(Bye,{}):void 0,iconVariant:ge?"logo":void 0,onClose:z,showClose:!0,onBack:oe,showBack:!!oe,helpText:o||C&&$==="default"?p.jsxs(p.Fragment,{children:[C&&$==="default"&&p.jsx(uwe,{}),o&&p.jsx(XF,{app:o})]}):void 0,watermark:!0,children:[Ee&&(typeof o.appearance.loginMessage=="string"?p.jsx(n4t,{children:o.appearance.loginMessage}):p.jsx(r4t,{children:o.appearance.loginMessage})),p.jsx($1e,{$colorScheme:o.appearance.palette.colorScheme,children:$==="default"&&P==="web2-first"?p.jsxs(p.Fragment,{children:[K.length>_e?K.slice(0,_e-1):K,K.length>_e&&de,he&&ce,Ae&&p.jsx(owe,{chainType:o.appearance.walletChainType})]}):$==="default"&&P==="web3-first"?p.jsxs(p.Fragment,{children:[j&&p.jsxs(p.Fragment,{children:[Z.length>_e?Z.slice(0,_e-1):Z,Z.length>_e&&ce]}),K.length>ot&&de,K.length===ot&&K[0],Ae&&p.jsx(owe,{chainType:o.appearance.walletChainType})]}):$==="web2-overflow"?p.jsx(p.Fragment,{children:P==="web3-first"?K:K.slice(3)}):null})]})};let n4t=G.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-a0c826dc-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),r4t=G.div.withConfig({displayName:"MessageContainer",componentId:"sc-a0c826dc-1"})(["margin-bottom:24px;"]),i4t=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"?"Other socials":e&&n&&r.length>0||e&&r.length>0?"Log in with email or socials":n&&r.length>0?"Log in with sms or socials":e&&n?"Continue with email or sms":e?"Continue with email":n?"Continue with sms":"Log in with a social account",s4t=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"||r.length>0?p.jsx(cXe,{}):e&&n?p.jsx(p6t,{}):e?p.jsx(oL,{}):n?p.jsx(nue,{}):null,o4t=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const GI=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:n,prefilledType:r})=>n&&(t==="email"&&r!=="phone"||r==="email")||!e||t!=="phone"&&r!=="phone"?"email":"sms",ywe={component:()=>{let{app:t}=He();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?p.jsx(Iwe,{connectOnly:!0}):p.jsx(mwe,{connectOnly:!0})}},a4t=({contactMethod:t,authFlow:e,appName:n="Privy",whatsAppEnabled:r=!1,onBack:i,onCodeSubmit:s,onResend:o,errorMessage:a,success:c=!1,resendCountdown:l=0,onInvalidInput:u,onClearError:d})=>{let[h,f]=k.useState(vwe);k.useEffect(()=>{a||f(vwe)},[a]);let g=async m=>{var _;m.preventDefault();let y=m.currentTarget.value.replace(" ","");if(y==="")return;if(isNaN(Number(y)))return void(u==null?void 0:u("Code should be numeric"));d==null||d();let w=Number((_=m.currentTarget.name)==null?void 0:_.charAt(5)),b=[...y||[""]].slice(0,wwe-w),v=[...h.slice(0,w),...b,...h.slice(w+b.length)];f(v);let E=Math.min(Math.max(w+b.length,0),wwe-1);if(!isNaN(Number(m.currentTarget.value))){let O=document.querySelector(`input[name=code-${E}]`);O==null||O.focus()}if(v.every(O=>O&&!isNaN(+O))){let O=document.querySelector(`input[name=code-${E}]`);O==null||O.blur(),await(s==null?void 0:s(v.join("")))}};return p.jsx(xn,{title:"Enter confirmation code",subtitle:p.jsxs("span",e==="email"?{children:["Please check ",p.jsx(bwe,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",p.jsx(bwe,{children:t})," for a",r?" WhatsApp":""," message from ",n," and enter your code below."]}),icon:e==="email"?VS:M0,onBack:i,showBack:!0,helpText:p.jsxs(f4t,{children:[p.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),l?p.jsxs(p4t,{children:[p.jsx(Qyt,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),p.jsx("span",{children:"Code sent"})]}):p.jsx(Jb,{as:"button",size:"sm",onClick:o,children:"Resend code"})]}),children:p.jsx(u4t,{children:p.jsx(H2t,{children:p.jsxs(d4t,{children:[p.jsx("div",{children:h.map((m,y)=>p.jsx("input",{name:`code-${y}`,type:"text",value:h[y],onChange:g,onKeyUp:w=>{w.key==="Backspace"&&(b=>{if(d==null||d(),f([...h.slice(0,b),"",...h.slice(b+1)]),b>0){let v=document.querySelector(`input[name=code-${b-1}]`);v==null||v.focus()}})(y)},inputMode:"numeric",autoFocus:y===0,pattern:"[0-9]",className:`${c?"success":""} ${a?"fail":""}`,autoComplete:Tr?"one-time-code":"off"},y))}),p.jsx(h4t,{$fail:!!a,$success:c,children:p.jsx("span",{children:a==="Invalid or expired verification code"?"Incorrect code":a||(c?"Success!":"")})})]})})})})};let wwe=6,vwe=Array(6).fill("");var lx,ux,c4t=((lx=c4t||{})[lx.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",lx[lx.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",lx),l4t=((ux=l4t||{})[ux.EMAIL=0]="EMAIL",ux[ux.SMS=1]="SMS",ux);const sp={component:()=>{var j,F,M;let{app:t,navigate:e,lastScreen:n,navigateBack:r,setModalData:i,onUserCloseViaDialogOrKeybindRef:s}=He(),{closePrivyModal:o,resendEmailCode:a,resendSmsCode:c,getAuthMeta:l,loginWithCode:u,updateWallets:d,createAnalyticsEvent:h}=Fe(),{authenticated:f,logout:g,user:m}=fn(),{whatsAppEnabled:y}=Tn(),[w,b]=k.useState(!1),[v,E]=k.useState(null),[_,O]=k.useState(null),[S,R]=k.useState(0);s.current=()=>null;let I=(j=l())!=null&&j.email?0:1,D=I===0?((F=l())==null?void 0:F.email)||"":((M=l())==null?void 0:M.phoneNumber)||"";return k.useEffect(()=>{if(S){let C=setTimeout(()=>{R(S-1)},1e3);return()=>clearTimeout(C)}},[S]),k.useEffect(()=>{if(f&&w&&m){if(t!=null&&t.legal.requireUsersAcceptTerms&&!m.hasAcceptedTerms){let C=setTimeout(()=>{e(F1)},900);return()=>clearTimeout(C)}if(yg(m,t.embeddedWallets)){let C=setTimeout(()=>{i({createWallet:{onSuccess:()=>{},onFailure:x=>{console.error(x),h({eventName:"embedded_wallet_creation_failure_logout",payload:{error:x,screen:"AwaitingPasswordlessCodeScreen"}}),g()},callAuthOnSuccessOnClose:!0}}),e(np)},900);return()=>clearTimeout(C)}{d();let C=setTimeout(()=>o({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Hr);return()=>clearTimeout(C)}}},[f,w,m]),k.useEffect(()=>{if(v&&_===0){let C=setTimeout(()=>{E(null),O(null);let x=document.querySelector("input[name=code-0]");x==null||x.focus()},1400);return()=>clearTimeout(C)}},[v,_]),p.jsx(a4t,{contactMethod:D,authFlow:I===0?"email":"sms",appName:t==null?void 0:t.name,whatsAppEnabled:y,onBack:()=>r(),onCodeSubmit:async C=>{var x,A,P,N,$,L,B,T,z,q;try{await u(C),b(!0)}catch(U){if(U instanceof Uc&&U.privyErrorCode===ne.INVALID_CREDENTIALS)E("Invalid or expired verification code"),O(0);else if(U instanceof Uc&&U.privyErrorCode===ne.CANNOT_LINK_MORE_OF_TYPE)E(U.message);else{if(U instanceof Uc&&U.privyErrorCode===ne.USER_LIMIT_REACHED)return console.error(new G6(U).toString()),void e(cx);if(U instanceof Uc&&U.privyErrorCode===ne.USER_DOES_NOT_EXIST)return void e(rx);if(U instanceof Uc&&U.privyErrorCode===ne.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:U,previousScreen:n??sp}}),void e(Vr,!1);if(U instanceof Uc&&U.privyErrorCode===ne.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:U}}),void e(ywe,!1);if(U instanceof Uc&&U.privyErrorCode===ne.ACCOUNT_TRANSFER_REQUIRED&&((A=(x=U.data)==null?void 0:x.data)!=null&&A.nonce))return i({accountTransfer:{nonce:(N=(P=U.data)==null?void 0:P.data)==null?void 0:N.nonce,account:D,displayName:(B=(L=($=U.data)==null?void 0:$.data)==null?void 0:L.account)==null?void 0:B.displayName,linkMethod:I===0?"email":"sms",embeddedWalletAddress:(q=(z=(T=U.data)==null?void 0:T.data)==null?void 0:z.otherUser)==null?void 0:q.embeddedWalletAddress}}),void e(U1);E("Issue verifying code"),O(0)}}},onResend:async()=>{R(30),I===0?await a():await c()},errorMessage:v||void 0,success:w,resendCountdown:S,onInvalidInput:C=>{E(C),O(1)},onClearError:()=>{_===1&&(E(null),O(null))}})}};let u4t=G.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-5dd8bc26-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),d4t=G.div.withConfig({displayName:"CodeInput",componentId:"sc-5dd8bc26-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),h4t=G.div.withConfig({displayName:"InputHelp",componentId:"sc-5dd8bc26-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent"),f4t=G.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-5dd8bc26-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),p4t=G.div.withConfig({displayName:"Badge",componentId:"sc-5dd8bc26-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),bwe=G.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-5dd8bc26-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const xwe=k.forwardRef((t,e)=>{let[n,r]=k.useState(t.defaultValue||""),[i,s]=k.useState(""),[o,a]=k.useState(!1),{authenticated:c}=fn(),{initLoginWithEmail:l}=Fe(),{navigate:u,setModalData:d,currentScreen:h,data:f}=He(),{enabled:g,token:m}=rc(),[y,w]=k.useState(!1),{accountType:b}=mg(),v=Tn();k.useEffect(()=>{var S,R;!n&&v.disablePlusEmails&&((S=f==null?void 0:f.inlineError)==null?void 0:S.error)instanceof So&&((R=f==null?void 0:f.inlineError)==null?void 0:R.error.privyErrorCode)===ne.DISALLOWED_PLUS_EMAIL&&!i&&s("Please enter a valid email address without a '+'."),i&&s("")},[n]);let E=Jme(n),_=o||!E,O=()=>{d({login:f==null?void 0:f.login,inlineError:void 0}),!g||m||c?(S=>{var R;a(!0),l({email:n,captchaToken:S,disableSignup:(R=f==null?void 0:f.login)==null?void 0:R.disableSignup,withPrivyUi:!0}).then(()=>{u(sp)}).catch(I=>{d({errorModalData:{error:I,previousScreen:h||Uo}}),u(Vr)}).finally(()=>{a(!1)})})(m):(d({captchaModalData:{callback:S=>l({email:n,captchaToken:S,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:sp,onErrorNavigateTo:Vr}}),u(ld))};return p.jsxs(p.Fragment,{children:[p.jsxs(g4t,{children:[i&&p.jsx(rp,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),p.jsxs(m4t,{stacked:t.stacked,$error:!!i,children:[p.jsx(y4t,{children:p.jsx(oL,{})}),p.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>w(!0),onChange:S=>r(S.target.value),onKeyUp:S=>{S.key==="Enter"&&O()},value:n,autoComplete:"email"}),b!=="email"||y?t.stacked?p.jsx("span",{}):p.jsx(bI,{isSubmitting:o,onClick:O,disabled:_,children:"Submit"}):p.jsx(Ih,{color:"gray",children:"Recent"})]})]}),t.stacked?p.jsx(er,{loadingText:null,loading:o,disabled:_,onClick:O,style:{width:"100%"},children:"Submit"}):null]})});let g4t=Jye,m4t=i6t,y4t=G(Sh).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const Ewe=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=k.useRef(null);return p.jsxs(p.Fragment,{children:[p.jsx(Hb,{$if:!t,children:p.jsx(xwe,{ref:r,defaultValue:n})}),p.jsx(Hb,{$if:t,children:p.jsxs(ei,{onClick:()=>{e(),setTimeout(()=>{var i;(i=r.current)==null||i.focus()},0)},children:[p.jsx(Sh,{children:p.jsx(oL,{})}),"Continue with Email"]})})]})},Cwe=({icon:t,name:e})=>typeof t=="string"?p.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?p.jsx(KS,{style:{height:24,width:24}}):t?p.jsx(t,{}):null;function Wz(t){var n,r;let e=t.toLowerCase();return!!((r=(n=window==null?void 0:window.webkit)==null?void 0:n.messageHandlers)!=null&&r.ReactNativeWebView)||!!(window!=null&&window.ReactNativeWebView)||["fbav","fban","instagram","snapchat","linkedinapp"].some(i=>e.includes(i))}const w4t=({walletLogo:t,success:e,errorMessage:n,title:r,subtitle:i,onRetry:s,onUseDifferentWallet:o,onBack:a,numRetries:c,maxRetries:l})=>p.jsx(xn,{title:r,subtitle:i,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},primaryCta:n===ug.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:o}:!e&&(n!=null&&n.retryable)&&c<l?{label:"Retry",onClick:s,disabled:!(n!=null&&n.retryable)||c>=l}:!e&&n&&c>=l?{label:"Use a different wallet",onClick:o}:void 0,onBack:a,watermark:!0}),qz={component:()=>{var O,S,R,I,D,j,F;let t,{navigateBack:e,navigate:n,lastScreen:r,currentScreen:i,data:s,setModalData:o}=He(),{walletConnectionStatus:a,closePrivyModal:c}=Fe(),[l,u]=k.useState(void 0),[d,h]=k.useState(0),f=Xf(((O=a==null?void 0:a.connector)==null?void 0:O.walletClientType)||"unknown"),g=(a==null?void 0:a.status)==="connected",m=(a==null?void 0:a.status)==="switching_to_supported_chain";k.useEffect(()=>{var M,C;if(g){let x;if((M=s==null?void 0:s.externalConnectWallet)!=null&&M.onCompleteNavigateTo){let A=s.externalConnectWallet.onCompleteNavigateTo,P=(C=a.connectedWallet)==null?void 0:C.address;x=setTimeout(()=>{var N,$;s.funding&&o({...s,funding:{...s.funding,connectedWalletAddress:P}}),n(A({address:P,walletClientType:(N=a.connector)==null?void 0:N.walletClientType,walletChainType:($=a.connector)==null?void 0:$.chainType}))},Hr)}else x=setTimeout(c,Hr);return()=>clearTimeout(x)}},[g]),k.useEffect(()=>{a!=null&&a.connectError&&(M=>{u(swe(M))})(a==null?void 0:a.connectError)},[a]);let y=((S=a==null?void 0:a.connector)==null?void 0:S.connectorType)||"injected",w=((R=a==null?void 0:a.connector)==null?void 0:R.walletClientType)||"unknown",b=((I=f==null?void 0:f.metadata)==null?void 0:I.shortName)||(f==null?void 0:f.name)||((D=a==null?void 0:a.connector)==null?void 0:D.walletBranding.name)||"Browser Extension",v=((j=f==null?void 0:f.image_url)==null?void 0:j.md)||((F=a==null?void 0:a.connector)==null?void 0:F.walletBranding.icon)||(M=>p.jsx(DF,{...M})),E=b==="Browser Extension"?b.toLowerCase():b;t=g?`Successfully connected with ${E}`:l?l.message:m?"Switching networks":`Waiting for ${E}`;let _="Dont see your wallet? Check your other browser windows.";return g?_="Youre good to go!":d>=2&&l?_="Unable to connect wallet":l?_=l.detail:m?_="Switch your wallet to the requested network.":w==="metamask"&&Tr?_="Click to continue to open and connect MetaMask.":w==="metamask"?_="For the best experience, connect only one wallet at a time.":y==="wallet_connect_v2"?_="Open your mobile wallet app to continue":y==="coinbase_wallet"&&(_="Open the Coinbase app on your phone to continue."),p.jsx(w4t,{walletName:b,walletLogo:v,success:g,errorMessage:l,title:t,subtitle:_,onRetry:()=>{h(d+1),u(void 0),a==null||a.connectRetry()},onUseDifferentWallet:e,onBack:i===r?void 0:e,numRetries:d,maxRetries:2})}},_we=G.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),n2=({children:t,variant:e="default",icon:n})=>{let r=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return p.jsxs(b4t,{children:[p.jsx(v4t,{$variant:e,"data-variant":e,children:(()=>{if(n)return Me.isValidElement(n)?Me.cloneElement(n,{stroke:r(),strokeWidth:2}):n;switch(e){case"success":default:return p.jsx(k4,{size:12,stroke:r(),strokeWidth:3});case"error":return p.jsx(gXe,{size:12,stroke:r(),strokeWidth:3})}})()}),t]})};let v4t=G.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}}),b4t=G.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const x4t=({walletName:t,installLink:e,title:n,subtitle:r="Follow the instructions below to get started.",onReload:i,onBack:s})=>{let o=n||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return p.jsx(xn,{title:o,subtitle:r,onBack:s,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:i},helpText:p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Still not sure? "}),p.jsx(Jb,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:p.jsxs(_we,{children:[p.jsx(n2,{children:p.jsxs("div",{children:[p.jsx("span",{children:"Install the "})," ",p.jsxs(Jb,{href:e,target:"_blank",children:[t," browser extension"]})]})}),p.jsx(n2,{children:"Set up your first wallet"}),p.jsx(n2,{children:"Store your recovery phrase in a safe place!"})]})})},E4t={component:()=>{let{navigateBack:t,data:e}=He();if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:n}=e.installWalletModalData;return p.jsx(x4t,{walletName:n.name,installLink:n.installLink,onReload:()=>{window.location.reload()},onBack:t})}},C4t=({title:t,subtitle:e,buttonText:n,buttonHref:r,isLoading:i=!1,helpText:s,onButtonClick:o})=>p.jsx(xn,{title:t,subtitle:e,primaryCta:{label:n,onClick:()=>{r&&window.open(r,"_self"),o==null||o()},disabled:i},helpText:s,watermark:!0}),_4t={component:()=>{let{ready:t}=fn(),{data:e}=He(),[n,r]=k.useState(!1);if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:s,chainType:o}=e.installWalletModalData,a=i.getMobileRedirect({useUniversalLink:!n,isSolana:o==="solana",connectOnly:s}),c=i.name.replace(/ wallet/gi,""),l={title:`Redirecting to ${c} Mobile Wallet`,description:`We'll take you to the ${c} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(l.description=`For the best experience, we'll automatically log you into the ${c} Mobile Wallet in-app browser.`,l.footnote="You can always return here to login via other methods."),n&&(l.title="Still here?",l.description=`You may need to install the ${i.name} mobile app.`,l.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),p.jsx(C4t,{title:l.title,subtitle:l.description,buttonText:n?"Go to App Store":"Continue",buttonHref:a,isLoading:t&&!a,helpText:l.footnote||void 0,onButtonClick:()=>{setTimeout(()=>r(!0),1e3)}})}},kh=({provider:t,displayName:e,logo:n,connectOnly:r,connector:i})=>{var m,y,w;let s,{navigate:o,setModalData:a}=He(),{connectWallet:c}=Fe(),l=mg(),u=Xf(t),d=i.connectorType==="wallet_connect_v2"?t:i.walletClientType,h=window.matchMedia("(display-mode: standalone)").matches,f=p1e({connectorType:i.connectorType,walletClientType:d});s=f&&f.chainTypes.includes(i.chainType)?()=>{f.isInstalled||i.chainType==="solana"&&"isInstalled"in i&&i.isInstalled?(c(i,d),o(r?qz:ip)):Tr?(a({installWalletModalData:{walletConfig:f,chainType:i.chainType,connectOnly:r}}),o(_4t)):(a({installWalletModalData:{walletConfig:f,chainType:i.chainType,connectOnly:r}}),o(E4t))}:i.connectorType!=="coinbase_wallet"||((m=i.coinbaseWalletConfig.preference)==null?void 0:m.options)!=="eoaOnly"||!Tr||h||Yme()?()=>{(!Wz(window.navigator.userAgent)||event!=null&&event.isTrusted)&&(c(i,d),o(r?qz:ip))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let g=e||((y=u==null?void 0:u.metadata)==null?void 0:y.shortName)||(u==null?void 0:u.name)||i.walletClientType;return p.jsxs(A4t,{onClick:s,children:[p.jsx(Cwe,{icon:n||((w=u==null?void 0:u.image_url)==null?void 0:w.md),name:g}),p.jsx("span",{children:g}),p.jsxs(S4t,{id:"chip-container",children:[(l==null?void 0:l.walletClientType)===d&&(l==null?void 0:l.chainType)===i.chainType?p.jsx(Awe,{color:"gray",children:"Recent"}):p.jsx("span",{id:"connect-text",children:"Connect"}),i.chainType==="solana"&&p.jsx(Awe,{color:"gray",children:"Solana"})]})]})};let A4t=G(ei).withConfig({displayName:"ConnectWalletButton",componentId:"sc-42d67b97-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),Awe=G(Ih).withConfig({displayName:"StyledChip",componentId:"sc-42d67b97-1"})(["margin-left:auto;"]),S4t=G.div.withConfig({displayName:"ChipContainer",componentId:"sc-42d67b97-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const I4t=["coinbase_wallet","base_account"];let k4t=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const $4t=["safe"],T4t=["phantom","backpack","solflare","universal_profile"],Swe=({walletList:t,walletChainType:e,connectors:n,connectOnly:r,ignore:i,walletConnectEnabled:s,forceWallet:o})=>{var h,f;let a=[],c=[],l=[],u=n.filter(g=>e==="ethereum-only"?g.chainType==="ethereum":e!=="solana-only"||g.chainType==="solana"),d=u.find(g=>g.connectorType==="wallet_connect_v2");for(let[g,m]of(o?[o.wallet]:t).entries()){if(m==="detected_ethereum_wallets"||m==="detected_wallets")for(let[y,w]of u.filter(({chainType:b,connectorType:v,walletClientType:E})=>b!=="solana"&&(E==="uniswap_wallet_extension"||E==="uniswap_extension"?!i.includes("uniswap"):E==="crypto.com_wallet_extension"||E==="crypto.com_onchain"?!i.includes("cryptocom"):v==="injected"&&!i.includes(E))).entries()){let{walletClientType:b,walletBranding:v,chainType:E}=w;(b==="unknown"?c:a).push(p.jsx(kh,{connectOnly:r,provider:b,logo:v.icon,displayName:v.name,connector:w},`${g}-${m}-${b}-${E}-${y}`))}if(m==="detected_solana_wallets"||m==="detected_wallets")for(let[y,w]of u.filter(({chainType:b,walletClientType:v})=>{if(b==="solana")return e!=="ethereum-only"&&!i.includes(v)}).entries()){let{walletClientType:b,walletBranding:v,chainType:E}=w;(b==="unknown"?c:a).push(p.jsx(kh,{connectOnly:r,provider:b,logo:v.icon,displayName:v.name,connector:w},`${g}-${m}-${b}-${E}-${y}`))}if(T4t.includes(m)){let y=u.find(w=>w.connectorType==="injected"&&w.walletClientType===m||w.connectorType===m);if(y&&a.push(p.jsx(kh,{connectOnly:r,provider:m,connector:y},`${g}-${m}`)),e==="solana-only"||e==="ethereum-and-solana"){let w=u.find(({chainType:b,walletClientType:v})=>b==="solana"&&v===m);w&&a.push(p.jsx(kh,{connectOnly:r,provider:m,connector:w},`${m}-solana`))}}else if(k4t.includes(m)){let y=u.find(w=>m==="uniswap"?w.walletClientType==="uniswap_wallet_extension"||w.walletClientType==="uniswap_extension":m==="cryptocom"?w.walletClientType==="crypto.com_wallet_extension"||w.walletClientType==="crypto.com_onchain":w.connectorType==="injected"&&w.walletClientType===m);if(s&&!y&&(y=d),y&&a.push(p.jsx(kh,{connectOnly:r,provider:m,connector:y,logo:y.connectorType==="injected"?y.walletBranding.icon:void 0,displayName:y.connectorType==="injected"?y.walletBranding.name:void 0},`${g}-${m}`)),e==="solana-only"||e==="ethereum-and-solana"){let w=u.find(({chainType:b,walletClientType:v})=>b==="solana"&&v===m);w&&a.push(p.jsx(kh,{connectOnly:r,provider:m,connector:w},`${m}-solana`))}}else if(I4t.includes(m)){let y=u.find(({connectorType:w})=>w===m);y&&a.push(p.jsx(kh,{connectOnly:r,provider:m,connector:y,displayName:y.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:y.walletClientType==="coinbase_wallet"?i1e:s1e},`${g}-${m}`))}else if($4t.includes(m))d&&l.push(p.jsx(kh,{connectOnly:r,provider:m,connector:d},`${g}-${m}`));else if(m==="wallet_connect")d&&l.push(p.jsx(kh,{connectOnly:r,provider:m,connector:d,logo:d.walletBranding.icon,displayName:"WalletConnect"},`${g}-${m}`));else if(m===(o==null?void 0:o.wallet)){let y=o.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),w=o.chainType==="solana"&&t.includes("detected_solana_wallets");if(t.includes("detected_wallets")||y||w){let b=u.find(({walletClientType:v})=>v===m);b&&a.push(p.jsx(kh,{connectOnly:r,provider:m,displayName:(h=b.walletBranding)==null?void 0:h.name,logo:(f=b.walletBranding)==null?void 0:f.icon,connector:b},`${g}-${m}`))}}}return[...c,...a,...l]},Iwe=({connectOnly:t})=>{var F,M,C;let{closePrivyModal:e,connectors:n}=Fe(),{app:r,onUserCloseViaDialogOrKeybindRef:i,data:s}=He(),{appearance:{palette:{colorScheme:o}}}=Tn(),{accountType:a,walletClientType:c,chainType:l}=mg(),u=k.useMemo(()=>a&&a!=="guest"&&a!=="authorization_key"&&a!=="cross_app"?LI(a):null,[a]),d=((F=r.loginMethodsAndOrder)==null?void 0:F.primary)??[],h=((M=r.loginMethodsAndOrder)==null?void 0:M.overflow)??[],f=k.useMemo(()=>[...d,...h],[d,h]),g=r.loginMethods.passkey,m=s==null?void 0:s.login,y=[];c&&f.includes(c)?y.push(c):a&&f.includes(u==null?void 0:u.loginMethod)&&y.push(u==null?void 0:u.loginMethod);let[w,b]=k.useState("default"),[v,E]=k.useState(GI({mostRecentlyUsedAccountType:a,smsAvailable:f.includes("sms"),emailAvailable:f.includes("email"),prefilledType:(C=m==null?void 0:m.prefill)==null?void 0:C.type}));k.useEffect(()=>{var x;E(GI({mostRecentlyUsedAccountType:a,smsAvailable:f.includes("sms"),emailAvailable:f.includes("email"),prefilledType:(x=m==null?void 0:m.prefill)==null?void 0:x.type}))},[f,a]),k.useEffect(()=>{a==="phone"&&E("sms");let x=f.indexOf("sms"),A=f.indexOf("email");x>-1&&x<A&&E("sms")},[a,d,h]);let _=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{b("default")},150)};i.current=_;let O=x=>{var A,P;return x==="email"?p.jsx(Ewe,{isEditable:v==="email",setIsEditable:()=>{E("email")},defaultValue:((A=m==null?void 0:m.prefill)==null?void 0:A.type)==="email"?m.prefill.value:void 0},x):x==="sms"?p.jsx(dwe,{isEditable:v==="sms",setIsEditable:()=>{E("sms")},defaultValue:((P=m==null?void 0:m.prefill)==null?void 0:P.type)==="phone"?m.prefill.value:void 0},x):x==="apple"?p.jsx(Gi,{provider:"apple"},x):x==="discord"?p.jsx(Gi,{provider:"discord"},x):x==="farcaster"?p.jsx(lwe,{},x):x==="github"?p.jsx(Gi,{provider:"github"},x):x==="google"?p.jsx(Gi,{provider:"google"},x):x==="linkedin"?p.jsx(Gi,{provider:"linkedin"},x):x==="spotify"?p.jsx(Gi,{provider:"spotify"},x):x==="instagram"?p.jsx(Gi,{provider:"instagram"},x):x==="tiktok"?p.jsx(Gi,{provider:"tiktok"},x):x==="line"?p.jsx(Gi,{provider:"line"},x):x==="twitter"?p.jsx(Gi,{provider:"twitter"},x):x==="telegram"?p.jsx(fwe,{},x):x.startsWith("privy:")?p.jsx(I5t,{appId:x.replace("privy:","")},x):Swe({walletList:r.appearance.walletList,walletChainType:(m==null?void 0:m.walletChainType)??r.appearance.walletChainType,connectors:n,connectOnly:t,ignore:f,walletConnectEnabled:r.externalWallets.walletConnect.enabled,forceWallet:{wallet:x,chainType:l??"ethereum"}})},S=y.flatMap(O),R=d.filter(x=>x!==c&&x!==(u==null?void 0:u.loginMethod)).flatMap(O),I=h.filter(x=>x!==c&&x!==(u==null?void 0:u.loginMethod)).flatMap(O),[D,j]=((x,A)=>{let P=[],N=[];for(let[$,L]of x.entries())$<A?P.push(L):N.push(L);return[P,N]})([...S,...R,...I],P4t({primary:R.length+S.length,overflow:I.length}));return p.jsxs(p.Fragment,{children:[p.jsx(an,{title:r.appearance.landingHeader,onClose:_,backFn:w==="default"?void 0:()=>{b("default")}}),w==="default"&&p.jsx(N4t,{}),w==="default"&&(typeof r.appearance.loginMessage=="string"?p.jsx(Lbt,{children:r.appearance.loginMessage}):r.appearance.loginMessage),p.jsx(jbt,{style:{overflow:"hidden"},children:p.jsxs($1e,{$colorScheme:o,children:[w==="default"&&p.jsxs(p.Fragment,{children:[D,j.length>0&&p.jsx(gwe,{text:"More options",icon:p.jsx(Yyt,{}),onClick:()=>b("overflow")})]}),w==="overflow"&&p.jsx(p.Fragment,{children:j}),g&&w==="default"&&p.jsx(uwe,{})]})}),r&&p.jsx(XF,{app:r}),p.jsx(An,{})]})};let P4t=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,N4t=G(_5t).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-d846420a-0"})(["margin-bottom:16px;"]);const Uo={component:()=>{let{app:t}=He();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?p.jsx(Iwe,{connectOnly:!1}):p.jsx(mwe,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},kwe={component:()=>{let[t,e]=k.useState(null),[n,r]=k.useState(!1),[i,s]=k.useState(null),[o,a]=k.useState(""),{authenticated:c,user:l}=fn(),{client:u,walletProxy:d,refreshSessionAndUser:h,closePrivyModal:f,createAnalyticsEvent:g}=Fe(),{app:m,navigate:y,data:w,onUserCloseViaDialogOrKeybindRef:b}=He(),{onSuccess:v,onFailure:E}=w.setWalletPassword,_=Dl(l),O=(t==null?void 0:t.recoveryMethod)==="user-passcode",S=(_==null?void 0:_.recoveryMethod)==="user-passcode";k.useEffect(()=>{c||(y(Uo),E(new vWe("User must be authenticated before setting a password on a Privy wallet")))},[c]);let R=()=>i?(E(i),void f({shouldCallAuthOnSuccess:!1})):O?(v(t),void f({shouldCallAuthOnSuccess:!1})):(E(new I0("Exited before password was added to wallet")),void f({shouldCallAuthOnSuccess:!1}));return b.current=R,p.jsx(jye,{appName:(m==null?void 0:m.name)||"privy",config:{initiatedBy:"user",onCancel:R},error:i?"An error has occurred, please try again.":void 0,buttonLoading:n,buttonHideAnimations:!1,password:o,isResettingPassword:S,onPasswordGenerate:()=>a(Mye()),onPasswordChange:a,onSubmit:async()=>{O?(v(t),f({shouldCallAuthOnSuccess:!1})):(r(!0),s(null),await(async()=>{let I=await u.getAccessToken();if(I&&l&&(_!=null&&_.address)&&o&&d)try{g({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:_.address,existingRecoveryMethod:_.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:S}});let{entropyId:D,entropyIdVerifier:j}=no(l);if(!(await d.setRecovery({accessToken:I,entropyId:D,entropyIdVerifier:j,recoveryPassword:o,recoveryMethod:"user-passcode"})).entropyId)return s(new I0("Error setting password on privy wallet")),void g({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:_.address,existingRecoveryMethod:_.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:S,reason:"error setting password"}});let F=await h(),M=Dl(F);if(!M)return s(new I0("Error setting password on privy wallet")),void g({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:_.address,existingRecoveryMethod:_.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:S,reason:"wallet disconnected"}});e(M),g({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:_.address,existingRecoveryMethod:_.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:S}})}catch(D){console.warn(D),s(D instanceof Error?D:Error("Error setting password on privy wallet")),g({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:_.address,reason:D}})}})(),r(!1))},onClose:R})}},O4t=({onClose:t,onProceed:e})=>p.jsx(xn,{title:"Secure Your Account",subtitle:p.jsxs(p.Fragment,{children:["Please set a password to secure your account.",p.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:sL,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),R4t={component:()=>{let{closePrivyModal:t}=Fe(),{data:e,navigate:n,onUserCloseViaDialogOrKeybindRef:r}=He(),{onFailure:i}=e.setWalletPassword,s=()=>{i(new I0("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return r.current=s,p.jsx(O4t,{onClose:s,onProceed:()=>{n(kwe)}})}},M4t={component:()=>{let[t,e]=k.useState(!0),{authenticated:n,user:r}=fn(),{walletProxy:i,closePrivyModal:s,createAnalyticsEvent:o,client:a}=Fe(),{navigate:c,data:l,onUserCloseViaDialogOrKeybindRef:u}=He(),[d,h]=k.useState(void 0),[f,g]=k.useState(""),[m,y]=k.useState(!1),{entropyId:w,entropyIdVerifier:b,onCompleteNavigateTo:v,onSuccess:E,onFailure:_}=l.recoverWallet,O=(S="User exited before their wallet could be recovered")=>{s({shouldCallAuthOnSuccess:!1}),_(typeof S=="string"?new I0(S):S)};return u.current=O,k.useEffect(()=>{if(!n)return O("User must be authenticated and have a Privy wallet before it can be recovered")},[n]),p.jsxs(cr,{children:[p.jsx(cr.Header,{icon:Ym,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:O}),p.jsx(cr.Body,{children:p.jsx(j4t,{children:p.jsxs("div",{children:[p.jsxs(OI,{children:[p.jsx(kz,{type:t?"password":"text",onChange:S=>(R=>{R&&h(R)})(S.target.value),disabled:m,style:{paddingRight:"2.3rem"}}),p.jsx(MI,{style:{right:"0.75rem"},children:t?p.jsx(jI,{onClick:()=>e(!1)}):p.jsx(DI,{onClick:()=>e(!0)})})]}),!!f&&p.jsx(D4t,{children:f})]})})}),p.jsxs(cr.Footer,{children:[p.jsx(cr.HelpText,{children:p.jsxs(K2t,{children:[p.jsx("h4",{children:"Why is this necessary?"}),p.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),p.jsx(cr.Actions,{children:p.jsx(L4t,{loading:m||!i,disabled:!d,onClick:async()=>{y(!0);let S=await a.getAccessToken(),R=jl(r,w);if(!S||!R||d===null)return O("User must be authenticated and have a Privy wallet before it can be recovered");try{o({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:R.address}}),await(i==null?void 0:i.recover({accessToken:S,entropyId:w,entropyIdVerifier:b,recoveryPassword:d})),g(""),v?c(v):s({shouldCallAuthOnSuccess:!1}),E==null||E(R),o({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:R.address}})}catch(I){(function(D){return Zb(D)&&(D.type==="invalid_recovery_pin"||D.type==="invalid_request_arguments")})(I)?g("Invalid recovery password, please try again."):g("An error has occurred, please try again.")}finally{y(!1)}},$hideAnimations:!w&&m,children:"Recover your account"})}),p.jsx(cr.Watermark,{})]})]})}};let j4t=G.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),D4t=G.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),L4t=G(er).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],({$hideAnimations:t})=>t&&rs(["&&{transition:none;}"]));const B4t={component:()=>{let{app:t,navigate:e,data:n,onUserCloseViaDialogOrKeybindRef:r}=He(),[i,s]=k.useState(""),[o,a]=k.useState(!1),[c,l]=k.useState(),[u,d]=k.useState(null),{create:h}=Cz(),{authenticated:f,user:g}=fn(),{closePrivyModal:m,isNewUserThisSession:y,initializeWalletProxy:w}=Fe(),{onSuccess:b,onFailure:v,callAuthOnSuccessOnClose:E,shouldCreateEth:_,shouldCreateSol:O}=n.createWallet,[S,R]=k.useState(null),I=new ga(async()=>{try{let D;if(_&&O)D=await h({recoveryMethod:"user-passcode",recoveryPassword:c,chainType:"ethereum",walletIndex:0,latestUser:g}),D=await h({chainType:"solana",walletIndex:0,latestUser:D.user});else if(O)D=await h({recoveryMethod:"user-passcode",recoveryPassword:c,chainType:"solana",walletIndex:0,latestUser:g});else{if(!_)throw Error("Invalid args to create wallet");D=await h({recoveryMethod:"user-passcode",recoveryPassword:c,chainType:"ethereum",walletIndex:0,latestUser:g})}R(D),y?e(_z):(b(D),m({shouldCallAuthOnSuccess:E}))}catch(D){s(D.message)}});return k.useEffect(()=>{u||w(3e4).then(D=>d(D))},[u]),k.useEffect(()=>{if(!f||!g)return e(Uo),void v(Error("User must be authenticated before creating a Privy wallet"))},[f]),r.current=()=>null,p.jsx(jye,{config:{initiatedBy:"automatic"},appName:(t==null?void 0:t.name)||"privy",loading:!u,buttonLoading:o,buttonHideAnimations:!S&&o,isResettingPassword:!1,error:i,password:c||"",onClose:()=>{S&&S.account.recoveryMethod!=="user-passcode"?(v(new I0("User created a wallet but failed to set a password for it")),m({shouldCallAuthOnSuccess:!1})):S?(b(S),m({shouldCallAuthOnSuccess:E})):(v(new I0("User wallet creation failed")),m({shouldCallAuthOnSuccess:!1}))},onPasswordChange:l,onPasswordGenerate:()=>l(Mye()),onSubmit:async()=>(a(!0),I.execute().then(()=>new Promise(D=>setTimeout(D,250))).finally(()=>a(!1)))})}},U4t=G.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],t=>t.$color??"var(--privy-color-accent)"),wg=G.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),op=G.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),F4t={component:()=>{var y;let{user:t}=fn(),{client:e,walletProxy:n,refreshSessionAndUser:r,closePrivyModal:i}=Fe(),s=He(),{entropyId:o,entropyIdVerifier:a}=(y=s.data)==null?void 0:y.recoverWallet,[c,l]=k.useState(!1),[u,d]=k.useState(null),[h,f]=k.useState(null);function g(){var w,b,v,E;if(!c){if(h)return(b=(w=s.data)==null?void 0:w.setWalletPassword)==null||b.onFailure(h),void i();if(!u)return(E=(v=s.data)==null?void 0:v.setWalletPassword)==null||E.onFailure(Error("User exited set recovery flow")),void i()}}s.onUserCloseViaDialogOrKeybindRef.current=g;let m=!(!c&&!u);return p.jsxs(p.Fragment,h?{children:[p.jsx(an,{onClose:g},"header"),p.jsx(U4t,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:p.jsx(Jm,{height:38,width:38,stroke:"var(--privy-color-error)"})}),p.jsx(op,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),p.jsx(hg,{style:{minHeight:"2rem"}}),p.jsx(vI,{onClick:()=>f(null),children:"Try again"}),p.jsx(An,{})]}:{children:[p.jsx(an,{onClose:g},"header"),p.jsx(Xge,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),p.jsx(op,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),p.jsx(wg,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),p.jsx(hg,{style:{minHeight:"2rem"}}),p.jsx(vI,{loading:c,disabled:m,onClick:()=>async function(){l(!0);try{let w=await e.getAccessToken(),b=jl(t,o);if(!w||!n||!b)return;if(!(await n.setRecovery({accessToken:w,entropyId:o,entropyIdVerifier:a,existingRecoveryMethod:b.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let v=await r();if(!v)throw Error("Unable to set recovery on wallet");let E=jl(v,b.address);if(!E)throw Error("Unabled to set recovery on wallet");d(!!v),setTimeout(()=>{var _,O;(O=(_=s.data)==null?void 0:_.setWalletPassword)==null||O.onSuccess(E),i()},Hr)}catch(w){f(w)}finally{l(!1)}}(),children:u?"Success":"Confirm"}),p.jsx(An,{})]})}};function $we({isCreatingWallet:t,skipSplashScreen:e}){return t?B4t:e?kwe:R4t}function Twe({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?F4t:n||e.length===1?$we({isCreatingWallet:t==="create",skipSplashScreen:r}):Iz}function Pwe(t){switch(t){case"user-passcode":return M4t;case"google-drive":case"icloud":return Sye;default:throw Error("Recovery method not supported")}}const Nwe=({children:t,theme:e})=>p.jsxs(z4t,{$theme:e,children:[p.jsx(Nwt,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),p.jsx(W4t,{$theme:e,children:t})]});let z4t=G.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),W4t=G.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const Owe=rs(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:""),ZI=G.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],Owe);let q4t=G(ZI).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),H4t=G.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),V4t=G.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),K4t=G.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),G4t=G(sc).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),Z4t=G(rp).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),Y4t=G(sd).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const YI=({errMsg:t,balance:e,address:n,className:r,title:i,showCopyButton:s=!1})=>{let[o,a]=k.useState(!1);return k.useEffect(()=>{if(o){let c=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(c)}},[o]),p.jsxs("div",{children:[i&&p.jsx(G4t,{children:i}),p.jsx(q4t,{className:r,$state:t?"error":void 0,children:p.jsxs(H4t,{children:[p.jsxs(V4t,{children:[p.jsx(un,{address:n,showCopyIcon:!1}),e!==void 0&&p.jsx(K4t,{children:e})]}),s&&p.jsx(Y4t,{onClick:function(c){c.stopPropagation(),navigator.clipboard.writeText(n).then(()=>a(!0)).catch(console.error)},size:"sm",children:p.jsxs(p.Fragment,o?{children:["Copied",p.jsx(k4,{size:14})]}:{children:["Copy",p.jsx(xA,{size:14})]})})]})}),t&&p.jsx(Z4t,{children:t})]})};function Rwe({rpcConfig:t,appId:e,address:n,chain:r}){let{chains:i}=Fe(),[s,o]=k.useState(0n),[a,c]=k.useState(!1),l=k.useMemo(()=>{let d=r||i[0];if(d)return Fd({chain:r,transport:ta(Jf(d,t,e))})},[r,t,e]),u=k.useCallback(async()=>{if(!n||!l)return;c(!0);let d=await l.getBalance({address:n}).catch(console.error);return d?(o(d),c(!1),d):void 0},[l,n,o]);return k.useEffect(()=>{u().catch(console.error)},[]),{balance:s,isLoading:a,reloadBalance:u}}const ud="sdk_fiat_on_ramp_completed_with_status",Hz=async({chain:t,address:e,appId:n,rpcConfig:r,erc20Address:i})=>({balance:await Fd({chain:t,transport:ta(Jf(t,r,n))}).readContract({address:i,abi:J4t,functionName:"balanceOf",args:[e]}).catch(()=>0n),chain:t});let J4t=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const dx=Symbol("solana-funding-plugin"),Q4t=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:o,chainType:a})=>{if(!i)throw t("linkAccount","onError",ne.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ee("User must be authenticated before linking an account.");let[c,l]=await Promise.all([e(),n(15e3)]);if(!l||!c)throw t("linkAccount","onError",ne.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ee("User must be authenticated before linking an account.");await l.importWallet({privateKey:o,accessToken:c,chainType:a,mode:s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device"});let u=await r(),d=a==="solana"?s_(u):Ej(u);if(!d)throw t("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:d}),d};class X4t{async handleSignMessage(e){if(!e.params||typeof e.params.message!="string")throw Error("Message must be provided as a string for Solana signMessage RPC");let n=await this.signMessage(Lo(e.params.message,"base64"));return{signature:Lo(n).toString("base64")}}async request(e){if(console.debug("EmbeddedSolanaProvider.request() called with args",e),!await lr())throw Error("User must be authenticated to use embedded Solana wallet");if(!await b9t({address:this.address}))throw new ee("Unable to connect to Solana embedded wallet");if(e.method==="signMessage")return await this.handleSignMessage(e);throw Error("Embedded Solana provider does not yet support this RPC method.")}constructor(e,n,r){this.walletProxy=e,this.address=n,this.signMessage=r}}async function Vz({tx:t,accessToken:e,walletProxy:n,entropyId:r,entropyIdVerifier:i,transactingWalletAddress:s,transactingWalletIndex:o}){let a=EI(t,s),c=gg(t)?Lo(t.message.serialize()):t.serializeMessage(),{response:l}=await n.rpc({accessToken:e,entropyId:r,entropyIdVerifier:i,chainType:"solana",hdWalletIndex:o,request:{method:"signMessage",params:{message:c.toString("base64")}}}),u=Lo(l.data.signature,"base64");return t.addSignature(a,u),t}const e8t=t=>t.reduce((e,n)=>!e||e.walletIndex<n.walletIndex?n:e,null);let Mwe=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:o,user:a,walletIndex:c,setModalData:l,openModal:u,chainType:d,setUser:h})=>{if(c<0)throw r("createWallet","onError",ne.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${c}) is invalid.`);let f=Dl(a);if(c>0&&!f)throw r("createWallet","onError",ne.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",ne.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!f&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await jwe({emitPrivyEvent:r,setModalData:l,openModal:u,chainType:d});let g=Ez(a,{chainType:d,walletIndex:c})[0];if(g)return{user:a,account:g};if(c===0&&!i)return jwe({emitPrivyEvent:r,setModalData:l,openModal:u,chainType:d});if(!i)throw r("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return _ye({appConfig:e,walletIndex:c,chainType:d,user:a,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:o,setUser:h})},jwe=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise((i,s)=>{e({createWallet:{onSuccess:({user:o,account:a})=>{t("createWallet","onSuccess",{wallet:a}),i({user:o,account:a})},onFailure:o=>{t("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),s(o)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n(np)});const Dwe=()=>{let t=Tn(),e=ep(),{setModalData:n}=He(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:o,refreshSessionAndUser:a,privy:c,client:l}=Fe();return{create:async({chainType:u,options:d,latestUser:h})=>{let f=h;if(f||(f=await a()),!f)throw e("createWallet","onError",ne.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:g,getAccessToken:m,initializeWalletProxy:y,user:w,privy:b,emitPrivyEvent:v,recoverEmbeddedWallet:E,setModalData:_,openModal:O,setUser:S,options:R,timeoutDuration:I,refreshSessionAndUser:D,chainType:j})=>{var A,P;let[F,M]=await Promise.all([y(I),m()]);if(!M||!w)throw v("createWallet","onError",ne.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!F&&((A=g.customAuth)!=null&&A.enabled))throw v("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(R&&"walletIndex"in R&&typeof R.walletIndex=="number"){if(g.embeddedWallets.mode==="user-controlled-server-wallets-only")throw v("createWallet","onError",ne.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return Mwe({accessToken:M,appConfig:g,privy:b,emitPrivyEvent:v,openModal:O,proxy:F,refreshSessionAndUser:D,recoverEmbeddedWallet:E,setModalData:_,user:w,walletIndex:R.walletIndex,chainType:j,setUser:S})}let C=R&&"createAdditional"in R&&R.createAdditional,x=Ez(w,{chainType:j});if(x[0]&&!C)throw v("createWallet","onError",ne.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return Mwe({accessToken:M,appConfig:g,privy:b,emitPrivyEvent:v,openModal:O,proxy:F,recoverEmbeddedWallet:E,setModalData:_,user:w,walletIndex:(((P=e8t(x))==null?void 0:P.walletIndex)??-1)+1,chainType:j,refreshSessionAndUser:D,setUser:S})})({appConfig:t,privy:c,getAccessToken:()=>l.getAccessToken(),refreshSessionAndUser:a,initializeWalletProxy:r,user:f,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:o,setUser:s,options:d,timeoutDuration:Ome,chainType:u})}}};function t8t(t){let{create:e}=Dwe();return qb("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const n8t=()=>{let{user:t}=fn(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=Fe(),i=ep(),s=Tn();return{importWallet:k.useCallback(({privateKey:o})=>Q4t({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:o,chainType:"ethereum"}),[t,e,n,r,i])}},hx=()=>{let{importWallet:t}=n8t(),{createWallet:e}=t8t();return{...k.useContext(ov),importWallet:t,createWallet:e}},Kz=t=>t.filter(e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1))),Lwe=t=>!!t.fundingConfig&&Kz(t.fundingConfig.options).length>=1,Gz=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];let r8t=2n**256n-1n;const JI=({amount:t,decimals:e})=>t===r8t?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e),Bwe=({chains:t,appId:e,address:n,rpcConfig:r,includeUsdc:i})=>Promise.all(t.map(async s=>{let o=Fd({chain:s,transport:ta(Jf(s,r,e))}),a=await o.getBalance({address:n}).catch(()=>0n),c=null,l=mze[s.id];if(i&&l){let{balance:u}=await Hz({address:n,chain:s,rpcConfig:r,appId:e,erc20Address:l});c=u}return{balance:a,erc20Balance:c,erc20Address:l,chain:s}})),r2=G.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),Ve=G.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),it=G.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),i8t=G(it).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),yt=G.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],HI),s8t=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[p.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[p.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),p.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),p.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),p.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[p.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),p.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),p.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),p.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[p.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),p.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),p.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let o8t={[kl.id]:t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:p.jsx("g",{id:"Layer_x0020_1",children:p.jsxs("g",{id:"_2405588477232",children:[p.jsx("rect",{fill:"none",width:"2500",height:"2500"}),p.jsx("g",{children:p.jsxs("g",{children:[p.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),p.jsx("g",{children:p.jsxs("g",{children:[p.jsx("g",{children:p.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),p.jsx("g",{children:p.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),p.jsx("g",{children:p.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),p.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),p.jsxs("g",{children:[p.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),p.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[Ww.id]:t=>p.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[$l.id]:t=>p.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),p.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[v7.id]:t=>p.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),p.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[kne.id]:t=>p.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),p.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[p.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),p.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_2303_643",children:p.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[Tl.id]:t=>p.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[p.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),p.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),p.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),p.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),p.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[zd.id]:t=>p.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),p.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),p.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[ja.id]:t=>p.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),p.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[pM.id]:t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[p.jsx("g",{clipPath:"url(#clip0)",children:p.jsx("g",{clipPath:"url(#clip1)",children:p.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),p.jsxs("defs",{children:[p.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[p.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),p.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),p.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),p.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),p.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),p.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),p.jsx("clipPath",{id:"clip0",children:p.jsx("rect",{width:"30",height:"30",fill:"white"})}),p.jsx("clipPath",{id:"clip1",children:p.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const Uwe=({chainId:t,...e})=>{if(t==="solana")return p.jsx(s8t,{...e});let n=o8t[t];return p.jsx(n||Qge,{...e})},a8t=({balance:t,className:e,chain:n})=>p.jsx(ZI,{className:e,$state:void 0,children:p.jsx(Zz,{balance:t,chain:n})}),Zz=({balance:t,chain:e})=>p.jsxs(p.Fragment,{children:[p.jsxs(c8t,{children:[p.jsx(u8t,{chainId:"id"in e?e.id:"solana"}),p.jsx(yt,{children:e.name})]}),p.jsxs(Ih,{isLoading:!1,isPulsing:!1,color:"gray",children:[p.jsx(l8t,{children:p.jsx(KS,{})}),t]})]});let c8t=G.div.withConfig({displayName:"Container",componentId:"sc-d24ae982-0"})(["display:flex;align-items:center;"]),l8t=G.div.withConfig({displayName:"IconContainer",componentId:"sc-d24ae982-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),u8t=G(Uwe).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-d24ae982-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const d8t=({options:t,onSelect:e,selected:n,className:r})=>p.jsxs(tXe,{as:h8t,children:[p.jsxs(Jle,{as:g8t,children:[p.jsx(Zz,{balance:n.balance,chain:n.chain}),p.jsx(Yz,{height:16})]}),p.jsx(Qle,{as:f8t,className:r,children:t.map((i,s)=>p.jsx(Xle,{as:p8t,onClick:()=>e(s),children:p.jsx(Zz,{balance:i.balance,chain:i.chain})},s))})]});let h8t=G.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),f8t=G.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),p8t=G.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),Yz=G(F_).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),g8t=G.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],Owe,Yz,Yz);const m8t=({passkeys:t,isLoading:e,errorReason:n,success:r,expanded:i,onLinkPasskey:s,onUnlinkPasskey:o,onExpand:a,onBack:c,onClose:l})=>p.jsx(xn,r?{title:"Passkeys updated",icon:$4,iconVariant:"success",primaryCta:{label:"Done",onClick:l},onClose:l,watermark:!0}:i?{icon:EA,title:"Your passkeys",onBack:c,onClose:l,watermark:!0,children:p.jsx(Fwe,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})}:{icon:EA,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:s,loading:e},onClose:l,watermark:!0,helpText:n||void 0,children:t.length===0?p.jsx(w8t,{}):p.jsx(y8t,{children:p.jsx(Fwe,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})})});let y8t=G.div.withConfig({displayName:"ContentContainer",componentId:"sc-e693657c-0"})(["margin-bottom:12px;"]),Fwe=({passkeys:t,expanded:e,onUnlink:n,onExpand:r})=>{let[i,s]=k.useState([]),o=e?t.length:2,a=c=>c.authenticatorName?c.createdWithBrowser?`${c.authenticatorName} on ${c.createdWithBrowser}`:c.authenticatorName:c.createdWithBrowser?c.createdWithOs?`${c.createdWithBrowser} on ${c.createdWithOs}`:`${c.createdWithBrowser}`:"Unknown device";return p.jsxs("div",{children:[p.jsx(C8t,{children:"Your passkeys"}),p.jsxs(E8t,{children:[t.slice(0,o).map(c=>p.jsxs(S8t,{children:[p.jsxs("div",{children:[p.jsx(_8t,{children:a(c)}),p.jsxs(A8t,{children:["Last used: ",(c.latestVerifiedAt??c.verifiedAt).toLocaleString()]})]}),p.jsx(k8t,{disabled:i.includes(c.credentialId),onClick:()=>(async l=>{s(u=>u.concat([l])),await n(l),s(u=>u.filter(d=>d!==l))})(c.credentialId),children:i.includes(c.credentialId)?p.jsx(fg,{}):p.jsx(fXe,{size:16})})]},c.credentialId)),t.length>2&&!e&&p.jsx(x8t,{onClick:r,children:"View all"})]})]})},w8t=()=>p.jsxs(_we,{style:{color:"var(--privy-color-foreground)"},children:[p.jsx(n2,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),p.jsx(n2,{children:"Takes seconds to set up and use"}),p.jsx(n2,{children:"Use your passkey to verify transactions and login to your account"})]});const v8t={component:()=>{let{user:t,unlinkPasskey:e}=fn(),{linkWithPasskey:n,closePrivyModal:r}=Fe(),i=t==null?void 0:t.linkedAccounts.filter(f=>f.type==="passkey"),[s,o]=k.useState(!1),[a,c]=k.useState(""),[l,u]=k.useState(!1),[d,h]=k.useState(!1);return k.useEffect(()=>{i.length===0&&h(!1)},[i.length]),p.jsx(m8t,{passkeys:i,isLoading:s,errorReason:a,success:l,expanded:d,onLinkPasskey:()=>{o(!0),n().then(()=>u(!0)).catch(f=>{if(f instanceof So){if(f.privyErrorCode===ne.CANNOT_LINK_MORE_OF_TYPE)return void c("Cannot link more passkeys to account.");if(f.privyErrorCode===ne.PASSKEY_NOT_ALLOWED)return void c("Passkey request timed out or rejected by user.")}c("Unknown error occurred.")}).finally(()=>{o(!1)})},onUnlinkPasskey:async f=>(o(!0),await e(f).then(()=>u(!0)).catch(g=>{g instanceof So&&g.privyErrorCode===ne.MISSING_MFA_CREDENTIALS?c("Cannot unlink a passkey enrolled in MFA"):c("Unknown error occurred.")}).finally(()=>{o(!1)})),onExpand:()=>h(!0),onBack:()=>h(!1),onClose:()=>r()})}},zwe=G.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-e693657c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let b8t=rs(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const x8t=G.button.withConfig({displayName:"LinkButton",componentId:"sc-e693657c-2"})(["",""],b8t);let E8t=G.div.withConfig({displayName:"List",componentId:"sc-e693657c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),C8t=G.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-e693657c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),_8t=G.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-e693657c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),A8t=G.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-e693657c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),S8t=G.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-e693657c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),I8t=rs([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),k8t=G.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-e693657c-8"})(["",""],I8t);const $8t=G.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),fx=G.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),Wwe=G.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),qwe=G.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),Hwe=G.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),T8t=G(Hwe).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),Vwe=G.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),Kwe=G.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),P8t=G.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),N8t=G.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),Gwe=({displayName:t,errorMessage:e,configuredFundingChain:n,formattedBalance:r,fundingAmount:i,fundingCurrency:s,fundingAmountInUsd:o,options:a,selectedOption:c,isPreparing:l,isSubmitting:u,addressToFund:d,fundingWalletAddress:h,onSubmit:f,onSelect:g,onAmountChange:m,erc20ContractInfo:y})=>{let w=k.useRef(null);return p.jsxs(p.Fragment,{children:[p.jsx(ac,{}),p.jsx(cd,{}),p.jsx(op,{children:"Transfer from another network"}),p.jsxs(wg,{children:["You need more funds on the ",n.name," network. Bridge from another blockchain network."]}),p.jsxs(Wwe,{style:{marginTop:"2rem"},children:[p.jsxs(qwe,{onClick:()=>{var b;return(b=w.current)==null?void 0:b.focus()},children:[p.jsx(Hwe,{ref:w,value:i,onChange:b=>{let v=b.target.value;if(/^[0-9.]*$/.test(v)&&v.split(".").length-1<=1){let E=/\.$/.test(v)?".":"",_=Number(v.replace(/\.$/,"")||"0");if(Number.isNaN(_))return void m("0");m(_.toString()+E)}}}),p.jsx(Vwe,{children:s})]}),o&&p.jsx(Kwe,{children:o})]}),p.jsxs(Ve,{style:{marginTop:"1.5rem"},children:[p.jsx(it,{children:"From"}),p.jsx(it,{children:Qie(h)})]}),p.jsx(d8t,{selected:{chain:c.chain,balance:c.isErc20Quote?JI({amount:c.erc20Balance??0n,decimals:(y==null?void 0:y.decimals)??6})+` ${(y==null?void 0:y.symbol)||""}`:od(c.balance,c.chain.nativeCurrency.symbol,3,!0)},options:a.map(({chain:b,balance:v,isErc20Quote:E,erc20Balance:_})=>({chain:b,balance:E?JI({amount:_??0n,decimals:(y==null?void 0:y.decimals)??6})+` ${(y==null?void 0:y.symbol)||""}`:od(v,b.nativeCurrency.symbol,3,!0)})),onSelect:g}),p.jsxs(Ve,{style:{marginTop:"1.5rem"},children:[p.jsx(it,{children:"To"}),p.jsx(it,{children:Qie(d)})]}),p.jsx(a8t,{chain:n,balance:r}),p.jsx(rp,{style:{marginTop:"1rem"},children:e}),p.jsxs(vI,{style:{marginTop:"1rem"},loading:u||l,disabled:l||u,onClick:f,children:["Confirm with ",t]}),p.jsx(nl,{}),p.jsx(An,{})]})},QI=({wallet:t,displayName:e,addressToFund:n,chainId:r,chainName:i,isBridging:s,isErc20Flow:o,totalPriceInNativeCurrency:a,totalPriceInUsd:c,gasPriceInNativeCurrency:l,gasPriceInUsd:u})=>{var h;let d=Xf(t.walletClientType);return p.jsxs(p.Fragment,{children:[p.jsx(ac,{}),p.jsx(M1,{}),p.jsx(dz,{style:{marginTop:"16px"},children:p.jsx(Cwe,{icon:(h=d==null?void 0:d.image_url)==null?void 0:h.md,name:t.walletClientType})}),p.jsx(rl,{style:{marginTop:"8px",marginBottom:"12px"},title:`${s?"Bridging":"Confirming"} with ${e}`}),!s&&!o&&p.jsxs(r2,{children:[p.jsxs(Ve,{children:[p.jsx(it,{children:"Total"}),p.jsx(yt,{children:c||a})]}),p.jsxs(Ve,{children:[p.jsx(it,{children:"To"}),p.jsx(yt,{children:p.jsx(un,{address:n,showCopyIcon:!1})})]}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Network"}),p.jsx(yt,{children:p.jsxs(O8t,{children:[p.jsx(Uwe,{chainId:r,height:16,width:16})," ",i]})})]}),l&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Estimated fee"}),p.jsx(yt,{children:u||l})]})]}),p.jsx(G2t,{height:24}),p.jsx(An,{})]})};let O8t=G.div.withConfig({displayName:"NetworkColumn",componentId:"sc-ec6320ce-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const Zwe={component:()=>{var Xt,Ot,At,Oe,Le;let{rpcConfig:t,appId:e,closePrivyModal:n,createAnalyticsEvent:r}=Fe(),{navigate:i,setModalData:s,app:o,data:a}=He(),{wallets:c}=tp(),[l,u]=k.useState(!1),[d,h]=k.useState(0n),[f,g]=k.useState(!1),[m,y]=k.useState(null),[w,b]=k.useState(null),[v,E]=k.useState([]),[_,O]=k.useState(0),[S,R]=k.useState(!1),[I,D]=k.useState(!1),[j,F]=k.useState(!1),[M,C]=k.useState(!1),[x,A]=k.useState(),[P,N]=k.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:$,chain:L,connectedWalletAddress:B}=a.funding,T=a.funding.address,z=a.funding.erc20Address,[q,U]=k.useState(a.funding.amount);k.useEffect(()=>{z&&!$&&y(Error("Unable to fetch token details"))},[]);let V=!!z&&!!$,Z=V?BigInt(parseFloat(q)*10**$.decimals):Yee(q),K=B?c.find(({address:we})=>we===B):c[0],J=Xf((K==null?void 0:K.walletClientType)||"unknown"),oe=(J==null?void 0:J.name)||"wallet",[se,ae]=k.useState(null);k.useEffect(()=>{(async()=>{if(!K)return;let we=await K.getEthereumProvider();ae(Cne({account:K.address,transport:_ne(we)}).extend(aM))})().catch(console.error)},[K]);let[fe,ce]=k.useState(0n);k.useEffect(()=>{Fd({chain:L,transport:ta(Jf(L,t,e))}).getBalance({address:T}).then(ce).catch(console.error)},[]);let[de,ot]=k.useState(0n);k.useEffect(()=>{V&&Hz({chain:L,address:T,appId:e,rpcConfig:t,erc20Address:z}).then(we=>ot(we.balance)).catch(console.error)},[]);let{tokenPrice:he}=Gb(L.id),[Ae,_e]=k.useState({to:T,chain:L,value:Z,data:void 0});k.useEffect(()=>{(async()=>{let we,lt;if(!se||!K||S||j)return;R(!0);let St=Fd({chain:Ae.chain,transport:ta(Jf(Ae.chain,t,e))});if(V&&!Ae.data)return await St.simulateContract({address:z,chain:Ae.chain,abi:Gz,functionName:"transfer",args:[T,Z],account:K.address}).catch(ht=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",ht)})?(R(!1),void _e({to:z,chain:Ae.chain,data:Jr({abi:Gz,functionName:"transfer",args:[T,Z]}),value:"0x0"})):(R(!1),void g(!0));try{we=await St.prepareTransactionRequest({account:K.address,to:Ae.to,chain:Ae.chain,data:Ae.data,value:BigInt(Ae.value??0)})}catch(ht){if(console.error(ht),v.length>1)b(ht.shortMessage??"Something went wrong");else if(I&&v.length===0)return void y(new ee(`Wallet ${to(K.address)} does not have enough funds.`,void 0,ne.INSUFFICIENT_BALANCE))}if(!we)return R(!1),void g(!0);R(!1),F(!0),u(!0),h(we.gas);try{await se.switchChain({id:Ae.chain.id})}catch{await se.addChain({chain:Ae.chain}),await se.switchChain({id:Ae.chain.id})}try{lt=await se.sendTransaction(we)}catch(ht){if(console.error(ht),ht.name==="TransactionExecutionError")if(v.length<1){let It=ht.shortMessage;(ht.shortMessage.includes("rejected the request")||ht.details.includes("rejected the request"))&&(It="User rejected the request."),y(new ee(It,void 0,ne.TRANSACTION_FAILURE))}else b(ht.shortMessage??"Something went wrong")}if(lt)return await se.waitForTransactionReceipt({hash:lt}),F(!1),I?(A(lt),void N("pending")):(C(!0),void r({eventName:ud,payload:{provider:"external",status:"success",txHash:lt,address:K.address,chainId:Ae.chain.id,chainType:"ethereum",value:Ae.value?es(BigInt(Ae.value),($==null?void 0:$.decimals)??18):void 0,token:($==null?void 0:$.symbol)??z??"ETH",destinationAddress:T,destinationChainId:L.id,destinationChainType:"ethereum",destinationValue:Z?es(Z,($==null?void 0:$.decimals)??18):void 0,destinationToken:($==null?void 0:$.symbol)??z??L.nativeCurrency.name}}));F(!1)})().catch(console.error)},[se,Ae]),k.useEffect(()=>{(async()=>{var qt;if(!f||!se||!K)return;let we=gM(o.chains).filter(tt=>tt.id!==L.id&&!!tt.testnet==!!L.testnet);V&&we.unshift(L);let lt=await Bwe({chains:we,address:K.address,appId:e,rpcConfig:t,includeUsdc:(qt=a.funding)==null?void 0:qt.isUSDC}),St=V?lt.filter(tt=>tt.balance>0n):lt.filter(tt=>tt.balance>Z),ht=V&&lt.every(tt=>tt.balance===0n);if(St.length<1)return void y(new ee(ht?`Wallet ${to(K.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${to(K.address)} does not have enough funds.`,void 0,ne.INSUFFICIENT_BALANCE));St.sort((tt,Dr)=>Number(V?(Dr.erc20Balance??0n)-(tt.erc20Balance??0n):Dr.balance-tt.balance));let It=St.flatMap(tt=>{let Dr=[{...tt,isErc20Quote:!1,isTestnet:!!L.testnet,input:Qb({amount:Z.toString(),user:K.address,recipient:T,destinationChainId:L.id,destinationCurrency:z,originChainId:tt.chain.id})}];return V&&z&&(tt.erc20Balance??0n)>=Z&&Dr.push({...tt,isErc20Quote:!0,isTestnet:!!L.testnet,input:Qb({amount:Z.toString(),user:K.address,recipient:T,destinationChainId:L.id,destinationCurrency:z,originChainId:tt.chain.id,originCurrency:tt.erc20Address})}),Dr}),Ue=(await Promise.allSettled(It.map(async tt=>({...tt,quote:await ix(tt)})))).filter(tt=>tt.status==="fulfilled").map(tt=>tt.value);if(Ue.length<1)return void y(new ee(`Wallet ${to(K.address)} does not have enough funds.`,void 0,ne.INSUFFICIENT_BALANCE));let Nt=Ue.map(tt=>({bridgeTx:BI(tt.quote),balance:tt.balance,chain:tt.chain,erc20Balance:tt.erc20Balance,isErc20Quote:tt.isErc20Quote})).filter(tt=>!!tt.bridgeTx);if(Nt.length>1)return void E(Nt);let Kt=Nt[0];Kt?(D(!0),_e({data:Kt.bridgeTx.data,to:Kt.bridgeTx.to,value:Kt.bridgeTx.value,chain:Kt.chain})):y(new ee(`Wallet ${to(K.address)} does not have enough funds.`,void 0,ne.INSUFFICIENT_BALANCE))})().catch(console.error)},[f]),Mz({transactionHash:x,wallet:K,isTestnet:!!L.testnet,bridgingStatus:P,setBridgingStatus:N,onSuccess({transactionHash:we,wallet:lt}){D(!1),C(!0),r({eventName:ud,payload:{provider:"external",status:"success",txHash:we,address:lt.address,chainId:Ae.chain.id,chainType:"ethereum",value:Ae.value?es(BigInt(Ae.value),($==null?void 0:$.decimals)??18):void 0,token:($==null?void 0:$.symbol)??z??"ETH",destinationAddress:T,destinationChainId:L.id,destinationChainType:"ethereum",destinationValue:Z?es(Z,($==null?void 0:$.decimals)??18):void 0,destinationToken:($==null?void 0:$.symbol)??z??L.nativeCurrency.name}})},onFailure({error:we}){D(!1),y(we)}}),k.useEffect(()=>{m&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:m,previousScreen:i2}}),i(Vr,!1))},[m]);let ge=!V&&he?U1e(q??"0",he):void 0,Ee=V?d:lz([d,Z]),Wt=Ee&&he?B1(Ee,he):void 0,ye=Ee?od(Ee,(Xt=a==null?void 0:a.funding)!=null&&Xt.erc20Address?((At=(Ot=a==null?void 0:a.funding)==null?void 0:Ot.erc20ContractInfo)==null?void 0:At.symbol)||"ETH":((Oe=a==null?void 0:a.funding)==null?void 0:Oe.chain.nativeCurrency.symbol)||"ETH"):void 0,je=d&&he?B1(d,he):void 0,Ye=d?od(d,((Le=L==null?void 0:L.nativeCurrency)==null?void 0:Le.symbol)||"ETH"):void 0;if(k.useEffect(()=>{if(!M)return;let we=setTimeout(n,nI);return()=>clearTimeout(we)},[M]),M)return p.jsxs(p.Fragment,{children:[p.jsx(ac,{}),p.jsx(cd,{}),p.jsxs(X8,{children:[p.jsx(kb,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(rl,{title:"Success!",description:`Youve successfully added ${q} ${V?$.symbol:L.nativeCurrency.symbol} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),p.jsx(nl,{}),p.jsx(An,{})]});let bt=V?`${JI({amount:de,decimals:$.decimals})}  ${$.symbol}`:od(fe,L.nativeCurrency.symbol,3,!0),ft=v[_];return v.length>1&&ft?p.jsx(Gwe,{displayName:oe,configuredFundingChain:L,erc20ContractInfo:$,formattedBalance:bt,fundingAmount:q,fundingCurrency:V?$.symbol:L.nativeCurrency.symbol,fundingAmountInUsd:ge,options:v,selectedOption:ft,isPreparing:S,isSubmitting:j,addressToFund:T,fundingWalletAddress:(K==null?void 0:K.address)||"",errorMessage:w,onSubmit:()=>{var we;((we=a.funding)==null?void 0:we.amount)!==q?async function(){if(K&&ft)try{let lt=await ix({isTestnet:!!L.testnet,input:Qb({amount:Z.toString(),user:K.address,recipient:T,destinationChainId:L.id,destinationCurrency:z,originChainId:ft.chain.id})}),St=BI(lt);if(!St)throw Error("Invalid transaction request");D(!0),_e({data:St.data,to:St.to,value:St.value,chain:ft.chain})}catch(lt){console.error(lt),y(new ee("Unable to fetch quotes for bridging",lt,ne.INSUFFICIENT_BALANCE))}}().catch(console.error):_e({to:ft.bridgeTx.to,data:ft.bridgeTx.data,value:ft.bridgeTx.value,chain:ft.chain})},onSelect:we=>{we!==_&&(b(null),O(we))},onAmountChange:U}):l&&d&&K&&(a!=null&&a.funding)?p.jsx(QI,{wallet:K,displayName:oe,addressToFund:T,isBridging:I,isErc20Flow:V,totalPriceInUsd:Wt,totalPriceInNativeCurrency:ye,gasPriceInUsd:je,gasPriceInNativeCurrency:Ye,chainId:L.id,chainName:L.name}):p.jsxs(p.Fragment,{children:[p.jsx(ac,{}),p.jsx(M1,{}),p.jsx("div",{style:{marginTop:"1rem"}}),p.jsx(An,{})]})}},Ywe={component:function(){let{closePrivyModal:t,createAnalyticsEvent:e}=Fe(),{navigate:n,setModalData:r,app:i,data:s}=He(),{wallets:o}=px(),a=k.useRef(!1),c=e2(),[l,u]=k.useState(!1),[d,h]=k.useState(!1),[f,g]=k.useState(null),[m,y]=k.useState(),[w,b]=k.useState();if(!(s!=null&&s.funding)||s.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:v,connectedWalletAddress:E,chain:_,cluster:O,isUSDC:S}=s.funding,R=s.funding.address,I=s.funding.erc20Address,D=s.funding.isUSDC?"USDC":_.nativeCurrency.symbol,j=O??{name:"mainnet-beta"},F=E?o.find(({address:x})=>x===E):o[0],M=Xf((F==null?void 0:F.walletClientType)||"unknown"),C=(M==null?void 0:M.name)||"wallet";return k.useEffect(()=>{(async function(){var $;if(!F||!_||a.current)return;let x=c(dx);if(!x)return void g(new ee("Unable to solana plugin"));a.current=!0,_!=null&&_.testnet&&console.warn("Solana testnets are not supported for bridging");let A=S?1e6*parseFloat(v):Yee(v),P=await ix({isTestnet:!!_.testnet,input:Qb({amount:A.toString(),user:F.address,recipient:R,destinationChainId:_.id,originChainId:qF,originCurrency:S?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":HF,destinationCurrency:S?I:void 0})}).catch(console.error);if(!P)return void g(new ee(`Unable to fetch quotes for bridging. Wallet ${PF(F.address)} does not have enough funds.`,void 0,ne.INSUFFICIENT_BALANCE));let N=await x.createBridgeTransactionFromRelayQuote({quote:P,from:F.address,cluster:j});if(N)try{u(!0);let{connection:L,transaction:B}=N,T=await L.simulateTransaction(B);if(T.value.err)return($=T.value.logs)!=null&&$.find(U=>/insufficient (lamports|funds)/gi.test(U))?void g(new ee(`Wallet ${PF(F==null?void 0:F.address)} does not have enough funds. ${P.details.currencyIn.amountFormatted} ${D} are needed to complete the transaction.`,void 0,ne.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",T.value.err),void g(new ee("Something went wrong",void 0,ne.TRANSACTION_FAILURE)));let z=await F.sendTransaction(B,L),q=await L.confirmTransaction(z);if(q.value.err)return console.error("Transaction failed:",q.value.err),void g(new ee("Something went wrong",void 0,ne.TRANSACTION_FAILURE));y(z),b("pending")}catch(L){if(console.error(L),/user rejected the request/gi.test(L.message||""))return void g(new ee("Transaction was rejected by the user",void 0,ne.TRANSACTION_FAILURE));g(new ee("Something went wrong",void 0,ne.TRANSACTION_FAILURE))}else g(new ee(`Unable to select bridge option from quotes. Wallet ${PF(F.address)} does not have enough funds.`,void 0,ne.INSUFFICIENT_BALANCE))})().catch(console.error)},[]),Mz({transactionHash:m,wallet:F,isTestnet:!1,bridgingStatus:w,setBridgingStatus:b,onSuccess({transactionHash:x,wallet:A}){u(!1),h(!0),e({eventName:ud,payload:{provider:"external",status:"success",txHash:x,address:A.address,chainType:"solana",clusterName:j.name,token:"SOL",destinationAddress:R,destinationChainId:_.id,destinationChainType:"ethereum",destinationValue:v,destinationToken:S?"USDC":"ETH"}})},onFailure({error:x}){u(!1),g(x)}}),k.useEffect(()=>{if(!d)return;let x=setTimeout(t,nI);return()=>clearTimeout(x)},[d]),k.useEffect(()=>{f&&(r({funding:s==null?void 0:s.funding,solanaFundingData:s==null?void 0:s.solanaFundingData,sendTransaction:s==null?void 0:s.sendTransaction,errorModalData:{error:f,previousScreen:i2}}),n(Vr,!1))},[f]),d?p.jsxs(p.Fragment,{children:[p.jsx(ac,{}),p.jsx(cd,{}),p.jsxs(X8,{children:[p.jsx(kb,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(rl,{title:"Success!",description:`Youve successfully added ${v} ${D} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),p.jsx(nl,{}),p.jsx(An,{})]}):l&&F?p.jsx(QI,{wallet:F,displayName:C,addressToFund:R,isBridging:l,isErc20Flow:!1,chainId:_.id,chainName:_.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):p.jsxs(p.Fragment,{children:[p.jsx(ac,{}),p.jsx(M1,{}),p.jsx("div",{style:{marginTop:"1rem"}}),p.jsx(An,{})]})}},Jwe={component:()=>{var h;let{data:t,setModalData:e}=He(),n=t==null?void 0:t.funding,r=n.chainType==="solana",i=k.useRef(null),{tokenPrice:s}=Gb(r?"solana":n.chain.id),o=r?void 0:n,a=!(!(o!=null&&o.erc20Address)||o!=null&&o.erc20ContractInfo),c=r?n.isUSDC?"USDC":"SOL":n.erc20Address?(h=n.erc20ContractInfo)==null?void 0:h.symbol:n.chain.nativeCurrency.symbol||"ETH",l=parseFloat(n.amount),u=!isNaN(l)&&l>0,d=s?U1e(n.amount,s):void 0;return p.jsxs(p.Fragment,{children:[p.jsx(ac,{}),p.jsx(op,{children:"Confirm or edit amount"}),p.jsxs(CI,{style:{marginTop:"32px"},children:[p.jsx(Wwe,{children:a?p.jsx(M1,{size:"50px"}):p.jsxs(p.Fragment,{children:[p.jsxs(qwe,{onClick:()=>{var f;return(f=i.current)==null?void 0:f.focus()},children:[p.jsx(T8t,{ref:i,value:n.amount,onChange:f=>{let g=f.target.value;/^[0-9.]*$/.test(g)&&g.split(".").length-1<=1&&e({...t,funding:{...n,amount:g},solanaFundingData:t!=null&&t.solanaFundingData?{...t.solanaFundingData,amount:g}:void 0})}}),p.jsx(Vwe,{children:c})]}),!(o!=null&&o.erc20Address)&&p.jsx(Kwe,{children:d&&u?`${d} USD`:""})]})}),p.jsx(vI,{style:{marginTop:"1rem"},disabled:!u,onClick:n.onContinueWithExternalWallet,children:"Continue"})]}),p.jsx(An,{})]})}},i2={component:()=>{var _,O,S,R;let t,{connectors:e}=Fe(),{app:n,setModalData:r,data:i,navigate:s}=He(),{wallets:o}=tp(),{wallets:a}=px(),[c,l]=k.useState("default"),u=((_=i==null?void 0:i.funding)==null?void 0:_.chainType)==="solana",d=!!((O=i==null?void 0:i.funding)!=null&&O.crossChainBridgingEnabled);t=((S=i==null?void 0:i.funding)==null?void 0:S.chainType)==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":d&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":d&&!((R=i.funding)!=null&&R.isUSDC)?"ethereum-and-solana":"solana-only";let h=o.filter(I=>I.walletClientType!=="privy"),f=h.map(I=>I.walletClientType),g=a.filter(I=>I.walletClientType!=="privy"),m=g.map(I=>I.walletClientType),y=[],w={...i.funding};w.usingDefaultFundingMethod&&(w.usingDefaultFundingMethod=!1);let b=({address:I,walletChainType:D,walletClientType:j})=>{r({...i,funding:{...w,connectedWalletAddress:I,onContinueWithExternalWallet:()=>s(E({destChainType:u?"solana":"ethereum",sourceChainType:D}))},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:I,walletClientType:j}}:void 0}),s(Jwe)};t!=="solana-only"&&y.push(...h.map((I,D)=>p.jsx(Qwe,{onClick:()=>b({address:I.address,walletChainType:"ethereum",walletClientType:I.walletClientType}),icon:I.meta.icon,name:I.meta.name,chainType:I.type},D))),t!=="ethereum-only"&&y.push(...g.map((I,D)=>p.jsx(Qwe,{onClick:()=>b({address:I.address,walletChainType:"solana",walletClientType:I.walletClientType}),icon:I.meta.icon,name:I.meta.name,chainType:I.type},D))),y.push(...Swe({walletList:n.appearance.walletList.filter(I=>!h.some(D=>D.walletClientType===I)&&!g.some(D=>D.walletClientType===I)),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...n.appearance.walletList,...f,...m],walletConnectEnabled:n.externalWallets.walletConnect.enabled}));let v=p.jsx(pwe,{text:"More wallets",onClick:()=>l("overflow")}),E=({sourceChainType:I,destChainType:D})=>I==="ethereum"&&D==="solana"?$ve:I==="ethereum"&&D==="ethereum"?Zwe:I==="solana"&&D==="ethereum"?Ywe:w.externalSolanaFundingScreen;return k.useEffect(()=>{r({...i,externalConnectWallet:{onCompleteNavigateTo:({address:I,walletClientType:D,walletChainType:j})=>(r({...i,funding:{...w,onContinueWithExternalWallet:()=>{s(E({destChainType:u?"solana":"ethereum",sourceChainType:j??"ethereum"}))}},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:I||"",walletClientType:D||""}}:void 0}),Jwe)}})},[]),p.jsxs(p.Fragment,c==="overflow"?{children:[p.jsx(an,{backFn:()=>l("default")},"header"),p.jsxs(QF,{children:[p.jsx(wg,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),y]}),p.jsx(An,{})]}:{children:[p.jsx(ac,{}),p.jsx(rl,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),p.jsxs(QF,{children:[y.length>4?y.slice(0,3):y,y.length>4&&v]}),p.jsx(An,{})]})}};let Qwe=({onClick:t,icon:e,name:n,chainType:r})=>p.jsxs(ei,{onClick:t,children:[p.jsx(fx,{style:{width:20},children:p.jsx("img",{src:e})}),n,p.jsx(Ih,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),r==="solana"&&p.jsx(Ih,{color:"gray",children:"Solana"})]});const Jz={component:()=>{var x,A;let{closePrivyModal:t,createAnalyticsEvent:e}=Fe(),{navigate:n,setModalData:r,app:i,data:s}=He(),{wallets:o}=px(),a=e2(),[c,l]=k.useState(0n),[u,d]=k.useState(null),[h,f]=k.useState(!1),[g,m]=k.useState(!1),y=k.useRef(!1);if(!(s!=null&&s.funding)||s.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:w,amount:b,cluster:v,connectedWalletAddress:E}=s.funding,_=function({name:P,rpcUrl:N}){if(N)return N;switch(P){case"mainnet-beta":return"https://api.mainnet-beta.solana.com";case"testnet":return"https://api.testnet.solana.com";case"devnet":return"https://api.devnet.solana.com"}}(v),{tokenPrice:O}=Gb("solana"),{fundingAmountInBaseUnit:S,totalPriceInUsd:R,totalPriceInNativeCurrency:I,feePriceInNativeCurrency:D,feePriceInUsd:j}=z1e({amount:b,fee:c,tokenPrice:O,isUsdc:s.funding.isUSDC}),F=E?o.find(({address:P})=>P===E):o[0],M=Xf((F==null?void 0:F.walletClientType)||"unknown"),C=(M==null?void 0:M.name)||"wallet";return k.useEffect(()=>{(async()=>{var P,N,$,L;if((F==null?void 0:F.type)==="solana"&&F.sendTransaction&&!h&&!y.current){y.current=!0;try{let B=a(dx);if(!B)throw new ee("Unable to load solana plugin");let{connection:T,transaction:z}=(P=s.funding)!=null&&P.isUSDC?await B.createSplTransferTransaction({from:F.address,to:w,amount:S,mintAddress:n_[v.name],cluster:v}):await B.createTransferTransaction({from:F.address,to:w,amount:S,cluster:v}),q=await z.getEstimatedFee(T);q!=null&&l(BigInt(q)),f(!0);let U=await T.simulateTransaction(z);if(U.value.err){let J=(N=U.value.logs)==null?void 0:N.find(se=>/insufficient funds/gi.test(se)),oe=($=U.value.logs)==null?void 0:$.find(se=>/insufficient lamports/gi.test(se));return J?void d(new ee(`Wallet ${to(F.address,void 0,void 0,"solana")} does not have enough funds.`,void 0,ne.INSUFFICIENT_BALANCE)):oe?void d(new ee(`Wallet ${to(F.address,void 0,void 0,"solana")} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`,void 0,ne.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",U.value.err),void d(new ee("Something went wrong",void 0,ne.TRANSACTION_FAILURE)))}let V=await F.sendTransaction(z,T),{value:Z,token:K}=(L=s.funding)!=null&&L.isUSDC?{value:es(S,6),token:"USDC"}:{value:es(S,9),token:"SOL"};e({eventName:ud,payload:{provider:"external",status:"success",txHash:V,rpcEndpoint:_,address:F.address,value:Z,chainType:"solana",clusterName:v.name,token:K,destinationAddress:w,destinationValue:Z,destinationChainType:"solana",destinationClusterName:v.name,destinationToken:K}}),f(!1),m(!0)}catch(B){if(console.error(B),f(!1),/user rejected the request/gi.test(B.message||""))return void d(new ee("Transaction was rejected by the user",void 0,ne.TRANSACTION_FAILURE));d(new ee("Something went wrong",void 0,ne.TRANSACTION_FAILURE))}}})().catch(console.error).finally(()=>y.current=!1)},[]),k.useEffect(()=>{u&&(r({funding:s==null?void 0:s.funding,solanaFundingData:s==null?void 0:s.solanaFundingData,sendTransaction:s==null?void 0:s.sendTransaction,errorModalData:{error:u,previousScreen:i2}}),n(Vr,!1))},[u]),k.useEffect(()=>{if(!g)return;let P=setTimeout(t,nI);return()=>clearTimeout(P)},[g]),g?p.jsxs(p.Fragment,{children:[p.jsx(ac,{}),p.jsx(cd,{}),p.jsxs(X8,{children:[p.jsx(kb,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(rl,{title:"Success!",description:`Youve successfully added ${b} ${(x=s.funding)!=null&&x.isUSDC?"USDC":"SOL"} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),p.jsx(nl,{}),p.jsx(An,{})]}):F&&h?p.jsx(QI,{wallet:F,displayName:C,addressToFund:w,isBridging:!1,isErc20Flow:!!((A=s.funding)!=null&&A.isUSDC),totalPriceInUsd:R,totalPriceInNativeCurrency:I,gasPriceInUsd:j,gasPriceInNativeCurrency:D,chainId:"solana",chainName:v.name}):p.jsxs(p.Fragment,{children:[p.jsx(ac,{}),p.jsx(M1,{}),p.jsx("div",{style:{marginTop:"1rem"}}),p.jsx(An,{})]})}},Xwe=({children:t,theme:e})=>p.jsxs(R8t,{$theme:e,children:[p.jsx(JU,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),p.jsx(M8t,{$theme:e,children:t})]});let R8t=G.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),M8t=G.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const j8t=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:p.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),D8t=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[p.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),p.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),p.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),p.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),p.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),p.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),p.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),eve=t=>{let[e,n]=k.useState();return k.useEffect(()=>{t().then(r=>{n(r)}).catch(()=>{})},[]),e},tve=async({address:t,chain:e,rpcConfig:n,privyAppId:r})=>{try{let i=Fd({chain:e,transport:ta(Jf(e,n,r))}),[s,o]=await Promise.all([i.readContract({abi:nve,address:t,functionName:"symbol"}),i.readContract({abi:nve,address:t,functionName:"decimals"})]);return{decimals:o,symbol:s}}catch(i){return console.log(i),null}};let nve=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];const L8t={component:()=>{let{data:t,setModalData:e,navigate:n,navigateBack:r}=He(),{closePrivyModal:i,createAnalyticsEvent:s,client:o}=Fe(),[a,c]=k.useState("pending-in-flow"),l=k.useRef(0),u={...t==null?void 0:t.funding,showAlternateFundingMethod:!0};u.usingDefaultFundingMethod&&(u.usingDefaultFundingMethod=!1);let{partnerUserId:d,popup:h}=(t==null?void 0:t.coinbaseOnrampStatus)??{};return k.useEffect(()=>{if(a==="pending-in-flow"||a==="pending-after-flow"){let f=setInterval(async()=>{if(d)try{let{status:g}=await o.getCoinbaseOnRampStatus({partnerUserId:d});if(g==="success")return void c("success");if(g==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(l.current>=3)return e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),void n(oc);h!=null&&h.closed&&(l.current=l.current+1,c("pending-after-flow"))}catch(g){console.error(g),c("error"),s({eventName:ud,payload:{status:"failure",provider:"coinbase-onramp",error:g.message}}),e({funding:{...u,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:t==null?void 0:t.solanaFundingData}),n(oc)}},1500);return()=>clearInterval(f)}},[d,h,a]),p.jsxs(p.Fragment,{children:[p.jsx(an,{title:"Fund account",backFn:()=>{e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),r()}},"header"),p.jsx(B8t,{status:a,onClickCta:i}),p.jsx(An,{})]})}};let B8t=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=k.useMemo(()=>(s=>{switch(s){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t),[t]);return p.jsxs(p.Fragment,{children:[p.jsxs(z8t,{children:[p.jsx(U8t,{isSucccess:t==="success"}),p.jsxs(hz,{children:[p.jsx("h3",{children:n}),p.jsx(F8t,{children:r})]})]}),i&&p.jsx(er,{onClick:e,children:i})]})},U8t=({isSucccess:t})=>{if(!t){let r="var(--privy-color-foreground-4)";return p.jsxs("div",{style:{position:"relative"},children:[p.jsx(tu,{color:r,style:{position:"absolute"}}),p.jsx(ez,{color:r}),p.jsx(ebt,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(r=>r?U8:()=>p.jsx(fF,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),n=(r=>r?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return p.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&p.jsx(e,{width:"4rem",height:"4rem",color:n})})},F8t=G.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),z8t=G.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),W8t={[Tl.id]:"ethereum",[$l.id]:"base",[zd.id]:"optimism",[ja.id]:"polygon",[kl.id]:"arbitrum"};const rve=(t,e,n,r,i,s)=>new Promise(async(o,a)=>{let c=$I();if(!c)return void a(Error("Unable to initialize flow"));let l=e.chainType==="ethereum"?function(g){let m=W8t[g];if(!m)throw new ee(`Unsupported chainId: ${g} for Coinbase Onramp`);return m}(e.chain.id):"solana",u=e.isUSDC?"USDC":e.chainType==="ethereum"?Cze(e.chain.id):"SOL",d=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[l]}],assets:[u]}),{url:h}=xze({appId:t.getAppId(),input:d,amount:e.amount,blockchain:l,asset:u,experience:s});c.location=h.toString();let f={...i==null?void 0:i.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(f.usingDefaultFundingMethod=!1),n({funding:f,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{popup:c}}),r(L8t),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),setTimeout(()=>{n({funding:f,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:d.partner_user_id,popup:c}})},5e3),o()}),q8t=({size:t=61,...e})=>p.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:p.jsxs("g",{id:"moonpay_symbol_wht 2",children:[p.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),p.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),ive={component:()=>{let{app:t,data:e,setModalData:n,navigateBack:r}=He(),{closePrivyModal:i}=Fe(),{externalTransactionId:s}=e==null?void 0:e.moonpayStatus,o=function(a,c=!1){let[l,u]=k.useState(null),{createAnalyticsEvent:d}=Fe(),{data:h,navigate:f,setModalData:g}=He(),m=h==null?void 0:h.funding,y=k.useRef(0);return k.useEffect(()=>{let w=setInterval(async()=>{var b,v;if(a)try{let[E]=await async function(O,S){return ose(`${S?zvt:Fvt}/transactions/ext/${O}`,{query:{apiKey:S?qvt:Wvt}})}(a,c),_=E.status==="waitingAuthorization"&&E.paymentMethod==="credit_debit_card"?"pending":E.status;if(["failed","completed","awaitingAuthorization"].includes(_)&&(d({eventName:ud,payload:{status:_,provider:ove,paymentMethod:E.paymentMethod,cardPaymentType:E.cardPaymentType,currency:(b=E.currency)==null?void 0:b.code,baseCurrencyAmount:E.baseCurrencyAmount,quoteCurrencyAmount:E.quoteCurrencyAmount,feeAmount:E.feeAmount,extraFeeAmount:E.extraFeeAmount,networkFeeAmount:E.networkFeeAmount,isSandbox:c}}),clearInterval(w)),_==="failed"||_==="serviceFailure")return g({funding:{...m,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:h==null?void 0:h.solanaFundingData}),void f(oc);u(_)}catch(E){((v=E.response)==null?void 0:v.status)!==404&&(y.current+=1),y.current>=3&&(d({eventName:ud,payload:{status:"serviceFailure",provider:ove}}),clearInterval(w),g({funding:{...m,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:h==null?void 0:h.solanaFundingData}),f(oc))}},3e3);return()=>clearInterval(w)},[a,y]),l}(s||null,t.fundingMethodConfig.moonpay.useSandbox??!1);return p.jsxs(p.Fragment,{children:[p.jsx(an,{title:"Fund account",backFn:()=>{let a={...e==null?void 0:e.funding,showAlternateFundingMethod:!0};a.usingDefaultFundingMethod&&(a.usingDefaultFundingMethod=!1),n({funding:a,solanaFundingData:e==null?void 0:e.solanaFundingData}),r()}}),p.jsx(H8t,{status:o,onClickCta:i}),p.jsx(An,{})]})}};let H8t=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=k.useMemo(()=>(s=>{switch(s){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t),[t]);return p.jsxs(p.Fragment,{children:[p.jsxs(G8t,{children:[p.jsx(V8t,{status:t}),p.jsxs(hz,{children:[p.jsx("h3",{children:n}),p.jsx(K8t,{children:r})]})]}),i&&p.jsx(er,{onClick:e,children:i})]})},V8t=({status:t})=>{if(!t||t==="pending"){let r="var(--privy-color-foreground-4)";return p.jsxs("div",{style:{position:"relative"},children:[p.jsx(tu,{color:r,style:{position:"absolute"}}),p.jsx(ez,{color:r}),p.jsx(q8t,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(r=>{switch(r){case"completed":return U8;case"waitingAuthorization":return()=>p.jsx(fF,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),n=(r=>r?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[r]:"var(--privy-color-foreground-4)")(t);return p.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&p.jsx(e,{width:"4rem",height:"4rem",color:n})})},K8t=G.p.withConfig({displayName:"StatusBody",componentId:"sc-75e2a891-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),G8t=G.div.withConfig({displayName:"ConnectContainer",componentId:"sc-75e2a891-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const Z8t=async(t,e,n,r,i,s,o,a)=>{var f,g;let c=$I();if(!c)throw Error("Unable to initialize flow");let l=e.chainType==="ethereum"?((f=e.moonpayConfigOverride)==null?void 0:f.currencyCode)??YFe(e.chain.id,r):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:u,externalTransactionId:d}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:n.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:n.appearance.palette.accent,theme:n.appearance.palette.colorScheme},...e.moonpayConfigOverride,paymentMethod:a,currencyCode:l,quoteCurrencyAmount:((g=e.moonpayConfigOverride)==null?void 0:g.quoteCurrencyAmount)??Q8t(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),c.location=u;let h={...o==null?void 0:o.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(h.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:h,solanaFundingData:o==null?void 0:o.solanaFundingData}),s(ive),setTimeout(()=>{i({moonpayStatus:{externalTransactionId:d},funding:h,solanaFundingData:o==null?void 0:o.solanaFundingData})},8e3)};let sve=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const Y8t=()=>sve("https://apple.com/apple-pay"),J8t=()=>sve("https://google.com/pay"),oc={component:()=>{var v,E,_,O;let{wallets:t}=tp(),{wallets:e}=px(),{navigate:n,data:r,setModalData:i}=He(),{client:s}=Fe(),o=Tn(),a=r==null?void 0:r.funding,c=eve(Y8t),l=eve(J8t),u=a.chainType==="solana",d=u?void 0:a,h=k.useMemo(()=>((S,R,I,D,j,F)=>{var B;let M,C,x=I.chainType==="solana",A=x?void 0:I,P=I.isUSDC?"USDC":A!=null&&A.erc20Address?void 0:"native-currency",N=!!x||P&&ZFe(Number(I.chain.id),P),$=!!x||P&&Eze(Number(I.chain.id),P),L=[];for(let T of(I.preferredCardProvider&&I.supportedOptions.sort(z=>z.provider===I.preferredCardProvider?-1:1),I.supportedOptions))T.method==="card"&&T.provider==="coinbase"&&$&&L.push(()=>rve(R,I,D,j,F,"buy")),T.method==="card"&&T.provider==="moonpay"&&N&&P&&L.push(()=>Z8t(R,I,S,P,D,j,F,"credit_debit_card"));for(let T of I.supportedOptions)T.method==="exchange"&&T.provider==="coinbase"&&$&&(M=()=>rve(R,I,D,j,F,"buy"));for(let T of((B=F==null?void 0:F.funding)==null?void 0:B.supportedOptions)??[])T.method==="wallets"&&(C=()=>j(i2));return{onFundWithCard:L,onFundWithExchange:M,onFundWithWallet:C}})(o,s,a,i,n,r),[o,s,a,r,i,n]),f=u?e.find(({address:S})=>S===a.address):t.find(({address:S})=>Ei(S)===Ei(a.address)),g=Xf((f==null?void 0:f.walletClientType)||"unknown"),m=(g==null?void 0:g.name)||"wallet",y=f&&f.walletClientType!=="privy"?m:o.name,w=k.useMemo(()=>{var S,R,I,D;return(R=(S=a.uiConfig)==null?void 0:S.landing)!=null&&R.title?(D=(I=a.uiConfig)==null?void 0:I.landing)==null?void 0:D.title:`Add funds to your ${y!=null&&y.toLowerCase().endsWith("wallet")?y:y+" wallet"}`},[(E=(v=a.uiConfig)==null?void 0:v.landing)==null?void 0:E.title,y]);k.useEffect(()=>{if(a!=null&&a.defaultFundingMethod&&a.usingDefaultFundingMethod)switch(i({funding:{...a,usingDefaultFundingMethod:!1},solanaFundingData:r==null?void 0:r.solanaFundingData}),a==null?void 0:a.defaultFundingMethod){case"card":h.onFundWithCard[0]&&h.onFundWithCard[0]();break;case"exchange":h.onFundWithExchange&&h.onFundWithExchange();break;case"wallet":h.onFundWithWallet&&h.onFundWithWallet();break;case"manual":n(XI)}},[]),k.useEffect(()=>{d!=null&&d.erc20Address&&!d.erc20ContractInfo&&tve({address:d.erc20Address,chain:d.chain,rpcConfig:o.rpcConfig,privyAppId:o.id}).then(S=>{i({...r,funding:{...d,erc20ContractInfo:S?{symbol:S.symbol,decimals:S.decimals}:void 0}})}).catch(console.error)},[d==null?void 0:d.erc20Address,d==null?void 0:d.chain]);let b=!(!(d!=null&&d.erc20Address)||d!=null&&d.erc20ContractInfo);return p.jsxs(p.Fragment,{children:[p.jsx(ac,{}),p.jsx("h3",{children:w}),p.jsxs($8t,{children:[a.errorMessage&&p.jsx(Xwe,{theme:o.appearance.palette.colorScheme,children:a.errorMessage}),((_=h.onFundWithCard)==null?void 0:_[0])&&p.jsxs(ei,{disabled:b,onClick:h.onFundWithCard[0],children:[p.jsx(fx,{children:p.jsx(Cwt,{style:{width:24}})}),"Pay with card",c?p.jsx(j8t,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):l?p.jsx(D8t,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),h.onFundWithExchange&&p.jsxs(ei,{disabled:b,onClick:h.onFundWithExchange,children:[p.jsx(fx,{children:p.jsx(fF,{style:{width:24}})}),"Transfer from an exchange"]}),h.onFundWithWallet&&p.jsxs(ei,{disabled:b,onClick:h.onFundWithWallet,children:[p.jsx(fx,{children:p.jsx(Qye,{style:{width:24}})}),"Transfer from wallet"]}),p.jsxs(ei,{disabled:b,onClick:()=>n(XI),children:[p.jsx(fx,{children:p.jsx(zwt,{style:{width:24}})}),"Receive funds"]}),(a==null?void 0:a.showAlternateFundingMethod)&&((O=h.onFundWithCard)==null?void 0:O[1])&&p.jsx(Nwe,{theme:o.appearance.palette.colorScheme,children:p.jsxs(P8t,{children:["Having trouble or facing location restrictions?"," ",p.jsx(N8t,{onClick:h.onFundWithCard[1],children:"Try a different provider."})]})})]}),p.jsx(An,{})]})}},ove="moonpay";function Q8t(t){return parseFloat(t)}function X8t(t){return!!t&&t.config!==void 0&&t.provider!==void 0}function Qz(t){return!!t&&(t.chain!==void 0||t.amount!==void 0)}const ave={[Tl.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[fM.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[zd.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[b7.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[ja.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[k6.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[$l.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[w7.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Ww.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[hM.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[kl.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[y7.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},cve=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1})=>{var g;let o,a;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let c=Kz(e.fundingConfig.options);if(c.length<1)throw Error("Wallet funding is not enabled");o=i||(Qz(n)&&n.chain?n.chain.id:gye(e.fundingConfig.defaultRecommendedCurrency.chain));let l=e.chains.find(m=>m.id===o);if(!l)throw new ee(`Funding chain ${o} is not in PrivyProvider chains list`);let u=Qz(n)&&n.amount?n.amount:e.fundingConfig.defaultRecommendedAmount,d=!1;function h(){if(!o)return;let m=ave[o];c.find(y=>y.method==="wallets")&&!m&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),a=m,d=!0}Qz(n)&&"asset"in n?n.asset==="USDC"?h():typeof n.asset!="string"&&"erc20"in n.asset&&(d=((m,y)=>m===ave[y.id])(a=n.asset.erc20,l)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&h();let f=n==null?void 0:n.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:u,chain:l,erc20Address:a,erc20ContractInfo:d?{symbol:"USDC",decimals:6}:void 0,isUSDC:d,methodScreen:r,supportedOptions:c,comingFromSendTransactionScreen:s,defaultFundingMethod:f,usingDefaultFundingMethod:!!f,preferredCardProvider:(g=n==null?void 0:n.card)==null?void 0:g.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,cluster:{name:"mainnet-beta",rpcUrl:e.solanaClusters["mainnet-beta"].rpcUrl},...X8t(n)?{moonpayConfigOverride:n.config}:{},uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:Jz}};function ext({address:t,fundWalletConfig:e,appConfig:n,comingFromSendTransactionScreen:r,externalSolanaFundingScreen:i,methodScreen:s}){var l,u,d,h;if(!n.fundingConfig)throw Error("Wallet funding is not enabled");let o=Kz(n.fundingConfig.options);if(o.length<1)throw Error("Wallet funding is not enabled");if((e==null?void 0:e.asset)==="USDC"&&((l=e==null?void 0:e.cluster)==null?void 0:l.name)==="testnet")throw Error("USDC funding is not supported on the Solana testnet");let a=(e==null?void 0:e.amount)??n.fundingConfig.defaultRecommendedAmount,c=e==null?void 0:e.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:o,amount:a,isUSDC:(e==null?void 0:e.asset)==="USDC",methodScreen:s,comingFromSendTransactionScreen:r,cluster:{name:((u=e==null?void 0:e.cluster)==null?void 0:u.name)??"mainnet-beta",rpcUrl:n.solanaClusters[((d=e==null?void 0:e.cluster)==null?void 0:d.name)??"mainnet-beta"].rpcUrl},crossChainBridgingEnabled:n.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:c,preferredCardProvider:(h=e==null?void 0:e.card)==null?void 0:h.preferredProvider,usingDefaultFundingMethod:!!c,uiConfig:e==null?void 0:e.uiConfig,externalSolanaFundingScreen:i}}const lve=({children:t,theme:e})=>p.jsxs(txt,{$theme:e,children:[p.jsx(Jm,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),p.jsx(nxt,{$theme:e,children:t})]});let txt=G.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),nxt=G.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const rxt=({address:t,accessToken:e,appConfigTheme:n,onClose:r,isLoading:i=!1,exportButtonProps:s})=>p.jsx(xn,{title:"Export wallet",subtitle:p.jsxs(p.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",p.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:r,watermark:!0,children:p.jsxs(ixt,{children:[p.jsx(lve,{theme:n,children:"Never share your private key or seed phrase with anyone."}),p.jsx(YI,{title:"Your wallet",address:t,showCopyButton:!0}),p.jsx("div",{style:{width:"100%"},children:i?p.jsx(sxt,{}):e&&s&&p.jsx(cxt,{accessToken:e,dimensions:{height:"44px"},...s})})]})});let ixt=G.div.withConfig({displayName:"ContentContainer",componentId:"sc-e0132ced-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),sxt=()=>p.jsx(oxt,{children:p.jsx(axt,{children:"Loading..."})}),oxt=G.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-e0132ced-1"})(["display:flex;gap:12px;height:44px;"]),axt=G.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-e0132ced-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function cxt(t){let[e,n]=k.useState(t.dimensions.width),[r,i]=k.useState(void 0),s=k.useRef(null);k.useEffect(()=>{if(s.current&&e===void 0){let{width:c}=s.current.getBoundingClientRect();n(c)}let a=getComputedStyle(document.documentElement);i({background:a.getPropertyValue("--privy-color-background"),background2:a.getPropertyValue("--privy-color-background-2"),foreground3:a.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:a.getPropertyValue("--privy-color-foreground-accent"),accent:a.getPropertyValue("--privy-color-accent"),accentDark:a.getPropertyValue("--privy-color-accent-dark"),success:a.getPropertyValue("--privy-color-success"),colorScheme:a.getPropertyValue("color-scheme")})},[]);let o=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return p.jsx("div",{ref:s,children:e&&p.jsxs(lxt,{children:[p.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:Qme(t.origin,`/apps/${t.appId}/embedded-wallets/export`,t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...r}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...r},{token:t.accessToken})}),p.jsx(uve,{children:"Loading..."}),o&&p.jsx(uve,{children:"Loading..."})]})})}const Xz={component:()=>{let[t,e]=k.useState(null),{authenticated:n,user:r}=fn(),{closePrivyModal:i,createAnalyticsEvent:s,clientAnalyticsId:o,client:a}=Fe(),c=Tn(),{data:l,onUserCloseViaDialogOrKeybindRef:u}=He(),{onFailure:d,onSuccess:h,origin:f,appId:g,appClientId:m,entropyId:y,entropyIdVerifier:w,walletId:b,hdWalletIndex:v,chainType:E,address:_,isUnifiedWallet:O,imported:S}=l.keyExport,R=D=>{i({shouldCallAuthOnSuccess:!1}),d(typeof D=="string"?Error(D):D)},I=()=>{i({shouldCallAuthOnSuccess:!1}),h(),s({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:_}})};return k.useEffect(()=>{if(!n)return R("User must be authenticated before exporting their wallet");a.getAccessToken().then(e).catch(R)},[n,r]),u.current=I,p.jsx(rxt,{address:_,accessToken:t,appConfigTheme:c.appearance.palette.colorScheme,onClose:I,isLoading:!t,exportButtonProps:t?{origin:f,appId:g,appClientId:m,clientAnalyticsId:o,entropyId:y,entropyIdVerifier:w,walletId:b,hdWalletIndex:v,isUnifiedWallet:O,imported:S,chainType:E}:void 0})}};let lxt=G.div.withConfig({displayName:"ButtonContainer",componentId:"sc-e0132ced-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),uve=G.div.withConfig({displayName:"LoadingButton",componentId:"sc-e0132ced-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const uxt=({connectionFailed:t,onClose:e})=>p.jsx(xn,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:bA,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),vg={component:()=>{let{authenticated:t,user:e}=fn(),{client:n,closePrivyModal:r,createAnalyticsEvent:i,walletProxy:s}=Fe(),{navigate:o,data:a,setModalData:c,onUserCloseViaDialogOrKeybindRef:l}=He(),u=k.useMemo(()=>Date.now(),[]),[d,h]=k.useState(!1),{onCompleteNavigateTo:f,onFailure:g,shouldForceMFA:m,entropyId:y,entropyIdVerifier:w,recoveryMethod:b,connectingWalletAddress:v,isUnifiedWallet:E=!1}=a==null?void 0:a.connectWallet,_=O=>{d||(h(!0),g(typeof O=="string"?Error(O):O))};return k.useEffect(()=>{let O;return t?s?((async()=>{let S=await n.getAccessToken();if(!S)return _("User must be authenticated and have a Privy wallet before it can be connected");try{E||await s.connect({accessToken:S,entropyId:y,entropyIdVerifier:w}),m&&await s.verifyMfa({accessToken:S});let R=(Date.now()-u)/1e3;f===Xz&&R<1?O=setTimeout(()=>{o(f,!1)},1e3*(1-R)):o(f,!1)}catch(R){if(nx(R)&&b==="privy"){let I=await n.getAccessToken();if(!I)return _("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:v}});let D=await(s==null?void 0:s.recover({accessToken:I,entropyId:y,entropyIdVerifier:w}));D!=null&&D.entropyId||_(Error("Unable to recover wallet")),f?o(f):r({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:v}}),o(f)}catch{_("An error has occurred, please try again.")}}else nx(R)&&b!=="privy"&&b!=="privy-v2"?(c({...a,recoverWallet:{entropyId:y,entropyIdVerifier:w,onCompleteNavigateTo:f,onFailure:g},recoveryOAuthStatus:{provider:b,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),o(Pwe(b))):_(R)}})(),()=>clearTimeout(O)):void 0:_("User must be authenticated and have a Privy wallet before it can be connected")},[t,e,s]),l.current=()=>{_("User exited before wallet could be connected"),r({shouldCallAuthOnSuccess:!1})},p.jsx(uxt,{connectionFailed:d,onClose:()=>r({shouldCallAuthOnSuccess:!1})})}},dve=G(it).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]);var hve=({iconUrl:t,value:e,symbol:n,usdValue:r,nftName:i,nftCount:s,decimals:o,$isLoading:a})=>{if(a)return p.jsx(fve,{$isLoading:a});let c=e&&r&&o?function(l,u,d){let h=parseFloat(l),f=parseFloat(d);if(h===0||f===0||Number.isNaN(h)||Number.isNaN(f))return l;let g=Math.ceil(-Math.log10(.01/(f/h))),m=Math.pow(10,g=Math.max(g=Math.min(g,u),1)),y=+(Math.floor(h*m)/m).toFixed(g).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:u}).format(y)}(e,o,r):e;return p.jsxs("div",{children:[p.jsxs(fve,{$isLoading:a,children:[t&&p.jsx(hxt,{src:t,alt:"Token icon"}),s&&s>1?s+"x":void 0," ",i,c," ",n]}),r&&p.jsxs(dxt,{$isLoading:a,children:["$",r]})]})};let fve=G.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],HI);const dxt=G.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],HI);let hxt=G.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const fxt=t=>{var a,c,l,u,d,h,f,g;let{chain:e,transactionDetails:n,isTokenContractInfoLoading:r,symbol:i}=t,{action:s,functionName:o}=n;return p.jsx(ZI,{children:p.jsxs(r2,{children:[s!=="transaction"&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Action"}),p.jsx(yt,{children:o})]}),o==="mint"&&"args"in n&&n.args.filter(m=>m).map((m,y)=>{var w,b;return p.jsxs(Ve,{children:[p.jsx(it,{children:`Param ${y}`}),p.jsx(yt,{children:typeof m=="string"&&Li(m)?p.jsx(un,{address:m,url:(b=(w=e==null?void 0:e.blockExplorers)==null?void 0:w.default)==null?void 0:b.url,showCopyIcon:!1}):m==null?void 0:m.toString()})]},y)}),o==="setApprovalForAll"&&n.operator&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Operator"}),p.jsx(yt,{children:p.jsx(un,{address:n.operator,url:(c=(a=e==null?void 0:e.blockExplorers)==null?void 0:a.default)==null?void 0:c.url,showCopyIcon:!1})})]}),o==="setApprovalForAll"&&n.approved!==void 0&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Set approval to"}),p.jsx(yt,{children:n.approved?"true":"false"})]}),o==="transfer"||o==="transferFrom"||o==="safeTransferFrom"||o==="approve"?p.jsxs(p.Fragment,{children:["formattedAmount"in n&&n.formattedAmount&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Amount"}),p.jsxs(yt,{$isLoading:r,children:[n.formattedAmount," ",i]})]}),"tokenId"in n&&n.tokenId&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Token ID"}),p.jsx(yt,{children:n.tokenId.toString()})]})]}):null,o==="safeBatchTransferFrom"&&p.jsxs(p.Fragment,{children:["amounts"in n&&n.amounts&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Amounts"}),p.jsx(yt,{children:n.amounts.join(", ")})]}),"tokenIds"in n&&n.tokenIds&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Token IDs"}),p.jsx(yt,{children:n.tokenIds.join(", ")})]})]}),o==="approve"&&n.spender&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Spender"}),p.jsx(yt,{children:p.jsx(un,{address:n.spender,url:(u=(l=e==null?void 0:e.blockExplorers)==null?void 0:l.default)==null?void 0:u.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&n.transferFrom&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Transferring from"}),p.jsx(yt,{children:p.jsx(un,{address:n.transferFrom,url:(h=(d=e==null?void 0:e.blockExplorers)==null?void 0:d.default)==null?void 0:h.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&n.transferTo&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Transferring to"}),p.jsx(yt,{children:p.jsx(un,{address:n.transferTo,url:(g=(f=e==null?void 0:e.blockExplorers)==null?void 0:f.default)==null?void 0:g.url,showCopyIcon:!1})})]})]})})},pxt=({variant:t,setPreventMaliciousTransaction:e,colorScheme:n="light",preventMaliciousTransaction:r})=>t==="warn"?p.jsx(pve,{children:p.jsxs(lve,{theme:n,children:[p.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),p.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?p.jsx(p.Fragment,{children:p.jsxs(pve,{children:[p.jsx(Xwe,{theme:n,children:p.jsxs("div",{children:[p.jsx("strong",{children:"This is a malicious transaction"}),p.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),p.jsxs(gxt,{children:[p.jsx(Tye,{color:"var(--privy-color-error)",checked:!r,readOnly:!0,onClick:()=>e(!r)}),p.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let pve=G.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),gxt=G.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const mxt=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,yxt=({img:t,submitError:e,prepareError:n,onClose:r,action:i,title:s,subtitle:o,to:a,tokenAddress:c,network:l,missingFunds:u,fee:d,from:h,cta:f,disabled:g,chain:m,isSubmitting:y,isPreparing:w,isTokenPriceLoading:b,isTokenContractInfoLoading:v,isSponsored:E,symbol:_,balance:O,onClick:S,transactionDetails:R,transactionIndex:I,maxIndex:D,onBack:j,chainName:F,validation:M,hasScanDetails:C,setIsScanDetailsOpen:x,preventMaliciousTransaction:A,setPreventMaliciousTransaction:P,tokensSent:N,tokensReceived:$,isScanning:L,isCancellable:B,functionName:T})=>{var J,oe,se,ae,fe,ce;let{showTransactionDetails:z,setShowTransactionDetails:q,hasMoreDetails:U,isErc20Ish:V}=(de=>{let[ot,he]=k.useState(!1),Ae=!0,_e=!1;return(!de||de.isErc20Ish||de.action==="transaction")&&(Ae=!1),Ae&&(_e=Object.entries(de||{}).some(([ge,Ee])=>Ee&&!["action","isErc20Ish","isNFTIsh"].includes(ge))),{showTransactionDetails:ot,setShowTransactionDetails:he,hasMoreDetails:Ae&&_e,isErc20Ish:de==null?void 0:de.isErc20Ish}})(R),Z=Tn(),K=V&&v||w||b||L;return p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:r,backFn:j}),t&&p.jsx(yve,{children:t}),p.jsxs(op,{style:{marginTop:t?"1.5rem":0},children:[s,p.jsx(mxt,{maxIndex:D,transactionIndex:I})]}),p.jsx(wg,{children:o}),p.jsxs(r2,{style:{marginTop:"2rem"},children:[(!!N[0]||K)&&p.jsxs(Ve,{children:[$.length>0?p.jsx(it,{children:"Send"}):p.jsx(it,{children:i==="approve"?"Approval amount":"Amount"}),p.jsx("div",{className:"flex flex-col",children:N.map((de,ot)=>p.jsx(hve,{iconUrl:de.iconUrl,value:T==="setApprovalForAll"?"All":de.value,usdValue:de.usdValue,symbol:de.symbol,nftName:de.nftName,nftCount:de.nftCount,decimals:de.decimals},ot))})]}),$.length>0&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Receive"}),p.jsx("div",{className:"flex flex-col",children:$.map((de,ot)=>p.jsx(hve,{iconUrl:de.iconUrl,value:de.value,usdValue:de.usdValue,symbol:de.symbol,nftName:de.nftName,nftCount:de.nftCount,decimals:de.decimals},ot))})]}),R&&"spender"in R&&(R!=null&&R.spender)?p.jsxs(Ve,{children:[p.jsx(it,{children:"Spender"}),p.jsx(yt,{children:p.jsx(un,{address:R.spender,url:(oe=(J=m==null?void 0:m.blockExplorers)==null?void 0:J.default)==null?void 0:oe.url})})]}):null,a&&p.jsxs(Ve,{children:[p.jsx(it,{children:"To"}),p.jsx(yt,{children:p.jsx(un,{address:a,url:(ae=(se=m==null?void 0:m.blockExplorers)==null?void 0:se.default)==null?void 0:ae.url,showCopyIcon:!0})})]}),c&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Token address"}),p.jsx(yt,{children:p.jsx(un,{address:c,url:(ce=(fe=m==null?void 0:m.blockExplorers)==null?void 0:fe.default)==null?void 0:ce.url})})]}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Network"}),p.jsx(yt,{children:l})]}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Estimated fee"}),p.jsx(yt,{$isLoading:w||b||E===void 0,children:E?p.jsxs(vxt,{children:[p.jsxs(bxt,{children:["Sponsored by ",Z.name]}),p.jsx(dwt,{height:16,width:16})]}):d})]}),U&&!C&&p.jsxs(p.Fragment,{children:[p.jsx(Ve,{className:"cursor-pointer",onClick:()=>q(!z),children:p.jsxs(i8t,{className:"flex items-center gap-x-1",children:["Details"," ",p.jsx(F_,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:z?"rotate(180deg)":void 0}})]})}),z&&R&&p.jsx(fxt,{action:i,chain:m,transactionDetails:R,isTokenContractInfoLoading:v,symbol:_})]}),C&&p.jsx(Ve,{children:p.jsxs(dve,{onClick:()=>x(!0),children:[p.jsx("span",{className:"text-color-primary",children:"Details"}),p.jsx(VKe,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),p.jsx(hg,{}),e?p.jsx(rp,{style:{marginTop:"2rem"},children:e.message}):n&&I===0?p.jsx(rp,{style:{marginTop:"2rem"},children:n.shortMessage??mve}):null,p.jsx(pxt,{variant:M,preventMaliciousTransaction:A,setPreventMaliciousTransaction:P}),p.jsx(gve,{$useSmallMargins:!(!n&&!e&&M!=="warn"&&M!=="error"),address:h,balance:O,errMsg:w||n||e||!u?void 0:`Add funds on ${(m==null?void 0:m.name)??F} to complete transaction.`}),p.jsx(er,{style:{marginTop:"1rem"},loading:y,disabled:g||w,onClick:S,children:f}),B&&p.jsx(bI,{style:{marginTop:"1rem"},onClick:r,isSubmitting:!1,children:"Not now"}),p.jsx(An,{})]})},wxt=({img:t,title:e,subtitle:n,cta:r,instructions:i,network:s,blockExplorerUrl:o,isMissingFunds:a,submitError:c,parseError:l,total:u,swap:d,transactingWalletAddress:h,fee:f,balance:g,disabled:m,isSubmitting:y,isPreparing:w,isTokenPriceLoading:b,onClick:v,onClose:E,onBack:_})=>{let O=w||b,[S,R]=k.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:E,backFn:_}),t&&p.jsx(yve,{children:t}),p.jsx(op,{style:{marginTop:t?"1.5rem":0},children:e}),p.jsx(wg,{children:n}),p.jsxs(r2,{style:{marginTop:"2rem",marginBottom:".5rem"},children:[(u||O)&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Amount"}),p.jsx(yt,{$isLoading:O,children:u})]}),d&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Swap"}),p.jsx(yt,{children:d})]}),s&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Network"}),p.jsx(yt,{children:s})]}),(f||O)&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Estimated fee"}),p.jsx(yt,{$isLoading:O,children:f})]})]}),p.jsx(Ve,{children:p.jsxs(dve,{onClick:()=>R(I=>!I),children:[p.jsx("span",{children:"Advanced"}),p.jsx(F_,{height:"16px",width:"16px",strokeWidth:"2",style:{transition:"all 300ms",transform:S?"rotate(180deg)":void 0}})]})}),S&&p.jsx(p.Fragment,{children:i.map((I,D)=>I.type==="sol-transfer"?p.jsxs(su,{children:[p.jsx(Ve,{children:p.jsxs(sc,{children:["Transfer ",I.withSeed?"with seed":""]})}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Amount"}),p.jsxs(yt,{children:[sa({amount:I.value,decimals:I.token.decimals})," ",I.token.symbol]})]}),!!I.toAccount&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Destination"}),p.jsx(yt,{children:p.jsx(un,{address:I.toAccount,url:o})})]})]},D):I.type==="spl-transfer"?p.jsxs(su,{children:[p.jsx(Ve,{children:p.jsxs(sc,{children:["Transfer ",I.token.symbol]})}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Amount"}),p.jsx(yt,{children:I.value.toString()})]}),!!I.fromAta&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Source"}),p.jsx(yt,{children:p.jsx(un,{address:I.fromAta,url:o})})]}),!!I.toAta&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Destination"}),p.jsx(yt,{children:p.jsx(un,{address:I.toAta,url:o})})]}),!!I.token.address&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Token"}),p.jsx(yt,{children:p.jsx(un,{address:I.token.address,url:o})})]})]},D):I.type==="ata-creation"?p.jsxs(su,{children:[p.jsx(Ve,{children:p.jsx(sc,{children:"Create token account"})}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Program ID"}),p.jsx(yt,{children:p.jsx(un,{address:I.program,url:o})})]}),!!I.owner&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Owner"}),p.jsx(yt,{children:p.jsx(un,{address:I.owner,url:o})})]})]},D):I.type==="create-account"?p.jsxs(su,{children:[p.jsx(Ve,{children:p.jsxs(sc,{children:["Create account ",I.withSeed?"with seed":""]})}),!!I.account&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Account"}),p.jsx(yt,{children:p.jsx(un,{address:I.account,url:o})})]}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Amount"}),p.jsxs(yt,{children:[sa({amount:I.value,decimals:9})," SOL"]})]})]},D):I.type==="spl-init-account"?p.jsxs(su,{children:[p.jsx(Ve,{children:p.jsx(sc,{children:"Initialize token account"})}),!!I.account&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Account"}),p.jsx(yt,{children:p.jsx(un,{address:I.account,url:o})})]}),!!I.mint&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Mint"}),p.jsx(yt,{children:p.jsx(un,{address:I.mint,url:o})})]}),!!I.owner&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Owner"}),p.jsx(yt,{children:p.jsx(un,{address:I.owner,url:o})})]})]},D):I.type==="spl-close-account"?p.jsxs(su,{children:[p.jsx(Ve,{children:p.jsx(sc,{children:"Close token account"})}),!!I.source&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Source"}),p.jsx(yt,{children:p.jsx(un,{address:I.source,url:o})})]}),!!I.destination&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Destination"}),p.jsx(yt,{children:p.jsx(un,{address:I.destination,url:o})})]}),!!I.owner&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Owner"}),p.jsx(yt,{children:p.jsx(un,{address:I.owner,url:o})})]})]},D):I.type==="spl-sync-native"?p.jsxs(su,{children:[p.jsx(Ve,{children:p.jsx(sc,{children:"Sync native"})}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Program ID"}),p.jsx(yt,{children:p.jsx(un,{address:I.program,url:o})})]})]},D):I.type==="raydium-swap-base-input"?p.jsxs(su,{children:[p.jsx(Ve,{children:p.jsxs(sc,{children:["Raydium swap"," ",I.tokenIn&&I.tokenOut?`${I.tokenIn.symbol}  ${I.tokenOut.symbol}`:""]})}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Amount in"}),p.jsx(yt,{children:I.amountIn.toString()})]}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Minimum amount out"}),p.jsx(yt,{children:I.minimumAmountOut.toString()})]}),I.mintIn&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Token in"}),p.jsx(yt,{children:p.jsx(un,{address:I.mintIn,url:o})})]}),I.mintOut&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Token out"}),p.jsx(yt,{children:p.jsx(un,{address:I.mintOut,url:o})})]})]},D):I.type==="raydium-swap-base-output"?p.jsxs(su,{children:[p.jsx(Ve,{children:p.jsxs(sc,{children:["Raydium swap"," ",I.tokenIn&&I.tokenOut?`${I.tokenIn.symbol}  ${I.tokenOut.symbol}`:""]})}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Max amount in"}),p.jsx(yt,{children:I.maxAmountIn.toString()})]}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Amount out"}),p.jsx(yt,{children:I.amountOut.toString()})]}),I.mintIn&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Token in"}),p.jsx(yt,{children:p.jsx(un,{address:I.mintIn,url:o})})]}),I.mintOut&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Token out"}),p.jsx(yt,{children:p.jsx(un,{address:I.mintOut,url:o})})]})]},D):I.type==="jupiter-swap-shared-accounts-route"?p.jsxs(su,{children:[p.jsx(Ve,{children:p.jsxs(sc,{children:["Jupiter swap"," ",I.tokenIn&&I.tokenOut?`${I.tokenIn.symbol}  ${I.tokenOut.symbol}`:""]})}),p.jsxs(Ve,{children:[p.jsx(it,{children:"In amount"}),p.jsx(yt,{children:I.inAmount.toString()})]}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Quoted out amount"}),p.jsx(yt,{children:I.quotedOutAmount.toString()})]}),I.mintIn&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Token in"}),p.jsx(yt,{children:p.jsx(un,{address:I.mintIn,url:o})})]}),I.mintOut&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Token out"}),p.jsx(yt,{children:p.jsx(un,{address:I.mintOut,url:o})})]})]},D):I.type==="jupiter-swap-exact-out-route"?p.jsxs(su,{children:[p.jsx(Ve,{children:p.jsxs(sc,{children:["Jupiter swap"," ",I.tokenIn&&I.tokenOut?`${I.tokenIn.symbol}  ${I.tokenOut.symbol}`:""]})}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Quoted in amount"}),p.jsx(yt,{children:I.quotedInAmount.toString()})]}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Amount out"}),p.jsx(yt,{children:I.outAmount.toString()})]}),I.mintIn&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Token in"}),p.jsx(yt,{children:p.jsx(un,{address:I.mintIn,url:o})})]}),I.mintOut&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Token out"}),p.jsx(yt,{children:p.jsx(un,{address:I.mintOut,url:o})})]})]},D):p.jsxs(su,{children:[p.jsxs(Ve,{children:[p.jsx(it,{children:"Program ID"}),p.jsx(yt,{children:p.jsx(un,{address:I.program,url:o})})]}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Data"}),p.jsx(yt,{children:I.discriminator})]})]},D))}),p.jsx(hg,{}),c?p.jsx(rp,{style:{marginTop:"2rem"},children:c.message}):l?p.jsx(rp,{style:{marginTop:"2rem"},children:mve}):null,p.jsx(gve,{$useSmallMargins:!(!l&&!c),title:"Your wallet",address:h,balance:g,errMsg:w||l||c||!a?void 0:"Add funds on Solana to complete transaction."}),p.jsx(er,{style:{marginTop:"1rem"},loading:y,disabled:m||w,onClick:v,children:r}),p.jsx(An,{})]})};let gve=G(YI).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-4e16a794-0"})(["",""],t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;"),su=G(r2).withConfig({displayName:"InstructionRows",componentId:"sc-4e16a794-1"})(["margin-top:0.5rem;border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-sm);padding:0.5rem;"]),mve="There was an error preparing your transaction. Your transaction request will likely fail.",yve=G.div.withConfig({displayName:"ImageContainer",componentId:"sc-4e16a794-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),vxt=G.span.withConfig({displayName:"SponsoredRow",componentId:"sc-4e16a794-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),bxt=G.span.withConfig({displayName:"SponsoredText",componentId:"sc-4e16a794-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),xxt=()=>p.jsxs(Axt,{children:[p.jsx(Ixt,{}),p.jsx(Sxt,{})]});const wve=({transactionError:t,chainId:e,onClose:n,onRetry:r,network:i,rpcEndpoint:s,transactionHash:o})=>{let{chains:a}=Fe(),[c,l]=k.useState(!1),{errorCode:u,errorMessage:d}=((f,g)=>{if(g==="ethereum")return{errorCode:f.details??f.message,errorMessage:f.shortMessage};let m=f.txSignature,y=(f==null?void 0:f.transactionMessage)||"Something went wrong.";if(Array.isArray(f.logs)){let w=f.logs.find(b=>/insufficient (lamports|funds)/gi.test(b));w&&(y=w)}return{transactionHash:m,errorMessage:y}})(t,i),h=(({chains:f,chainId:g,network:m,rpcEndpoint:y,transactionHash:w})=>{var b,v;return m==="ethereum"?((v=(b=f.find(E=>E.id===g))==null?void 0:b.blockExplorers)==null?void 0:v.default.url)??"https://etherscan.io":function(E,_){return`https://explorer.solana.com/tx/${E}?cluster=${_}`}(w||"",zb(y||""))})({chains:a,chainId:e,network:i,rpcEndpoint:s,transactionHash:o});return p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:n}),p.jsxs(Ext,{children:[p.jsx(xxt,{}),p.jsx(Cxt,{children:u}),p.jsx(_xt,{children:"Please try again."}),p.jsxs(bve,{children:[p.jsx(vve,{children:"Error message"}),p.jsx(xve,{$clickable:!1,children:d})]}),o&&p.jsxs(bve,{children:[p.jsx(vve,{children:"Transaction hash"}),p.jsxs($xt,{children:["Copy this hash to view details about the transaction on a"," ",p.jsx("u",{children:p.jsx("a",{href:h,children:"block explorer"})}),"."]}),p.jsxs(xve,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(o),l(!0)},children:[o,p.jsx(Nxt,{clicked:c})]})]}),p.jsx(kxt,{onClick:()=>r({resetNonce:!!o}),children:"Retry transaction"})]}),p.jsx(ki,{})]})};let Ext=G.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-9ada48aa-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),Cxt=G.span.withConfig({displayName:"ErrorCode",componentId:"sc-9ada48aa-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),_xt=G.span.withConfig({displayName:"Subtitle",componentId:"sc-9ada48aa-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),Axt=G.div.withConfig({displayName:"CircleContainer",componentId:"sc-9ada48aa-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),Sxt=G(JU).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-9ada48aa-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),Ixt=G.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-9ada48aa-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),kxt=G(er).withConfig({displayName:"RetryButton",componentId:"sc-9ada48aa-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),vve=G.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-9ada48aa-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),bve=G.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-9ada48aa-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),$xt=G.text.withConfig({displayName:"HelperText",componentId:"sc-9ada48aa-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),xve=G.span.withConfig({displayName:"TextBox",componentId:"sc-9ada48aa-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`),Txt=G(vwt).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-9ada48aa-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),Pxt=G(Jge).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-9ada48aa-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),Nxt=({clicked:t})=>p.jsx(t?Pxt:Txt,{});const Oxt=G.span.withConfig({displayName:"CircleBackground",componentId:"sc-c9f33cd-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";background-color:",";border-radius:50%;display:inline-block;box-sizing:border-box;}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)"),Rxt=({instruction:t,fees:e,transactionInfo:n,solPrice:r,rpcEndpoint:i})=>p.jsxs(r2,{children:[(n==null?void 0:n.action)&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Action"}),p.jsx(yt,{children:n.action})]}),(t==null?void 0:t.total)!=null&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Total"}),p.jsx(yt,{children:t.total})]}),!(t!=null&&t.total)&&(t==null?void 0:t.amount)!=null&&p.jsxs(Ve,{children:[p.jsx(it,{children:"Total"}),p.jsx(yt,{children:p.jsx(V1e,{quantities:[t.amount,e],tokenPrice:r})})]}),p.jsxs(Ve,{children:[p.jsx(it,{children:"Fees"}),p.jsx(yt,{children:p.jsx(V1e,{quantities:[e],tokenPrice:r})})]}),(t==null?void 0:t.to)&&p.jsxs(Ve,{children:[p.jsx(it,{children:"To"}),p.jsx(yt,{children:p.jsx(fz,{walletAddress:t.to,rpcEndpoint:i,network:"solana"})})]})]}),Mxt=({fees:t,onClose:e,receiptHeader:n,receiptDescription:r,transactionInfo:i,solPrice:s,rpcEndpoint:o,signOnly:a,instruction:c})=>p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:e}),p.jsx(gz,{style:{marginBottom:"16px"},children:p.jsxs("div",{children:[p.jsx(Oxt,{color:"var(--privy-color-success-light)"}),p.jsx(kb,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-success)"})]})}),p.jsx(rl,{title:n??`Transaction ${a?"signed":"complete"}!`,description:r??"You're all set."}),p.jsx(Rxt,{solPrice:s,instruction:c,fees:t,transactionInfo:i,rpcEndpoint:o}),p.jsx(hg,{}),p.jsx(jxt,{loading:!1,onClick:e,children:"Close"}),p.jsx(nl,{}),p.jsx(An,{})]});let jxt=G(er).withConfig({displayName:"SubmitButton",componentId:"sc-df6d4eec-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const Dxt={component:()=>{var B,T,z,q,U,V,Z,K,J,oe,se,ae,fe,ce,de,ot,he,Ae;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:n,navigate:r}=He(),{client:i,closePrivyModal:s,walletProxy:o,showFiatPrices:a}=Fe(),c=Tn(),{user:l}=fn(),[u,d]=k.useState((B=t==null?void 0:t.sendSolanaTransaction)==null?void 0:B.transactionRequest),[h,f]=k.useState(),[g,m]=k.useState(),[y,w]=k.useState({value:0n,isLoading:!1}),[b,v]=k.useState(!1),[E,_]=k.useState(),[O,S]=k.useState(),R=(T=t==null?void 0:t.sendSolanaTransaction)==null?void 0:T.connection,I=(z=t==null?void 0:t.sendSolanaTransaction)==null?void 0:z.transactingWallet,D=!!((q=t==null?void 0:t.sendSolanaTransaction)!=null&&q.signOnly),j=I!=null&&I.imported?s_(l):Dl(l),F=zb((R==null?void 0:R.rpcEndpoint)||""),{solPrice:M,isSolPriceLoading:C}=tye({enabled:a}),x=k.useMemo(()=>{if(!h)return;let _e=h.spender,ge=pg(h.fee),Ee=pg(y.value,3,!0),Wt=h.instructions.filter(je=>["sol-transfer","spl-transfer","raydium-swap-base-input","raydium-swap-base-output","jupiter-swap-shared-accounts-route","jupiter-swap-exact-out-route"].includes(je.type)),ye=Wt.at(0);return!ye||Wt.length>1?{fee:ge,spender:_e,balance:Ee}:ye.type==="sol-transfer"?{fee:ge,spender:_e,balance:Ee,total:pg(ye.value)}:ye.type==="spl-transfer"?{fee:ge,spender:_e,balance:Ee,total:`${sa({amount:ye.value,decimals:ye.token.decimals})} ${ye.token.symbol}`}:ye.type==="raydium-swap-base-input"&&ye.tokenIn&&ye.tokenOut?{fee:ge,spender:_e,balance:Ee,swap:`${`${sa({amount:ye.amountIn,decimals:ye.tokenIn.decimals})} ${ye.tokenIn.symbol}`}  ${`${sa({amount:ye.minimumAmountOut,decimals:ye.tokenOut.decimals})} ${ye.tokenOut.symbol}`}`}:ye.type==="raydium-swap-base-output"&&ye.tokenIn&&ye.tokenOut?{fee:ge,spender:_e,balance:Ee,swap:`${`${sa({amount:ye.maxAmountIn,decimals:ye.tokenIn.decimals})} ${ye.tokenIn.symbol}`}  ${`${sa({amount:ye.amountOut,decimals:ye.tokenOut.decimals})} ${ye.tokenOut.symbol}`}`}:ye.type==="jupiter-swap-shared-accounts-route"&&ye.tokenIn&&ye.tokenOut?{fee:ge,spender:_e,balance:Ee,swap:`${`${sa({amount:ye.inAmount,decimals:ye.tokenIn.decimals})} ${ye.tokenIn.symbol}`}  ${`${sa({amount:ye.quotedOutAmount,decimals:ye.tokenOut.decimals})} ${ye.tokenOut.symbol}`}`}:ye.type==="jupiter-swap-exact-out-route"&&ye.tokenIn&&ye.tokenOut?{fee:ge,spender:_e,balance:Ee,swap:`${`${sa({amount:ye.quotedInAmount,decimals:ye.tokenIn.decimals})} ${ye.tokenIn.symbol}`}  ${`${sa({amount:ye.outAmount,decimals:ye.tokenOut.decimals})} ${ye.tokenOut.symbol}`}`}:{fee:ge,spender:_e,balance:Ee}},[h,I==null?void 0:I.address,y]),A=k.useMemo(()=>{let _e;if(!h||!a||!M||C)return;function ge(...ye){return J8(ye.reduce((je,Ye)=>je+Ye,0n),M??0)}(I==null?void 0:I.address)===h.spender&&(_e=ge(h.fee));let Ee=ge(y.value),Wt=h.instructions.filter(ye=>ye.type==="sol-transfer"||ye.type==="spl-transfer").at(0);return!Wt||h.instructions.length>1?{fee:_e,balance:Ee}:Wt.type==="sol-transfer"?{fee:_e,balance:Ee,total:ge(Wt.value,(I==null?void 0:I.address)===h.spender?h.fee:0n)}:Wt.type==="spl-transfer"?{fee:_e,balance:Ee,total:`${sa({amount:Wt.value,decimals:Wt.token.decimals})} ${Wt.token.symbol}`}:{fee:_e,balance:Ee}},[h,a,M,C,I==null?void 0:I.address,y]);if(k.useEffect(()=>{(async function(){if(u&&R&&i)try{m(void 0);let _e=await L2t({tx:u,connection:R,client:i,checkFunds:!D});f(_e)}catch(_e){console.error("Failed to prepare transaction",_e),m(_e)}})()},[u,R,i,D]),k.useEffect(()=>{(async function(){if(!I||!R)return;w({value:y.value,isLoading:!0});let _e=new _ze({name:"mainnet-beta",rpcUrl:R.rpcEndpoint});w({value:await _e.getBalance(I.address).catch(()=>0n)??0n,isLoading:!1})})().catch(console.error)},[h,R]),!(u&&(t!=null&&t.sendSolanaTransaction)&&I&&R)){let _e=Error("Invalid transaction request");return p.jsx(sx,{error:_e,allowlistConfig:c.allowlistConfig,onRetry:()=>{var ge;(ge=t==null?void 0:t.sendSolanaTransaction)==null||ge.onFailure(_e),s({shouldCallAuthOnSuccess:!1})}})}let P=()=>{var _e,ge;if(!b)return E?(_e=t==null?void 0:t.sendSolanaTransaction)==null||_e.onSuccess(E):(ge=t==null?void 0:t.sendSolanaTransaction)==null||ge.onFailure(O??g??Error("User exited the modal before submitting the transaction")),s({shouldCallAuthOnSuccess:!1})};e.current=P;let N=(K=(Z=(V=(U=t.sendSolanaTransaction)==null?void 0:U.uiOptions)==null?void 0:V.transactionInfo)==null?void 0:Z.contractInfo)!=null&&K.imgUrl?p.jsx("img",{src:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,$=!!(t.funding&&t.funding.supportedOptions.length>0),L=!(h!=null&&h.hasFunds)&&$;if(E){let _e=h==null?void 0:h.instructions.filter(Ee=>Ee.type==="sol-transfer"||Ee.type==="spl-transfer"),ge=(_e==null?void 0:_e.length)===1?_e==null?void 0:_e.at(0):void 0;return p.jsx(Mxt,{fees:E.fees,onClose:P,transactionInfo:(J=t.sendSolanaTransaction)==null?void 0:J.uiOptions.transactionInfo,solPrice:M,receiptHeader:(oe=t.sendSolanaTransaction)==null?void 0:oe.uiOptions.successHeader,receiptDescription:(se=t.sendSolanaTransaction)==null?void 0:se.uiOptions.successDescription,rpcEndpoint:R.rpcEndpoint,signOnly:D,instruction:(ge==null?void 0:ge.type)==="sol-transfer"?{to:ge.toAccount,amount:ge.value}:{to:(ge==null?void 0:ge.toAccount)||(ge==null?void 0:ge.toAta),total:x==null?void 0:x.total}})}return O?p.jsx(wve,{transactionError:O,rpcEndpoint:R.rpcEndpoint,onClose:P,network:"solana",onRetry:async()=>{S(void 0);let{blockhash:_e}=await R.getLatestBlockhash();gg(u)?u.message.recentBlockhash=_e:u.recentBlockhash=_e,d(u)}}):p.jsx(wxt,{img:N,title:((ce=(fe=(ae=t.sendSolanaTransaction)==null?void 0:ae.uiOptions)==null?void 0:fe.transactionInfo)==null?void 0:ce.title)||"Confirm transaction",subtitle:((ot=(de=t.sendSolanaTransaction)==null?void 0:de.uiOptions)==null?void 0:ot.description)||`${c.name} wants your permission to approve the following transaction.`,cta:L?"Add funds":((Ae=(he=t.sendSolanaTransaction)==null?void 0:he.uiOptions)==null?void 0:Ae.buttonText)||"Approve",instructions:(h==null?void 0:h.instructions)??[],network:F=="mainnet-beta"?"Solana":F,blockExplorerUrl:c.solanaClusters[F].blockExplorerUrl,total:a?A==null?void 0:A.total:x==null?void 0:x.total,fee:a?A==null?void 0:A.fee:x==null?void 0:x.fee,balance:a?A==null?void 0:A.balance:x==null?void 0:x.balance,swap:x==null?void 0:x.swap,transactingWalletAddress:I.address,disabled:!(h!=null&&h.hasFunds)&&!$,isSubmitting:b,isPreparing:!h||y.isLoading,isTokenPriceLoading:a&&C,isMissingFunds:!(h!=null&&h.hasFunds),submitError:O??void 0,parseError:g,onClick:L?async()=>{if(I){if(!$)throw Error("Funding wallet is not enabled");n({...t,funding:{...t.funding,methodScreen:oc},solanaFundingData:t==null?void 0:t.solanaFundingData}),r(oc)}}:async()=>{try{if(v(!0),b||!I||!o||!l||!j)return;let _e=await t.sendSolanaTransaction.onConfirm();_(_e)}catch(_e){console.warn({transaction:u,error:_e}),S(_e)}finally{v(!1)}},onClose:P})}},Lxt=({privy:t,appConfig:e,getAccessToken:n,isHeadlessSigning:r,emitPrivyEvent:i,setModalData:s,openModal:o,walletProxy:a,user:c,signWithUserSigner:l,recoverEmbeddedWallet:u,connectedExternalWallet:d},{transaction:h,connection:f,transactionOptions:g,fundWalletConfig:m,uiOptions:y,address:w,signOnly:b})=>new Promise(async(v,E)=>{let{requesterAppId:_}=y||{},O="sendSolanaTransaction",S=w?jl(c,w):Wm(c);if(!S&&w&&d)try{{let D=await d.sendTransaction(h,f,g),j=await f.getParsedTransaction(D,{maxSupportedTransactionVersion:0}),F=W1e(D,h,j??null);return i(O,"onSuccess",{response:F}),void v(F)}}catch(D){throw i(O,"onError",ne.TRANSACTION_FAILURE),E(D),D}if(!S)return i(O,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),void E(new ee("No wallet found for address",ne.EMBEDDED_WALLET_NOT_FOUND));if(!c)return i(O,"onError",ne.MUST_BE_AUTHENTICATED),void E(new ee("User must be authenticated before signing with a Privy wallet",ne.MUST_BE_AUTHENTICATED));let R=ys(S);if(!await u({address:S.address}).catch(()=>!1))throw i(O,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),new ee(`Cannot sendSolanaTransaction before embedded wallet ${S.address} is connected`,ne.EMBEDDED_WALLET_NOT_FOUND);let I=async()=>{let D=await n();if(!D||!a)throw i(O,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),E(new ee("Must have valid access token and Privy wallet to send transaction",ne.EMBEDDED_WALLET_NOT_FOUND)),new ee("Must have valid access token and Privy wallet to send transaction",ne.EMBEDDED_WALLET_NOT_FOUND);try{let j,F;if(!await u({address:S.address}))throw i(O,"onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),E(new ee("Unable to connect to wallet",ne.UNKNOWN_CONNECT_WALLET_ERROR)),new ee("Unable to connect to wallet",ne.UNKNOWN_CONNECT_WALLET_ERROR);if(r({showWalletUIs:y==null?void 0:y.showWalletUIs})&&!b)try{if(!await q1e(h,f))throw i(O,"onError",ne.INSUFFICIENT_BALANCE),E(new ee("Solana wallet has insufficient funds for this transaction.",ne.INSUFFICIENT_BALANCE)),new ee("Solana wallet has insufficient funds for this transaction.",ne.INSUFFICIENT_BALANCE)}catch(x){throw console.error(x),i(O,"onError",ne.TRANSACTION_FAILURE),E(new ee(x instanceof Error?x.message:"Transaction failed.",ne.TRANSACTION_FAILURE)),new ee(x instanceof Error?x.message:"Transaction failed.",ne.TRANSACTION_FAILURE)}let{entropyId:M,entropyIdVerifier:C}=no(c);if(R){let x=gg(h)?Lo(h.message.serialize()):h.serializeMessage(),A=await ia(t,l,{chain_type:"solana",method:"signMessage",params:{message:x.toString("base64"),encoding:"base64"},wallet_id:S.id});if(!A.data||!("signature"in A.data))throw Error("Failed to sign transaction");h.addSignature(EI(h,S.address),Lo(A.data.signature,"base64")),j=h}else j=await Vz({accessToken:D,tx:h,walletProxy:a,entropyId:M,entropyIdVerifier:C,transactingWalletAddress:S.address,transactingWalletIndex:S.walletIndex??0});{let{signature:x,receipt:A}=await async function({tx:P,connection:N,transactionOptions:$}){let L;try{let B=P.serialize();L=await N.sendRawTransaction(B,$);let T=await N.confirmTransaction(L);if(T.value.err||T.value.err){let z=T.value.err||T.value.err;throw typeof z=="string"?Error(z):z}return{signature:L,signedTransaction:P,receipt:await N.getParsedTransaction(L,{maxSupportedTransactionVersion:0})}}catch(B){throw B.txSignature=L,B}}({tx:j,connection:f,transactionOptions:g});F=W1e(x,h,A),i("sendSolanaTransaction","onSuccess",{response:F})}return v(F),F}catch(j){throw i(O,"onError",ne.TRANSACTION_FAILURE),E(j),j}};if(r({showWalletUIs:y==null?void 0:y.showWalletUIs}))I();else{let{entropyId:D,entropyIdVerifier:j}=no(c,S),F={recoveryMethod:S.recoveryMethod,connectingWalletAddress:S.address,entropyId:D,entropyIdVerifier:j,isUnifiedWallet:R,onCompleteNavigateTo:Dxt,onFailure:C=>{i(O,"onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),E(C)}},M=Lwe(e)?ext({address:S.address,appConfig:e,methodScreen:oc,fundWalletConfig:m,comingFromSendTransactionScreen:!0,externalSolanaFundingScreen:Jz}):void 0;s({connectWallet:F,sendSolanaTransaction:{transactionRequest:h,connection:f,transactionOptions:g,transactingWallet:S,onConfirm:I,onSuccess:C=>{i("sendSolanaTransaction","onSuccess",{response:C}),v(C)},onFailure:C=>{i(O,"onError",ne.TRANSACTION_FAILURE),E(C)},uiOptions:y||{},requesterAppId:_,signOnly:b},funding:M}),o(vg)}});function Bxt(t){let e=Tn(),{user:n}=hx(),{setModalData:r}=He(),{client:i,isHeadlessSigning:s,openModal:o,walletProxy:a,recoverEmbeddedWallet:c,privy:l,solanaWallets:u}=Fe(),d=ep(),{signWithUserSigner:h}=_j();return qb("sendSolanaTransaction",t),{sendTransaction:async({transaction:f,connection:g,uiOptions:m,transactionOptions:y,fundWalletConfig:w,address:b})=>{let v=b?u.find(E=>E.address===b&&E.walletClientType!=="privy"):void 0;return await Lxt({privy:l,appConfig:e,getAccessToken:()=>i.getAccessToken(),isHeadlessSigning:s,emitPrivyEvent:d,setModalData:r,openModal:o,walletProxy:a,user:n,signWithUserSigner:h,recoverEmbeddedWallet:c,connectedExternalWallet:v},{transaction:f,connection:g,transactionOptions:y,uiOptions:m,fundWalletConfig:w,address:b,signOnly:!1})}}}const Uxt=({style:t,color:e,...n})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...n,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),eW=t=>{let[e,n]=k.useState(!1);return p.jsxs(Fxt,{color:t.color,onClick:()=>{n(!0),navigator.clipboard.writeText(t.text),setTimeout(()=>n(!1),1500)},$justCopied:e,children:[e?p.jsx(Uxt,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):p.jsx(Gye,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let Fxt=G.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.$justCopied?"medium":"normal",t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const zxt=G.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],t=>t.size==="sm"?"65px":"140px",t=>t.size==="sm"?"65px":"140px");let Wxt=({data:t})=>{let e=n=>typeof n=="object"&&n!==null?p.jsx(qxt,{children:Object.entries(n).map(([r,i])=>p.jsxs("li",{children:[p.jsxs("strong",{children:[r,":"]})," ",e(i)]},r))}):p.jsx("span",{children:String(n)});return p.jsx("div",{children:e(t)})};const Eve=G.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let qxt=G.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const Cve=({data:t,className:e})=>p.jsx(Eve,{className:e,children:p.jsx(Wxt,{data:t})});let Hxt=t=>{if(!si(t))return t;try{let e=QN(t);return e.includes("")?t:e}catch{return t}},Vxt=t=>JSON.stringify(t,null,2),Kxt=t=>{let{types:e,primaryType:n,...r}=t.typedData;return p.jsxs(p.Fragment,{children:[p.jsx(Jxt,{data:r}),p.jsx(eW,{text:Vxt(t.typedData),itemName:"full payload to clipboard"})," "]})};const Gxt=({method:t,messageData:e,copy:n,iconUrl:r,isLoading:i,success:s,walletProxyIsLoading:o,errorMessage:a,isCancellable:c,onSign:l,onCancel:u,onClose:d})=>p.jsx(xn,{title:n.title,subtitle:n.description,showClose:!0,onClose:d,icon:hXe,iconVariant:"subtle",helpText:a?p.jsx(Yxt,{children:a}):void 0,primaryCta:{label:n.buttonText,onClick:l,disabled:i||s||o,loading:i},secondaryCta:c?{label:"Not now",onClick:u,disabled:i||s||o}:void 0,watermark:!0,children:p.jsxs(hz,{children:[r?p.jsx(zxt,{style:{alignSelf:"center"},size:"sm",src:r,alt:"app image"}):null,p.jsxs(Zxt,{children:[t==="personal_sign"&&p.jsx(_ve,{children:Hxt(e)}),t==="eth_signTypedData_v4"&&p.jsx(Kxt,{typedData:e}),t==="solana_signMessage"&&p.jsx(_ve,{children:e})]})]})}),tW={component:()=>{let{authenticated:t}=fn(),{initializeWalletProxy:e,closePrivyModal:n}=Fe(),{navigate:r,data:i,onUserCloseViaDialogOrKeybindRef:s}=He(),[o,a]=k.useState(!0),[c,l]=k.useState(""),[u,d]=k.useState(),[h,f]=k.useState(null),[g,m]=k.useState(!1);k.useEffect(()=>{t||r(Uo)},[t]),k.useEffect(()=>{e(Ome).then(R=>{a(!1),R||(l("An error has occurred, please try again."),d(new Bo(new Ub(c,Ru.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))})},[]);let{method:y,data:w,confirmAndSign:b,onSuccess:v,onFailure:E,uiOptions:_}=i.signMessage,O={title:(_==null?void 0:_.title)||"Sign message",description:(_==null?void 0:_.description)||"Signing this message will not cost you any fees.",buttonText:(_==null?void 0:_.buttonText)||"Sign and continue"},S=R=>{R?v(R):E(u||new Bo(new Ub("The user rejected the request.",Ru.E4001_USER_REJECTED_REQUEST.eipCode))),n({shouldCallAuthOnSuccess:!1}),setTimeout(()=>{f(null),l(""),d(void 0)},200)};return s.current=()=>{S(h)},p.jsx(Gxt,{method:y,messageData:w,copy:O,iconUrl:_!=null&&_.iconUrl&&typeof _.iconUrl=="string"?_.iconUrl:void 0,isLoading:g,success:h!==null,walletProxyIsLoading:o,errorMessage:c,isCancellable:_==null?void 0:_.isCancellable,onSign:async()=>{m(!0),l("");try{let R=await b();f(R),m(!1),setTimeout(()=>{S(R)},Hr)}catch(R){console.error(R),l("An error has occurred, please try again."),d(new Bo(new Ub(c,Ru.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),m(!1)}},onCancel:()=>S(null),onClose:()=>S(h)})}};let Zxt=G.div.withConfig({displayName:"MessageContainer",componentId:"sc-21a0e112-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),Yxt=G.p.withConfig({displayName:"ErrorText",componentId:"sc-21a0e112-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),Jxt=G(Cve).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-21a0e112-2"})(["margin-top:0;"]),_ve=G(Eve).withConfig({displayName:"StyledMessage",componentId:"sc-21a0e112-3"})(["margin-top:0;"]);function Qxt(t){let{isHeadlessSigning:e,walletProxy:n,initializeWalletProxy:r,recoverEmbeddedWallet:i,openModal:s,privy:o,solanaWallets:a,client:c}=Fe(),{user:l}=hx(),u=ep(),{setModalData:d}=He(),{signWithUserSigner:h}=_j();return qb("signSolanaMessage",t),{signMessage:({message:f,options:g})=>new Promise(async(m,y)=>{var S;let w=g!=null&&g.address?jl(l,g.address):Wm(l);if(!w&&(g!=null&&g.address)){let R=a.find(I=>I.address===g.address&&I.walletClientType!=="privy");if(R)try{let I=await R.signMessage(f);u("signSolanaMessage","onSuccess",{signature:I}),m(I)}catch(I){u("signSolanaMessage","onError",ne.UNABLE_TO_SIGN),y(I)}}if(!w)return u("signSolanaMessage","onError",ne.UNABLE_TO_SIGN),void y(Error("No embedded or connected wallet found for address."));if(!l)return u("signSolanaMessage","onError",ne.MUST_BE_AUTHENTICATED),void y(Error("User must be authenticated before signing with a Privy wallet"));let{entropyId:b,entropyIdVerifier:v}=no(l,w),E=ys(w),_=Lo(f).toString("base64");if(_.length<1)return u("signMessage","onError",ne.INVALID_MESSAGE),void y(Error("Message must be a non-empty string"));let O=async()=>{let R;if(!l)throw Error("User must be authenticated before signing with a Privy wallet");let I=await c.getAccessToken();if(!I)throw Error("User must be authenticated to use their embedded wallet.");let D=n??await r(15e3);if(!D)throw Error("Failed to initialize embedded wallet proxy.");if(!await i({address:w.address}))throw Error("Unable to connect to wallet");if(E){let j=await ia(o,h,{chain_type:"solana",method:"signMessage",params:{message:_,encoding:"base64"},wallet_id:w.id});if(!j.data||!("signature"in j.data))throw Error("Failed to sign message");R=j.data.signature}else{let{response:j}=await D.rpc({accessToken:I,entropyId:b,entropyIdVerifier:v,chainType:"solana",hdWalletIndex:w.walletIndex??0,request:{method:"signMessage",params:{message:_}}});R=j.data.signature}return R};if(e({showWalletUIs:(S=g==null?void 0:g.uiOptions)==null?void 0:S.showWalletUIs}))try{let R=await O(),I=new Uint8Array(Lo(R,"base64"));u("signSolanaMessage","onSuccess",{signature:I}),m(I)}catch(R){y(R)}else d({signMessage:{method:"solana_signMessage",data:_,confirmAndSign:O,onSuccess:R=>{let I=new Uint8Array(Lo(R,"base64"));u("signSolanaMessage","onSuccess",{signature:I}),m(I)},onFailure:R=>{y(R)},uiOptions:g==null?void 0:g.uiOptions},connectWallet:{recoveryMethod:w.recoveryMethod,connectingWalletAddress:w.address,entropyId:b,entropyIdVerifier:v,isUnifiedWallet:E,onCompleteNavigateTo:tW,onFailure:R=>{u("signSolanaMessage","onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),y(R)}}}),s(vg)})}}const px=()=>{let{client:t,exportSolanaWallet:e,solanaWallets:n,walletProxy:r,recoverEmbeddedWallet:i,privy:s}=Fe(),{sendTransaction:o}=Bxt(),{signMessage:a}=Qxt(),{create:c}=Dwe(),{signWithUserSigner:l}=_j(),{user:u}=hx(),{ready:d}=tp(),h=k.useMemo(()=>{if(!r)return n;let f=[...mse(u),s_(u)].filter(g=>!!g).map(g=>({type:"solana",imported:g.imported,address:g.address,connectedAt:Date.now(),walletClientType:"privy",connectorType:"embedded",walletIndex:g.walletIndex??void 0,meta:{name:"Privy Wallet",icon:void 0,id:"io.privy.solana.wallet"},linked:!0,fund(){throw new ee("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:()=>{throw new ee("Cannot unlink an embedded Solana wallet")},async getProvider(){return new X4t(r,g.address,this.signMessage)},signMessage:async m=>await a({message:m,options:{address:g.address,uiOptions:{showWalletUIs:!1}}}),async sendTransaction(m,y,w){let{signature:b}=await o({transaction:m,connection:y,transactionOptions:w,address:g.address});return b},async signTransaction(m){let y=await t.getAccessToken();if(!y||!r)throw new ee("Must have valid access token and Privy wallet to send transaction",ne.MUST_BE_AUTHENTICATED);if(!await i({address:g.address}).catch(()=>!1))throw new ee("Wallet couldn't be connected",ne.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:w,entropyIdVerifier:b}=no(u,g);if(ys(g)){let v=gg(m)?Lo(m.message.serialize()):m.serializeMessage(),E=await ia(s,l,{chain_type:"solana",method:"signMessage",params:{message:v.toString("base64"),encoding:"base64"},wallet_id:g.id});if(E.data&&"signature"in E.data)return m.addSignature(EI(m,g.address),Lo(E.data.signature,"base64")),m;throw Error("Failed to sign transaction")}return await Vz({tx:m,accessToken:y,walletProxy:r,entropyId:w,entropyIdVerifier:b,transactingWalletAddress:g.address,transactingWalletIndex:g.walletIndex??0})},async signAllTransactions(m){let y=await t.getAccessToken();if(!y||!r)throw new ee("Must have valid access token and Privy wallet to send transaction",ne.MUST_BE_AUTHENTICATED);if(!await i({address:g.address}).catch(()=>!1))throw new ee("Wallet couldn't be connected",ne.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:w,entropyIdVerifier:b}=no(u,g);if(ys(g))return await Promise.all(m.map(async v=>{let E=gg(v)?Lo(v.message.serialize()):v.serializeMessage(),_=await ia(s,l,{chain_type:"solana",method:"signMessage",params:{message:E.toString("base64"),encoding:"base64"},wallet_id:g.id});if(_.data&&"signature"in _.data)return v.addSignature(EI(v,g.address),Lo(_.data.signature,"base64")),v;throw Error("Failed to sign transaction")}));for(let v of m)await Vz({tx:v,accessToken:y,walletProxy:r,entropyId:w,entropyIdVerifier:b,transactingWalletAddress:g.address,transactingWalletIndex:g.walletIndex??0});return m},loginOrLink:async()=>{throw new ee("Cannot login or link with an embedded Solana wallet")},disconnect:()=>{},isConnected:async()=>!0}));return n.concat(f)},[u,r,t,n]);return{ready:!(!d||!r),createWallet:async f=>{f&&"target"in f&&f&&(f=void 0);let{account:g}=await c({chainType:"solana",options:f});return g},exportWallet:e,wallets:h}},XI={component:()=>{var D,j,F;let{wallets:t}=tp(),{wallets:e}=px(),{data:n,setModalData:r,navigate:i,lastScreen:s}=He(),{rpcConfig:o,appId:a,createAnalyticsEvent:c,closePrivyModal:l}=Fe(),u=Tn(),[d,h]=k.useState(void 0),[f,g]=k.useState(!1),m=e2(),y=n==null?void 0:n.funding,{reloadBalance:w}=Rwe({rpcConfig:o,appId:a,address:y.chainType==="ethereum"?y.address:void 0,chain:y.chainType==="ethereum"?y.chain:void 0}),b=y.chainType==="solana",v=b?y.isUSDC?"USDC":"SOL":y.erc20Address?(D=y.erc20ContractInfo)==null?void 0:D.symbol:y.chain.nativeCurrency.symbol,E=b?e.find(({address:M})=>M===y.address):t.find(({address:M})=>to(M)===to(y.address));if(!y)return r({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:s||oc},funding:n==null?void 0:n.funding,solanaFundingData:n==null?void 0:n.solanaFundingData,sendTransaction:n==null?void 0:n.sendTransaction}),i(Vr),p.jsx(p.Fragment,{});k.useEffect(()=>{let M=b?async function(){if(y.chainType!=="solana")return;let x=m(dx);x?(y.isUSDC?x.getTokenBalance({address:y.address,cluster:y.cluster,mintAddress:n_[y.cluster.name]}).then(({amount:A})=>A):x.getBalance({address:y.address,cluster:y.cluster})).then(A=>{let P=BigInt(A);d&&P>d&&(g(!0),c({eventName:ud,payload:{provider:"manual",status:"success",chainType:"solana",address:E==null?void 0:E.address,value:y.isUSDC?es(P-d,6):es(P-d,9),token:y.isUSDC?"USDC":"SOL"}})),h(P)}):console.warn("Unable to load solana plugin, skipping balance")}:async function(){y.chainType==="ethereum"&&(async()=>{if(!y.erc20Address)return await w()??BigInt(0);{let{balance:x}=await Hz({chain:y.chain,address:y.address,erc20Address:y.erc20Address,rpcConfig:o,appId:a});return x}})().then(x=>{var A,P;d&&x>d&&(g(!0),c({eventName:ud,payload:{provider:"manual",status:"success",chainType:"ethereum",address:E==null?void 0:E.address,chainId:y.chain.id,value:es(x-d,((A=y.erc20ContractInfo)==null?void 0:A.decimals)??18),token:((P=y.erc20ContractInfo)==null?void 0:P.symbol)??y.erc20Address??"ETH"}})),h(x)}).catch(()=>h(void 0))},C=setInterval(M,2e3);return M(),()=>clearInterval(C)},[d]);let _=k.useMemo(()=>{var M;return d==null?"":y.isUSDC?sa({amount:d,decimals:6}):b?pg(d,3,!0,!0):((M=y.erc20ContractInfo)==null?void 0:M.decimals)!=null?sa({amount:d,decimals:y.erc20ContractInfo.decimals}):Aze({wei:d})},[d,b,y]),O=y.chainType==="ethereum"?y.chain.name:eEt[y.cluster.name],S=k.useMemo(()=>{var M,C;return((M=y.uiConfig)==null?void 0:M.receiveFundsTitle)===""?null:p.jsx(op,{children:((C=y.uiConfig)==null?void 0:C.receiveFundsTitle)??`Receive ${y.amount} ${v??""}`.trim()})},[(j=y.uiConfig)==null?void 0:j.receiveFundsTitle,y.amount,v]),R=k.useMemo(()=>{var M,C;return((M=y.uiConfig)==null?void 0:M.receiveFundsSubtitle)===""?null:p.jsx(wg,{children:((C=y.uiConfig)==null?void 0:C.receiveFundsSubtitle)??`Scan this code or copy your wallet address to receive funds on ${O}.`})},[(F=y.uiConfig)==null?void 0:F.receiveFundsSubtitle,O]),I=y.chainType==="solana"&&y.isUSDC&&n_[y.cluster.name]?`?spl-token=${n_[y.cluster.name]}`:"";return p.jsxs(p.Fragment,{children:[p.jsx(ac,{}),S,R,p.jsxs(CI,{style:{gap:"1rem",margin:S||R?"1rem 0":"0"},children:[p.jsx(ox,{url:`${y.chainType}:${y.address}${I}`,size:200,squareLogoElement:Xxt}),p.jsxs(Nwe,{theme:u.appearance.palette.colorScheme,children:["Make sure to send funds on ",O,"."]}),p.jsx(YI,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${_} ${v}`,address:y.address}),f&&p.jsx(er,{onClick:()=>l({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),p.jsx(An,{})]})}};let Xxt=({...t})=>p.jsx(l1e,{color:"black",...t}),eEt={devnet:"Devnet","mainnet-beta":"Solana",testnet:"Testnet"},tEt=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],nEt=G.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var rEt=({onBack:t,details:e})=>p.jsxs(nEt,{children:[p.jsx(an,{backFn:t}),p.jsx(Cve,{data:e}),p.jsx(An,{})]});let iEt=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return sr(t*e)}catch{return}};const sEt=({txn:t,receipt:e,transactionInfo:n,onClose:r,tokenPrice:i,tokenSymbol:s,receiptHeader:o,receiptDescription:a})=>p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:r}),p.jsx(H3t,{title:o??"Transaction complete!",description:a??"You're all set."}),p.jsx(eye,{tokenPrice:i,from:e.from,to:e.to,gas:iEt(e),txn:t,transactionInfo:n,tokenSymbol:s}),p.jsx(hg,{}),p.jsx(oEt,{loading:!1,onClick:r,children:"All Done"}),p.jsx(nl,{}),p.jsx(An,{})]});let oEt=G(er).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const aEt=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],cEt=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],lEt=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],uEt=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],dEt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],hEt=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],fEt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],pEt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],gEt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Ave=(t,e)=>{let n=ap(lEt,t);if(n)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:n.args[0],amount:n.args[1]};let r=ap(Gz,t);if(r)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:r.args[0],amount:r.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=ap(aEt,t);if(i&&typeof i.args[1]=="string"){let d=mEt(i.args[1]);if(d&&d[4].encodedInitData)return Ave(d[4].encodedInitData,e)}let s=ap(hEt,t);if(s)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:s.args[0],approved:s.args[1]};let o=ap(fEt,t);if(o)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let a=ap(dEt,t);if(a)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenId:a.args[2]};let c=ap(gEt,t);if(c)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:c.args[0],transferTo:c.args[1],tokenId:c.args[2],amount:c.args[3]};let l=ap(pEt,t);if(l)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenIds:l.args[2],amounts:l.args[3]};let u=ap(uEt,t);return u?{action:"mint",functionName:u.functionName,isNFTIsh:!0,isErc20Ish:!1,args:u.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let ap=(t,e)=>{try{let n=kC({abi:t,data:e});return{functionName:n.functionName,args:n.args||[]}}catch{return null}},mEt=t=>{try{if(typeof t=="string")return l0(cEt,`0x${t.slice(10)}`)}catch{return null}},nW=t=>`${parseFloat(t).toFixed(2)}`;const yEt=(t,e,n,r)=>{let[i,s]=k.useState(null),{walletProxy:o}=Fe();return k.useEffect(()=>{i&&s(null),(async()=>{if(!o||!e)return null;let a=[],c=!0,l=await AI(t,n,e,r).catch(u=>(u.message&&u.message.includes("Insufficient balance for transaction")||u.details&&u.details.includes("insufficient funds")?c=!1:a.push(u),t));return{tx:l,totalGasEstimate:l.gas,hasFunds:c,errors:a}})().then(s)},[t]),i};let Sve=new Bo(new Ub("There was an issue preparing your transaction",Ru.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),Ive=(t,e)=>t!=null&&t.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const kve={component:()=>{var qt,tt,Dr,ut,mn,xa,jn,Pn,W,H,Y,Q,te,ie,xe,ve,nt,Ht;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:n,navigate:r}=He(),{client:i,rpcConfig:s,chains:o,closePrivyModal:a,walletProxy:c,showFiatPrices:l}=Fe(),{user:u}=fn(),d=Tn(),[h,f]=k.useState(0),[g,m]=k.useState(0),[y,w]=k.useState(Ive(t,h)),[b,v]=k.useState(null),[E,_]=k.useState(),[O,S]=k.useState(!1),[R,I]=k.useState(null),[D,j]=k.useState(null),[F,M]=k.useState(null),[C,x]=k.useState(void 0),[A,P]=k.useState(void 0),[N,$]=k.useState(!1),[L,B]=k.useState(!1),[T,z]=k.useState([]),[q,U]=k.useState([]),[V,Z]=k.useState("uninitiated"),[K,J]=k.useState(void 0);if(!y||!(t!=null&&t.sendTransaction)||!(t!=null&&t.sendTransaction))return p.jsx(sx,{error:Error("Invalid transaction request"),allowlistConfig:d.allowlistConfig,onRetry:()=>{var Ie;(Ie=t==null?void 0:t.sendTransaction)==null||Ie.onFailure(Sve),a({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:oe}=t.sendTransaction,se=k.useMemo(()=>o.find(Ie=>Number(Ie.id)===Number(y.chainId)),[y.chainId]),ae=(se==null?void 0:se.nativeCurrency.symbol)??"ETH",fe=k.useMemo(()=>Ave(y.data,!!d.embeddedWallets.extendedCalldataDecoding),[y.data]),{action:ce,isErc20Ish:de,isNFTIsh:ot,functionName:he}=fe,{toAddress:Ae,tokenAddress:_e}=k.useMemo(()=>({toAddress:fe.isErc20Ish?fe.transferTo:y.to??void 0,tokenAddress:fe.isErc20Ish?y.to:void 0}),[fe]);k.useEffect(()=>{y.to&&se&&de&&tve({address:y.to,chain:se,rpcConfig:d.rpcConfig,privyAppId:d.id}).then(v).catch(console.error)},[y.to,se]);let{tokenPrice:ge,isTokenPriceLoading:Ee}=Gb(y.chainId),{balance:Wt}=Rwe({rpcConfig:d.rpcConfig,appId:d.id,address:oe,chain:se}),ye=function({rpcConfig:Ie,appId:Ze,address:kt,chain:Xe,tokenInfo:Se}){let{chains:Mt}=Fe(),[Jt,pn]=k.useState(null),[kn,Nn]=k.useState(!1),$n=k.useMemo(()=>{let Et=Xe||Mt[0];if(Et)return Fd({chain:Xe,transport:ta(XUe(Et,Ie,Ze))})},[Xe,Ie,Ze]),fr=k.useCallback(async()=>{if(kt&&$n&&Se.address)try{return Nn(!0),await $n.readContract({address:Se.address,abi:tEt,functionName:"balanceOf",args:[kt]})}catch(Et){console.error(Et)}finally{Nn(!1)}},[$n,kt,Se==null?void 0:Se.address,Xe]);return k.useEffect(()=>{fr().then(Et=>Et!=null&&pn(Et))},[fr]),{balance:Jt,isLoading:kn&&Jt==null,formattedBalance:sa({amount:Jt??BigInt(0),decimals:Se.decimals})}}({rpcConfig:d.rpcConfig,appId:d.id,address:oe,tokenInfo:{address:_e||"",decimals:(b==null?void 0:b.decimals)??18},chain:se}),je=k.useMemo(()=>Lb(Number(y.chainId),o,s,{appId:d.id}),[y.chainId,s]),Ye=yEt(y,oe,je,(qt=t==null?void 0:t.sendTransaction)==null?void 0:qt.prepareTransactionRequest);k.useEffect(()=>{w(Ive(t,h))},[h]),k.useEffect(()=>{var Ie;(Ie=t.sendTransaction)!=null&&Ie.getIsSponsored?t.sendTransaction.getIsSponsored().then(_).catch(console.error):_(!1)},[t.sendTransaction.getIsSponsored]);let bt=()=>{var Ie,Ze,kt;if(!O)return R?(Ie=t==null?void 0:t.sendTransaction)==null||Ie.onSuccess({hash:R}):F||Ye!=null&&Ye.errors[0]?(Ze=t==null?void 0:t.sendTransaction)==null||Ze.onFailure(F??(Ye==null?void 0:Ye.errors[0])??Sve):(kt=t==null?void 0:t.sendTransaction)==null||kt.onFailure(new Bo(new Ub("The user rejected the request",Ru.E4001_USER_REJECTED_REQUEST.eipCode))),a({shouldCallAuthOnSuccess:!1})};e.current=bt;let ft=!!(t.funding&&t.funding.supportedOptions.length>0),Xt=od(BigInt((Ye==null?void 0:Ye.totalGasEstimate)??0n),ae),Ot=l&&ge?B1(BigInt((Ye==null?void 0:Ye.totalGasEstimate)??0n),ge):void 0,At=od(Wt??0n,ae,void 0,!0),Oe=l&&ge?B1(Wt??0n,ge):void 0,Le=b&&!ye.isLoading&&de&&ce!=="approve"?`${ye.formattedBalance} ${b.symbol}`:void 0,we=(ut=(Dr=(tt=t.sendTransaction)==null?void 0:tt.uiOptions)==null?void 0:Dr.transactionInfo)==null?void 0:ut.title;we||(we=ce==="approve"?de?"Confirm address":"Confirm action":`Approve ${ce}`);let lt=k.useMemo(()=>{var Ie,Ze,kt,Xe,Se,Mt,Jt,pn;if((Ze=(Ie=t.sendTransaction)==null?void 0:Ie.uiOptions)!=null&&Ze.description)return(Xe=(kt=t.sendTransaction)==null?void 0:kt.uiOptions)==null?void 0:Xe.description;if(ce==="approve"&&he==="setApprovalForAll"&&fe.approved){let kn=p.jsx(un,{address:fe.operator||"",url:(Mt=(Se=se==null?void 0:se.blockExplorers)==null?void 0:Se.default)==null?void 0:Mt.url});return p.jsxs(p.Fragment,{children:[d.name," would like your permission for ",kn," to transfer tokens on your behalf."]})}if(ce==="approve"&&he==="setApprovalForAll"&&!fe.approved){let kn=p.jsx(un,{address:fe.operator||"",url:(pn=(Jt=se==null?void 0:se.blockExplorers)==null?void 0:Jt.default)==null?void 0:pn.url});return p.jsxs(p.Fragment,{children:[d.name," would like your permission to revoke permissions of ",kn," from transferring tokens on your behalf."]})}return de&&ce==="approve"||de&&ce==="approve"?`${d.name} would like your permission for ${to(fe.spender)} to spend tokens on your behalf.`:`${d.name} wants your permission to approve the following transaction.`},[d.name,de,fe,(mn=t.sendSolanaTransaction)==null?void 0:mn.uiOptions.description,he]),St=(W=(Pn=(jn=(xa=t.sendTransaction)==null?void 0:xa.uiOptions)==null?void 0:jn.transactionInfo)==null?void 0:Pn.contractInfo)!=null&&W.imgUrl?p.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,ht=!(!Ye||Ye.errors[0]||Ye.hasFunds||E!==!1),It=ht&&ft,Ue=It?"Add funds":((Y=(H=t.sendTransaction)==null?void 0:H.uiOptions)==null?void 0:Y.buttonText)||(h<g?"Continue":"Approve"),Nt=Ie=>{if(!Ie)throw Error("Transaction scan failed");if(Ie.validation.status==="Success"&&(Ie.validation.result_type==="Benign"?P("safe"):Ie.validation.result_type==="Warning"?P("warn"):Ie.validation.result_type==="Malicious"&&(P("error"),B(!0))),Ie.simulation.status!=="Success")throw Error("Simulation failed");{x(Ie.simulation.params);let{assetsIn:Ze,assetsOut:kt}=function(Xe,Se){var pn,kn,Nn,$n,fr;let Mt=[],Jt=new Map;if(Xe){for(let Et of Xe)if(Et.in[0]){let vi;vi=Et.asset.type==="ERC721"||Et.in[0].value==="approve_for_all"?{id:`nft:${Et.asset.name}`,nftName:Et.asset.name,nftCount:Et.in.length}:{id:`token:${Et.asset.type}:${Et.asset.symbol}:${Et.asset.name}`,iconUrl:Et.asset.logo_url,value:Et.in[0].value,symbol:Et.asset.symbol,usdValue:Et.in[0].usd_price?nW(Et.in[0].usd_price):void 0,decimals:Et.asset.decimals},Mt.push(vi)}else if((pn=Et.out[0])!=null&&pn.value){let vi;vi=Et.asset.type==="ERC721"||Et.out[0].value==="approve_for_all"?{id:`nft:${Et.asset.name}`,nftName:Et.asset.name}:{id:`token:${Et.asset.type}:${Et.asset.symbol}:${Et.asset.name}`,iconUrl:Et.asset.logo_url,value:Et.out[0].value,symbol:Et.asset.symbol,usdValue:Et.out[0].usd_price?nW(Et.out[0].usd_price):void 0,decimals:Et.asset.decimals},Jt.has(vi.id)||Jt.set(vi.id,vi)}}for(let Et of Se)for(let vi of Object.keys(Et.spenders)){let Qt;Qt=Et.asset.type==="ERC721"||((kn=Et.spenders[vi])==null?void 0:kn.value)==="approve_for_all"?{id:`nft:${Et.asset.name}`,nftName:Et.asset.name}:{id:`token:${Et.asset.type}:${Et.asset.symbol}:${Et.asset.name}`,iconUrl:Et.asset.logo_url,value:(Nn=Et.spenders[vi])==null?void 0:Nn.value,symbol:Et.asset.symbol,usdValue:($n=Et.spenders[vi])!=null&&$n.usd_price?nW((fr=Et.spenders[vi])==null?void 0:fr.usd_price):void 0,decimals:Et.asset.decimals},Jt.has(Qt.id)||Jt.set(Qt.id,Qt)}return{assetsIn:Mt,assetsOut:Array.from(Jt.values())}}(Ie.simulation.assets_diffs,Ie.simulation.exposures);if(kt.length===0&&Ze.length===0)throw Error("No tokens found");z(kt),U(Ze)}};if(k.useEffect(()=>{var Ie;(Ie=t.sendTransaction)!=null&&Ie.scanTransaction&&d.embeddedWallets.transactionScanning.enabled&&V==="uninitiated"&&(Z("in progress"),t.sendTransaction.scanTransaction().then(Ze=>{Nt(Ze),Z("completed")}).catch(()=>Z("failed")))},[!!((Q=t.sendTransaction)!=null&&Q.scanTransaction)]),k.useEffect(()=>{var Ie;(Ie=t.sendTransaction)!=null&&Ie.scanTransaction&&V!=="failed"||((Ze,kt,Xe)=>{if(m((Se=>Se!=null&&Se.sendTransaction?"transactionRequest"in Se.sendTransaction?0:Se.sendTransaction.transactionRequests.length-1:0)(t)),kt.isErc20Ish&&kt.amount&&Xe){let Se=JI({amount:kt.amount,decimals:Xe.decimals});J(Se),z([{value:Se,symbol:Xe==null?void 0:Xe.symbol,decimals:Xe==null?void 0:Xe.decimals}])}else if(Ze.value){let Se=BigInt(Ze.value),Mt=ge?B1(Se,ge):void 0;z(l&&Mt?[{value:Mt}]:[{value:F1e(Se),symbol:ae,decimals:18,usdValue:Mt}])}else z(l?[{value:"$0"}]:[{value:"0",symbol:ae,decimals:18}])})((Ye==null?void 0:Ye.tx)??y,fe,b)},[y,Ye==null?void 0:Ye.tx,fe,b,V]),D)return p.jsx(sEt,{txn:(Ye==null?void 0:Ye.tx)??y,onClose:bt,receipt:D,transactionInfo:(te=t.sendTransaction)==null?void 0:te.uiOptions.transactionInfo,tokenPrice:ge,tokenSymbol:ae,receiptHeader:(ie=t.sendTransaction)==null?void 0:ie.uiOptions.successHeader,receiptDescription:(xe=t.sendTransaction)==null?void 0:xe.uiOptions.successDescription});if(F)return p.jsx(wve,{transactionError:F,transactionHash:R??void 0,network:"ethereum",chainId:(Ye==null?void 0:Ye.tx.chainId)??y.chainId,onClose:bt,onRetry:({resetNonce:Ie})=>{M(null);let Ze={...(Ye==null?void 0:Ye.tx)??y};Ie&&(Ze.nonce=void 0),w(Ze)}});let Kt=g!==0&&typeof h=="number"&&h!==0?()=>{f(h-1)}:void 0;return N&&C?p.jsx(rEt,{details:C,onBack:()=>$(!1)}):p.jsx(yxt,{transactionIndex:h,onBack:Kt,maxIndex:g,disabled:ht&&!ft||L,isSubmitting:O,submitError:F,isPreparing:!Ye,isTokenPriceLoading:Ee,isTokenContractInfoLoading:!ot&&!b,prepareError:Ye==null?void 0:Ye.errors[0],symbol:b==null?void 0:b.symbol,chain:se,img:St,title:we,subtitle:lt,txValue:y.value,fee:Ot??Xt,isSponsored:E,from:oe??"",to:Ae,tokenAddress:_e??void 0,network:((ve=d.chains.find(Ie=>Ie.id===y.chainId))==null?void 0:ve.name)??"",transactionDetails:{...fe,formattedAmount:K},cta:Ue,missingFunds:ht,action:ce,balance:Le??Oe??At,onClose:bt,onClick:It?async()=>{var Ie;if(oe){if(!ft)throw Error("Funding wallet is not enabled");n({...t,funding:{...t.funding,methodScreen:oc,chainType:"ethereum",amount:vm(BigInt((Ye==null?void 0:Ye.tx.value)??0)+BigInt(((Ie=Ye==null?void 0:Ye.totalGasEstimate)==null?void 0:Ie.toString())??0)),chain:se},solanaFundingData:t==null?void 0:t.solanaFundingData}),r(oc)}}:async()=>{var Ie,Ze;if(h<g)f(h+1);else{S(!0);try{let kt=await i.getAccessToken();if(O||!kt||!c||!u)return;let Xe=await t.sendTransaction.onConfirm({transactionRequest:(Ye==null?void 0:Ye.tx)??y});if(I(Xe),(Ie=t.sendTransaction)==null?void 0:Ie.signOnly)return await new Promise(Mt=>setTimeout(Mt,Hr)),(Ze=t==null?void 0:t.sendTransaction)==null||Ze.onSuccess({hash:Xe}),a({shouldCallAuthOnSuccess:!1});let Se=await je.waitForTransactionReceipt({hash:Xe});if(Se.status==="reverted")throw Error("Transaction failed");j(Se)}catch(kt){console.warn({transaction:(Ye==null?void 0:Ye.tx)??y,error:kt}),M(kt)}finally{S(!1)}}},validation:A,hasScanDetails:!!C,setIsScanDetailsOpen:$,preventMaliciousTransaction:L,setPreventMaliciousTransaction:B,tokensSent:T,tokensReceived:q,isScanning:V==="in progress",isCancellable:((Ht=(nt=t.sendTransaction)==null?void 0:nt.uiOptions)==null?void 0:Ht.isCancellable)??!1,functionName:he})}};function ac({title:t}){var o,a;let{currentScreen:e,navigateBack:n,navigate:r,data:i,setModalData:s}=He();return p.jsx(an,{title:t,backFn:e===XI?n:e===((o=i==null?void 0:i.funding)==null?void 0:o.methodScreen)?i.funding.comingFromSendTransactionScreen?()=>r(kve):void 0:(a=i==null?void 0:i.funding)!=null&&a.methodScreen?()=>{let c=i.funding;c.usingDefaultFundingMethod&&(c.usingDefaultFundingMethod=!1),s({funding:c,solanaFundingData:i==null?void 0:i.solanaFundingData}),r(c.methodScreen)}:void 0})}const $ve={component:()=>{let{rpcConfig:t,appId:e,closePrivyModal:n,createAnalyticsEvent:r}=Fe(),{navigate:i,setModalData:s,app:o,data:a}=He(),{wallets:c}=tp(),l=e2(),[u,d]=k.useState(null),[h,f]=k.useState(null),[g,m]=k.useState([]),[y,w]=k.useState(0),[b,v]=k.useState(!1),[E,_]=k.useState(!1),[O,S]=k.useState(!1),[R,I]=k.useState(!1),[D,j]=k.useState(),[F,M]=k.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:C,cluster:x,connectedWalletAddress:A}=a.funding,[P,N]=k.useState(a.funding.amount),$=A?c.find(({address:fe})=>fe===A):c[0],L=Xf(($==null?void 0:$.walletClientType)||"unknown"),B=(L==null?void 0:L.name)||"wallet",[T,z]=k.useState(null);k.useEffect(()=>{(async()=>{if(!$)return;let fe=await $.getEthereumProvider();z(Cne({account:$.address,transport:_ne(fe)}).extend(aM))})().catch(console.error)},[$]);let[q,U]=k.useState(0n),V=pg(q);k.useEffect(()=>{let fe=l(dx);fe?fe.getBalance({address:C,cluster:x}).then(ce=>U(BigInt(ce))):console.warn("Unable to load solana plugin, skipping balance")},[]);let[Z,K]=k.useState(),{tokenPrice:J}=Gb("solana"),{fundingAmountInBaseUnit:oe,fundingAmountInUsd:se}=z1e({amount:P,fee:0n,tokenPrice:J,isUsdc:a.funding.isUSDC});if(k.useEffect(()=>{(async()=>{if(!T||!$)return;let fe=["testnet","devnet"].includes(x.name);fe&&console.warn("Solana testnets are not supported for bridging");let ce=gM(o.chains).filter(({testnet:_e})=>!!_e===fe),de=(await Bwe({chains:ce,address:$.address,appId:e,rpcConfig:t})).filter(_e=>_e.balance>0n);if(de.length<1)return void d(new ee(`Wallet ${to($.address)} does not have enough funds.`,void 0,ne.INSUFFICIENT_BALANCE));de.sort((_e,ge)=>Number(ge.balance-_e.balance));let ot=(await Promise.allSettled(de.map(async _e=>({..._e,quote:await ix({isTestnet:!1,input:Qb({amount:oe.toString(),user:$.address,recipient:C,destinationChainId:qF,destinationCurrency:HF,originChainId:_e.chain.id})})})))).filter(_e=>_e.status==="fulfilled").map(_e=>_e.value);if(ot.length<1)return void d(new ee(`Unable to fetch quotes for bridging. Wallet ${to($.address)} does not have enough funds.`,void 0,ne.INSUFFICIENT_BALANCE));let he=ot.map(({quote:_e,balance:ge,chain:Ee})=>({bridgeTx:BI(_e),balance:ge,chain:Ee,isErc20Quote:!1})).filter(({bridgeTx:_e})=>!!_e);if(he.length>1)return void m(he);let Ae=he.at(0);Ae?(_(!0),K({data:Ae.bridgeTx.data,to:Ae.bridgeTx.to,value:Ae.bridgeTx.value,chain:Ae.chain})):d(new ee(`Unable to select bridge option from quotes. Wallet ${to($.address)} does not have enough funds.`,void 0,ne.INSUFFICIENT_BALANCE))})().catch(console.error)},[T]),k.useEffect(()=>{(async()=>{let fe,ce;if(!T||!$||b||O||!Z)return;v(!0);let de=Fd({chain:Z.chain,transport:ta(Jf(Z.chain,t,e))});try{fe=await de.prepareTransactionRequest({account:$.address,to:Z.to,chain:Z.chain,data:Z.data,value:BigInt(Z.value??0)})}catch(ot){console.error(ot),g.length>1&&f(ot.shortMessage??"Something went wrong")}if(fe){v(!1),S(!0);try{await T.switchChain({id:Z.chain.id})}catch{await T.addChain({chain:Z.chain}),await T.switchChain({id:Z.chain.id})}try{ce=await T.sendTransaction(fe)}catch(ot){console.error(ot),ot.name==="TransactionExecutionError"&&(g.length<1?d(new ee(ot.shortMessage,void 0,ne.TRANSACTION_FAILURE)):f(ot.shortMessage??"Something went wrong"))}if(ce)return await T.waitForTransactionReceipt({hash:ce}),E?(M("pending"),void j(ce)):(S(!1),I(!0),void r({eventName:ud,payload:{provider:"external",status:"success",txHash:ce,address:$.address,chainId:Z.chain.id,chainType:"ethereum",value:Z.value?es(BigInt(Z.value),18):void 0,token:"ETH",destination:C,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:es(oe,9),destinationToken:"SOL"}}));S(!1)}else v(!1)})().catch(console.error)},[T,Z]),Mz({transactionHash:D,wallet:$,isTestnet:!1,bridgingStatus:F,setBridgingStatus:M,onSuccess({transactionHash:fe,wallet:ce}){_(!1),I(!0),r({eventName:ud,payload:{provider:"external",status:"success",txHash:fe,address:ce.address,chainId:Z==null?void 0:Z.chain.id,chainType:"ethereum",value:Z!=null&&Z.value?es(BigInt(Z.value),18):void 0,token:"ETH",destination:C,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:es(oe,9),destinationToken:"SOL"}})},onFailure({error:fe}){_(!1),d(fe)}}),k.useEffect(()=>{u&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:u,previousScreen:i2}}),i(Vr,!1))},[u]),k.useEffect(()=>{if(!R)return;let fe=setTimeout(n,nI);return()=>clearTimeout(fe)},[R]),R)return p.jsxs(p.Fragment,{children:[p.jsx(ac,{}),p.jsx(cd,{}),p.jsxs(X8,{children:[p.jsx(kb,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(rl,{title:"Success!",description:`Youve successfully added ${P} SOL to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),p.jsx(nl,{}),p.jsx(An,{})]});let ae=g[y];return g.length>1&&ae?p.jsx(Gwe,{displayName:B,configuredFundingChain:x,formattedBalance:V,fundingAmount:P,fundingCurrency:"SOL",fundingAmountInUsd:se,options:g,selectedOption:ae,isPreparing:b,isSubmitting:O,addressToFund:C,fundingWalletAddress:($==null?void 0:$.address)||"",errorMessage:h,onSubmit:()=>{var fe;((fe=a.funding)==null?void 0:fe.amount)!==P?async function(){if($&&ae)try{let ce=await ix({isTestnet:!1,input:Qb({amount:oe.toString(),user:$.address,recipient:C,destinationChainId:qF,destinationCurrency:HF,originChainId:ae.chain.id})}),de=BI(ce);if(!de)throw Error("Invalid transaction request");_(!0),K({data:de.data,to:de.to,value:de.value,chain:ae.chain})}catch(ce){console.error(ce),d(new ee("Unable to fetch quotes for bridging",ce,ne.INSUFFICIENT_BALANCE))}}().catch(console.error):K({to:ae.bridgeTx.to,data:ae.bridgeTx.data,value:ae.bridgeTx.value,chain:ae.chain})},onSelect:fe=>{fe!==y&&(f(null),w(fe))},onAmountChange:N}):O&&$?p.jsx(QI,{wallet:$,displayName:B,addressToFund:C,isBridging:E,isErc20Flow:!1,chainId:"solana",chainName:x.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):p.jsxs(p.Fragment,{children:[p.jsx(ac,{}),p.jsx(M1,{}),p.jsx("div",{style:{marginTop:"1rem"}}),p.jsx(An,{})]})}},rW=new Map([[oc,null],[i2,"external"],[Zwe,"external"],[Jz,"external"],[$ve,"external"],[Ywe,"external"],[XI,"manual"],[ive,"moonpay"]]),wEt=()=>{let t=Tn(),{user:e}=fn(),{client:n,refreshSessionAndUser:r,walletProxy:i}=Fe();return{migrate:k.useCallback(async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new ee("User must be authenticated before migrating wallets",ne.MUST_BE_AUTHENTICATED);let s=Dl(e);if(!s||ys(s)||!Yb(s))return{success:!0};if(!i)throw new ee("Cannot connect to wallet proxy");let o=await n.getAccessToken();if(!o)throw new ee("User must be authenticated before migrating wallets",ne.MUST_BE_AUTHENTICATED);let a=s.imported?[s]:e.linkedAccounts.filter(u=>u.type==="wallet"&&u.walletClientType==="privy"&&!u.imported).filter(Yb),{entropyId:c,entropyIdVerifier:l}=no(e,s);try{await i.connect({accessToken:o,entropyId:c,entropyIdVerifier:l})}catch(u){if(!nx(u)||s.recoveryMethod!=="privy")throw u;await i.recover({accessToken:o,entropyId:c,entropyIdVerifier:l})}return await i.createDelegatedAction({accessToken:o,rootWallet:{address:s.address,chainType:s.chainType,imported:s.imported},delegatedWallets:a}),await r(),{success:!0}},[t.embeddedWallets.mode,e,i,n,r])}},vEt=({disabled:t})=>{let{migrate:e}=wEt(),{user:n}=fn(),{walletProxy:r}=Fe();return k.useEffect(()=>{!t&&n&&r&&e().catch(i=>{console.debug("Unable to migrate wallets: ",i)})},[n,r,t,e]),null},bEt=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type});function xEt(t){let{logout:e}=k.useContext(ov);return qb("logout",t),{logout:e}}const EEt=({providerApp:t,success:e,error:n,onClose:r})=>{let{title:i,subtitle:s}=k.useMemo(()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:n?{title:"Authentication failed",subtitle:n.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`},[e,n,t.name]);return p.jsx(xn,{title:i,subtitle:s,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},onBack:r,watermark:!0})},CEt={component:()=>{let t=Tn(),{data:e,navigate:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i}=He(),{crossAppAuthFlow:s,updateWallets:o,closePrivyModal:a,createAnalyticsEvent:c}=Fe(),{logout:l}=xEt(),[u,d]=k.useState({}),h=e==null?void 0:e.crossAppAuth,f={id:h.appId,name:h.name,logoUrl:h.logoUrl},g=new ee(`There was an issue connecting your ${f.name} account. Please try again.`),m=new ga(async w=>{var b,v,E,_,O,S,R,I,D,j,F,M,C,x,A;if(h.popup)try{let P=await s({appId:w,popup:h.popup,action:h.action});d({data:P})}catch(P){if(P instanceof ee)d({error:P});else if(P instanceof Uc){if(P.privyErrorCode===ne.ACCOUNT_TRANSFER_REQUIRED&&((v=(b=P.data)==null?void 0:b.data)!=null&&v.nonce))return r({accountTransfer:{nonce:(_=(E=P.data)==null?void 0:E.data)==null?void 0:_.nonce,account:(S=(O=P.data)==null?void 0:O.data)==null?void 0:S.subject,displayName:(D=(I=(R=P.data)==null?void 0:R.data)==null?void 0:I.account)==null?void 0:D.displayName,linkMethod:`privy:${f.id}`,embeddedWalletAddress:(M=(F=(j=P.data)==null?void 0:j.data)==null?void 0:F.otherUser)==null?void 0:M.embeddedWalletAddress,oAuthUserInfo:(A=(x=(C=P.data)==null?void 0:C.data)==null?void 0:x.otherUser)==null?void 0:A.oAuthUserInfo}}),void n(U1);h.popup&&h.popup.close(),d({error:g})}else d({error:g})}else d({error:g})}),y=()=>{u.data&&(o(),h.onSuccess(u.data),a({shouldCallAuthOnSuccess:!0,isSuccess:!0})),h.onError(u.error??new ee("User canceled flow")),a({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return i.current=y,k.useEffect(()=>{f.id.length&&m.execute(f.id)},[f.id]),k.useEffect(()=>{if(!u.data)return;let w=u.data;if(t.legal.requireUsersAcceptTerms&&!w.hasAcceptedTerms){let v=setTimeout(()=>{n(F1)},Hr);return()=>clearTimeout(v)}if(yg(w,t.embeddedWallets)){let v=setTimeout(()=>{r({createWallet:{onSuccess:()=>{},onFailure:E=>{console.error(E),c({eventName:"embedded_wallet_creation_failure_logout",payload:{error:E,provider:`privy:${f.id}`,screen:"CrossAppAuthScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),n(np)},Hr);return()=>clearTimeout(v)}let b=setTimeout(y,Hr);return()=>clearTimeout(b)},[u.data]),p.jsx(EEt,{providerApp:f,success:!!u.data,error:u.error,onClose:y})}},_Et=({appName:t,address:e,success:n,error:r,onAccept:i,onDecline:s,onClose:o})=>p.jsx(xn,n||r?{title:r?"Something went wrong":"Success!",subtitle:r?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:r?tue:$4,iconVariant:r?"error":"success",onBack:o,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:lXe,primaryCta:{label:"Accept",onClick:i},secondaryCta:{label:"Not now",onClick:s},onBack:o,watermark:!0,children:p.jsx(YI,{address:e,title:"Wallet"})}),AEt={component:()=>{let{app:t,data:e}=He(),{closePrivyModal:n}=Fe(),[r,i]=k.useState(!1),[s,o]=k.useState(),{address:a,onDelegate:c,onSuccess:l,onError:u}=e.delegatedActions.consent,d=async()=>{r?l():u(s??new ee("User declined delegating actions.")),n({shouldCallAuthOnSuccess:!1})};return k.useEffect(()=>{if(!r&&!s)return;let h=setTimeout(d,wF);return()=>clearTimeout(h)},[r,s]),p.jsx(_Et,{appName:t.name,address:a,success:r,error:s,onAccept:async()=>{try{await c(),i(!0)}catch(h){o(h)}},onDecline:()=>{d()},onClose:d})}},SEt=({appName:t,success:e,error:n,onRevoke:r,onDeny:i,onClose:s})=>p.jsx(xn,e||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":"You've successfully revoked permissions.",icon:n?tue:$4,iconVariant:n?"error":"success",onBack:s,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:oXe,primaryCta:{label:"Confirm",onClick:r},secondaryCta:{label:"Deny",onClick:i},onBack:s,watermark:!0}),IEt={component:()=>{let{app:t,data:e}=He(),{closePrivyModal:n}=Fe(),[r,i]=k.useState(!1),[s,o]=k.useState(),{onRevoke:a,onSuccess:c,onError:l}=e.delegatedActions.revoke,u=async()=>{r?c():l(s??new ee("User declined revoking access to their delegated wallet.")),n({shouldCallAuthOnSuccess:!1})};return k.useEffect(()=>{if(!r&&!s)return;let d=setTimeout(u,wF);return()=>clearTimeout(d)},[r,s]),p.jsx(SEt,{appName:t.name,success:r,error:s,onRevoke:async()=>{try{await a(),i(!0)}catch(d){o(d)}},onDeny:()=>{u()},onClose:u})}};let Tve="#8a63d2";const kEt=({appName:t,loading:e,success:n,errorMessage:r,connectUri:i,onBack:s,onClose:o,onOpenFarcaster:a})=>p.jsx(xn,Tr||e?qN?{title:r?r.message:"Add a signer to Farcaster",subtitle:r?r.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:z1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:i&&a?{label:"Open Farcaster app",onClick:a}:void 0,onBack:s,onClose:o,watermark:!0}:{title:r?r.message:"Requesting signer from Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:z1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:s,onClose:o,watermark:!0,children:i&&Tr&&p.jsx($Et,{children:p.jsx(awe,{text:"Take me to Farcaster",url:i,color:Tve})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:s,onClose:o,watermark:!0,children:p.jsxs(TEt,{children:[p.jsx(PEt,{children:i?p.jsx(ox,{url:i,size:275,squareLogoElement:z1}):p.jsx(REt,{children:p.jsx(tu,{})})}),p.jsxs(NEt,{children:[p.jsx(OEt,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),i&&p.jsx(eW,{text:i,itemName:"link",color:Tve})]})]})});let $Et=G.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-da518e1f-0"})(["margin-top:24px;"]),TEt=G.div.withConfig({displayName:"ContentContainer",componentId:"sc-da518e1f-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),PEt=G.div.withConfig({displayName:"QrContainer",componentId:"sc-da518e1f-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),NEt=G.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-da518e1f-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),OEt=G.div.withConfig({displayName:"InstructionText",componentId:"sc-da518e1f-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),REt=G.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-da518e1f-5"})(["position:relative;width:82px;height:82px;"]);const MEt={component:()=>{let{lastScreen:t,navigateBack:e,data:n,app:r}=He(),{requestFarcasterSignerStatus:i,closePrivyModal:s}=Fe(),[o,a]=k.useState(void 0),[c,l]=k.useState(!1),[u,d]=k.useState(!1),h=k.useRef([]),f=n==null?void 0:n.farcasterSigner;k.useEffect(()=>{let m=Date.now(),y=setInterval(async()=>{if(!(f!=null&&f.public_key))return clearInterval(y),void a({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});f.status==="approved"&&(clearInterval(y),l(!1),d(!0),h.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),Hr)));let w=await i(f==null?void 0:f.public_key),b=Date.now()-m;w.status==="approved"?(clearInterval(y),l(!1),d(!0),h.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),Hr))):b>3e5?(clearInterval(y),a({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):w.status==="revoked"&&(clearInterval(y),a({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))},2e3);return()=>{clearInterval(y),h.current.forEach(w=>clearTimeout(w))}},[]);let g=(f==null?void 0:f.status)==="pending_approval"?f.signer_approval_url:void 0;return p.jsx(kEt,{appName:r.name,loading:c,success:u,errorMessage:o,connectUri:g,onBack:t?e:void 0,onClose:s,onOpenFarcaster:()=>{g&&(window.location.href=g)}})}},jEt=({onClose:t})=>p.jsx(xn,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:iL,primaryCta:{label:"Close",onClick:t},watermark:!0}),Pve={component:()=>{let{closePrivyModal:t}=Fe();return p.jsx(jEt,{onClose:()=>t()})}},DEt=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>p.jsx(xn,{title:t,subtitle:e,icon:VS,watermark:!0,children:p.jsx(Z1e,{children:p.jsx(xwe,{stacked:!0})})}),LEt={component:()=>{let{app:t}=He();return p.jsx(DEt,{subtitle:`Add your email to your ${t==null?void 0:t.name} account`})}},BEt=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=k.useState(null),o=async()=>{i!=null&&i.qualifiedPhoneNumber&&await n(i)};return p.jsx(xn,{title:t,subtitle:e,icon:M0,primaryCta:{label:r?"Submitting":"Submit",onClick:o,disabled:!(i!=null&&i.isValid)||r},watermark:!0,children:p.jsx(VI,{onChange:a=>{s(a)},onSubmit:o,noIncludeSubmitButton:!0,hideRecent:!0})})},iW={component:()=>{let{app:t,currentScreen:e,data:n,navigate:r,setModalData:i}=He(),{initLoginWithSms:s}=Fe(),[o,a]=k.useState(!1);return p.jsx(BEt,{subtitle:`Add your number to your ${t==null?void 0:t.name} account`,onSubmit:async c=>{var l;a(!0);try{await s({phoneNumber:c.qualifiedPhoneNumber,withPrivyUi:!0}),r(sp)}catch(u){i({errorModalData:{error:u,previousScreen:((l=n==null?void 0:n.errorModalData)==null?void 0:l.previousScreen)||e||iW}}),r(Vr)}finally{a(!1)}},isSubmitting:o})}},UEt=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:n="Try again",secondaryCtaText:r="Cancel",onTryAgain:i,onCancel:s})=>p.jsx(xn,{title:t,subtitle:e,icon:bA,iconVariant:"error",primaryCta:{label:n,onClick:i},secondaryCta:{label:r,onClick:s},watermark:!0}),FEt={component:()=>{let{closePrivyModal:t}=Fe(),{navigate:e}=He();return p.jsx(UEt,{onTryAgain:()=>{e(Uo)},onCancel:async()=>{await t()}})}};function Nve(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:o,enrollInMfa:a}=k.useContext(ov);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>o("sms"),unenrollWithTotp:()=>o("totp"),unenrollWithPasskey:c=>o("passkey",c),showMfaEnrollmentModal:()=>a(!0),closeMfaEnrollmentModal:()=>a(!1)}}const zEt=t=>p.jsxs(WEt,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[p.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let WEt=G.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);");const qEt=({showIntro:t,userMfaMethods:e,appMfaMethods:n,userHasAuthSms:r,isTotpLoading:i,isPasskeyLoading:s,error:o,onClose:a,onBackToIntro:c,handleSelectMethod:l,setRemovingMfaMethod:u})=>{let d=e.reduce((f,g)=>({...f,[g]:!0}),{}),h=n.reduce((f,g)=>({...f,[g]:!0}),{});return p.jsxs(p.Fragment,{children:[p.jsx(an,{backFn:t?c:void 0,onClose:a},"header"),p.jsx(ru,{style:{marginBottom:"1.5rem"},children:p.jsx(Ym,{})}),p.jsx(ic,{children:"Choose a verification method"}),e.length>0?p.jsx(nu,{children:"To add or delete verification methods, verification is required."}):p.jsx(nu,{children:"How would you like to verify your identity?"}),o&&p.jsx(D1e,{style:{marginTop:"1.25rem"},children:o.message}),p.jsxs(R1e,{children:[(h.passkey||d.passkey)&&p.jsxs(rz,{children:[p.jsx(ei,{style:{justifyContent:"center"},onClick:()=>l("passkey"),disabled:d.passkey||s,children:s?p.jsx(tu,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):p.jsxs(oz,{children:[p.jsxs(sz,{children:[p.jsx(wD,{}),"Passkey"]}),d.passkey?p.jsx(sW,{color:"green",children:"Enabled"}):p.jsx(M1e,{$isAccent:!0,children:p.jsx(mwt,{})})]})}),d.passkey&&p.jsx(iz,{style:{position:"absolute",right:0},onClick:()=>u("passkey"),children:p.jsx(QU,{})})]},"passkey"),(h.totp||d.totp)&&p.jsxs(rz,{children:[p.jsx(ei,{style:{justifyContent:"center"},disabled:d.totp||i,onClick:()=>l("totp"),children:i?p.jsx(tu,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):p.jsxs(oz,{children:[p.jsxs(sz,{children:[p.jsx(U_,{}),"Authenticator app"]}),d.totp&&p.jsx(sW,{color:"green",children:"Enabled"})]})}),d.totp&&p.jsx(iz,{style:{position:"absolute",right:0},onClick:()=>u("totp"),children:p.jsx(QU,{})})]},"totp"),(h.sms||d.sms)&&p.jsxs(rz,{children:[p.jsx(ei,{disabled:d.sms||r,onClick:()=>l("sms"),children:p.jsxs(oz,{children:[p.jsxs(sz,{children:[p.jsx(M0,{}),"SMS"]}),d.sms&&p.jsx(sW,{color:"green",children:"Enabled"}),r&&p.jsx(M1e,{children:"Disabled"})]})}),d.sms&&p.jsx(iz,{style:{position:"absolute",right:0},onClick:()=>u("sms"),children:p.jsx(QU,{})})]},"sms")]}),p.jsx(HEt,{children:"You can always change your selection later"}),p.jsx(ki,{})]})};let sW=G(Ih).withConfig({displayName:"StyledChip",componentId:"sc-24f8b314-0"})(["margin-right:1.5rem;"]),HEt=G(j1e).withConfig({displayName:"StyledTerms",componentId:"sc-24f8b314-1"})(["&&{margin-top:1rem;}text-align:center;"]);const Ove=({style:t,...e})=>p.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[p.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[p.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),p.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),p.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),p.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),p.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),p.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),p.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),p.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),p.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),p.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),p.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),p.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),p.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),p.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),p.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),p.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),p.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),p.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),p.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),p.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),p.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),p.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_113_33841",children:p.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),VEt=({onClose:t,onReset:e,submitEnrollmentWithPasskey:n})=>{let{user:r}=fn(),{initLinkWithPasskey:i,linkWithPasskey:s}=Fe(),{app:o}=He(),[a,c]=k.useState(!1),[l,u]=k.useState(!1),[d,h]=k.useState(null),f=k.useMemo(()=>(r==null?void 0:r.linkedAccounts.filter(y=>y.type==="passkey"))??[],[r]),g=async y=>{c(!0);try{await n(y)}catch(w){h(w)}finally{c(!1)}},m=async()=>{u(!0),h(null);try{await i();let y=await s(),w=(y==null?void 0:y.linkedAccounts.filter(b=>b.type==="passkey").map(b=>b.credentialId))??[];await g(w)}catch(y){h(y)}finally{u(!1)}};return f.length===0||l?p.jsx(KEt,{onReset:e,onClose:t,onClick:m,isCreating:l}):d?p.jsx(sx,{allowlistConfig:o.allowlistConfig,error:d,onBack:()=>h(null),onRetry:()=>h(null)}):p.jsx(GEt,{passkeys:f,isSubmitting:a,isCreating:l,onReset:e,onClose:t,onSubmitEnrollment:()=>g(f.map(y=>y.credentialId)),onAddPasskey:m})};let KEt=({onReset:t,onClose:e,onClick:n,isCreating:r})=>p.jsxs(p.Fragment,{children:[p.jsx(an,{backFn:t,onClose:e},"header"),p.jsx(nz,{children:p.jsxs(zwe,{children:[p.jsx(mz,{}),p.jsx(Ove,{})]})}),p.jsx(ic,{children:"Set up passkey verification"}),p.jsxs(xI,{children:[p.jsxs(L1,{children:[p.jsx(D1,{children:p.jsx(Ym,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),p.jsxs(L1,{children:[p.jsx(D1,{children:p.jsx(xwt,{})}),"Takes seconds to set up and use"]}),p.jsxs(L1,{children:[p.jsx(D1,{children:p.jsx(lwt,{})}),"Use your passkey to verify transactions and login to your account"]})]}),p.jsx(er,{style:{marginTop:"2.25rem"},onClick:n,loading:r,children:"Add a new passkey"}),p.jsx(ki,{})]}),GEt=({onReset:t,onClose:e,onAddPasskey:n,onSubmitEnrollment:r,passkeys:i,isSubmitting:s,isCreating:o})=>{let[a,c]=k.useState(!1),l=a?i.length:i.length>3?2:3;return p.jsxs(p.Fragment,{children:[p.jsx(an,{backFn:a?()=>c(!1):t,onClose:e},"header"),!a&&p.jsx(nz,{children:p.jsxs(zwe,{children:[p.jsx(mz,{}),p.jsx(Ove,{})]})}),p.jsx(ic,{children:"Enable your passkeys for verification"}),p.jsxs(xI,{children:[i.slice(0,l).map(u=>{var d;return p.jsxs(ZEt,{children:[p.jsx(YEt,{children:QEt(u)}),p.jsxs(JEt,{children:["Last used: ",(d=u.latestVerifiedAt)==null?void 0:d.toLocaleString()]})]},u.credentialId)}),!a&&i.length>3&&p.jsx(Rve,{onClick:()=>c(!0),children:"View All"})]}),p.jsx(er,{style:{marginTop:"1.5rem"},onClick:r,loading:s,children:"Enable passkeys"}),i.length<5&&p.jsx(Rve,{style:{marginTop:"0.5rem"},onClick:n,disabled:o,children:o?p.jsx(tu,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),p.jsx(ki,{})]})},ZEt=G.div.withConfig({displayName:"PasskeyItem",componentId:"sc-9b5fbdd5-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),YEt=G.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-9b5fbdd5-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),JEt=G.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-9b5fbdd5-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),QEt=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const Rve=G.button.withConfig({displayName:"StyledLink",componentId:"sc-9b5fbdd5-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),XEt=({appName:t,onComplete:e,onReset:n,onClose:r})=>{let[i,s]=k.useState(""),[o,a]=k.useState(!1),[c,l]=k.useState(null),[u,d]=k.useState("enroll"),{initEnrollmentWithSms:h,submitEnrollmentWithSms:f}=Nve(),{app:g,data:m}=He();function y(){var w;(w=m==null?void 0:m.mfaEnrollmentFlow)==null||w.onSuccess(),e()}return c?p.jsx(sx,{allowlistConfig:g.allowlistConfig,error:c,onBack:()=>l(null),onRetry:()=>l(null)}):p.jsxs(p.Fragment,u==="enroll"?{children:[p.jsx(an,{backFn:n,onClose:r},"header"),p.jsx(ru,{style:{marginBottom:"1.5rem"},children:p.jsx(M0,{})}),p.jsx(ic,{children:"Set up SMS verification"}),p.jsxs(nu,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),p.jsxs(j1,{children:[p.jsx(VI,{onSubmit:async function({qualifiedPhoneNumber:w}){try{await h({phoneNumber:w}),s(w),d("verify")}catch(b){l(b)}},hideRecent:!0}),p.jsxs(j1e,{children:["By providing your mobile number, you agree to receive text messages from ",g==null?void 0:g.name,". Some carrier charges may apply"]})]}),p.jsx(ki,{})]}:o?{children:[p.jsx(an,{onClose:y},"header"),p.jsx(ru,{style:{marginBottom:"1.5rem"},children:p.jsx(kb,{})}),p.jsx(ic,{children:"SMS verification added"}),p.jsxs(nu,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),p.jsx(Vb,{children:p.jsx(er,{onClick:y,children:"Done"})}),p.jsx(ki,{})]}:{children:[p.jsx(an,{backFn:function(){u==="verify"?d("enroll"):n()},onClose:r},"header"),p.jsx(ru,{style:{marginBottom:"1.5rem"},children:p.jsx(M0,{})}),p.jsx(ic,{children:"Enter enrollment code"}),p.jsxs(j1,{children:[p.jsx(SI,{onChange:async function(w){try{if(!w)return;await f({phoneNumber:i,mfaCode:w}),a(!0)}catch(b){throw oye(b)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):vz(b)?Error("The code you entered is not valid"):wz(b)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):aye(b)?Error("Verification canceled"):Error("Unknown error")}}}),p.jsxs(nu,{children:["To continue, enter the 6-digit code sent to ",p.jsx("strong",{children:uze(i)})]})]}),p.jsx(ki,{})]})},e9t=G.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]),t9t=({size:t,authUrl:e})=>p.jsx(ox,{url:e,squareLogoElement:Lvt,size:t,fgColor:"#1F1F1F"}),n9t=({onClose:t,onReset:e,totpInfo:n,submitEnrollmentWithTotp:r,error:i})=>{let[s,o]=k.useState("enroll");return p.jsxs(p.Fragment,s==="enroll"?{children:[p.jsx(an,{backFn:e,onClose:t},"header"),p.jsx(op,{children:"Scan QR code"}),p.jsx(wg,{children:"Open your authenticator app and scan this code to continue"}),p.jsx(V2t,{children:p.jsx(t9t,{authUrl:n.authUrl,size:240})}),p.jsx(sc,{style:{textAlign:"left"},children:"Setup key"}),p.jsxs(ZI,{style:{marginTop:"0.25rem"},children:[p.jsx(e9t,{children:"".repeat(16)}),p.jsx(eW,{itemName:" ",text:n.secret})]}),p.jsx(er,{style:{marginTop:"1rem"},onClick:function(){o("verify")},children:"Continue"}),p.jsx(ki,{})]}:{children:[p.jsx(an,{backFn:function(){s==="verify"?o("enroll"):e()},onClose:t},"header"),p.jsx(ru,{style:{marginBottom:"1.5rem"},children:p.jsx(U_,{})}),p.jsx(op,{children:"Enter enrollment code"}),p.jsx(wg,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),p.jsx(j1,{children:p.jsx(SI,{onChange:async function(a){try{if(!a)return;await r({mfaCode:a})}catch(c){throw oye(c)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):vz(c)?Error("The code you entered is not valid"):wz(c)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):aye(c)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i==null?void 0:i.message})}),p.jsx(ki,{})]})},r9t={component:()=>{var B;let{user:t,enrollInMfa:e,ready:n}=fn(),[r,i]=k.useState(null),{unenrollWithSms:s,unenrollWithTotp:o,unenrollWithPasskey:a,submitEnrollmentWithTotp:c,initEnrollmentWithPasskey:l,submitEnrollmentWithPasskey:u,initEnrollmentWithTotp:d}=Nve(),{app:h,data:f,onUserCloseViaDialogOrKeybindRef:g}=He(),{closePrivyModal:m}=Fe(),{promptMfa:y}=cye(),[w,b]=k.useState(!1),[v,E]=k.useState(null),[_,O]=k.useState(null),S=()=>{m({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout(()=>{i(null),E(null)},500)},[R,I]=k.useState(!1),[D,j]=k.useState();g.current=S;let F=t==null?void 0:t.mfaMethods.includes("sms"),M=!!(t!=null&&t.phone),C=t==null?void 0:t.mfaMethods.includes("totp"),x=t==null?void 0:t.mfaMethods.includes("passkey"),A=F||C||x,P=(t==null?void 0:t.linkedAccounts.filter(T=>T.type==="passkey").map(T=>T.credentialId))??[];function N(){i(null),E(null)}async function $(T=P){var z,q;I(!0);try{return await l(),await u({credentialIds:T},{removeForLogin:(z=f==null?void 0:f.mfaEnrollmentFlow)==null?void 0:z.shouldUnlinkOnUnenrollMfa}),(q=f==null?void 0:f.mfaEnrollmentFlow)==null||q.onSuccess(),S()}catch(U){j(U)}finally{I(!1)}}if(k.useEffect(()=>{A&&b(!0)},[A]),!n||!t||!h)return p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:S},"header"),p.jsx(nz,{children:p.jsx(zEt,{})}),p.jsx(j1,{children:p.jsx(tu,{})}),p.jsx(ki,{})]});if(r==="sms")return p.jsxs(p.Fragment,{children:[p.jsx(an,{backFn:N,onClose:S},"header"),p.jsx(ru,{style:{marginBottom:"1.5rem"},children:p.jsx(Ev,{})}),p.jsx(ic,{children:"Remove SMS verification?"}),p.jsxs(nu,{children:["MFA adds an extra layer of security to your ",h==null?void 0:h.name," account. Make sure you have other methods to secure your account."]}),p.jsx(Vb,{children:p.jsx(er,{$warn:!0,onClick:async function(){i(null);try{await s()}catch{i(null)}},children:"Remove"})}),p.jsx(ki,{})]});if(r==="totp")return p.jsxs(p.Fragment,{children:[p.jsx(an,{backFn:N,onClose:S},"header"),p.jsx(ru,{style:{marginBottom:"1.5rem"},children:p.jsx(Ev,{})}),p.jsx(ic,{children:"Remove authenticator app verification?"}),p.jsxs(nu,{children:["MFA adds an extra layer of security to your ",h==null?void 0:h.name," account. Make sure you have other methods to secure your account."]}),p.jsx(Vb,{children:p.jsx(er,{$warn:!0,onClick:async function(){i(null);try{await o()}catch{i(null)}},children:"Remove"})}),p.jsx(ki,{})]});if(r==="passkey"){let T=((B=f==null?void 0:f.mfaEnrollmentFlow)==null?void 0:B.shouldUnlinkOnUnenrollMfa)??!0;return p.jsxs(p.Fragment,{children:[p.jsx(an,{backFn:N,onClose:S},"header"),p.jsx(ru,{style:{marginBottom:"1.5rem"},children:p.jsx(Ev,{})}),p.jsx(ic,{children:"Are you sure you want to remove this passkey?"}),p.jsx(nu,{children:T?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),p.jsx(Vb,{children:p.jsx(er,{$warn:!0,onClick:async function(){var z;i(null);try{await a({removeForLogin:(z=f==null?void 0:f.mfaEnrollmentFlow)==null?void 0:z.shouldUnlinkOnUnenrollMfa})}catch{i(null)}},children:"Remove"})}),p.jsx(ki,{})]})}if(f.mfaEnrollmentFlow.mfaMethods.length===0&&!A)return p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:S},"header"),p.jsx(ru,{style:{marginBottom:"1.5rem"},children:p.jsx(Ym,{})}),p.jsx(ic,{children:"Add more security"}),p.jsxs(nu,{children:[h==null?void 0:h.name," does not have any verification methods enabled."]}),p.jsx(Vb,{children:p.jsx(er,{onClick:S,children:"Close"})}),p.jsx(ki,{})]});let L=!A&&!w;return L?p.jsxs(p.Fragment,{children:[p.jsx(an,{onClose:S},"header"),p.jsx(ru,{style:{marginBottom:"1.5rem"},children:p.jsx(Ym,{})}),p.jsx(ic,{children:"Transaction Protection"}),p.jsx(nu,{children:"Set up transaction protection to add an extra layer of security to your account"}),p.jsxs(xI,{children:[p.jsxs(L1,{children:[p.jsx(D1,{children:p.jsx(Rvt,{})}),"Enable 2-Step verification for your ",h==null?void 0:h.name," wallet."]}),p.jsxs(L1,{children:[p.jsx(D1,{children:p.jsx(jvt,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),p.jsxs(Vb,{children:[p.jsx(er,{onClick:()=>b(!0),children:"Continue"}),p.jsx(sd,{onClick:S,children:"Not now"})]}),p.jsx(ki,{})]}):v==="sms"?p.jsx(XEt,{appName:(h==null?void 0:h.name)||"Privy",onComplete:S,onReset:N,onClose:S}):v==="totp"&&_?p.jsx(n9t,{onClose:S,onReset:N,submitEnrollmentWithTotp:({mfaCode:T})=>async function(z){var q;try{return j(void 0),await c({mfaCode:z}),(q=f==null?void 0:f.mfaEnrollmentFlow)==null||q.onSuccess(),S()}catch(U){j(U)}finally{i(null)}}(T),totpInfo:{..._,appName:(h==null?void 0:h.name)||"Privy"}}):v==="passkey"?p.jsx(VEt,{onReset:N,onClose:S,submitEnrollmentWithPasskey:$}):p.jsx(qEt,{showIntro:L,userMfaMethods:t.mfaMethods,appMfaMethods:h.mfa.methods,userHasAuthSms:M,onBackToIntro:function(){b(!1)},handleSelectMethod:async function(T){try{await y()}catch(z){return void j(z)}return T==="totp"?(E(T),O(null),void d().then(z=>{O(z)}).catch(()=>{O(null),N()})):T==="passkey"&&P.length===1?await $():void E(T)},isTotpLoading:v==="totp"&&!_,isPasskeyLoading:R,error:D,onClose:S,setRemovingMfaMethod:async T=>{try{await y()}catch(z){return void j(z)}i(T)}})}},i9t=({providerName:t,ProviderLogo:e,success:n,errorMessage:r,onRetry:i})=>{let s=n?`Successfully connected with ${t}`:r?r.message:`Verifying connection to ${t}`;return p.jsx(xn,{title:s,subtitle:n?"You're good to go!":r?r.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},secondaryCta:r!=null&&r.retryable&&i?{label:"Retry",onClick:i}:void 0,watermark:!0})},Mve={component:()=>{var O;let{authenticated:t,logout:e,ready:n,user:r}=fn(),{app:i,setModalData:s,navigate:o,resetNavigation:a}=He(),{getAuthMeta:c,initLoginWithOAuth:l,loginWithOAuth:u,updateWallets:d,setReadyToTrue:h,closePrivyModal:f,createAnalyticsEvent:g}=Fe(),[m,y]=k.useState(!1),[w,b]=k.useState(void 0),v=((O=c())==null?void 0:O.provider)||"google",{name:E,component:_}=kF(v);return k.useEffect(()=>{u(v).then(()=>{y(!0),h(!0)}).catch(S=>{var D,j,F,M,C,x,A,P,N,$,L,B,T,z,q,U;if(h(!1),(S==null?void 0:S.privyErrorCode)===ne.ALLOWLIST_REJECTED)return b(void 0),a(),void o(WI);if((S==null?void 0:S.privyErrorCode)===ne.USER_LIMIT_REACHED)return console.error(new G6(S).toString()),b(void 0),a(),void o(cx);if((S==null?void 0:S.privyErrorCode)===ne.USER_DOES_NOT_EXIST)return b(void 0),a(),void o(rx);if((S==null?void 0:S.privyErrorCode)===ne.ACCOUNT_TRANSFER_REQUIRED&&((j=(D=S.data)==null?void 0:D.data)!=null&&j.nonce))return b(void 0),a(),s({accountTransfer:{nonce:(M=(F=S.data)==null?void 0:F.data)==null?void 0:M.nonce,account:(x=(C=S.data)==null?void 0:C.data)==null?void 0:x.subject,displayName:(N=(P=(A=S.data)==null?void 0:A.data)==null?void 0:P.account)==null?void 0:N.displayName,linkMethod:($=c())==null?void 0:$.provider,embeddedWalletAddress:(T=(B=(L=S.data)==null?void 0:L.data)==null?void 0:B.otherUser)==null?void 0:T.embeddedWalletAddress,oAuthUserInfo:(U=(q=(z=S.data)==null?void 0:z.data)==null?void 0:q.otherUser)==null?void 0:U.oAuthUserInfo}}),void o(U1);let{retryable:R,detail:I}=function(V,Z){let K={detail:"",retryable:!1},J=jme(Z);if((V==null?void 0:V.privyErrorCode)===ne.LINKED_TO_ANOTHER_USER&&(K.detail="This account has already been linked to another user."),(V==null?void 0:V.privyErrorCode)===ne.INVALID_CREDENTIALS&&(K.retryable=!0,K.detail="Something went wrong. Try again."),V.privyErrorCode===ne.OAUTH_USER_DENIED&&(K.detail=`Retry and check ${J} to finish connecting your account.`,K.retryable=!0),(V==null?void 0:V.privyErrorCode)===ne.TOO_MANY_REQUESTS&&(K.detail="Too many requests. Please wait before trying again."),(V==null?void 0:V.privyErrorCode)===ne.TOO_MANY_REQUESTS&&V.message.includes("provider rate limit")){let oe=kF(Z).name;K.detail=`Request limit reached for ${oe}. Please wait a moment and try again.`}if((V==null?void 0:V.privyErrorCode)===ne.OAUTH_ACCOUNT_SUSPENDED){let oe=kF(Z).name;K.detail=`Your ${oe} account is suspended. Please try another login method.`}return(V==null?void 0:V.privyErrorCode)===ne.CANNOT_LINK_MORE_OF_TYPE&&(K.detail="You cannot authorize more than one account for this user."),(V==null?void 0:V.privyErrorCode)===ne.OAUTH_UNEXPECTED&&Z.startsWith("privy:")&&(K.detail="Something went wrong. Please try again."),K}(S,v);b({retryable:R,detail:I,message:"Authentication failed"})}).finally(()=>{$F()})},[E,v]),k.useEffect(()=>{if(n&&t&&m&&r){if(i!=null&&i.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let S=setTimeout(()=>{o(F1)},Hr);return()=>clearTimeout(S)}if(yg(r,i.embeddedWallets)){let S=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:v,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(np)},Hr);return()=>clearTimeout(S)}{let S=setTimeout(()=>f({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Hr);return d(),()=>clearTimeout(S)}}},[n,t,m,r]),p.jsx(i9t,{providerName:E,ProviderLogo:_,success:m,errorMessage:w,onRetry:w!=null&&w.retryable?()=>{$F(),l(v),b(void 0)}:void 0})}},s9t=k.forwardRef((t,e)=>{let[n,r]=k.useState(""),[i,s]=k.useState(""),[o,a]=k.useState(!1),{authenticated:c,user:l}=fn(),{initUpdateEmail:u}=Fe(),{navigate:d,setModalData:h,currentScreen:f}=He(),{enabled:g,token:m}=rc(),y=Tn(),w=Jme(n)&&(y.disablePlusEmails&&n.includes("+")?(i||s("Please enter a valid email address without a '+'."),!1):(i&&s(""),!0)),b=o||!w,v=()=>{!g||m||c?(async E=>{if(!(l!=null&&l.email))throw Error("User is required to have an email address to update it.");a(!0);try{await u({oldAddress:l.email.address,newAddress:n,captchaToken:E}),d(sp)}catch(_){h({errorModalData:{error:_,previousScreen:f||Uo}})}a(!1)})(m):(h({captchaModalData:{callback:E=>{if(!(l!=null&&l.email))throw Error("User is required to have an email address to update it.");return u({oldAddress:l.email.address,newAddress:n,captchaToken:E})},userIntentRequired:!1,onSuccessNavigateTo:sp,onErrorNavigateTo:Vr}}),d(ld))};return p.jsxs(p.Fragment,{children:[p.jsxs(o9t,{children:[i&&p.jsx(rp,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),p.jsxs(a9t,{$error:!!i,children:[p.jsx(VS,{}),p.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:E=>r(E.target.value),onKeyUp:E=>{E.key==="Enter"&&v()},value:n,autoComplete:"email"}),t.stacked?null:p.jsx(bI,{isSubmitting:o,onClick:v,disabled:b,children:"Submit"})]})]}),t.stacked?p.jsx(er,{loadingText:null,loading:o,disabled:b,onClick:v,style:{width:"100%"},children:"Submit"}):null]})});let o9t=Jye,a9t=Yye;const c9t=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>p.jsx(xn,{title:t,subtitle:e,icon:VS,watermark:!0,children:p.jsx(Z1e,{children:p.jsx(s9t,{stacked:!0})})}),l9t={component:()=>p.jsx(c9t,{})},u9t=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=k.useState(null);return p.jsx(xn,{title:t,subtitle:e,icon:M0,primaryCta:{label:r?"Submitting":"Update",onClick:async()=>{i!=null&&i.qualifiedPhoneNumber&&await n(i)},disabled:!(i!=null&&i.isValid)||r},watermark:!0,children:p.jsx(VI,{onChange:o=>{s(o)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},d9t={component:()=>{let{currentScreen:t,data:e,navigate:n,setModalData:r}=He(),{user:i}=fn(),{initUpdatePhone:s}=Fe(),[o,a]=k.useState(!1);return p.jsx(u9t,{onSubmit:async c=>{var l,u,d;a(!0);try{if(!((l=i==null?void 0:i.phone)!=null&&l.number))throw Error("User is required to have an phone number to update it.");await s((u=i==null?void 0:i.phone)==null?void 0:u.number,c.qualifiedPhoneNumber),n(sp)}catch(h){r({errorModalData:{error:h,previousScreen:((d=e==null?void 0:e.errorModalData)==null?void 0:d.previousScreen)||t||iW}}),n(Vr)}finally{a(!1)}},isSubmitting:o})}};function h9t({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:o,onCustomAuthAuthenticated:a}=Fe(),{logout:c,authenticated:l,ready:u}=hx();if(!o)throw new ee("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[d,h]=k.useState({status:"initial"}),f=k.useRef(),g=k.useRef(!1),m=k.useRef(e);k.useEffect(()=>{m.current=e},[e]);let y=k.useRef(r);k.useEffect(()=>{y.current=r},[r]);let w=k.useRef(i);k.useEffect(()=>{w.current=i},[i]);let b=k.useRef(s);return k.useEffect(()=>{b.current=s},[s]),k.useEffect(()=>{if(!n||!u)return;let v=async()=>{var E,_,O,S;if(!g.current){g.current=!0;try{h({status:"loading"});let R=await m.current();if(f.current!==void 0&&f.current===R)return void h({status:"done"});if(!R)return l&&(await c(),(E=w.current)==null||E.call(w)),f.current=R,void h({status:"done"});o.startAuthFlow(new _1e(R));let{user:I,isNewUser:D=!1}=await o.authenticate();if(!I)throw new ee("Failed to sync with custom auth provider");(_=y.current)==null||_.call(y,{user:I,isNewUser:D}),a(I,D),f.current=R,h({status:"done"})}catch(R){if(console.warn(R),await c().catch(()=>{}),(O=w.current)==null||O.call(w),R instanceof Uc&&R.privyErrorCode===ne.LINKED_TO_ANOTHER_USER)return h({status:"initial"}),void setTimeout(()=>{v()},0);(S=b.current)==null||S.call(b,R),h({status:"error",error:R})}finally{g.current=!1}}};return v(),t(v)},[t,o,a,l,c,n,u]),n?{state:d}:{state:{status:"not-enabled"}}}let f9t=Cv(()=>({jwtAuthFlowState:{status:"not-enabled"}}));function p9t({customAuth:t}){let{jwtAuthFlowState:e}=function({customAuth:n}){let r=ep(),i=k.useRef(),s=k.useCallback(c=>(i.current=c,()=>{i.current=void 0}),[]),o=(n==null?void 0:n.getCustomAccessToken)??(()=>Promise.resolve(void 0)),{state:a}=h9t({enabled:(n==null?void 0:n.enabled)===!0,subscribe:s,getExternalJwt:o,onAuthenticated:({user:c,isNewUser:l})=>{r("login","onComplete",{user:c,isNewUser:l,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:c})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:c=>{r("login","onError",c.privyErrorCode||ne.UNKNOWN_AUTH_ERROR)}});return k.useEffect(()=>{(async()=>{var c;n&&!n.isLoading&&((c=i.current)==null||c.call(i))})()},[n==null?void 0:n.enabled,n==null?void 0:n.getCustomAccessToken,n==null?void 0:n.isLoading]),{jwtAuthFlowState:a}}({customAuth:t});return k.useEffect(()=>{f9t.setState({jwtAuthFlowState:e})},[e]),null}const jve=k.createContext(!1);let s2,Dve,Lve,Bve,Uve,Fve,zve;async function lr(){return s2?s2.getAccessToken():Promise.resolve(Ct.get(rI)||Ct.get(z8)||null)}const g9t=(t,e)=>Dve(t,e),m9t=(t,e)=>Lve(t,e),y9t=(t,e)=>Bve(t,e),w9t=(t,e)=>Uve(t,e),v9t=t=>Fve(t),b9t=t=>zve(t),x9t=({config:t,...e})=>{var n;if((()=>{if(k.useContext(jve))throw new ee("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new ee("Embedded wallet is only available over HTTPS");if(typeof(n=e.appId)!="string"||n.length!==25)throw new ee("Cannot initialize the Privy provider with an invalid Privy app ID");s2||(s2=new Tbt({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let r=Object.assign({},t),i=k.useMemo(()=>new sze({appId:e.appId,clientId:e.clientId,storage:Ct,baseUrl:e.apiUrl,sdkVersion:"react-auth:2.25.0"}),[]);return p.jsx(ybt,{client:i,legacyClient:s2,clientConfig:r,children:p.jsx(g6t,{children:p.jsx(E9t,{...e,client:s2,privy:i})})})};let E9t=t=>{var Pn;let e=t.client,n=t.privy,r=e2();F3t();let[i,s]=k.useState(!1),[o,a]=k.useState(!1),[c,l]=k.useState(!1),[u,d]=k.useState(null),[h,f]=k.useState([]),[g,m]=k.useState([]),[y,w]=k.useState(void 0),[b,v]=k.useState(!1),[E,_]=k.useState(null),[O,S]=k.useState(!1),[R,I]=k.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:me}),[D,j]=k.useState({status:"initial"}),[F,M]=k.useState({status:"initial"}),[C,x]=k.useState({status:"initial"}),[A,P]=k.useState({status:"initial"}),[N,$]=k.useState({status:"initial"}),[L,B]=k.useState({status:"initial"}),[T,z]=k.useState(null),q=Tn(),U=x1e(),[V,Z]=k.useState({}),[K,J]=k.useState(null),oe=k.useRef(null),[se,ae]=k.useState(!1),[fe,ce]=k.useState(!1),de=k.useRef(null),ot=k.useRef(null),he=k.useRef(Rbt),[Ae,_e]=k.useState(!1);e.onStoreCustomerAccessToken=W=>{W&&$e(he,"accessToken","onAccessTokenGranted",{accessToken:W})},e.onDeleteCustomerAccessToken=()=>{d(null),l(!1),$e(he,"accessToken","onAccessTokenRemoved")};let ge=k.useRef(null),Ee=k.useRef(null),Wt=k.useRef(!1),ye=({showWalletUIs:W})=>Wt.current?Wt.current:W!==void 0?!W:!q.embeddedWallets.showWalletUIs,je=W=>{_(W),setTimeout(()=>{s(!0)},15)};k.useEffect(()=>{var Q,te,ie;if(!u)return void((Q=e.connectors)==null?void 0:Q.removeEmbeddedWalletConnectors());let W=Xd(u),H=pse(u),Y=Ej(u);W&&H.length||((te=e.connectors)==null||te.removeEmbeddedWalletConnectors()),Y||((ie=e.connectors)==null||ie.removeImportedWalletConnector()),e.connectors?T?(W&&e.connectors.addEmbeddedWalletConnectors({walletProxy:T,user:u,embeddedWallets:H,defaultChain:q.defaultChain,appId:t.appId,privyClient:n}),Y&&e.connectors.addImportedWalletConnector(T,Y.address,q.defaultChain,t.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[T,u]),k.useEffect(()=>{var W;T&&((W=oe.current)==null||W.call(oe,T))},[T]);let Ye=k.useCallback((W,H)=>{d(W),v(H),l(!0),ce(!0)},[]);k.useEffect(()=>{fe&&T&&u&&(async()=>{var Q;let W=Oz(u,q.embeddedWallets.ethereum.createOnLogin),H=Rz(u,q.embeddedWallets.solana.createOnLogin),Y=await lr();if(Y){if(W&&H){let te=await T.create({accessToken:Y});return await T.createSolana({accessToken:Y,ethereumAddress:te==null?void 0:te.address}),void ce(!1)}if(H)return await T.createSolana({accessToken:Y,ethereumAddress:(Q=Xd(u))==null?void 0:Q.address}),await ut.refreshSessionAndUser(),void ce(!1);if(W)return await T.create({accessToken:Y}),void ce(!1)}})().catch(console.error)},[fe&&T&&u]),k.useEffect(()=>{if(q.externalWallets.solana.connectors)return q.externalWallets.solana.connectors.onMount(),()=>{var W;return(W=q.externalWallets.solana.connectors)==null?void 0:W.onUnmount()}},[q.externalWallets.solana.connectors]),k.useEffect(()=>{!o&&U&&async function(){var xe,ve,nt;let W,H=bt(),Y=ft(),Q=ZCe();e.initializeConnectorManager({walletConnectCloudProjectId:q.walletConnectCloudProjectId,rpcConfig:q.rpcConfig,chains:q.chains,defaultChain:q.defaultChain,store:Q,walletList:q.appearance.walletList,shouldEnforceDefaultChainOnConnect:q.shouldEnforceDefaultChainOnConnect,externalWalletConfig:q.externalWallets,appName:q.name??"Privy",walletChainType:q.appearance.walletChainType,appKit:q.externalWallets.walletConnect.appKit,setBaseAccountSdk:w}),(xe=e.connectors)==null||xe.on("connectorInitialized",()=>{W&&clearTimeout(W);let Ht=e.connectors.walletConnectors.length,Ie=e.connectors.walletConnectors.reduce((Ze,kt)=>Ze+(kt.initialized?1:0),0);Ie===Ht?_e(!0):W=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:Ie,expected:Ht}),_e(!0)},1500)}),(ve=e.connectors)==null||ve.initialize().then(()=>{Le()});let te=await e.getAuthenticatedUser(),ie=!!te;q.legal.requireUsersAcceptTerms&&te&&!te.hasAcceptedTerms?(await e.logout(),ut.setReadyToTrue(!0),$e(he,"logout","onSuccess")):((nt=q.customAuth)!=null&&nt.enabled||(l(!!te),te&&$e(he,"login","onComplete",{user:te,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),d(te)),H?Ee.current=ie?"link":"login":Y&&!ie?(Ee.current="login",Z({telegramAuthModalData:{seamlessAuth:!0}}),je(KI)):ut.setReadyToTrue(!!te))}()},[e,K,o,U]),k.useEffect(()=>{if(o){if(!u||!u.linkedAccounts.find(W=>W.type==="wallet"&&W.walletClientType==="privy"))return void ae(!!T);if([...h].some(W=>W.walletClientType==="privy"))return void ae(!0);ae(!!T)}},[o,u,h,T]),k.useEffect(()=>{var W;(W=e.connectors)==null||W.setWalletList(q.appearance.walletList)},[q.appearance.walletList.join()]);let bt=()=>{let W=Vvt();return W.inProgress&&W.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):W.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:W.stateCode,authorizationCode:W.authorizationCode}):(W.inProgress&&function(H){return H.startsWith("privy:")}(W.provider)&&!W.popupFlow&&(new BroadcastChannel(mye).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:W.stateCode,authorizationCode:W.authorizationCode}),window.close()),!!W.inProgress&&!!W.withPrivyUi&&(e.startAuthFlow(new Rb({...W,customOAuthRedirectUrl:q.customOAuthRedirectUrl})),je(Mve),!0))},ft=()=>{var Y;let W=function(){let Q;return(Q=function(){let te=new URLSearchParams(window.location.search),ie=Number(te.get("id")||""),xe=te.get("hash"),ve=Number(te.get("auth_date")||""),nt=te.get("first_name");if(ie&&nt&&ve&&xe)return Object.fromEntries(te.entries())}())?(n1e(),{flowType:"login-url",authData:Q}):(Q=function(){let te=window.location.hash;if(!te||!te.startsWith("#tgWebAppData"))return;let ie=t1e(te.replace("#tgWebAppData=","")),{user:xe,auth_date:ve,hash:nt}=ie;return xe&&ve&&nt?ie:void 0}())?(n1e(),{flowType:"web-app",authData:Q}):void 0}();if(!W||!q.loginMethods.telegram||!((Y=q.loginConfig.telegramAuthConfiguration)!=null&&Y.seamlessAuthEnabled))return;let H=new V8;return e.startAuthFlow(H),W.flowType==="login-url"&&(H.meta.telegramWebAppData=void 0,H.meta.telegramAuthResult=W.authData),W.flowType==="web-app"&&(H.meta.telegramAuthResult=void 0,H.meta.telegramWebAppData=W.authData),!0},Xt=async(W,H,Y,Q)=>{var te,ie;if(W!=="solana_adapter")Ot(await((te=e.connectors)==null?void 0:te.createEthereumWalletConnector({connectorType:W,walletClientType:H}))||null,H,Y,Q);else{let xe=(ie=e.connectors)==null?void 0:ie.findSolanaWalletConnector(H);if(!xe)return;Ot(xe,H,Y,Q)}};async function Ot(W,H,Y,Q){if(!W)return I({status:"disconnected",connectedWallet:null,connectError:new br("Unable to connect to wallet."),connector:null,connectRetry:me}),Q==null?void 0:Q(null,Y);I({status:"disconnected",connectedWallet:null,connectError:null,connector:W,connectRetry:me}),W instanceof Wb&&H&&await W.resetConnection(H),I({connector:W,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>Ot(W,H,Y,Q)});try{let te=await W.connect({showPrompt:!0});if((!te||Qf(te))&&q.shouldEnforceDefaultChainOnConnect&&!q.chains.find(ie=>ie.id===Number(te==null?void 0:te.chainId.replace("eip155:","")))&&((te==null?void 0:te.connectorType)!=="wallet_connect_v2"||(te==null?void 0:te.walletClientType)!=="metamask")){I(ie=>({...ie,connector:W,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:me}));try{await(te==null?void 0:te.switchChain(q.defaultChain.id)),te&&(te.chainId=H8(sr(q.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${q.defaultChain.id}`)}}return I(ie=>({...ie,status:"connected",connectedWallet:te,connectError:null,connectRetry:me})),te&&$e(he,"connectWallet","onSuccess",{wallet:te}),Q==null?void 0:Q(te,Y)}catch(te){return te instanceof So?(console.warn(te.cause?te.cause:te.message),$e(he,"connectWallet","onError",te.privyErrorCode||ne.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(te),$e(he,"connectWallet","onError",ne.UNKNOWN_CONNECT_WALLET_ERROR)),I(ie=>({...ie,status:"disconnected",connectedWallet:null,connectError:te})),Q==null?void 0:Q(null,Y)}}let At=async(W,H,Y)=>{if(W===null||!Qf(W))return;let Q=new jb(e,W,H,Y);e.startAuthFlow(Q)},Oe=async(W,H,Y,Q="plain")=>{let te=r(iwe);if(Q==="transaction"&&!te)throw new ee("useSolanaLedger plugin hook must be mounted");if(W===null||!g1e(W))return;let ie=new lI(W,e,H,Y,Q,te?{deserializeTransactionFromB64String:te.deserializeTransactionFromB64String,prepareSiwsTransactionWithMemo:te.prepareSiwsTransactionWithMemo}:void 0);e.startAuthFlow(ie)},Le=()=>{let W=new URLSearchParams(window.location.search),H=W.get("privy_connector"),Y=W.get("privy_wallet_client"),Q=W.get("privy_connect_only")==="true";if(!H||!Y)return;let te=p1e({connectorType:H,walletClientType:Y});if(!te||!te.isInstalled)return je(FEt);if(!e.connectors)throw new ee("Connector not initialized");je(Q?qz:ip);let ie=new URL(window.location.href);ie.searchParams.delete("privy_connector"),ie.searchParams.delete("privy_wallet_client"),ie.searchParams.delete("privy_connect_only"),window.history.pushState({},"",ie),Xt(H,Y,void 0,Q?void 0:H==="solana_adapter"?Oe:At)};k.useEffect(()=>{o&&c&&u===null&&e.getAuthenticatedUser().then(d)},[o,c,u,e]);let we=W=>{if(!c)throw $e(he,"linkAccount","onError",ne.MUST_BE_AUTHENTICATED,{linkMethod:W}),new ee("User must be authenticated before linking an account.")},lt=W=>{if(!c||!u)return!1;if(W.walletClientType==="privy")return!0;for(let H of u.linkedAccounts)if(H.type==="wallet"&&H.address===W.address&&H.walletClientType!=="privy")return!0;return!1},St=async W=>{let H;if(!e.connectors)throw new ee("Connector not initialized");H=W.type==="ethereum"?e.connectors.findWalletConnector(W.connectorType,W.walletClientType)||null:e.connectors.findSolanaWalletConnector(W.walletClientType)||null,I(Y=>({...Y,connector:H,status:"connected",connectedWallet:W,connectError:null,connectRetry:me})),q.captchaEnabled&&!c?(Z({captchaModalData:{callback:Y=>Qf(W)?At(W,Y):Oe(W,Y),userIntentRequired:!1,onSuccessNavigateTo:ip,onErrorNavigateTo:Vr}}),je(ld)):(Qf(W)?await At(W):await Oe(W),je(ip))},ht=()=>{f(W=>{var Y;let H=((Y=e.connectors)==null?void 0:Y.wallets.filter(Qf).map(Q=>({...Q,linked:lt(Q),loginOrLink:async()=>{if(!await Q.isConnected())throw new ee("Wallet is not connected");if(Q.connectorType==="embedded"&&Q.walletClientType==="privy")throw new ee("Cannot link or login with embedded wallet");St(Q)},fund:async te=>{await ut.fundWallet(Q.address,te)},unlink:async()=>{if(!c)throw new ee("User is not authenticated.");if(Q.connectorType==="embedded"&&Q.walletClientType==="privy")throw new ee("Cannot unlink an embedded wallet");d(await e.unlinkEthereumWallet(Q.address))}})))||[];return RF(W,H)?W:H}),m(W=>{var Y;let H=(((Y=e.connectors)==null?void 0:Y.wallets)??[]).filter(g1e).map(Q=>({...Q,linked:lt(Q),loginOrLink:async()=>{if(!await Q.isConnected())throw new ee("Wallet is not connected");if(Q.connectorType==="embedded"&&Q.walletClientType==="privy")throw new ee("Cannot link or login with embedded wallet");St(Q)},fund:async()=>{throw new ee("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:async()=>{if(!c)throw new ee("User is not authenticated.");if(Q.connectorType==="embedded"&&Q.walletClientType==="privy")throw new ee("Cannot unlink an embedded wallet");d(await e.unlinkSolanaWallet(Q.address))}}));return RF(W,H)?W:H})};k.useEffect(()=>{ht()},[u==null?void 0:u.linkedAccounts,c,o]),k.useEffect(()=>{if(o){if(!e.connectors)throw new ee("Connector not initialized");ht(),e.connectors.on("walletsUpdated",ht)}},[o]),k.useEffect(()=>{var W,H;[...((W=q.loginMethodsAndOrder)==null?void 0:W.primary)??[],...((H=q.loginMethodsAndOrder)==null?void 0:H.overflow)??[]].filter(Y=>Y.startsWith("privy:")).forEach(Y=>e.getCrossAppProviderDetails(Y.replace("privy:","")))},[!!e]);let It=({transaction:W,sponsor:H,uiOptions:Y,fundWalletConfig:Q,address:te,signOnly:ie})=>new Promise(async(xe,ve)=>{let{requesterAppId:nt}=Y||{},Ht=ie?"signTransaction":"sendTransaction",Ie=te?jl(u,te):Xd(u);if(!Ie&&te){let Qt=Cj(h,te);if(Qt){if(H)throw new ee("Cannot sponsor transactions for externally connected wallet.");try{let pr=await Qt.getEthereumProvider(),$t={...W,from:te,chainId:W.chainId||Number(Qt.chainId.replace("eip155:","")),value:W.value!==void 0?sr(W.value):void 0},en=await pr.request({method:Ht==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[$t]});return $e(he,Ht,"onSuccess",{hash:en}),void xe({hash:en})}catch(pr){return $e(he,Ht,"onError",ne.TRANSACTION_FAILURE),void ve(pr??new Bo("Unable to "+Ht+pr))}}}if(!Ie)return $e(he,Ht,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),void ve(new ee("No embedded or connected wallet found for address."));if(!c||!u)return $e(he,Ht,"onError",ne.MUST_BE_AUTHENTICATED),void ve(Error("User must be authenticated before signing with a Privy wallet"));let Ze=Ie.address,kt=Ie.walletIndex??0,{entropyId:Xe,entropyIdVerifier:Se}=no(u,Ie),Mt=mn.wallets.find(Qt=>Qt.walletClientType==="privy"&&Ei(Qt.address)===Ei(Ze));if(!Mt)return $e(he,Ht,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),void ve(Error("Must have a Privy wallet before signing"));let Jt=await Mt.getEthereumProvider(),pn=await Jt.request({method:"eth_chainId"}),kn=W.chainId?Number(W.chainId):gye(pn);(Qt=>{if(!q.chains.map(pr=>pr.id).includes(Qt))throw new br(`Chain ID ${Qt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,ne.UNSUPPORTED_CHAIN_ID)})(kn);let Nn={...W,from:W.from??Ze,chainId:kn},$n=await lr();if(!$n||!T)return $e(he,Ht,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),void ve(Error("Must have valid access token and Privy wallet to send transaction"));let fr=Lb(Nn.chainId,q.chains,q.rpcConfig,{appId:t.appId}),Et=ys(Ie),vi=async({transactionRequest:Qt})=>{try{let pr;if(!await ut.recoverEmbeddedWallet({address:Ze}))throw $e(he,Ht,"onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),ve(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(H){let $t=await(async({transactionRequest:en})=>{if(!Et)throw new ee("Sponsoring is only supported for wallets on the TEE stack");if(ie)throw new ee("Cannot sponsor a sign transaction request");let yr=Ho=>Ho==null?void 0:sr(Ho),Gr=await ia(n,async({message:Ho})=>await T.signWithUserSigner({accessToken:$n,requesterAppId:nt,message:Ho}),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:H8(sr(en.chainId)),sponsor:!0,params:{transaction:{from:en.from,to:en.to,chain_id:yr(en.chainId),data:si(en.data)?en.data?en.data:sr(Uint8Array.from(en.data)):void 0,value:yr(en.value)}},wallet_id:Ie.id});if(Gr.data&&"hash"in Gr.data)return Gr.data.hash;throw new Bo("Unable to sign transaction")})({transactionRequest:Qt});return $e(he,"sendTransaction","onSuccess",{hash:$t}),$t}if(Et){let $t=yr=>yr==null?void 0:sr(yr),en=await ia(n,async({message:yr})=>await T.signWithUserSigner({accessToken:$n,requesterAppId:nt,message:yr}),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:Qt.from,to:Qt.to,nonce:$t(Qt.nonce),chain_id:$t(Qt.chainId),data:si(Qt.data)?Qt.data?Qt.data:sr(Uint8Array.from(Qt.data)):void 0,value:$t(Qt.value),type:Qt.type,gas_limit:$t(Qt.gasLimit??Qt.gas),gas_price:$t(Qt.gasPrice??Qt.gas),max_fee_per_gas:$t(Qt.maxFeePerGas),max_priority_fee_per_gas:$t(Qt.maxPriorityFeePerGas)}},wallet_id:Ie.id});if(!en.data||!("signed_transaction"in en.data))throw new Bo("Unable to sign transaction");pr=en.data.signed_transaction}else pr=await async function({accessToken:$t,entropyId:en,entropyIdVerifier:yr,transactingWalletIndex:Gr,walletProxy:Ho,transactionRequest:zy,requesterAppId:GE}){return(await Ho.rpc({entropyId:en,entropyIdVerifier:yr,hdWalletIndex:Gr??0,chainType:"ethereum",accessToken:$t,requesterAppId:GE,request:{method:"eth_signTransaction",params:[zy]}})).response.data}({accessToken:$n,entropyId:Xe,entropyIdVerifier:Se,transactingWalletIndex:kt,walletProxy:T,transactionRequest:Qt,requesterAppId:nt});if(ie)return $e(he,"signTransaction","onSuccess",{signature:pr}),pr;{let $t=await fr.sendRawTransaction({serializedTransaction:pr});return $e(he,"sendTransaction","onSuccess",{hash:$t}),$t}}catch(pr){throw $e(he,Ht,"onError",ne.TRANSACTION_FAILURE),pr}};if(ye({showWalletUIs:Y==null?void 0:Y.showWalletUIs})){let Qt=ie||H?Nn:await AI(Nn,fr,Nn.from);try{let pr=await vi({transactionRequest:Qt});ie?$e(he,"signTransaction","onSuccess",{signature:pr}):$e(he,"sendTransaction","onSuccess",{hash:pr}),xe({hash:pr})}catch(pr){$e(he,Ht,"onError",ne.TRANSACTION_FAILURE),ve(pr)}}else{let Qt={connectingWalletAddress:Ze,recoveryMethod:Ie.recoveryMethod,entropyId:Xe,entropyIdVerifier:Se,onCompleteNavigateTo:kve,isUnifiedWallet:Et,onFailure:$t=>{$e(he,Ht,"onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),ve($t)}},pr=Lwe(q)?cve({address:Ze,appConfig:q,fundWalletConfig:Q,methodScreen:oc,chainIdOverride:Nn.chainId,comingFromSendTransactionScreen:!0}):void 0;Z({connectWallet:Qt,sendTransaction:{transactionRequest:Nn,transactingWalletIndex:kt,transactingWalletAddress:Ze,entropyId:Xe,entropyIdVerifier:Se,signOnly:ie,scanTransaction:async()=>{var en,yr,Gr,Ho;let $t=await AI(Nn,fr,Nn.from);return await e.scanTransaction({metadata:{domain:q.embeddedWallets.transactionScanning.domain},chain_id:$t.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:$t.from,to:$t.to,value:(en=$t.value)==null?void 0:en.toString(),gas:(yr=$t.gas)==null?void 0:yr.toString(),gasPrice:(Gr=$t.gasPrice)==null?void 0:Gr.toString(),nonce:(Ho=$t.nonce)==null?void 0:Ho.toString(),data:$t.data}]}})},getIsSponsored:async()=>!!H,onConfirm:({transactionRequest:$t})=>vi({transactionRequest:$t}),onSuccess:$t=>{ie?$e(he,"signTransaction","onSuccess",{signature:$t.hash}):$e(he,"sendTransaction","onSuccess",{hash:$t.hash}),xe($t)},onFailure:$t=>{$e(he,Ht,"onError",ne.TRANSACTION_FAILURE),ve($t)},uiOptions:Y||{},fundWalletConfig:Q,requesterAppId:nt},funding:pr}),je(vg)}});function Ue(){return new Promise(async(W,H)=>{let Y=await lr();if(!Y||!T)throw Error("Must have valid access token to enroll in MFA");try{await T.verifyMfa({accessToken:Y}),W()}catch(Q){H(Q)}})}let Nt=W=>W==null?void 0:W.linkedAccounts.filter(H=>H.latestVerifiedAt!==null&&!(H.type==="wallet"&&H.walletClientType==="privy")).sort((H,Y)=>Y.latestVerifiedAt.getTime()-H.latestVerifiedAt.getTime())[0],Kt=W=>{let H=(u==null?void 0:u.linkedAccounts.filter(te=>te.type===W).length)??0,{displayName:Y,loginMethod:Q}=LI(W);if(W==="passkey"&&H>=5||W!=="passkey"&&H>=1)throw $e(he,"linkAccount","onError",ne.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:Q}),new ee(`User already has an account of type ${Y} linked.`)};async function qt({showAutomaticRecovery:W=!1,legacySetWalletPasswordFlow:H=!1}){_(null);let Y=H?"setWalletPassword":"setWalletRecovery";if(!c||!u)throw $e(he,Y,"onError",ne.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let Q=Dl(u);if(!Q||!T)throw $e(he,Y,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let te=ys(Q);if(te)throw $e(he,Y,"onError",ne.UNSUPPORTED_WALLET_TYPE),new ee("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Ue()}catch(ie){throw $e(he,Y,"onError",ne.MISSING_MFA_CREDENTIALS),ie}return new Promise((ie,xe)=>{let ve=Q.recoveryMethod==="user-passcode",nt=Twe({walletAction:"update",availableRecoveryMethods:q.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:H,isResettingPassword:ve,showAutomaticRecovery:W}),{entropyId:Ht,entropyIdVerifier:Ie}=no(u),Ze={recoveryMethod:Q.recoveryMethod,connectingWalletAddress:Q.address,onCompleteNavigateTo:nt,shouldForceMFA:!1,entropyId:Ht,isUnifiedWallet:te,entropyIdVerifier:Ie,onFailure:kt=>{$e(he,Y,"onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),xe(kt)}};Z({setWalletPassword:{onSuccess:kt=>{$e(he,Y,"onSuccess",{method:"user-passcode",wallet:kt}),ie(kt)},onFailure:kt=>{$e(he,Y,"onError",ne.USER_EXITED_SET_PASSWORD_FLOW),xe(kt)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:Ht,entropyIdVerifier:Ie,onFailure:xe},connectWallet:Ze,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:ve,shouldCreateEth:!1,shouldCreateSol:!1}}),je(vg)})}async function tt({appId:W,action:H}){let Y=await lr();if(H==="link"&&!Y)throw $e(he,"linkAccount","onError",ne.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${W}`}),new ee("User must be authenticated before linking an account.");if(H==="login"&&Y)throw $e(he,"login","onError",ne.UNKNOWN_AUTH_ERROR),new ee("Attempted to log in, but user is already logged in. Use a `link` helper instead.");ge.current=`privy:${W}`,Ee.current=H;let Q=$I();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:W}}),new Promise(async(te,ie)=>{let{name:xe,logoUrl:ve}=await wye({api:e.api,providerAppId:W,requesterAppId:q.id});Z({crossAppAuth:{appId:W,name:xe,logoUrl:ve,action:H,popup:Q,onSuccess:te,onError:ie}}),je(CEt)})}let Dr={ready:o,authenticated:c,user:u,walletConnectors:e.connectors||null,connectWallet:W=>{W&&"target"in W&&W&&(W=void 0),Z({externalConnectWallet:{walletList:W!=null&&W.walletList&&(W==null?void 0:W.walletList.length)>0?W.walletList:void 0,suggestedAddress:W==null?void 0:W.suggestedAddress,walletChainType:W==null?void 0:W.walletChainType,description:W==null?void 0:W.description}}),je(Fz)},linkWallet:W=>{W&&"target"in W&&W&&(W=void 0),we("siwe"),ge.current="siwe",Ee.current="link",Z({...V,externalConnectWallet:{...V.externalConnectWallet,suggestedAddress:W==null?void 0:W.suggestedAddress,walletList:W==null?void 0:W.walletList,walletChainType:W==null?void 0:W.walletChainType,description:W!=null&&W.suggestedAddress?p.jsxs("span",{children:["Link the wallet with address"," ",p.jsx(un,{showCopyIcon:!1,address:W==null?void 0:W.suggestedAddress})," ",q!=null&&q.name?`to ${q.name}.`:"."]}):`Link a wallet to your ${q==null?void 0:q.name} account`}}),je(qI)},startCrossAppAuthFlow:tt,linkEmail:()=>{we("email"),Kt("email"),ge.current="email",Ee.current="link",je(LEt)},linkPhone:()=>{we("sms"),Kt("phone"),ge.current="sms",Ee.current="link",je(iW)},linkGoogle:async()=>{we("google"),Kt("google_oauth"),Ee.current="link",await ut.initLoginWithOAuth("google")},linkTwitter:async()=>{we("twitter"),Kt("twitter_oauth"),Ee.current="link",await ut.initLoginWithOAuth("twitter")},linkDiscord:async()=>{we("discord"),Kt("discord_oauth"),Ee.current="link",await ut.initLoginWithOAuth("discord")},linkGithub:async()=>{we("github"),Kt("github_oauth"),Ee.current="link",await ut.initLoginWithOAuth("github")},linkSpotify:async()=>{we("spotify"),Kt("spotify_oauth"),Ee.current="link",await ut.initLoginWithOAuth("spotify")},linkInstagram:async()=>{we("instagram"),Kt("instagram_oauth"),Ee.current="link",await ut.initLoginWithOAuth("instagram")},linkTiktok:async()=>{we("tiktok"),Kt("tiktok_oauth"),Ee.current="link",await ut.initLoginWithOAuth("tiktok")},linkLine:async()=>{we("line"),Kt("line_oauth"),Ee.current="link",await ut.initLoginWithOAuth("line")},linkLinkedIn:async()=>{we("linkedin"),Kt("linkedin_oauth"),Ee.current="link",await ut.initLoginWithOAuth("linkedin")},linkApple:async()=>{we("apple"),Kt("apple_oauth"),Ee.current="link",await ut.initLoginWithOAuth("apple")},linkPasskey:async()=>{we("passkey"),Kt("passkey"),await ut.initLinkWithPasskey(),je(v8t)},linkTelegram:async W=>{if(we("telegram"),Kt("telegram"),Ee.current="link",ge.current="telegram",W==null?void 0:W.launchParams)if(W.launchParams.initDataRaw){let H=new V8;e.startAuthFlow(H),H.meta.telegramAuthResult=void 0,H.meta.telegramWebAppData=t1e(W.launchParams.initDataRaw),Z({telegramAuthModalData:{seamlessAuth:!0}}),je(KI)}else $e(he,"linkAccount","onError",ne.INVALID_DATA,{linkMethod:"telegram"});else await ut.initLoginWithTelegram();je(KI)},linkFarcaster:async()=>{we("farcaster"),Kt("farcaster"),await ut.initLoginWithFarcaster(),Ee.current="link",ge.current="farcaster",je(zz)},updateEmail:()=>{if(we("email"),!(u!=null&&u.email))throw new ee("User does not have an email linked to their account.");Ee.current="update",ge.current="email",je(l9t)},updatePhone:()=>{if(we("sms"),!(u!=null&&u.phone))throw new ee("User does not have a phone number linked to their account.");Ee.current="update",ge.current="sms",je(d9t)},login:async W=>{W&&"target"in W&&W&&(W=void 0);let H="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!o){let Y=await new Promise(Q=>{J(te=>Q.bind(te))});if(J(null),Y)return void console.warn(H)}!u||u.isGuest?(Ee.current="login",Z({login:W}),je(Uo)):console.warn(H)},connectOrCreateWallet:async()=>{o||(await new Promise(W=>{J(()=>W)}),J(null)),c?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(Ee.current="connect-or-create",je(ywe))},logout:async()=>{if(Ee.current=null,ge.current=null,u&&e.clearProviderAcccessTokens(u),_(null),await e.logout(),u&&T)try{await T.clearMfa({userId:u.id})}catch{}d(null),l(!1),$e(he,"logout","onSuccess"),s(!1),Ct.del(xF),Ct.del(Tme(q.id))},getAccessToken:k.useCallback(()=>e.getCustomerAccessToken(),[e]),unlinkWallet:async W=>{let H;return d(H=W.startsWith("0x")?await e.unlinkEthereumWallet(W):await e.unlinkSolanaWallet(W)),H},unlinkEmail:async W=>{let H=await e.unlinkEmail(W);return d(H),H},unlinkPhone:async W=>{let H=await e.unlinkPhone(W);return d(H),H},unlinkGoogle:async W=>{let H=await e.unlinkOAuth("google",W);return d(H),H},unlinkTwitter:async W=>{let H=await e.unlinkOAuth("twitter",W);return d(H),H},unlinkDiscord:async W=>{let H=await e.unlinkOAuth("discord",W);return d(H),H},unlinkGithub:async W=>{let H=await e.unlinkOAuth("github",W);return d(H),H},unlinkSpotify:async W=>{let H=await e.unlinkOAuth("spotify",W);return d(H),H},unlinkInstagram:async W=>{let H=await e.unlinkOAuth("instagram",W);return d(H),H},unlinkTiktok:async W=>{let H=await e.unlinkOAuth("tiktok",W);return d(H),H},unlinkLine:async W=>{let H=await e.unlinkOAuth("line",W);return d(H),H},unlinkLinkedIn:async W=>{let H=await e.unlinkOAuth("linkedin",W);return d(H),H},unlinkApple:async W=>{let H=await e.unlinkOAuth("apple",W);return d(H),H},unlinkFarcaster:async W=>{let H=await e.unlinkFarcaster(W);return d(H),H},unlinkTelegram:async W=>{let H=await e.unlinkTelegram(W);return d(H),H},unlinkPasskey:async W=>{let H=await lr();if(!H)throw Error("Must have valid access token to enroll in MFA");if(!T)throw Error("Wallet proxy not initialized.");let Y=q.passkeys.shouldUnenrollMfaOnUnlink;await T.unlinkPasskeyAccount({credentialId:W,accessToken:H,removeAsMfa:Y});let Q=await e.getAuthenticatedUser();return d(Q),Q},unlinkCrossAppAccount:async({subject:W})=>{var Q;let H=(Q=u==null?void 0:u.linkedAccounts.find(te=>te.type==="cross_app"&&te.subject===W))==null?void 0:Q.providerApp;if(!H)throw new ee("Invalid subject");e.storeProviderAccessToken(H.id,null);let Y=await e.unlinkOAuth(`privy:${H.id}`,W);return d(Y),Y},setWalletRecovery:async W=>qt({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:(W==null?void 0:W.showAutomaticRecovery)??!1}),setWalletPassword:async()=>qt({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(W,H)=>new Promise(async(Y,Q)=>{var Xe;let{requesterAppId:te}=(H==null?void 0:H.uiOptions)||{},ie=W.message,xe=H!=null&&H.address?jl(u,H.address):Xd(u);if(!xe&&(H==null?void 0:H.address)!==void 0){let Se=Cj(h,H.address);if(Se)try{let Mt=await Se.getEthereumProvider(),Jt=await Mt.request({method:"personal_sign",params:[ie,Se.address]});return $e(he,"signMessage","onSuccess",{signature:Jt}),void Y({signature:Jt})}catch(Mt){return $e(he,"signMessage","onError",ne.UNABLE_TO_SIGN),void Q(Mt??new Bo("Unable to sign message"))}}if(!xe)throw new ee("No embedded or connected wallet found for address.");if(!c||!u)return $e(he,"signMessage","onError",ne.MUST_BE_AUTHENTICATED),void Q(Error("User must be authenticated before signing with a Privy wallet"));let ve=xe.address,nt=xe.walletIndex??0,{entropyId:Ht,entropyIdVerifier:Ie}=no(u,xe),Ze=ys(xe);if(typeof ie!="string"||ie.length<1)return $e(he,"signMessage","onError",ne.INVALID_MESSAGE),void Q(Error("Message must be a non-empty string"));let kt=async()=>{let Se;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let Mt=await lr();if(!T||!Mt||!await ut.recoverEmbeddedWallet({address:ve}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:ve,requesterAppId:te}}),Ze){let Jt=si(W.message,{strict:!0}),pn=await ia(n,async({message:kn})=>await T.signWithUserSigner({accessToken:Mt,requesterAppId:te,message:kn}),{chain_type:"ethereum",method:"personal_sign",params:Jt?{message:ie.slice(2),encoding:"hex"}:{message:ie,encoding:"utf-8"},wallet_id:xe.id});if(!pn.data||!("signature"in pn.data))throw new Bo("Unable to sign message");Se=pn.data.signature}else{let{response:Jt}=await T.rpc({accessToken:Mt,entropyId:Ht,entropyIdVerifier:Ie,chainType:"ethereum",hdWalletIndex:nt,requesterAppId:te,request:{method:"personal_sign",params:[ie,ve]}});Se=Jt.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:ve,requesterAppId:te}}),Se};if(ye({showWalletUIs:(Xe=H==null?void 0:H.uiOptions)==null?void 0:Xe.showWalletUIs}))try{let Se=await kt();$e(he,"signMessage","onSuccess",{signature:Se}),Y({signature:Se})}catch(Se){$e(he,"signMessage","onError",ne.UNABLE_TO_SIGN),Q(Se??new Bo("Unable to sign message"))}else Z({signMessage:{method:"personal_sign",data:ie,confirmAndSign:kt,onSuccess:Se=>{$e(he,"signMessage","onSuccess",{signature:Se}),Y({signature:Se})},onFailure:Se=>{$e(he,"signMessage","onError",ne.UNABLE_TO_SIGN),Q(Se)},uiOptions:(H==null?void 0:H.uiOptions)||{}},connectWallet:{recoveryMethod:xe.recoveryMethod,connectingWalletAddress:ve,entropyId:Ht,entropyIdVerifier:Ie,onCompleteNavigateTo:tW,isUnifiedWallet:Ze,onFailure:Se=>{$e(he,"signMessage","onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),Q(Se)}}}),je(vg)}),signTypedData:(W,H)=>new Promise(async(Y,Q)=>{var Xe;let{requesterAppId:te}=(H==null?void 0:H.uiOptions)||{},ie=H!=null&&H.address?jl(u,H.address):Xd(u);if(!ie&&(H!=null&&H.address)){let Se=Cj(h,H.address);if(Se)try{let Mt=await Se.getEthereumProvider(),Jt=dI(W),pn=await Mt.request({method:"eth_signTypedData_v4",params:[Se.address,Jt]});return $e(he,"signTypedData","onSuccess",{signature:pn}),void Y({signature:pn})}catch(Mt){return $e(he,"signTypedData","onError",ne.UNABLE_TO_SIGN),void Q(Mt??new Bo("Unable to sign typed data "+Mt))}}if(!ie)throw new ee("No embedded or connected wallet found for address.");if(!c||!u)return $e(he,"signTypedData","onError",ne.MUST_BE_AUTHENTICATED),void Q(Error("User must be authenticated before signing with a Privy wallet"));let xe=ie.address,ve=ie.walletIndex??0,{entropyId:nt,entropyIdVerifier:Ht}=no(u,ie),Ie=ys(ie),Ze=dI(W),kt=async()=>{let Se;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let Mt=await lr();if(!T||!Mt||!await ut.recoverEmbeddedWallet({address:xe}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:xe,requesterAppId:te}}),Ie){let{domain:Jt,types:pn,primaryType:kn,message:Nn}=Ze,$n=await ia(n,async({message:fr})=>await T.signWithUserSigner({accessToken:Mt,requesterAppId:te,message:fr}),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:Jt,types:pn,primary_type:kn,message:Nn}},wallet_id:ie.id});if(!$n.data||!("signature"in $n.data))throw new Bo("Unable to sign message");Se=$n.data.signature}else{let{response:Jt}=await T.rpc({accessToken:Mt,entropyId:nt,entropyIdVerifier:Ht,chainType:"ethereum",hdWalletIndex:ve,requesterAppId:te,request:{method:"eth_signTypedData_v4",params:[xe,Ze]}});Se=Jt.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:xe,requesterAppId:te}}),Se};if(ye({showWalletUIs:(Xe=H==null?void 0:H.uiOptions)==null?void 0:Xe.showWalletUIs}))try{let Se=await kt();$e(he,"signTypedData","onSuccess",{signature:Se}),Y({signature:Se})}catch(Se){$e(he,"signTypedData","onError",ne.UNABLE_TO_SIGN),Q(Se??new Bo("Unable to sign message"))}else Z({signMessage:{method:"eth_signTypedData_v4",data:Ze,confirmAndSign:kt,onSuccess:Se=>{$e(he,"signTypedData","onSuccess",{signature:Se}),Y({signature:Se})},onFailure:Se=>{$e(he,"signTypedData","onError",ne.UNABLE_TO_SIGN),Q(Se)},uiOptions:(H==null?void 0:H.uiOptions)||{}},connectWallet:{recoveryMethod:ie.recoveryMethod,connectingWalletAddress:ie.address,entropyId:nt,isUnifiedWallet:Ie,entropyIdVerifier:Ht,onCompleteNavigateTo:tW,onFailure:Se=>{$e(he,"signMessage","onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),Q(Se)}}}),je(vg)}),sendTransaction:async(W,H)=>await It({transaction:W,sponsor:H==null?void 0:H.sponsor,uiOptions:H==null?void 0:H.uiOptions,fundWalletConfig:H==null?void 0:H.fundWalletConfig,address:H==null?void 0:H.address,signOnly:!1}),signTransaction:async(W,H)=>({signature:(await It({transaction:W,uiOptions:H==null?void 0:H.uiOptions,address:H==null?void 0:H.address,signOnly:!0})).hash}),exportWallet:W=>new Promise(async(H,Y)=>{if(!c||!u)return void Y(Error("User must be authenticated before exporting their Privy wallet"));W&&"target"in W&&W&&(W=void 0);let Q=W!=null&&W.address?jl(u,W.address):Xd(u);if(!Q)return void Y(new ee("User must have an embedded wallet."));let te=Q.address,{entropyId:ie,entropyIdVerifier:xe}=no(u,Q),ve=ys(Q);if(!te)return void Y(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!Li(te))return void Y(Error("Must provide a valid Ethereum address."));let nt={recoveryMethod:Q.recoveryMethod,connectingWalletAddress:Q.address,isUnifiedWallet:ve,entropyId:ie,entropyIdVerifier:xe,onCompleteNavigateTo:Xz,onFailure:Y,shouldForceMFA:!0};Z(V),await lr()&&T?T?Yb(Q)?(Z({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:Q.address,entropyId:ie,entropyIdVerifier:xe,hdWalletIndex:Q.walletIndex,chainType:Q.chainType,walletId:Q.id,isUnifiedWallet:ve,imported:Q.imported,onSuccess:H,onFailure:Y},connectWallet:nt}),je(vg)):Y(Error(`Export is not supported for ${Q.chainType} wallets`)):Y(Error("Must have a Privy wallet before exporting")):Y(Error("Must have valid access token to enroll in MFA"))}),promptMfa:Ue,async init(W){switch(W){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${W}`)}},async submit(W,H){var Y,Q,te;switch(W){case"totp":case"sms":if(typeof H!="string")throw new ee("Invalid MFA code");(Y=de.current)==null||Y.resolve({mfaMethod:W,mfaCode:H,relyingParty:window.origin}),await new Promise((ve,nt)=>{ot.current={resolve:ve,reject:nt}});break;case"passkey":if(typeof H=="string")throw new ee("Invalid authenticator response");let ie=await De(()=>Promise.resolve().then(()=>xE),void 0),xe=bEt(await ie.startAuthentication(H));(Q=de.current)==null||Q.resolve({mfaMethod:W,mfaCode:xe,relyingParty:window.origin}),await new Promise((ve,nt)=>{ot.current={resolve:ve,reject:nt}});break;default:throw(te=de.current)==null||te.reject(new ee("Unsupported MFA method")),new ee(`Unsupported MFA method: ${W}`)}},cancel(){var W;(W=de.current)==null||W.reject(new ee("MFA canceled"))},async initEnrollmentWithSms(W){let H=await lr();if(!H||!T)throw Error("Must have valid access token to enroll in MFA");await T.initEnrollMfa({method:"sms",accessToken:H,phoneNumber:W.phoneNumber})},enrollInMfa:W=>new Promise((H,Y)=>{if(!W)return ut.closePrivyModal(),void H();q.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),Z({mfaEnrollmentFlow:{mfaMethods:q.mfa.methods,shouldUnlinkOnUnenrollMfa:q.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:H,onFailure:Y}}),je(r9t)}),async initEnrollmentWithTotp(){let W=await lr();if(!W||!T)throw Error("Must have valid access token to enroll in MFA");let H=await T.initEnrollMfa({method:"totp",accessToken:W});return{secret:H.secret,authUrl:H.authUrl}},async submitEnrollmentWithSms(W){let H=await lr();if(!H||!T)throw Error("Must have valid access token to enroll in MFA");await T.submitEnrollMfa({method:"sms",accessToken:H,phoneNumber:W.phoneNumber,code:W.mfaCode}),d(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(W){let H=await lr();if(!H||!T)throw Error("Must have valid access token to enroll in MFA");await T.submitEnrollMfa({method:"totp",accessToken:H,code:W.mfaCode}),d(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:W},H={}){let Y=await lr();if(!Y||!T)throw Error("Must have valid access token to enroll in MFA");await T.submitEnrollMfa({method:"passkey",accessToken:Y,credentialIds:W,removeForLogin:H.removeForLogin}),d(await e.getAuthenticatedUser())},async unenroll(W,H={}){let Y=await lr();if(!Y||!T)throw Error("Must have valid access token to remove MFA");W==="passkey"?await T.submitEnrollMfa({method:"passkey",accessToken:Y,credentialIds:[],removeForLogin:H.removeForLogin}):await T.unenrollMfa({method:W,accessToken:Y}),d(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{var Q;let W=await lr(),H=u==null?void 0:u.linkedAccounts.find(te=>te.type==="wallet"&&te.walletClientType==="privy");if(!W)throw Error("Must have valid access token to connect with Farcaster");if(!T||!H)throw Error("Must have an embedded wallet to use Farcaster signers");if(ys(H))throw new ee("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((Q=u==null?void 0:u.farcaster)!=null&&Q.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await ut.recoverEmbeddedWallet({address:H.address}))throw Error("Unable to connect to wallet");let Y=await T.initFarcasterSigner({address:H.address,hdWalletIndex:null,accessToken:W,mfaCode:null,mfaMethod:null,relyingParty:window.origin});Y.status==="approved"&&d(await e.getAuthenticatedUser()||u||null),Z({farcasterSigner:Y}),je(MEt)},getFarcasterSignerPublicKey:async()=>{var Q,te;let W,H=await lr(),Y=u==null?void 0:u.linkedAccounts.find(ie=>ie.type==="wallet"&&ie.walletClientType==="privy");if(!H)throw Error("Must have valid access token to connect with Farcaster");if(!T||!Y)throw Error("Must have an embedded wallet to use Farcaster signers");if(ys(Y))throw new ee("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((Q=u==null?void 0:u.farcaster)!=null&&Q.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await ut.recoverEmbeddedWallet({address:Y.address}))throw Error("Unable to connect to wallet");if(!((te=u.farcaster)!=null&&te.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");return W=u.farcaster.signerPublicKey.slice(2),Uint8Array.from(W.match(/.{1,2}/g).map(ie=>parseInt(ie,16)))},signFarcasterMessage:async W=>{var ie,xe;let H=await lr(),Y=u==null?void 0:u.linkedAccounts.find(ve=>ve.type==="wallet"&&ve.walletClientType==="privy");if(!H)throw Error("Must have valid access token to connect with Farcaster");if(!T||!Y)throw Error("Must have an embedded wallet to use Farcaster signers");if(ys(Y))throw new ee("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((ie=u==null?void 0:u.farcaster)!=null&&ie.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await ut.recoverEmbeddedWallet({address:Y.address}))throw Error("Unable to connect to wallet");if(!((xe=u.farcaster)!=null&&xe.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");let Q=await De(()=>Promise.resolve().then(()=>xE),void 0),te=await T.signFarcasterMessage({address:Y.address,hdWalletIndex:null,accessToken:H,mfaCode:null,mfaMethod:null,payload:{hash:Q.bufferToBase64URLString(W)},fid:BigInt(u.farcaster.fid),relyingParty:window.origin});return new Uint8Array(Q.base64URLStringToBuffer(te.signature))},signMessageWithCrossAppWallet(W,{address:H,chainId:Y}){let Q=u==null?void 0:u.linkedAccounts.some(te=>te.type==="cross_app"&&te.smartWallets.some(ie=>ie.address===H));return TI({user:u,client:e,address:H,requesterAppId:q.id,request:{method:Q?"privy_signSmartWalletMessage":"personal_sign",params:[W,H],chainId:Y},reconnect:tt})},signTypedDataWithCrossAppWallet(W,{address:H,chainId:Y}){let Q=u==null?void 0:u.linkedAccounts.some(ie=>ie.type==="cross_app"&&ie.smartWallets.some(xe=>xe.address===H)),te=dI(W);return TI({user:u,client:e,address:H,requesterAppId:q.id,request:{method:Q?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[H,te],chainId:Y},reconnect:tt})},sendTransactionWithCrossAppWallet(W,{address:H}){let Y=u==null?void 0:u.linkedAccounts.some(Q=>Q.type==="cross_app"&&Q.smartWallets.some(te=>te.address===H));return TI({user:u,client:e,address:H,requesterAppId:q.id,request:{method:Y?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[W],chainId:W.chainId},reconnect:tt})},signTransactionWithCrossAppWallet(W,{address:H}){let Y=u==null?void 0:u.linkedAccounts.some(Q=>Q.type==="cross_app"&&Q.smartWallets.some(te=>te.address===H));return TI({user:u,client:e,address:H,requesterAppId:q.id,request:{method:Y?"privy_signSmartWalletTx":"eth_signTransaction",params:[W],chainId:W.chainId},reconnect:tt})},isModalOpen:i,mfaMethods:q.mfa.methods};Dve=Dr.signMessage,Lve=Dr.signTypedData,Uve=async(W,H)=>await It({transaction:W,...H,signOnly:!1}),Bve=async(W,H)=>({signature:(await It({transaction:W,...H,signOnly:!0})).hash});let ut={privy:n,setAuthenticated:l,setUser:d,setIsNewUser:v,isNewUserThisSession:b,pendingTransaction:null,walletConnectionStatus:R,setWalletConnectionStatus:I,connectors:((Pn=e.connectors)==null?void 0:Pn.walletConnectors)??[],solanaWallets:g,rpcConfig:q.rpcConfig,chains:q.chains,appId:t.appId,showFiatPrices:q.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:Ye,hideWalletUIs:Wt,isHeadlessSigning:k.useCallback(ye,[q.embeddedWallets.showWalletUIs]),emailOtpState:F,setEmailOtpState:M,smsOtpState:C,setSmsOtpState:x,oAuthState:N,setOAuthState:$,telegramAuthState:L,setTelegramAuthState:B,siweState:A,setSiweState:P,isHeadlessOAuthLoading:O,baseAccountSdk:y,setBaseAccountSdk:w,nativeTokenSymbolForChainId:W=>{var H;return(H=q.chains.find(Y=>Y.id===Number(W)))==null?void 0:H.nativeCurrency.symbol},initializeWalletProxy:async W=>{if(T)return T;let H=new Promise(te=>{oe.current=te}),Y=new Promise(te=>setTimeout(()=>te(null),W)),Q=await Promise.race([H,Y]);return oe.current=null,Q},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>{var W;return(W=e.authFlow)==null?void 0:W.meta},client:e,closePrivyModal:async(W={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let H,Y=o&&c&&u;Y&&ge.current&&(H=Nt(u)),Ee.current==="login"?W.shouldCallAuthOnSuccess&&Y&&ge.current?$e(he,"login","onComplete",{user:u,isNewUser:b,wasAlreadyAuthenticated:!1,loginMethod:ge.current,loginAccount:H??null}):$e(he,"login","onError",ne.USER_EXITED_AUTH_FLOW):Ee.current==="link"&&H?W.isSuccess&&Y&&ge.current?$e(he,"linkAccount","onSuccess",{user:u,linkMethod:ge.current,linkedAccount:H}):ge.current&&$e(he,"linkAccount","onError",ne.USER_EXITED_LINK_FLOW,{linkMethod:ge.current}):Ee.current==="update"&&H?W.isSuccess&&Y&&ge.current?$e(he,"update","onSuccess",{user:u,updateMethod:ge.current,updatedAccount:H}):ge.current&&$e(he,"update","onError",ne.USER_EXITED_UPDATE_FLOW,{linkMethod:ge.current}):Ee.current==="connect-or-create"&&(h[0]?$e(he,"connectOrCreateWallet","onSuccess",{wallet:h[0]}):$e(he,"connectOrCreateWallet","onError",ne.USER_EXITED_AUTH_FLOW));let Q=E&&rW.has(E),te=E===Vr&&V.errorModalData&&rW.has(V.errorModalData.previousScreen);if((Q||te)&&V.funding){let ie,xe=rW.get(E)??null;if(V.funding.chainType==="solana"){let ve=r(dx);if(ve)try{ie=BigInt(await ve.getBalance({address:V.funding.address,cluster:V.funding.cluster}))}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");$e(he,"fundSolanaWallet","onUserExited",{address:V.funding.address,cluster:V.funding.cluster,fundingMethod:xe,balance:ie})}else{let ve=Lb(V.funding.chain.id,q.chains,q.rpcConfig,{appId:t.appId});try{ie=await ve.getBalance({address:V.funding.address})}catch{console.error("Unable to pull wallet balance")}$e(he,"fundWallet","onUserExited",{address:V.funding.address,chain:V.funding.chain,fundingMethod:xe,balance:ie})}}Z(ie=>({...ie,externalConnectWallet:{suggestedAddress:void 0}})),Ee.current=null,ge.current=null,v(!1),s(!1),setTimeout(()=>{e.authFlow=void 0},200)},openPrivyModal:je,connectWallet:Ot,initLoginWithWallet:async(W,H,Y,Q)=>{Qf(W)?(ge.current="siwe",At(W,H,Y)):(ge.current="siws",Oe(W,H,Y,Q))},loginWithWallet:async()=>{let W,H,Y;if(!o)throw new zm;if(e.authFlow instanceof jb?W="siwe":e.authFlow instanceof lI&&(W="siws"),!W)throw new ee("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:H}=await e.link()),ge.current=W}catch(Q){throw $e(he,"linkAccount","onError",Q.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:W}),Q}else try{({user:H,isNewUser:Y}=await e.authenticate()),ge.current=W}catch(Q){throw $e(he,"login","onError",Q.privyErrorCode||ne.GENERIC_CONNECT_WALLET_ERROR),Q}d(H||u||null),v(Y||!1),l(!0)},delegateWallet:async({address:W,chainType:H,showDelegationUIs:Y})=>new Promise(async(Q,te)=>{let ie=await lr();if(!c||!u||!ie)throw new ee("User must be authenticated and have an embedded wallet to delegate actions.");if(H!=="solana"&&H!=="ethereum")throw new ee("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let xe=ut.walletProxy??await ut.initializeWalletProxy(15e3);if(!xe)throw new ee("Wallet proxy not initialized.");if((({address:Ze,user:kt})=>!!pye(kt).find(Xe=>Xe.address===Ze))({address:W,user:u}))return Q();let ve=jl(u,W);if(!ve)throw new ee("Address to delegate is not associated with current user.");if(ys(ve))throw new ee("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let nt=B3t({address:W,user:u}),Ht=U3t({address:W,user:u}),Ie=async()=>{await xe.createDelegatedAction({accessToken:ie,rootWallet:Ht,delegatedWallets:[nt]}),await ut.refreshSessionAndUser()};if(await ut.recoverEmbeddedWallet({address:W}),Y)Z({delegatedActions:{consent:{address:W,onDelegate:Ie,onSuccess:async()=>{Q()},onError:async Ze=>{te(Ze)}}}}),je(AEt);else try{await Ie(),Q()}catch(Ze){te(Ze)}}),revokeDelegatedWallets:async({showDelegationUIs:W})=>new Promise(async(H,Y)=>{if(!c||!u)throw new ee("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let Q=pye(u);if(Q.length===0)throw new ee("User has no delegated wallets to revoke.");if(Q.some(ys))throw new ee("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let te=async()=>{await e.revokeDelegatedWallet(),await ut.refreshSessionAndUser()};if(W)Z({delegatedActions:{revoke:{onRevoke:te,onSuccess:async()=>{H()},onError:async ie=>{Y(ie)}}}}),je(IEt);else try{await te(),H()}catch(ie){Y(ie)}}),initLoginWithFarcaster:async(W,H)=>{let Y=new Sme(W,H);e.startAuthFlow(Y);try{ge.current="farcaster",await Y.initializeFarcasterConnect()}catch(Q){throw Ee.current==="login"?$e(he,"login","onError",Q.privyErrorCode||ne.UNKNOWN_AUTH_ERROR):Ee.current==="link"&&$e(he,"linkAccount","onError",Q.privyErrorCode||ne.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),Q}},loginWithFarcaster:async()=>{let W,H;if(!o)throw new zm;if(!(e.authFlow instanceof Sme))throw new ee("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:W}=await e.link()),ge.current="farcaster"}catch(Y){throw $e(he,"linkAccount","onError",Y.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),Y}else try{({user:W,isNewUser:H}=await e.authenticate()),ge.current="farcaster"}catch(Y){throw $e(he,"login","onError",Y.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),Y}d(W||null),v(H||!1),l(!0)},async crossAppAuthFlow({appId:W,popup:H,action:Y}){let Q=`privy:${W}`;ge.current=Q;let{url:te,stateCode:ie,codeVerifier:xe}=await async function({api:ve,appId:nt}){let Ht=cI(),Ie=SF(),Ze=await IF(Ht);try{let{url:kt}=await ve.post(lse,{provider:`privy:${nt}`,redirect_to:window.location.href,code_challenge:Ze,state_code:Ie});return{url:kt,stateCode:Ie,codeVerifier:Ht}}catch(kt){throw bn(kt)}}({api:e.api,appId:W});if(!te)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:W}}),new ee("No authorization URL returned for cross-app auth.");try{let ve=await async function({url:kt,popup:Xe}){return Xe.location=kt,new Promise((Se,Mt)=>{let Jt,pn=setTimeout(()=>{Mt(new ee("Authorization request timed out after 2 minutes.")),kn()},12e4);function kn(){Xe==null||Xe.close(),window.removeEventListener("message",$n)}let Nn=setInterval(()=>{Xe!=null&&Xe.closed&&!Jt&&(kn(),clearInterval(Nn),clearTimeout(pn),Mt(new ee("User rejected request")))},300);function $n(fr){fr.data&&(fr.data.type==="PRIVY_OAUTH_RESPONSE"&&fr.data.stateCode&&fr.data.authorizationCode&&(clearTimeout(pn),Se(fr.data),kn()),fr.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(pn),Mt(new ee(fr.data.error)),kn()),fr.data.type===yye&&((Jt=new BroadcastChannel(mye)).onmessage=$n))}window.addEventListener("message",$n)})}({url:te,popup:H,provider:Q}),nt=ve.stateCode,Ht=ve.authorizationCode;if(nt!==ie)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:Q,storedStateCode:ie??"",returnedStateCode:nt??""}}),new ee("Unexpected auth flow. This may be a phishing attempt.",void 0,ne.OAUTH_UNEXPECTED);let Ie=await async function({appId:kt,stateCode:Xe,codeVerifier:Se,authorizationCode:Mt,action:Jt,client:pn}){var kn;if(!Mt||!Xe)throw new ee("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(Mt==="undefined")throw new ee("User denied confirmation during cross-app auth flow");try{let Nn=new z3t({authorizationCode:Mt,stateCode:Xe,codeVerifier:Se,provider:`privy:${kt}`});pn.startAuthFlow(Nn);let $n=Jt==="link"?await pn.link():await pn.authenticate(),fr=(kn=$n.oAuthTokens)==null?void 0:kn.accessToken;return console.debug(),fr}catch(Nn){let $n=bn(Nn);throw $n.privyErrorCode===ne.ACCOUNT_TRANSFER_REQUIRED?$n:$n.privyErrorCode?new ee($n.message||"Invalid code during cross-app auth flow.",void 0,$n.privyErrorCode):$n.message==="User denied confirmation during cross-app auth flow"?new ee("Invalid code during cross-app auth flow.",void 0,ne.OAUTH_USER_DENIED):new ee("Invalid code during cross-app auth flow.",void 0,ne.UNKNOWN_AUTH_ERROR)}}({appId:W,codeVerifier:xe,stateCode:nt,authorizationCode:Ht,action:Y,client:e});Ie&&e.storeProviderAccessToken(W,Ie);let Ze=await ut.refreshSessionAndUser();if(!Ze)throw new ee("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:W}}),Ze}catch(ve){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:ve.toString(),provider:Q}}),ve}},async initLoginWithOAuth(W,H,Y){if(ge.current=W,!pF()||W==="google"&&Wz(window.navigator.userAgent))return void je(Pve);W==="twitter"&&window.opener&&window.opener.postMessage({type:yye},"*"),Ct.del(oI),Ct.del(q8);let Q=new Rb({provider:W,disableSignup:!!Y,withPrivyUi:!0,customOAuthRedirectUrl:q.customOAuthRedirectUrl});H&&Q.addCaptchaToken(H),e.startAuthFlow(Q);let te=await e.authFlow.getAuthorizationUrl();if(te&&te.url)if(W==="twitter"&&g_e&&(te.url=te.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&_F())try{let{privyOAuthCode:ie,privyOAuthState:xe}=await Mme(te.url);je(Mve),Q.meta.stateCode=xe,Q.meta.authorizationCode=ie}catch(ie){throw console.error("OAuth in chrome extension flow failed:",ie),ie}else window.location.assign(te.url)},async initLoginWithTelegram(W,H){if(!o)throw new zm;ge.current="telegram";let Y=new V8(W,H);e.startAuthFlow(Y),B({status:"loading"}),Y.meta.telegramWebAppData=void 0,Y.meta.telegramAuthResult=await new Promise((Q,te)=>q.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:q.loginConfig.telegramAuthConfiguration.botId,request_access:!0},ie=>ie?Q(ie):te(new ee("Telegram auth failed or was canceled by the client"))):te(new ee("Telegram was not initialized")):te(new ee("Telegram Auth configuration is not loaded")))},async loginWithTelegram(W){var xe;let H,Y;if(!(e.authFlow instanceof V8))throw new ee("Must initialize Telegram flow before calling loginWithTelegram");(xe=e.authFlow.meta).captchaToken||(xe.captchaToken=W==null?void 0:W.captchaToken);let Q=await lr(),te=(W==null?void 0:W.intent)||Ee.current;if(te==="login")try{let ve=await e.authenticate();H=ve.user,Y=ve.isNewUser,ge.current="telegram"}catch(ve){throw $e(he,"login","onError",ve.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),ve}else{if(te!=="link")throw new ee("Unknown auth intent");try{H=(await e.link()).user,ge.current="telegram"}catch(ve){throw $e(he,"linkAccount","onError",ve.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),ve}}d(H),v(Y||!1),l(!0),B({status:"done"});let ie=(H==null?void 0:H.linkedAccounts.find(({type:ve})=>ve==="telegram"))||null;return{user:H,isNewUser:Y||!1,wasAlreadyAuthenticated:!!Q,loginAccount:ie}},async loginWithOAuth(W){let H,Y,Q;if(!(e.authFlow instanceof Rb))throw new ee("Must initialize OAuth flow before calling loginWithOAuth");let te=Ct.get(sI),ie=e.authFlow.meta.stateCode;if(te!==ie)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:W,storedStateCode:te??"",returnedStateCode:ie??""}}),new ee("Unexpected auth flow. This may be a phishing attempt.",void 0,ne.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let xe=await e.link();H=xe.user,Q=xe.oAuthTokens,ge.current=W}catch(xe){throw $e(he,"linkAccount","onError",xe.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:W}),xe}else try{let xe=await e.authenticate();H=xe.user,Y=xe.isNewUser,Q=xe.oAuthTokens,ge.current=W}catch(xe){throw Ee.current==="login"?$e(he,"login","onError",xe.privyErrorCode||ne.UNKNOWN_AUTH_ERROR):Ee.current==="link"&&$e(he,"linkAccount","onError",xe.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:W}),xe}return d(H),v(Y||!1),l(!0),Q&&H&&$e(he,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:Q,user:H}),Q},passkeyAuthState:D,setPasskeyAuthState:j,async initSignupWithPasskey({captchaToken:W,withPrivyUi:H}){let Y=new Mb({captchaToken:W,setPasskeyAuthState:j});e.startAuthFlow(Y),Ee.current="login";try{ge.current="passkey",j({status:"generating-challenge"}),await Y.initRegisterFlow(H),j({status:"awaiting-passkey"})}catch(Q){throw j({status:"error",error:Q}),$e(he,"login","onError",Q.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),Q}},async signupWithPasskey(){let W,H;if(!o)throw new zm;if(!(e.authFlow instanceof Mb))throw new ee("Must initialize Passkey flow first.");if(ge.current!=="passkey"){let te=new ee("Must init login with Passkey flow first.");throw j({status:"error",error:te}),te}let Y=await lr();try{ge.current="passkey",j({status:"awaiting-passkey"}),{user:W,isNewUser:H}=await e.authenticate()}catch(te){throw j({status:"error",error:te}),$e(he,"login","onError",te.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),te}d(W),v(H||!1),l(!0),j({status:"done"});let Q=(W==null?void 0:W.linkedAccounts.find(({type:te})=>te==="passkey"))||null;return{user:W,isNewUser:H||!1,wasAlreadyAuthenticated:!!Y,loginAccount:Q}},async initLoginWithPasskey({captchaToken:W,withPrivyUi:H}){let Y=new Mb({captchaToken:W,setPasskeyAuthState:j});e.startAuthFlow(Y),Ee.current="login";try{ge.current="passkey",j({status:"generating-challenge"}),await Y.initAuthenticationFlow(H),j({status:"awaiting-passkey"})}catch(Q){throw j({status:"error",error:Q}),$e(he,"login","onError",Q.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),Q}},async loginWithPasskey(W){let H,Y;if(!o)throw new zm;if(!(e.authFlow instanceof Mb))throw new ee("Must initialize Passkey flow first.");if(W!=null&&W.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=W.credentialIds),ge.current!=="passkey"){let ie=new ee("Must init login with Passkey flow first.");throw j({status:"error",error:ie}),ie}let Q=await lr();try{ge.current="passkey",j({status:"awaiting-passkey"}),{user:H,isNewUser:Y}=await e.authenticate()}catch(ie){throw j({status:"error",error:ie}),$e(he,"login","onError",ie.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),ie}d(H),v(Y||!1),l(!0),j({status:"done"});let te=(H==null?void 0:H.linkedAccounts.find(({type:ie})=>ie==="passkey"))||null;return{user:H,isNewUser:Y||!1,wasAlreadyAuthenticated:!!Q,loginAccount:te}},async initLinkWithPasskey(W){let H=new Mb({captchaToken:W});e.startAuthFlow(H),Ee.current="link",ge.current="passkey",j({status:"generating-challenge"});try{await H.initLinkFlow(),j({status:"awaiting-passkey"})}catch(Y){throw $e(he,"linkAccount","onError",Y.privyErrorCode||ne.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),j({status:"error",error:Y}),Y}},async linkWithPasskey(){let W;if(!o)throw new zm;if(!(e.authFlow instanceof Mb))throw new ee("Must initialize Passkey flow first.");if(ge.current!=="passkey")throw new ee("Must init login with Passkey flow first.");try{ge.current="passkey",{user:W}=await e.link()}catch(H){throw $e(he,"linkAccount","onError",H.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),H}return d(W||u||null),j({status:"done"}),W},async initLoginWithHeadlessOAuth(W,H,Y){if(!pF()||W==="google"&&Wz(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let Q=new Rb({provider:W,withPrivyUi:!1,disableSignup:Y??!1,customOAuthRedirectUrl:q.customOAuthRedirectUrl});H&&Q.addCaptchaToken(H),$({status:"loading"});let te=await e.startAuthFlow(Q).getAuthorizationUrl();if(te!=null&&te.url)if(window.location.protocol==="chrome-extension:"&&_F())try{let{privyOAuthCode:ie,privyOAuthState:xe}=await Mme(te.url);Q.meta.stateCode=xe,Q.meta.authorizationCode=ie,await this.loginWithHeadlessOAuth(Q.meta)}catch(ie){throw $({status:"error",error:ie}),ie}else window.location.assign(te.url)},async loginWithHeadlessOAuth(W){let H,Y,Q;S(!0),$({status:"loading"}),e.startAuthFlow(new Rb({...W,customOAuthRedirectUrl:q.customOAuthRedirectUrl}));let te=Ct.get(sI),ie=W.stateCode;if(te!==ie)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:W.provider,storedStateCode:te??"",returnedStateCode:ie??""}}),S(!1),new ee("Unexpected auth flow. This may be a phishing attempt.",void 0,ne.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:H,oAuthTokens:Q}=await e.link()),ge.current=W.provider;let xe=Nt(H);H&&xe&&$e(he,"linkAccount","onSuccess",{user:H,linkMethod:ge.current,linkedAccount:xe})}catch(xe){throw S(!1),$e(he,"linkAccount","onError",xe.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:W.provider}),xe}else try{({user:H,isNewUser:Y,oAuthTokens:Q}=await e.authenticate()),ge.current=W.provider;let xe=Nt(H);H&&xe&&Y!==void 0&&$e(he,"login","onComplete",{user:H,isNewUser:Y,wasAlreadyAuthenticated:!1,loginMethod:ge.current,loginAccount:xe})}catch(xe){throw S(!1),$({status:"error",error:xe}),$e(he,"login","onError",xe.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),xe}return d(H),v(Y||!1),l(!0),S(!1),$({status:"done"}),Q&&H&&$e(he,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:Q,user:H}),H??void 0},initLoginWithEmail:async({email:W,captchaToken:H,disableSignup:Y,withPrivyUi:Q})=>{let te=new Ob({email:W,captchaToken:H,disableSignup:Y});e.startAuthFlow(te);try{ge.current="email",M({status:"sending-code"}),await te.sendCodeEmail({withPrivyUi:Q}),M({status:"awaiting-code-input"})}catch(ie){throw M({status:"error",error:ie}),Ee.current==="login"?$e(he,"login","onError",ie.privyErrorCode||ne.UNKNOWN_AUTH_ERROR):Ee.current==="link"&&$e(he,"linkAccount","onError",ie.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),ie}},initUpdateEmail:async({oldAddress:W,newAddress:H,captchaToken:Y})=>{let Q=new Bvt(W,H,Y);e.startAuthFlow(Q);try{await Q.sendCodeEmail({withPrivyUi:!0})}catch(te){$e(he,"update","onError",te.privyErrorCode||ne.UNKNOWN_AUTH_ERROR,{linkMethod:ge.current})}},initUpdatePhone:async(W,H,Y)=>{let Q=new Gvt(W,H,Y);e.startAuthFlow(Q);try{await Q.sendSmsCode({withPrivyUi:!0})}catch(te){$e(he,"update","onError",te.privyErrorCode||ne.UNKNOWN_AUTH_ERROR,{linkMethod:ge.current})}},initLoginWithSms:async({phoneNumber:W,captchaToken:H,disableSignup:Y,withPrivyUi:Q})=>{x({status:"sending-code"});let te=new Db({phoneNumber:W,captchaToken:H,disableSignup:Y});e.startAuthFlow(te);try{ge.current="sms",await te.sendSmsCode({withPrivyUi:Q}),x({status:"awaiting-code-input"})}catch(ie){throw x({status:"error",error:ie}),Ee.current==="login"?$e(he,"login","onError",ie.privyErrorCode||ne.UNKNOWN_AUTH_ERROR):Ee.current==="link"&&$e(he,"linkAccount","onError",ie.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),ie}},resendEmailCode:async()=>{var W;await((W=e.authFlow)==null?void 0:W.sendCodeEmail({withPrivyUi:!0}))},resendSmsCode:async()=>{var W;await((W=e.authFlow)==null?void 0:W.sendSmsCode({withPrivyUi:!0}))},loginWithCode:async W=>{let H,Y;function Q(ve){e.authFlow instanceof Ob?M(ve):e.authFlow instanceof Db&&x(ve)}if(Q({status:"submitting-code"}),!o){let ve=new zm;throw Q({status:"error",error:ve}),ve}if(e.authFlow instanceof Ob)e.authFlow.meta.emailCode=W.trim();else{if(!(e.authFlow instanceof Db)){let ve=new ee("Must initialize a passwordless code flow first");throw Q({status:"error",error:ve}),ve}e.authFlow.meta.smsCode=W.trim()}let te=await lr();if(Ee.current==="link")try{({user:H}=await e.link())}catch(ve){throw Q({status:"error",error:ve}),$e(he,"linkAccount","onError",ve.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:ge.current}),ve}else if(Ee.current==="update")try{({user:H}=await e.link())}catch(ve){throw Q({status:"error",error:ve}),$e(he,"update","onError",ve.privyErrorCode||ne.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:ge.current}),ve}else try{({user:H,isNewUser:Y}=await e.authenticate())}catch(ve){throw Q({status:"error",error:ve}),$e(he,"login","onError",ve.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),ve}let ie=H||u;d(ie||null),v(Y||!1),l(!0),Q({status:"done"});let xe=null;return e.authFlow instanceof Ob?xe=(ie==null?void 0:ie.linkedAccounts.find(({type:ve})=>ve==="email"))||null:e.authFlow instanceof Db&&(xe=(ie==null?void 0:ie.linkedAccounts.find(({type:ve})=>ve==="phone"))||null),{user:ie,isNewUser:Y||!1,wasAlreadyAuthenticated:!!te,linkedAccount:xe}},generateSiweMessage:async({address:W,chainId:H,captchaToken:Y})=>{Ee.current=c?"link":"login",ge.current="siwe",P({status:"generating-message"});let Q=await e.generateSiweNonce({address:W,captchaToken:Y});return P({status:"awaiting-signature"}),TF({address:W,chainId:H.replace("eip155:",""),nonce:Q})},generateSiweMessageForSmartWallet:async({address:W,chainId:H})=>{let Y=await e.generateSiweNonce({address:W});return TF({address:W,chainId:H.replace("eip155:",""),nonce:Y})},linkSmartWallet:async({message:W,signature:H,smartWalletType:Y,smartWalletVersion:Q})=>{let te;te=await e.linkSmartWallet({message:W,signature:H,smartWalletType:Y,smartWalletVersion:Q}),d((te=await ut.refreshSessionAndUser()??te)||u||null)},loginWithSiwe:async({message:W,signature:H,captchaToken:Y,disableSignup:Q})=>{let te,ie=null;try{if(u)throw Error("User already authenticated");let xe=new jb(e,void 0,Y,Q,{message:W,signature:H});if(e.startAuthFlow(xe),ge.current="siwe",Ee.current="login",P({status:"submitting-signature"}),{user:ie,isNewUser:te}=await e.authenticate(),!ie)throw Error("Authentication failed - no user returned")}catch(xe){throw $e(he,"login","onError",xe.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),P({status:"error",error:xe}),xe}return d(ie),v(te||!1),l(!0),P({status:"done"}),Ee.current=null,ge.current=null,ie},linkWithSiwe:async({message:W,signature:H,chainId:Y,walletClientType:Q,connectorType:te})=>{let ie;we("siwe");let xe=null;try{P({status:"submitting-signature"}),ie=await e.linkWithSiwe({message:W,signature:H,chainId:Y,walletClientType:Q,connectorType:te}),ie=await ut.refreshSessionAndUser()??ie,P({status:"done"}),(xe=Nt(ie)||null)&&$e(he,"linkAccount","onSuccess",{user:ie,linkMethod:"siwe",linkedAccount:xe})}catch(nt){throw $e(he,"linkAccount","onError",nt.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),Ee.current=null,ge.current=null,P({status:"error",error:nt}),nt}let ve=ie||u;return d(ve||null),Ee.current=null,ge.current=null,{user:ve,linkedAccount:xe}},refreshSessionAndUser:async()=>{let W=await e.getAuthenticatedUser();return l(!!W),d(W),W},walletProxy:T,createAnalyticsEvent:({eventName:W,payload:H,timestamp:Y})=>e.createAnalyticsEvent({eventName:W,payload:H,timestamp:Y}),acceptTerms:async()=>{let W=await e.acceptTerms();return d(W),W},getUsdTokenPrice:W=>e.getUsdTokenPrice(W),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:W=>e.getSplTokenMetadata(W),recoverEmbeddedWallet:async W=>new Promise(async(H,Y)=>{if(!u)return void H(!0);let Q=W!=null&&W.address?jl(u,W.address):Dl(u)||Ej(u)||s_(u);if(!Q||ys(Q))return void H(!0);let te=await lr();if(!te||!T||!Q)return void Y(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:ie,entropyIdVerifier:xe}=no(u,Q);try{await T.connect({accessToken:te,entropyId:ie,entropyIdVerifier:xe}),H(!0)}catch(ve){if(nx(ve)&&Q.recoveryMethod==="privy"){let nt;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:Q.address}});try{nt=await T.recover({entropyId:ie,entropyIdVerifier:xe,accessToken:te})}catch(Ht){return void Y(Ht)}nt.entropyId||Y(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:Q.address}}),H(!0)}else nx(ve)&&Q.recoveryMethod!=="privy"&&Q.recoveryMethod!=="privy-v2"?(Z({recoverWallet:{entropyId:ie,entropyIdVerifier:xe,onFailure:Y,onSuccess:()=>H(!0)},recoveryOAuthStatus:{provider:Q.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),je(Pwe(Q.recoveryMethod))):Y(ve)}}),exportSolanaWallet:W=>new Promise(async(H,Y)=>{if(!c||!u)return void Y(Error("User must be authenticated before exporting their Privy wallet"));let Q=W!=null&&W.address?jl(u,W.address):Wm(u);if(!Q)return void Y(new ee("User must have an embedded wallet."));let{entropyId:te,entropyIdVerifier:ie}=no(u,Q),xe=ys(Q);if(!await lr()||!T)return void Y(Error("Must have valid access token to enroll in MFA"));if(!T)return void Y(Error("Must have a Privy wallet before exporting"));let ve={recoveryMethod:Q.recoveryMethod,connectingWalletAddress:Q.address,isUnifiedWallet:xe,entropyId:te,entropyIdVerifier:ie,onCompleteNavigateTo:Xz,onFailure:Y,shouldForceMFA:!0};Yb(Q)?(Z({connectWallet:ve,keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:Q.address,entropyId:te,entropyIdVerifier:ie,hdWalletIndex:Q.walletIndex,chainType:Q.chainType,walletId:Q.id,isUnifiedWallet:xe,imported:Q.imported,onSuccess:H,onFailure:Y}}),je(vg)):Y(Error(`Export is not supported for ${Q.chainType} wallets`))}),setReadyToTrue:W=>{a(!0),K==null||K(W)},updateWallets:()=>ht(),fundWallet:async(W,H)=>{Z({funding:cve({address:W,appConfig:q,fundWalletConfig:H,methodScreen:oc})}),je(oc)},openModal:je,requestFarcasterSignerStatus:async W=>{var te;let H=await lr(),Y=u==null?void 0:u.linkedAccounts.find(ie=>ie.type==="wallet"&&ie.walletClientType==="privy");if(!H)throw Error("Must have valid access token to connect with Farcaster");if(!T||!Y)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((te=u==null?void 0:u.farcaster)!=null&&te.fid))throw Error("Must have Farcaster account to use Farcaster signers");let Q=await e.requestFarcasterSignerStatus(W);return Q.status==="approved"&&d(await e.getAuthenticatedUser()||u||null),Q},connectCoinbaseSmartWallet:async()=>{var H,Y;q.externalWallets.coinbaseWallet.config.preference={...q.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let W=((H=e.connectors)==null?void 0:H.findWalletConnector("coinbase_wallet","coinbase_smart_wallet"))||((Y=e.connectors)==null?void 0:Y.findWalletConnector("coinbase_wallet","coinbase_wallet"));if(W)return W.updateConnectionPreference("smartWalletOnly"),Ot(W);await Xt("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{var H;let W=(H=e.connectors)==null?void 0:H.findWalletConnector("base_account","base_account");if(W)return Ot(W);await Xt("base_account","base_account")},initiateAccountTransfer:async({nonce:W,account:H,accountType:Y,externalWalletMetadata:Q,telegramAuthResult:te,telegramWebAppData:ie,farcasterEmbeddedAddress:xe,oAuthUserInfo:ve})=>{let nt=await e.sendAccountTransferRequest({nonce:W,account:H,accountType:Y,externalWalletMetadata:Q,telegramAuthResult:te,telegramWebAppData:ie,farcasterEmbeddedAddress:xe,oAuthUserInfo:ve});return d(nt),nt},inProgressAuthFlowRef:Ee,inProgressLoginOrLinkMethodRef:ge};Fve=ut.recoverEmbeddedWallet,zve=ut.recoverEmbeddedWallet;let mn=k.useMemo(()=>({wallets:h,ready:se&&Ae}),[h,se,Ae]),xa=e.authFlow instanceof V8,jn=!q.headless&&q.captchaEnabled&&!c&&(o||xa);return p.jsx(jve.Provider,{value:!0,children:p.jsx(ov.Provider,{value:Dr,children:p.jsx(I1e.Provider,{value:he,children:p.jsx(nye.Provider,{value:mn,children:p.jsx(Qvt,{...q,children:p.jsxs(fse.Provider,{value:ut,children:[p.jsx(C5t,{children:p.jsxs(wbt,{data:V,setModalData:Z,setInitialScreen:_,initialScreen:E,authenticated:c,open:i,children:[t.children,p.jsx(p9t,{customAuth:q.customAuth}),jn&&p.jsx(Nbt,{delayedExecution:!1}),p.jsx(M3t,{}),p.jsx(vEt,{disabled:q.embeddedWallets.disableAutomaticMigration}),p.jsx(b3t,{palette:q.appearance.palette||{}}),!q.render.standalone&&p.jsx($3t,{open:i})]})}),p.jsx(L3t,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:u==null?void 0:u.mfaMethods,mfaPromise:de,mfaSubmitPromise:ot,onLoad:z,onLoadFailed:()=>null}),q.loginConfig.telegramAuthConfiguration&&p.jsx(Hb,{$if:!0,children:p.jsx(P3t,{scriptHost:t.apiUrl||yF,botUsername:q.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})},Wve="cmkdyx5cg02hvlb0cexfoj8sj";fetch("/api/privy-config").then(t=>t.json()).then(t=>{Wve=t.appId}).catch(()=>{});function C9t(){const{ready:t,authenticated:e,login:n,logout:r}=hx(),{wallets:i}=tp();Me.useEffect(()=>{if(t&&e&&i.length>0){const a=i.find(c=>c.chainType==="solana");a&&(window.userWalletAddress=a.address,window.dispatchEvent(new CustomEvent("privy-wallet-connected",{detail:{address:a.address}})))}else t&&!e&&(window.userWalletAddress=null,window.dispatchEvent(new CustomEvent("privy-wallet-disconnected")))},[t,e,i]);const s=()=>{n()},o=()=>{r()};if(!t)return null;if(e&&i.length>0){const a=i.find(u=>u.chainType==="solana"),c=(a==null?void 0:a.address)||"",l=c?`${c.substring(0,4)}...${c.substring(c.length-4)}`:"";return p.jsxs("div",{id:"header-wallet-info",style:{display:"block",color:"#fff",fontSize:"0.9em",marginTop:"5px",textAlign:"center"},children:[p.jsx("div",{id:"header-wallet-address",style:{marginBottom:"5px"},children:l}),p.jsx("button",{id:"header-wallet-disconnect",onClick:o,style:{padding:"5px 10px",fontSize:"0.8em",background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"5px",color:"#fff",cursor:"pointer"},children:"Disconnect"})]})}return p.jsx("button",{id:"header-wallet-connect-btn",onClick:s,style:{background:"linear-gradient(135deg, #9945FF 0%, #14F195 100%)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"8px",fontWeight:"700",cursor:"pointer",boxShadow:"0 3px 8px rgba(0,0,0,0.3)"},children:p.jsx("span",{id:"wallet-btn-text",children:"Connect Wallet"})})}function _9t(){return p.jsx(x9t,{appId:Wve,config:{loginMethods:["email","wallet"],appearance:{theme:"dark",accentColor:"#9945FF",logo:"/img/doodllogo.gif"},embeddedWallets:{solana:{createOnLogin:"users-without-wallets"}}},children:p.jsx(C9t,{})})}function oW(){const t=document.getElementById("wallet-connect-header");t&&$T.createRoot(t).render(Me.createElement(_9t))}typeof window<"u"&&(window.PrivyApp={initPrivyApp:oW},document.readyState==="loading"?document.addEventListener("DOMContentLoaded",oW):oW());var qve={};const Pt={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof qve<"u"?qve.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},Hve={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var i;if(!e)return;const n=t.find(s=>s.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((i=Pt.CHAIN_NAME_MAP)==null?void 0:i[r])||void 0}};var A9t=20,S9t=1,W1=1e6,Vve=1e6,I9t=-7,k9t=21,$9t=!1,gx="[big.js] ",q1=gx+"Invalid ",ek=q1+"decimal places",T9t=q1+"rounding mode",Kve=gx+"Division by zero",ur={},$h=void 0,P9t=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Gve(){function t(e){var n=this;if(!(n instanceof t))return e===$h?Gve():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(q1+"value");e=e===0&&1/e<0?"-0":String(e)}N9t(n,e)}n.constructor=t}return t.prototype=ur,t.DP=A9t,t.RM=S9t,t.NE=I9t,t.PE=k9t,t.strict=$9t,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function N9t(t,e){var n,r,i;if(!P9t.test(e))throw Error(q1+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}return t}function H1(t,e,n,r){var i=t.c;if(n===$h&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(T9t);if(e<1)r=n===3&&(r||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==$h))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==$h||i[e-1]&1))||n===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function V1(t,e,n){var r=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}ur.abs=function(){var t=new this.constructor(this);return t.s=1,t},ur.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,s=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1},ur.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,s=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>W1)throw Error(ek);if(!i[0])throw Error(Kve);if(!r[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,u,d,h=i.slice(),f=a=i.length,g=r.length,m=r.slice(0,a),y=m.length,w=t,b=w.c=[],v=0,E=o+(w.e=e.e-t.e)+1;for(w.s=s,s=E<0?0:E,h.unshift(0);y++<a;)m.push(0);do{for(l=0;l<10;l++){if(a!=(y=m.length))u=a>y?1:-1;else for(d=-1,u=0;++d<a;)if(i[d]!=m[d]){u=i[d]>m[d]?1:-1;break}if(u<0){for(c=y==a?i:h;y;){if(m[--y]<c[y]){for(d=y;d&&!m[--d];)m[d]=9;--m[d],m[y]+=10}m[y]-=c[y]}for(;!m[0];)m.shift()}else break}b[v++]=u?l:++l,m[0]&&u?m[y]=r[f]||0:m=[r[f]]}while((f++<g||m[0]!==$h)&&s--);return!b[0]&&v!=1&&(b.shift(),w.e--,E--),v>E&&H1(w,E,n.RM,m[0]!==$h),w},ur.eq=function(t){return this.cmp(t)===0},ur.gt=function(t){return this.cmp(t)>0},ur.gte=function(t){return this.cmp(t)>-1},ur.lt=function(t){return this.cmp(t)<0},ur.lte=function(t){return this.cmp(t)<1},ur.minus=ur.sub=function(t){var e,n,r,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),u=s.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=u-h){for((i=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){i=l[c]<d[c];break}if(i&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t},ur.mod=function(t){var e,n=this,r=n.constructor,i=n.s,s=(t=new r(t)).s;if(!t.c[0])throw Error(Kve);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=s,e?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=s,this.minus(n.times(t)))},ur.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t},ur.plus=ur.add=function(t){var e,n,r,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t},ur.pow=function(t){var e=this,n=new e.constructor("1"),r=n,i=t<0;if(t!==~~t||t<-Vve||t>Vve)throw Error(q1+"exponent");for(i&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(r):r},ur.prec=function(t,e){if(t!==~~t||t<1||t>W1)throw Error(q1+"precision");return H1(new this.constructor(this),t,e)},ur.round=function(t,e){if(t===$h)t=0;else if(t!==~~t||t<-W1||t>W1)throw Error(ek);return H1(new this.constructor(this),t+this.e+1,e)},ur.sqrt=function(){var t,e,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(gx+"No square root");s=Math.sqrt(+V1(r,!0,!0)),s===0||s===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return H1(t,(i.DP-=4)+t.e+1,i.RM)},ur.times=ur.mul=function(t){var e,n=this,r=n.constructor,i=n.c,s=(t=new r(t)).c,o=i.length,a=s.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t},ur.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==$h){if(t!==~~t||t<0||t>W1)throw Error(ek);for(n=H1(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return V1(n,!0,!!r)},ur.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==$h){if(t!==~~t||t<0||t>W1)throw Error(ek);for(n=H1(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return V1(n,!1,!!r)},ur[Symbol.for("nodejs.util.inspect.custom")]=ur.toJSON=ur.toString=function(){var t=this,e=t.constructor;return V1(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])},ur.toNumber=function(){var t=+V1(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(gx+"Imprecise conversion");return t},ur.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==$h){if(t!==~~t||t<1||t>W1)throw Error(q1+"precision");for(n=H1(new r(n),t,e);n.c.length<t;)n.c.push(0)}return V1(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)},ur.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(gx+"valueOf disallowed");return V1(t,t.e<=e.NE||t.e>=e.PE,!0)};var mx=Gve();const O9t={bigNumber(t){return t?new mx(t):new mx(0)},multiply(t,e){if(t===void 0||e===void 0)return new mx(0);const n=new mx(t),r=new mx(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},R9t=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],M9t=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],j9t=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],D9t={getERC20Abi:t=>Pt.USDT_CONTRACT_ADDRESSES.includes(t)?j9t:R9t,getSwapAbi:()=>M9t},bg={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,i]=e;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},nn={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function aW(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Zt={setItem(t,e){yx()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(yx())return localStorage.getItem(t)||void 0},removeItem(t){yx()&&localStorage.removeItem(t)},clear(){yx()&&localStorage.clear()}};function yx(){return typeof window<"u"&&typeof localStorage<"u"}function xg(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const L9t=Symbol(),Zve=Object.getPrototypeOf,cW=new WeakMap,B9t=t=>t&&(cW.has(t)?cW.get(t):Zve(t)===Object.prototype||Zve(t)===Array.prototype),U9t=t=>B9t(t)&&t[L9t]||null,Yve=(t,e=!0)=>{cW.set(t,e)},tk={},lW=t=>typeof t=="object"&&t!==null,Eg=new WeakMap,wx=new WeakSet,F9t=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>lW(l)&&!wx.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,u,d=r)=>{const h=i.get(l);if((h==null?void 0:h[0])===u)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return Yve(f,!0),i.set(l,[u,f]),Reflect.ownKeys(l).forEach(g=>{if(Object.getOwnPropertyDescriptor(f,g))return;const m=Reflect.get(l,g),{enumerable:y}=Reflect.getOwnPropertyDescriptor(l,g),w={value:m,enumerable:y,configurable:!0};if(wx.has(m))Yve(m,!1);else if(m instanceof Promise)delete w.value,w.get=()=>d(m);else if(Eg.has(m)){const[b,v]=Eg.get(m);w.value=s(b,v(),d)}Object.defineProperty(f,g,w)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!lW(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,f=(I,D=++a[0])=>{d!==D&&(d=D,h.forEach(j=>j(I,D)))};let g=a[1];const m=(I=++a[1])=>(g!==I&&!h.size&&(g=I,w.forEach(([D])=>{const j=D[1](I);j>d&&(d=j)})),d),y=I=>(D,j)=>{const F=[...D];F[1]=[I,...F[1]],f(F,j)},w=new Map,b=(I,D)=>{if((tk?"production":void 0)!=="production"&&w.has(I))throw new Error("prop listener already exists");if(h.size){const j=D[3](y(I));w.set(I,[D,j])}else w.set(I,[D])},v=I=>{var D;const j=w.get(I);j&&(w.delete(I),(D=j[1])==null||D.call(j))},E=I=>(h.add(I),h.size===1&&w.forEach(([j,F],M)=>{if((tk?"production":void 0)!=="production"&&F)throw new Error("remove already exists");const C=j[3](y(M));w.set(M,[j,C])}),()=>{h.delete(I),h.size===0&&w.forEach(([j,F],M)=>{F&&(F(),w.set(M,[j]))})}),_=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),S=e(_,{deleteProperty(I,D){const j=Reflect.get(I,D);v(D);const F=Reflect.deleteProperty(I,D);return F&&f(["delete",[D],j]),F},set(I,D,j,F){const M=Reflect.has(I,D),C=Reflect.get(I,D,F);if(M&&(t(C,j)||o.has(j)&&t(C,o.get(j))))return!0;v(D),lW(j)&&(j=U9t(j)||j);let x=j;if(j instanceof Promise)j.then(A=>{j.status="fulfilled",j.value=A,f(["resolve",[D],A])}).catch(A=>{j.status="rejected",j.reason=A,f(["reject",[D],A])});else{!Eg.has(j)&&n(j)&&(x=c(j));const A=!wx.has(x)&&Eg.get(x);A&&b(D,A)}return Reflect.set(I,D,x,F),f(["set",[D],j,C]),!0}});o.set(l,S);const R=[_,m,s,E];return Eg.set(S,R),Reflect.ownKeys(l).forEach(I=>{const D=Object.getOwnPropertyDescriptor(l,I);"value"in D&&(S[I]=l[I],delete D.value,delete D.writable),Object.defineProperty(_,I,D)}),S})=>[c,Eg,wx,t,e,n,r,i,s,o,a],[z9t]=F9t();function Rr(t={}){return z9t(t)}function ro(t,e,n){const r=Eg.get(t);(tk?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const l=o(u=>{s.push(u),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function vx(t,e){const n=Eg.get(t);(tk?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),e)}function K1(t){return wx.add(t),t}function io(t,e,n,r){let i=t[e];return ro(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}function W9t(t){const e=Rr({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const i=this.data.find(s=>s[0]===n);return i?i[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(i=>i[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(i=>i[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const Jve=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],q9t="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",dr={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,BALANCE_SUPPORTED_CHAINS:["eip155","solana"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["coinbase","meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"}},wt={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=wt.getActiveNamespace(),e=wt.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{Zt.setItem(nn.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Zt.getItem(nn.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Zt.removeItem(nn.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Zt.setItem(nn.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Zt.setItem(nn.ACTIVE_CAIP_NETWORK_ID,t),wt.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Zt.getItem(nn.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Zt.removeItem(nn.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=aW(t);Zt.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=wt.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Zt.setItem(nn.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Zt.getItem(nn.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=aW(t);Zt.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Zt.getItem(nn.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=aW(t);return Zt.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{Zt.setItem(nn.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Zt.getItem(nn.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Zt.removeItem(nn.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Zt.getItem(nn.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=Zt.getItem(nn.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{Zt.setItem(nn.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Zt.getItem(nn.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Zt.getItem(nn.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Zt.setItem(nn.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=wt.getConnectedNamespaces();e.includes(t)||(e.push(t),wt.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=wt.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),wt.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Zt.getItem(nn.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Zt.setItem(nn.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Zt.removeItem(nn.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Zt.getItem(nn.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=wt.getBalanceCache();Zt.setItem(nn.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=wt.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;wt.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=wt.getBalanceCache();e[t.caipAddress]=t,Zt.setItem(nn.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Zt.getItem(nn.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=wt.getBalanceCache();Zt.setItem(nn.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=wt.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),wt.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=wt.getNativeBalanceCache();e[t.caipAddress]=t,Zt.setItem(nn.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Zt.getItem(nn.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=wt.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;wt.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=wt.getEnsCache();e[t.address]=t,Zt.setItem(nn.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=wt.getEnsCache();Zt.setItem(nn.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Zt.getItem(nn.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=wt.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;wt.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=wt.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Zt.setItem(nn.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=wt.getIdentityCache();Zt.setItem(nn.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Zt.removeItem(nn.PORTFOLIO_CACHE),Zt.removeItem(nn.NATIVE_BALANCE_CACHE),Zt.removeItem(nn.ENS_CACHE),Zt.removeItem(nn.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Zt.setItem(nn.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Zt.getItem(nn.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n={...wt.getConnections(),[e]:t};Zt.setItem(nn.CONNECTIONS,JSON.stringify(n))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=Zt.getItem(nn.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}}},Be={isMobile(){var t;return this.isClient()?!!(typeof(window==null?void 0:window.matchMedia)=="function"&&((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Be.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=dr.TEN_SEC_MS:!0},isAllowedRetry(t,e=dr.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(Be.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const i=new URL(n),s=new URL(r);return i.hostname===s.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+dr.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function i(){t(...r)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(Be.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,i=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),i&&!(i!=null&&i.endsWith("/"))&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(t,e){if(!Be.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?wt.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r,i;if(typeof window>"u")return!1;const t=(r=(n=window.matchMedia)==null?void 0:n.call(window,"(display-mode: standalone)"))==null?void 0:r.matches,e=(i=window==null?void 0:window.navigator)==null?void 0:i.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,Be.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const i=Math.floor(r*1e3)/1e3;i&&(n=i.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const i=Number(t);i&&(n=(r=i.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return Pt.W3M_API_URL},getBlockchainApiUrl(){return Pt.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Pt.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,i)=>{n[r]=i}),e.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const i=r[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?dr.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,r,i){return{namespace:t,address:e,type:n,publicKey:r,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in Pt.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",r),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,r+s),c=t.substring(r+s,o),l=t.substring(i),u=c+n;return a+u+l}};async function bx(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class xx{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await bx(s,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const i=this.createUrl(r);return(await bx(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await bx(s,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await bx(s,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await bx(s,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const H9t={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?dr.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Be.isTelegram()){if(Be.isIos())return t.filter(e=>e!=="google");if(Be.isMac())return t.filter(e=>e!=="x");if(Be.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Dt=Rr({features:dr.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:dr.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),Ce={state:Dt,subscribeKey(t,e){return io(Dt,t,e)},setOptions(t){Object.assign(Dt,t)},setRemoteFeatures(t){var n;if(!t)return;const e={...Dt.remoteFeatures,...t};Dt.remoteFeatures=e,(n=Dt.remoteFeatures)!=null&&n.socials&&(Dt.remoteFeatures.socials=H9t.filterSocialsByPlatform(Dt.remoteFeatures.socials))},setFeatures(t){if(!t)return;Dt.features||(Dt.features=dr.DEFAULT_FEATURES);const e={...Dt.features,...t};Dt.features=e},setProjectId(t){Dt.projectId=t},setCustomRpcUrls(t){Dt.customRpcUrls=t},setAllWallets(t){Dt.allWallets=t},setIncludeWalletIds(t){Dt.includeWalletIds=t},setExcludeWalletIds(t){Dt.excludeWalletIds=t},setFeaturedWalletIds(t){Dt.featuredWalletIds=t},setTokens(t){Dt.tokens=t},setTermsConditionsUrl(t){Dt.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Dt.privacyPolicyUrl=t},setCustomWallets(t){Dt.customWallets=t},setIsSiweEnabled(t){Dt.isSiweEnabled=t},setIsUniversalProvider(t){Dt.isUniversalProvider=t},setSdkVersion(t){Dt.sdkVersion=t},setMetadata(t){Dt.metadata=t},setDisableAppend(t){Dt.disableAppend=t},setEIP6963Enabled(t){Dt.enableEIP6963=t},setDebug(t){Dt.debug=t},setEnableWalletConnect(t){Dt.enableWalletConnect=t},setEnableWalletGuide(t){Dt.enableWalletGuide=t},setEnableAuthLogger(t){Dt.enableAuthLogger=t},setEnableWallets(t){Dt.enableWallets=t},setPreferUniversalLinks(t){Dt.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){Dt.hasMultipleAddresses=t},setSIWX(t){Dt.siwx=t},setConnectMethodsOrder(t){Dt.features={...Dt.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Dt.features={...Dt.features,walletFeaturesOrder:t}},setSocialsOrder(t){Dt.remoteFeatures={...Dt.remoteFeatures,socials:t}},setCollapseWallets(t){Dt.features={...Dt.features,collapseWallets:t}},setEnableEmbedded(t){Dt.enableEmbedded=t},setAllowUnsupportedChain(t){Dt.allowUnsupportedChain=t},setManualWCControl(t){Dt.manualWCControl=t},setEnableNetworkSwitch(t){Dt.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Dt.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Dt.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Dt.universalProviderConfigOverride},getSnapshot(){return vx(Dt)}},V9t=Object.freeze({enabled:!0,events:[]}),K9t=new xx({baseUrl:Be.getAnalyticsUrl(),clientId:null}),G9t=5,Z9t=60*1e3,Cg=Rr({...V9t}),Y9t={state:Cg,subscribeKey(t,e){return io(Cg,t,e)},async sendError(t,e){if(!Cg.enabled)return;const n=Date.now();if(Cg.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return n-o<Z9t}).length>=G9t)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Cg.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=Ce.state;await K9t.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Be.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){Cg.enabled=!0},disable(){Cg.enabled=!1},clearEvents(){Cg.events=[]}};class o2 extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,o2.prototype);let i=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const s=r.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,o2):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function Qve(t,e){const n=t instanceof o2?t:new o2(t instanceof Error?t.message:String(t),e,t);throw Y9t.sendError(n,n.category),n}function cc(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const i=t[r];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return Qve(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return Qve(a,e)}},n[r]=s}else n[r]=i}),n}const Th={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},J9t={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===Th.PHANTOM.id&&!("phantom"in window)){const i=n.startsWith("https")?"https":"http",s=n.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${Th.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===Th.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${Th.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===Pt.CHAIN.SOLANA&&t===Th.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${Th.COINBASE.url}/dapp?cb_url=${r}`)}},sl=Rr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),lc=cc({state:sl,subscribeNetworkImages(t){return ro(sl.networkImages,()=>t(sl.networkImages))},subscribeKey(t,e){return io(sl,t,e)},subscribe(t){return ro(sl,()=>t(sl))},setWalletImage(t,e){sl.walletImages[t]=e},setNetworkImage(t,e){sl.networkImages[t]=e},setChainImage(t,e){sl.chainImages[t]=e},setConnectorImage(t,e){sl.connectorImages={...sl.connectorImages,[t]:e}},setTokenImage(t,e){sl.tokenImages[t]=e},setCurrencyImage(t,e){sl.currencyImages[t]=e}}),Q9t={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},uW=Rr({networkImagePromises:{}}),ds={async fetchWalletImage(t){if(t)return await We._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(uW.networkImagePromises[t]||(uW.networkImagePromises[t]=We._fetchNetworkImage(t)),await uW.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return lc.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return lc.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return lc.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return lc.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return lc.state.connectorImages[t.imageId]},getChainImage(t){return lc.state.networkImages[Q9t[t]]}},_g=Rr({message:"",variant:"info",open:!1}),dd=cc({state:_g,subscribeKey(t,e){return io(_g,t,e)},open(t,e){const{debug:n}=Ce.state,{shortMessage:r,longMessage:i}=t;n&&(_g.message=r,_g.variant=e,_g.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){_g.open=!1,_g.message="",_g.variant="info"}}),X9t=Be.getAnalyticsUrl(),eCt=new xx({baseUrl:X9t,clientId:null}),tCt=["MODAL_CREATED"],cp=Rr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),En={state:cp,subscribe(t){return ro(cp,()=>t(cp))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Ce.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=_t.state.address;if(tCt.includes(t.data.event)||typeof window>"u")return;await eCt.post({path:"/e",params:En.getSdkProperties(),body:{eventId:Be.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),cp.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Pt.HTTP_STATUS_CODES.FORBIDDEN&&!cp.reportedErrors.FORBIDDEN&&(dd.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${yx()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),cp.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;cp.timestamp=Date.now(),cp.data=t,(e=Ce.state.features)!=null&&e.analytics&&En._sendAnalyticsEvent(cp)}},nCt=Be.getApiUrl(),uc=new xx({baseUrl:nCt,clientId:null}),rCt=40,Xve=4,iCt=20,rn=Rr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),We={state:rn,subscribeKey(t,e){return io(rn,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Ce.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return Ce.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${uc.baseUrl}/getWalletImage/${t}`,n=await uc.getBlob({path:e,params:We._getSdkProperties()});lc.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${uc.baseUrl}/public/getAssetImage/${t}`,n=await uc.getBlob({path:e,params:We._getSdkProperties()});lc.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${uc.baseUrl}/public/getAssetImage/${t}`,n=await uc.getBlob({path:e,params:We._getSdkProperties()});lc.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${uc.baseUrl}/public/getCurrencyImage/${t}`,n=await uc.getBlob({path:e,params:We._getSdkProperties()});lc.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${uc.baseUrl}/public/getTokenImage/${t}`,n=await uc.getBlob({path:e,params:We._getSdkProperties()});lc.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return Be.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===Th.COINBASE.id?!0:X.state.activeChain==="solana"&&(n.id===Th.SOLFLARE.id||n.id===Th.PHANTOM.id)):t},async fetchProjectConfig(){return(await uc.get({path:"/appkit/v1/config",params:We._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await uc.get({path:"/projects/v1/origins",params:We._getSdkProperties()});return t}catch{return[]}},async fetchNetworkImages(){const t=X.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!ds.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>We._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Ne.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>We._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>We._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>We._fetchTokenImage(e)))},async fetchWallets(t){var s;const e=t.exclude??[];We._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(Th).map(o=>o.id));const r=await uc.get({path:"/getWallets",params:{...We._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(s=t.include)==null?void 0:s.join(","),exclude:e.join(",")}});return{data:We._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Ce.state;if(t!=null&&t.length){const e={...We._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??Xve,include:t},{data:n}=await We.fetchWallets(e),r=[...n].sort((s,o)=>t.indexOf(s.id)-t.indexOf(o.id)),i=r.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>We._fetchWalletImage(s))),rn.featured=r,rn.allFeatured=r}},async fetchRecommendedWallets(){try{rn.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=Ce.state,r=[...e??[],...n??[]].filter(Boolean),i=X.getRequestedCaipNetworkIds().join(","),s={page:1,entries:Xve,include:t,exclude:r,chains:i},{data:o,count:a}=await We.fetchWallets(s),c=wt.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>We._fetchWalletImage(d))),rn.recommended=o,rn.allRecommended=o,rn.count=a??0}catch{}finally{rn.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=Ce.state,i=X.getRequestedCaipNetworkIds().join(","),s=[...rn.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:rCt,include:e,exclude:s,chains:i},{data:a,count:c}=await We.fetchWallets(o),l=a.slice(0,iCt).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>We._fetchWalletImage(u))),rn.wallets=Be.uniqueBy([...rn.wallets,...We._filterOutExtensions(a)],"id").filter(u=>{var d;return(d=u.chains)==null?void 0:d.some(h=>i.includes(h))}),rn.count=c>rn.count?c:rn.count,rn.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await We.fetchWallets(e);n&&n.forEach(r=>{rn.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=Ce.state,i=X.getRequestedCaipNetworkIds().join(",");rn.search=[];const s={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:i},{data:o}=await We.fetchWallets(s);En.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>We._fetchWalletImage(c)),Be.wait(300)]),rn.search=We._filterOutExtensions(o)},initPromise(t,e){const n=rn.promises[t];return n||(rn.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const i=[t&&We.initPromise("connectorImages",We.fetchConnectorImages),e&&We.initPromise("featuredWallets",We.fetchFeaturedWallets),n&&We.initPromise("recommendedWallets",We.fetchRecommendedWallets),r&&We.initPromise("networkImages",We.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=Ce.state.features)!=null&&t.analytics&&We.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await uc.get({path:"/getAnalyticsConfig",params:We._getSdkProperties()});Ce.setFeatures({analytics:t})}catch{Ce.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){rn.featured=rn.allFeatured,rn.recommended=rn.allRecommended;return}const e=X.getRequestedCaipNetworkIds().join(",");rn.featured=rn.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),rn.recommended=rn.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),rn.filteredWallets=rn.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))})},clearFilterByNamespaces(){rn.filteredWallets=[]},setFilterByNamespace(t){if(!t){rn.featured=rn.allFeatured,rn.recommended=rn.allRecommended;return}const e=X.getRequestedCaipNetworkIds().join(",");rn.featured=rn.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),rn.recommended=rn.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),rn.filteredWallets=rn.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))})}},mr=Rr({view:"Connect",history:["Connect"],transactionStack:[]}),ze=cc({state:mr,subscribeKey(t,e){return io(mr,t,e)},pushTransactionStack(t){mr.transactionStack.push(t)},popTransactionStack(t){const e=mr.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:i}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),ze.goBack();break;case"cancel":i==null||i(),ze.goBack();break}},push(t,e){t!==mr.view&&(mr.view=t,mr.history.push(t),mr.data=e)},reset(t,e){mr.view=t,mr.history=[t],mr.data=e},replace(t,e){mr.history.at(-1)===t||(mr.view=t,mr.history[mr.history.length-1]=t,mr.data=e)},goBack(){var r;const t=X.state.activeCaipAddress,e=ze.state.view==="ConnectingFarcaster",n=!t&&e;if(mr.history.length>1){mr.history.pop();const[i]=mr.history.slice(-1);i&&(t&&i==="Connect"?mr.view="Account":mr.view=i)}else tr.close();(r=mr.data)!=null&&r.wallet&&(mr.data.wallet=void 0),setTimeout(()=>{var i,s,o;if(n){_t.setFarcasterUrl(void 0,X.state.activeChain);const a=Ne.getAuthConnector();(i=a==null?void 0:a.provider)==null||i.reload();const c=vx(Ce.state);(o=(s=a==null?void 0:a.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(mr.history.length>1){mr.history=mr.history.slice(0,t+1);const[e]=mr.history.slice(-1);e&&(mr.view=e)}},goBackOrCloseModal(){ze.state.history.length>1?ze.goBack():tr.close()}}),lp=Rr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),dW={state:lp,subscribe(t){return ro(lp,()=>t(lp))},setThemeMode(t){lp.themeMode=t;try{const e=Ne.getAuthConnector();if(e){const n=dW.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:xg(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){lp.themeVariables={...lp.themeVariables,...t};try{const e=Ne.getAuthConnector();if(e){const n=dW.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:xg(lp.themeVariables,lp.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return vx(lp)}},so=cc(dW),ebe={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},zn=Rr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...ebe},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),Ne=cc({state:zn,subscribe(t){return ro(zn,()=>{t(zn)})},subscribeKey(t,e){return io(zn,t,e)},initialize(t){t.forEach(e=>{const n=wt.getConnectedConnectorId(e);n&&Ne.setConnectorId(n,e)})},setActiveConnector(t){t&&(zn.activeConnector=K1(t))},setConnectors(t){t.filter(i=>!zn.allConnectors.some(s=>s.id===i.id&&Ne.getConnectorName(s.name)===Ne.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&zn.allConnectors.push(K1(i))});const n=Ne.getEnabledNamespaces(),r=Ne.getEnabledConnectors(n);zn.connectors=Ne.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(zn.filterByNamespaceMap).forEach(e=>{zn.filterByNamespaceMap[e]=!1}),t.forEach(e=>{zn.filterByNamespaceMap[e]=!0}),Ne.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){zn.filterByNamespaceMap[t]=e,Ne.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Ne.getEnabledNamespaces(),e=Ne.getEnabledConnectors(t),n=Ne.areAllNamespacesEnabled();zn.connectors=Ne.mergeMultiChainConnectors(e),n?We.clearFilterByNamespaces():We.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(zn.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return zn.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(zn.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Ne.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const i=r[0],s=(i==null?void 0:i.id)===Pt.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(i==null?void 0:i.id)||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,i=Ne.getConnectorName(r);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===Pt.CONNECTOR_ID.AUTH){const i=t,s=vx(Ce.state),o=so.getSnapshot().themeMode,a=so.getSnapshot().themeVariables;(n=(e=i==null?void 0:i.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(r=i==null?void 0:i.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:xg(a,o)}),Ne.setConnectors([t])}else Ne.setConnectors([t])},getAuthConnector(t){var r;const e=t||X.state.activeChain,n=zn.connectors.find(i=>i.id===Pt.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(s=>s.chain===e):n},getAnnouncedConnectorRdns(){return zn.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return zn.allConnectors.find(e=>e.id===t)},getConnector(t,e){return zn.allConnectors.filter(r=>r.chain===X.state.activeChain).find(r=>{var i;return r.explorerId===t||((i=r.info)==null?void 0:i.rdns)===e})},syncIfAuthConnector(t){var s,o;if(t.id!=="ID_AUTH")return;const e=t,n=vx(Ce.state),r=so.getSnapshot().themeMode,i=so.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:xg(i,r)})},getConnectorsByNamespace(t){const e=zn.allConnectors.filter(n=>n.chain===t);return Ne.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Ne.getConnector(t.id,t.rdns),n=X.state.activeChain;J9t.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,n),e?ze.push("ConnectingExternal",{connector:e}):ze.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?Ne.getConnectorsByNamespace(t):Ne.mergeMultiChainConnectors(zn.allConnectors)},setFilterByNamespace(t){zn.filterByNamespace=t,zn.connectors=Ne.getConnectors(t),We.setFilterByNamespace(t)},setConnectorId(t,e){t&&(zn.activeConnectorIds={...zn.activeConnectorIds,[e]:t},wt.setConnectedConnectorId(e,t))},removeConnectorId(t){zn.activeConnectorIds={...zn.activeConnectorIds,[t]:void 0},wt.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return zn.activeConnectorIds[t]},isConnected(t){return t?!!zn.activeConnectorIds[t]:Object.values(zn.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){zn.activeConnectorIds={...ebe}}}),Ex={ACCOUNT_TYPES:{SMART_ACCOUNT:"smartAccount"}},G1=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),hs=Rr({...G1}),$i={state:hs,subscribeKey(t,e){return io(hs,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Be.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){hs.message=G1.message,hs.variant=G1.variant,hs.svg=G1.svg,hs.open=G1.open,hs.autoClose=G1.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=G1.autoClose}){hs.open?(hs.open=!1,setTimeout(()=>{hs.message=t,hs.variant=n,hs.svg=e,hs.open=!0,hs.autoClose=r},150)):(hs.message=t,hs.variant=n,hs.svg=e,hs.open=!0,hs.autoClose=r)}},Mr=Rr({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Cx=cc({state:Mr,subscribe(t){return ro(Mr,()=>t(Mr))},setLastNetworkInView(t){Mr.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Mr.loading=!0;try{const i=await Ft.fetchTransactions({account:t,cursor:Mr.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),s=Cx.filterSpamTransactions(i.data),o=Cx.filterByConnectedChain(s),a=[...Mr.transactions,...o];Mr.loading=!1,e==="coinbase"?Mr.coinbaseTransactions=Cx.groupTransactionsByYearAndMonth(Mr.coinbaseTransactions,i.data):(Mr.transactions=a,Mr.transactionsByYear=Cx.groupTransactionsByYearAndMonth(Mr.transactionsByYear,o)),Mr.empty=a.length===0,Mr.next=i.next?i.next:void 0}catch{const s=X.state.activeChain;En.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:Ce.state.projectId,cursor:Mr.next,isSmartAccount:((r=_t.state.preferredAccountTypes)==null?void 0:r[s])===Ex.ACCOUNT_TYPES.SMART_ACCOUNT}}),$i.showError("Failed to fetch transactions"),Mr.loading=!1,Mr.empty=!0,Mr.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(l=>l.id!==r.id);n[i]={...o,[s]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var i;return((i=r.nft_info)==null?void 0:i.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(i=>i.metadata.chain===e)},clearCursor(){Mr.next=void 0},resetTransactions(){Mr.transactions=[],Mr.transactionsByYear={},Mr.lastNetworkInView=void 0,Mr.loading=!1,Mr.empty=!1,Mr.next=void 0}},"API_ERROR"),_r=Rr({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let Z1;const Ge=cc({state:_r,subscribeKey(t,e){return io(_r,t,e)},_getClient(){return _r._client},setClient(t){_r._client=K1(t)},async connectWalletConnect(){var t,e,n,r;if(Be.isTelegram()||Be.isSafari()&&Be.isIos()){if(Z1){await Z1,Z1=void 0;return}if(!Be.isPairingExpired(_r==null?void 0:_r.wcPairingExpiry)){const i=_r.wcUri;_r.wcUri=i;return}Z1=(e=(t=Ge._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),Ge.state.status="connecting",await Z1,Z1=void 0,_r.wcPairingExpiry=void 0,Ge.state.status="connected"}else await((r=(n=Ge._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var r,i;await((i=(r=Ge._getClient())==null?void 0:r.connectExternal)==null?void 0:i.call(r,t)),n&&X.setActiveNamespace(e)},async reconnectExternal(t){var n,r;await((r=(n=Ge._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||X.state.activeChain;e&&Ne.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;tr.setLoading(!0,X.state.activeChain);const n=Ne.getAuthConnector();n&&(_t.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),wt.setPreferredAccountTypes(_t.state.preferredAccountTypes??{[e]:t}),await Ge.reconnectExternal(n),tr.setLoading(!1,X.state.activeChain),En.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=Ge._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=Ge._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=Ge._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=Ge._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=Ge._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=Ge._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=Ge._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=Ge._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=Ge._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=Ge._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=Ge._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=Ge._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){_r.wcUri=void 0,_r.wcPairingExpiry=void 0,_r.wcLinking=void 0,_r.recentWallet=void 0,_r.status="disconnected",Cx.resetTransactions(),wt.deleteWalletConnectDeepLink()},resetUri(){_r.wcUri=void 0,_r.wcPairingExpiry=void 0,Z1=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=Ge.state;t&&wt.setWalletConnectDeepLink(t),e&&wt.setAppKitRecent(e),En.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=ze.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){_r.wcBasic=t},setUri(t){_r.wcUri=t,_r.wcPairingExpiry=Be.getPairingExpiry()},setWcLinking(t){_r.wcLinking=t},setWcError(t){_r.wcError=t,_r.buffering=!1},setRecentWallet(t){_r.recentWallet=t},setBuffering(t){_r.buffering=t},setStatus(t){_r.status=t},async disconnect(t){var e;try{await((e=Ge._getClient())==null?void 0:e.disconnect(t))}catch(n){throw new o2("Failed to disconnect","INTERNAL_SDK_ERROR",n)}},setConnections(t,e){_r.connections.set(e,t)},switchAccount({connection:t,address:e,namespace:n}){if(Ne.state.activeConnectorIds[n]===t.connectorId){const s=X.state.activeCaipNetwork;if(s){const o=`${n}:${s.id}:${e}`;_t.setCaipAddress(o,n)}else console.warn(`No current network found for namespace "${n}"`)}else{const s=Ne.getConnector(t.connectorId);s?Ge.connectExternal(s,n):console.warn(`No connector found for namespace "${n}"`)}}}),a2=Rr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Ag={state:a2,subscribe(t){return ro(a2,()=>t(a2))},subscribeOpen(t){return io(a2,"open",t)},set(t){Object.assign(a2,{...a2,...t})}},hW={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return es(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},tbe={async getMyTokensWithBalance(t){const e=_t.state.address,n=X.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,n);if(i)return this.filterLowQualityTokens(i)}const r=await Ft.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){var n,r;try{const i=hW.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),s=await Ge.getCapabilities(t);if(!((r=(n=s==null?void 0:s[i])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await Ge.walletGetAssets({account:t,chainFilter:[i]});return hW.isWalletGetAssetsResponse(o)?(o[i]||[]).map(c=>hW.createBalance(c,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:X.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},hr=Rr({tokenBalances:[],loading:!1}),Jn=cc({state:hr,subscribe(t){return ro(hr,()=>t(hr))},subscribeKey(t,e){return io(hr,t,e)},setToken(t){t&&(hr.token=K1(t))},setTokenAmount(t){hr.sendTokenAmount=t},setReceiverAddress(t){hr.receiverAddress=t},setReceiverProfileImageUrl(t){hr.receiverProfileImageUrl=t},setReceiverProfileName(t){hr.receiverProfileName=t},setNetworkBalanceInUsd(t){hr.networkBalanceInUSD=t},setLoading(t){hr.loading=t},async sendToken(){var t;try{switch(Jn.setLoading(!0),(t=X.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await Jn.sendEvmToken();return;case"solana":await Jn.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{Jn.setLoading(!1)}},async sendEvmToken(){var n,r,i,s;const t=X.state.activeChain,e=(n=_t.state.preferredAccountTypes)==null?void 0:n[t];if(!Jn.state.sendTokenAmount||!Jn.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Jn.state.token)throw new Error("A token is required");(r=Jn.state.token)!=null&&r.address?(En.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Ex.ACCOUNT_TYPES.SMART_ACCOUNT,token:Jn.state.token.address,amount:Jn.state.sendTokenAmount,network:((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),await Jn.sendERC20Token({receiverAddress:Jn.state.receiverAddress,tokenAddress:Jn.state.token.address,sendTokenAmount:Jn.state.sendTokenAmount,decimals:Jn.state.token.quantity.decimals})):(En.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Ex.ACCOUNT_TYPES.SMART_ACCOUNT,token:Jn.state.token.symbol||"",amount:Jn.state.sendTokenAmount,network:((s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await Jn.sendNativeToken({receiverAddress:Jn.state.receiverAddress,sendTokenAmount:Jn.state.sendTokenAmount,decimals:Jn.state.token.quantity.decimals}))},async fetchTokenBalance(t){var s,o;hr.loading=!0;const e=(s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=X.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=X.state.activeCaipAddress,i=r?Be.getPlainAddress(r):void 0;if(hr.lastRetry&&!Be.isAllowedRetry(hr.lastRetry,30*dr.ONE_SEC_MS))return hr.loading=!1,[];try{if(i&&e&&n){const a=await tbe.getMyTokensWithBalance();return hr.tokenBalances=a,hr.lastRetry=void 0,a}}catch(a){hr.lastRetry=Date.now(),t==null||t(a),$i.showError("Token Balance Unavailable")}finally{hr.loading=!1}return[]},fetchNetworkBalance(){if(hr.tokenBalances.length===0)return;const t=tbe.mapBalancesToSwapTokens(hr.tokenBalances);if(!t)return;const e=t.find(n=>n.address===X.getActiveNetworkTokenAddress());e&&(hr.networkBalanceInUSD=e?O9t.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var s,o,a,c;ze.pushTransactionStack({});const e=t.receiverAddress,n=_t.state.address,r=Ge.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await Ge.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),En.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((s=_t.state.preferredAccountTypes)==null?void 0:s.eip155)===Ex.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=Jn.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),(c=Ge._getClient())==null||c.updateBalance("eip155"),Jn.resetSend()},async sendERC20Token(t){ze.pushTransactionStack({onSuccess(){ze.replace("Account")}});const e=Ge.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(_t.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=Be.getPlainAddress(t.tokenAddress);await Ge.writeContract({fromAddress:_t.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:D9t.getERC20Abi(n),chainNamespace:"eip155"}),Jn.resetSend()}},async sendSolanaToken(){var t;if(!Jn.state.sendTokenAmount||!Jn.state.receiverAddress)throw new Error("An amount and receiver address are required");ze.pushTransactionStack({onSuccess(){ze.replace("Account")}}),await Ge.sendTransaction({chainNamespace:"solana",to:Jn.state.receiverAddress,value:Jn.state.sendTokenAmount}),(t=Ge._getClient())==null||t.updateBalance("solana"),Jn.resetSend()},resetSend(){hr.token=void 0,hr.sendTokenAmount=void 0,hr.receiverAddress=void 0,hr.receiverProfileImageUrl=void 0,hr.receiverProfileName=void 0,hr.loading=!1,hr.tokenBalances=[]}}),fW={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},nk={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},st=Rr({chains:W9t(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),X=cc({state:st,subscribe(t){return ro(st,()=>{t(st)})},subscribeKey(t,e){return io(st,t,e)},subscribeChainProp(t,e,n){let r;return ro(st.chains,()=>{var s;const i=n||st.activeChain;if(i){const o=(s=st.chains.get(i))==null?void 0:s[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:i}=wt.getActiveNetworkProps(),s=e==null?void 0:e.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===i)||(t==null?void 0:t[0]),c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=Ce.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(st.noAdapters=!0),st.noAdapters||(st.activeChain=a==null?void 0:a.namespace,st.activeCaipNetwork=s,X.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:s}),st.activeChain&&Ag.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=e==null?void 0:e.filter(h=>h.chainNamespace===u);X.state.chains.set(u,{namespace:u,networkState:Rr({...nk,caipNetwork:d==null?void 0:d[0]}),accountState:Rr(fW),caipNetworks:d??[],...n}),X.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){var e,n;if(st.activeChain===t){const r=Array.from(st.chains.entries()).find(([i])=>i!==t);if(r){const i=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];i&&X.setActiveCaipNetwork(i)}}st.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){st.chains.set(t.namespace,{namespace:t.namespace,networkState:{...nk,caipNetwork:r[0]},accountState:fW,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),X.setRequestedCaipNetworks((r==null?void 0:r.filter(i=>i.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=st.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(i=>i.id===t.id)||r.push(t),st.chains.set(t.chainNamespace,{...e,caipNetworks:r}),X.setRequestedCaipNetworks(r,t.chainNamespace),Ne.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,i,s;const n=st.chains.get(t);if(n){const o=((r=st.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((i=n.caipNetworks)==null?void 0:i.filter(c=>c.id!==e))||[]];o&&((s=n==null?void 0:n.caipNetworks)!=null&&s[0])&&X.setActiveCaipNetwork(n.caipNetworks[0]),st.chains.set(t,{...n,caipNetworks:a}),X.setRequestedCaipNetworks(a||[],t),a.length===0&&Ne.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=st.chains.get(t);n&&(n.networkState={...n.networkState||nk,...e},st.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=st.chains.get(t);if(r){const i={...r.accountState||fW,...e};st.chains.set(t,{...r,accountState:i}),(st.chains.size===1||st.activeChain===t)&&(e.caipAddress&&(st.activeCaipAddress=e.caipAddress),_t.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const n=st.chains.get(t);if(n){const r={...n.networkState||nk,...e};st.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){X.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&Ne.removeConnectorId(n)},setActiveNamespace(t){var r,i;st.activeChain=t;const e=t?st.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(st.activeCaipAddress=(i=e==null?void 0:e.accountState)==null?void 0:i.caipAddress,st.activeCaipNetwork=n,X.setChainNetworkData(t,{caipNetwork:n}),wt.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),Ag.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,i,s;if(!t)return;st.activeChain!==t.chainNamespace&&X.setIsSwitchingNamespace(!0);const e=st.chains.get(t.chainNamespace);st.activeChain=t.chainNamespace,st.activeCaipNetwork=t,X.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?st.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(i=e==null?void 0:e.accountState)==null?void 0:i.address}`:st.activeCaipAddress=void 0,X.setAccountProp("caipAddress",st.activeCaipAddress,t.chainNamespace),e&&_t.replaceState(e.accountState),Jn.resetSend(),Ag.set({activeChain:st.activeChain,selectedNetworkId:(s=st.activeCaipNetwork)==null?void 0:s.caipNetworkId}),wt.setActiveCaipNetworkId(t.caipNetworkId),!X.checkIfSupportedNetwork(t.chainNamespace)&&Ce.state.enableNetworkSwitch&&!Ce.state.allowUnsupportedChain&&!Ge.state.wcBasic&&X.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=st.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var i;if(!t)return;const e=t!==X.state.activeChain,n=(i=X.getNetworkData(t))==null?void 0:i.caipNetwork,r=X.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await X.switchActiveNetwork(r)},async switchActiveNetwork(t){var i;const e=X.state.chains.get(X.state.activeChain),n=!((i=e==null?void 0:e.caipNetworks)!=null&&i.some(s=>{var o;return s.id===((o=st.activeCaipNetwork)==null?void 0:o.id)})),r=X.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&tr.close()}catch{ze.goBack()}En.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||st.activeChain,n=st.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||st.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=st.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var i;let n=st.activeChain;if(e&&(n=e),!n)return;const r=(i=st.chains.get(n))==null?void 0:i.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=st.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=st.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return Be.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return st.chains.forEach(e=>{const n=X.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){X.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=X.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(r));Ne.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return st.chains.forEach(e=>{const n=X.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return st.activeCaipNetwork},getActiveCaipAddress(){return st.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=st.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=X.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());X.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||st.activeCaipNetwork,r=X.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(i=>i.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!st.activeChain)return!0;const e=X.getRequestedCaipNetworks(st.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){X.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=Hve.caipNetworkIdToNumber((r=st.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=st.activeChain;if(!e||!t)return!1;const n=X.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},getActiveNetworkTokenAddress(){var r,i;const t=((r=st.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((i=st.activeCaipNetwork)==null?void 0:i.id)||1,n=dr.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){tr.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=st.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&dr.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){X.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");st.activeCaipAddress=void 0,X.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Ne.removeConnectorId(e)},setIsSwitchingNamespace(t){st.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(st.chains.forEach(i=>{Pt.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===i.namespace)&&i.namespace&&t.push(i.namespace)}),t.length>0){const i=t[0];return e=i?(r=(n=st.chains.get(i))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=X.state.chains.get(t))==null?void 0:e.accountState:_t.state},getNetworkData(t){var n;const e=t||st.activeChain;if(e)return(n=X.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var i,s,o;if(!t)return;const n=X.state.chains.get(t),r=(i=n==null?void 0:n.caipNetworks)==null?void 0:i.find(a=>a.id===e);return r||((s=n==null?void 0:n.networkState)==null?void 0:s.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=Ne.state.filterByNamespace;return(t?[st.chains.get(t)]:Array.from(st.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?X.getRequestedCaipNetworks(t):X.getAllRequestedCaipNetworks()}}),sCt={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},nbe=Be.getBlockchainApiUrl(),dc=Rr({clientId:null,api:new xx({baseUrl:nbe,clientId:null}),supportedChains:{http:[],ws:[]}}),Ft={state:dc,async get(t){const{st:e,sv:n}=Ft.getSdkProperties(),r=Ce.state.projectId,i={...t.params||{},st:e,sv:n,projectId:r};return dc.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Ce.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{dc.supportedChains.http.length||await Ft.getSupportedNetworks()}catch{return!1}return dc.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Ft.get({path:"v1/supported-chains"});return dc.supportedChains=t,t}catch{return dc.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Ft.isNetworkSupported(e))return{avatar:"",name:""};const r=wt.getIdentityFromCacheForAddress(t);if(r)return r;const i=await Ft.get({path:`/v1/identity/${t}`,params:{sender:X.state.activeCaipAddress?Be.getPlainAddress(X.state.activeCaipAddress):void 0}});return wt.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:i,chainId:s}){var a;return await Ft.isNetworkSupported((a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Ft.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:s},signal:r,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:i}){var o;return await Ft.isNetworkSupported((o=X.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Ft.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Ft.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ft.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Ft.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?dc.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:Ce.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Ft.isNetworkSupported((r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ft.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var i;const{st:e,sv:n}=Ft.getSdkProperties();if(!await Ft.isNetworkSupported((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Gas Price");return Ft.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:i}){var o;if(!await Ft.isNetworkSupported((o=X.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return dc.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:dr.CONVERT_SLIPPAGE_TOLERANCE},projectId:Ce.state.projectId,from:e,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:i}=Ft.getSdkProperties();if(!await Ft.isNetworkSupported((o=X.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Ft.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:i}})},async getBalance(t,e,n){var l;const{st:r,sv:i}=Ft.getSdkProperties();if(!await Ft.isNetworkSupported((l=X.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return $i.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=wt.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Ft.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:i}});return wt.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await Ft.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ft.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Ft.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ft.get({path:`/v1/profile/reverse/${t}`,params:{sender:_t.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Ft.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ft.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var s;return await Ft.isNetworkSupported((s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?dc.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){var a;return await Ft.isNetworkSupported((a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await dc.api.post({path:"/v1/generators/onrampurl",params:{projectId:Ce.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){var e;if(!await Ft.isNetworkSupported((e=X.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Ft.get({path:"/v1/onramp/options"})}catch{return sCt}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var i;try{return await Ft.isNetworkSupported((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?await dc.api.post({path:"/v1/onramp/quote",params:{projectId:Ce.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Ft.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ft.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var i;return await Ft.isNetworkSupported((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?dc.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Ce.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){dc.clientId=t,dc.api=new xx({baseUrl:nbe,clientId:t})}},ou=Rr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),_t=cc({state:ou,replaceState(t){t&&Object.assign(ou,K1(t))},subscribe(t){return X.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return X.subscribeChainProp("accountState",i=>{if(i){const s=i[t];r!==s&&(r=s,e(s))}},n)},setStatus(t,e){X.setAccountProp("status",t,e)},getCaipAddress(t){return X.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?Be.getPlainAddress(t):void 0;e===X.state.activeChain&&(X.state.activeCaipAddress=t),X.setAccountProp("caipAddress",t,e),X.setAccountProp("address",n,e)},setBalance(t,e,n){X.setAccountProp("balance",t,n),X.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){X.setAccountProp("profileName",t,e)},setProfileImage(t,e){X.setAccountProp("profileImage",t,e)},setUser(t,e){X.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){X.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){X.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){X.setAccountProp("currentTab",t,X.state.activeChain)},setTokenBalance(t,e){t&&X.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){X.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){X.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=X.getAccountProp("addressLabels",n)||new Map;r.set(t,e),X.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=X.getAccountProp("addressLabels",e)||new Map;n.delete(t),X.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){X.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){X.setAccountProp("preferredAccountTypes",{...ou.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){ou.preferredAccountTypes=t},setSocialProvider(t,e){t&&X.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){X.setAccountProp("socialWindow",t?K1(t):void 0,e)},setFarcasterUrl(t,e){X.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var s,o;ou.balanceLoading=!0;const e=(s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=X.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=X.state.activeCaipAddress,i=r?Be.getPlainAddress(r):void 0;if(ou.lastRetry&&!Be.isAllowedRetry(ou.lastRetry,30*dr.ONE_SEC_MS))return ou.balanceLoading=!1,[];try{if(i&&e&&n){const c=(await Ft.getBalance(i,e)).balances.filter(l=>l.quantity.decimals!=="0");return _t.setTokenBalance(c,n),ou.lastRetry=void 0,ou.balanceLoading=!1,c}}catch(a){ou.lastRetry=Date.now(),t==null||t(a),$i.showError("Token Balance Unavailable")}finally{ou.balanceLoading=!1}return[]},resetAccount(t){X.resetAccount(t)}}),oCt={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=X.state.activeCaipNetwork,r=ze.state.data;if(t.id===(n==null?void 0:n.id))return;const s=_t.getCaipAddress(X.state.activeChain),o=t.chainNamespace!==X.state.activeChain,a=_t.getCaipAddress(t.chainNamespace),l=Ne.getConnectorId(X.state.activeChain)===Pt.CONNECTOR_ID.AUTH,u=Pt.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?ze.push("SwitchNetwork",{...r,network:t}):s&&o&&!a?ze.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):ze.push("SwitchNetwork",{...r,network:t})}},hc=Rr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),tr=cc({state:hc,subscribe(t){return ro(hc,()=>t(hc))},subscribeKey(t,e){return io(hc,t,e)},async open(t){var o,a;const e=_t.state.status==="connected",n=t==null?void 0:t.namespace,r=X.state.activeChain,i=n&&n!==r,s=(o=X.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress;if(Ge.state.wcBasic?We.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await We.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),Ne.setFilterByNamespace(t==null?void 0:t.namespace),tr.setLoading(!0,n),n&&i){const c=((a=X.getNetworkData(n))==null?void 0:a.caipNetwork)||X.getRequestedCaipNetworks(n)[0];c&&oCt.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0})}else{const c=X.state.noAdapters;Ce.state.manualWCControl||c&&!s?Be.isMobile()?ze.reset("AllWallets"):ze.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?ze.reset(t.view,t.data):s?ze.reset("Account"):ze.reset("Connect")}hc.open=!0,Ag.set({open:!0}),En.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const t=Ce.state.enableEmbedded,e=!!X.state.activeCaipAddress;hc.open&&En.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),hc.open=!1,ze.reset("Connect"),tr.clearLoading(),t?e?ze.replace("Account"):ze.push("Connect"):Ag.set({open:!1}),Ge.resetUri()},setLoading(t,e){e&&hc.loadingNamespaceMap.set(e,t),hc.loading=t,Ag.set({loading:t})},clearLoading(){hc.loadingNamespaceMap.clear(),hc.loading=!1},shake(){hc.shake||(hc.shake=!0,setTimeout(()=>{hc.shake=!1},500))}}),_x={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},pW={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Mn=Rr({providers:Jve,selectedProvider:null,error:null,purchaseCurrency:_x,paymentCurrency:pW,purchaseCurrencies:[_x],paymentCurrencies:[],quotesLoading:!1}),gW=cc({state:Mn,subscribe(t){return ro(Mn,()=>t(Mn))},subscribeKey(t,e){return io(Mn,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=X.state.activeChain===Pt.CHAIN.SOLANA?"SOL":"USDC",n=_t.state.address??"",r=new URL(t.url);r.searchParams.append("publicKey",q9t),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",Ce.state.projectId),Mn.selectedProvider={...t,url:r.toString()}}else Mn.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=Jve.filter(r=>e.includes(r.name));Mn.providers=n}else Mn.providers=[]},setPurchaseCurrency(t){Mn.purchaseCurrency=t},setPaymentCurrency(t){Mn.paymentCurrency=t},setPurchaseAmount(t){gW.state.purchaseAmount=t},setPaymentAmount(t){gW.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Ft.getOnrampOptions();Mn.purchaseCurrencies=t.purchaseCurrencies,Mn.paymentCurrencies=t.paymentCurrencies,Mn.paymentCurrency=t.paymentCurrencies[0]||pW,Mn.purchaseCurrency=t.purchaseCurrencies[0]||_x,await We.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await We.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;Mn.quotesLoading=!0;try{const n=await Ft.getOnrampQuote({purchaseCurrency:Mn.purchaseCurrency,paymentCurrency:Mn.paymentCurrency,amount:((t=Mn.paymentAmount)==null?void 0:t.toString())||"0",network:(e=Mn.purchaseCurrency)==null?void 0:e.symbol});return Mn.quotesLoading=!1,Mn.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return Mn.error=n.message,Mn.quotesLoading=!1,null}finally{Mn.quotesLoading=!1}},resetState(){Mn.selectedProvider=null,Mn.error=null,Mn.purchaseCurrency=_x,Mn.paymentCurrency=pW,Mn.purchaseCurrencies=[_x],Mn.paymentCurrencies=[],Mn.paymentAmount=void 0,Mn.purchaseAmount=void 0,Mn.quotesLoading=!1}}),hd=Rr({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),c2=cc({state:hd,subscribe(t){return ro(hd,()=>t(hd))},subscribeKey(t,e){return io(hd,t,e)},showTooltip({message:t,triggerRect:e,variant:n}){hd.open=!0,hd.message=t,hd.triggerRect=e,hd.variant=n},hide(){hd.open=!1,hd.message="",hd.triggerRect={width:0,height:0,top:0,left:0}}}),rbe=2147483648,aCt={convertEVMChainIdToCoinType(t){if(t>=rbe)throw new Error("Invalid chainId");return(rbe|t)>>>0}},au=Rr({suggestions:[],loading:!1}),Ax=cc({state:au,subscribe(t){return ro(au,()=>t(au))},subscribeKey(t,e){return io(au,t,e)},async resolveName(t){var e,n;try{return await Ft.lookupEnsName(t)}catch(r){const i=r;throw new Error(((n=(e=i==null?void 0:i.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Ft.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{au.loading=!0,au.suggestions=[];const e=await Ft.getEnsNameSuggestions(t);return au.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],au.suggestions}catch(e){const n=Ax.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{au.loading=!1}},async getNamesForAddress(t){try{if(!X.state.activeCaipNetwork)return[];const n=wt.getEnsFromCacheForAddress(t);if(n)return n;const r=await Ft.reverseLookupEnsName({address:t});return wt.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=Ax.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=X.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=_t.state.address,r=Ne.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");au.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ze.pushTransactionStack({onCancel(){ze.replace("RegisterAccountName")}});const s=await Ge.signMessage(i);au.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=aCt.convertEVMChainIdToCoinType(Number(o));await Ft.registerEnsName({coinType:a,address:n,signature:s,message:i}),_t.setProfileName(t,e.chainNamespace),ze.replace("RegisterAccountNameSuccess")}catch(i){const s=Ax.parseEnsApiError(i,`Error registering name ${t}`);throw ze.replace("RegisterAccountName"),new Error(s)}finally{au.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,i;const n=t;return((i=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:i.description)||e}});function cCt(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function _s(t,...e){try{return cCt(t(...e))}catch(n){return Promise.reject(n)}}function lCt(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function uCt(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function rk(t){if(lCt(t))return String(t);if(uCt(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return rk(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const mW="base64:";function dCt(t){return typeof t=="string"?t:mW+pCt(t)}function hCt(t){return typeof t!="string"||!t.startsWith(mW)?t:fCt(t.slice(mW.length))}function fCt(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function pCt(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function fc(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function gCt(...t){return fc(t.join(":"))}function ik(t){return t=fc(t),t?t+":":""}function mCt(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function yCt(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}function LVt(t){return t}const wCt="memory",vCt=()=>{const t=new Map;return{name:wCt,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function bCt(t={}){const e={mounts:{"":t.driver||vCt()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(l,u)=>{if(e.watching){u=fc(u);for(const d of e.watchListeners)d(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await ibe(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=g=>{let m=h.get(g.base);return m||(m={driver:g.driver,base:g.base,items:[]},h.set(g.base,m)),m};for(const g of l){const m=typeof g=="string",y=fc(m?g:g.key),w=m?void 0:g.value,b=m||!g.options?u:{...u,...g.options},v=n(y);f(v).items.push({key:y,value:w,relativeKey:v.relativeKey,options:b})}return Promise.all([...h.values()].map(g=>d(g))).then(g=>g.flat())},c={hasItem(l,u={}){l=fc(l);const{relativeKey:d,driver:h}=n(l);return _s(h.hasItem,d,u)},getItem(l,u={}){l=fc(l);const{relativeKey:d,driver:h}=n(l);return _s(h.getItem,d,u).then(f=>If(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?_s(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:gCt(d.base,f.key),value:If(f.value)}))):Promise.all(d.items.map(h=>_s(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:If(f)})))))},getItemRaw(l,u={}){l=fc(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?_s(h.getItemRaw,d,u):_s(h.getItem,d,u).then(f=>hCt(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=fc(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await _s(f.setItem,h,rk(u),d),f.watch||i("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return _s(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:rk(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>_s(d.driver.setItem,h.relativeKey,rk(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=fc(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await _s(f.setItemRaw,h,u,d);else if(f.setItem)await _s(f.setItem,h,dCt(u),d);else return;f.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=fc(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await _s(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await _s(h.removeItem,d+"$",u),h.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=fc(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await _s(h.getMeta,d,u)),!u.nativeOnly){const g=await _s(h.getItem,d+"$",u).then(m=>If(m));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(f,g))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var y;l=ik(l);const d=r(l,!0);let h=[];const f=[];let g=!0;for(const w of d){(y=w.driver.flags)!=null&&y.maxDepth||(g=!1);const b=await _s(w.driver.getKeys,w.relativeBase,u);for(const v of b){const E=w.mountpoint+fc(v);h.some(_=>E.startsWith(_))||f.push(E)}h=[w.mountpoint,...h.filter(v=>!v.startsWith(w.mountpoint))]}const m=u.maxDepth!==void 0&&!g;return f.filter(w=>(!m||mCt(w,u.maxDepth))&&yCt(w,l))},async clear(l,u={}){l=ik(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return _s(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>sbe(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=ik(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(ibe(u,i,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=ik(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await sbe(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=fc(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=fc(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function ibe(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function sbe(t){typeof t.dispose=="function"&&await _s(t.dispose)}const xCt="idb-keyval";var ECt=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=_S(t.dbName,t.storeName)),{name:xCt,options:t,async hasItem(i){return!(typeof await f8(n(i),r)>"u")},async getItem(i){return await f8(n(i),r)??null},setItem(i,s){return nU(n(i),s,r)},removeItem(i){return rU(n(i),r)},getKeys(){return kpe(r)},clear(){return Ipe(r)}}};const CCt="WALLET_CONNECT_V2_INDEXED_DB",_Ct="keyvaluestorage";let ACt=class{constructor(){this.indexedDb=bCt({driver:ECt({dbName:CCt,storeName:_Ct})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,qa(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var yW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sk={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof yW<"u"&&yW.localStorage?sk.exports=yW.localStorage:typeof window<"u"&&window.localStorage?sk.exports=window.localStorage:sk.exports=new e})();function SCt(t){var e;return[t[0],Qu((e=t[1])!=null?e:"")]}let ICt=class{constructor(){this.localStorage=sk.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(SCt)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Qu(n)}async setItem(e,n){this.localStorage.setItem(e,qa(n))}async removeItem(e){this.localStorage.removeItem(e)}};const kCt="wc_storage_version",obe=1,$Ct=async(t,e,n)=>{const r=kCt,i=await e.getItem(r);if(i&&i>=obe){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,obe),n(e),TCt(t,o)},TCt=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let PCt=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new ICt;this.storage=e;try{const n=new ACt;$Ct(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var NCt=Object.defineProperty,OCt=(t,e,n)=>e in t?NCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,abe=(t,e,n)=>OCt(t,typeof e!="symbol"?e+"":e,n);let RCt=class extends Gc{constructor(e){super(),this.opts=e,abe(this,"protocol","wc"),abe(this,"version",2)}};var MCt=Object.defineProperty,jCt=(t,e,n)=>e in t?MCt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DCt=(t,e,n)=>jCt(t,e+"",n);let LCt=class extends Gc{constructor(e,n){super(),this.core=e,this.logger=n,DCt(this,"records",new Map)}},BCt=class{constructor(e,n){this.logger=e,this.core=n}},UCt=class extends Gc{constructor(e,n){super(),this.relayer=e,this.logger=n}},FCt=class extends Gc{constructor(e){super()}},zCt=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},WCt=class extends Gc{constructor(e,n){super(),this.relayer=e,this.logger=n}},qCt=class extends Gc{constructor(e,n){super(),this.core=e,this.logger=n}},HCt=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},VCt=class{constructor(e,n){this.projectId=e,this.logger=n}},KCt=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};function ok(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function GCt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Sx(t,...e){if(!GCt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ZCt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ok(t.outputLen),ok(t.blockLen)}function l2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function cbe(t,e){Sx(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const ak=BigInt(2**32-1),lbe=BigInt(32);function YCt(t,e=!1){return e?{h:Number(t&ak),l:Number(t>>lbe&ak)}:{h:Number(t>>lbe&ak)|0,l:Number(t&ak)|0}}function JCt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=YCt(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const QCt=(t,e,n)=>t<<n|e>>>32-n,XCt=(t,e,n)=>e<<n|t>>>32-n,e7t=(t,e,n)=>e<<n-32|t>>>64-n,t7t=(t,e,n)=>t<<n-32|e>>>64-n,u2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function n7t(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function wW(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ph(t,e){return t<<32-e|t>>>e}const ube=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function r7t(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function dbe(t){for(let e=0;e<t.length;e++)t[e]=r7t(t[e])}function i7t(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function ck(t){return typeof t=="string"&&(t=i7t(t)),Sx(t),t}function s7t(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Sx(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class vW{clone(){return this._cloneInto()}}function hbe(t){const e=r=>t().update(ck(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function o7t(t=32){if(u2&&typeof u2.getRandomValues=="function")return u2.getRandomValues(new Uint8Array(t));if(u2&&typeof u2.randomBytes=="function")return u2.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const fbe=[],pbe=[],gbe=[],a7t=BigInt(0),Ix=BigInt(1),c7t=BigInt(2),l7t=BigInt(7),u7t=BigInt(256),d7t=BigInt(113);for(let t=0,e=Ix,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],fbe.push(2*(5*r+n)),pbe.push((t+1)*(t+2)/2%64);let i=a7t;for(let s=0;s<7;s++)e=(e<<Ix^(e>>l7t)*d7t)%u7t,e&c7t&&(i^=Ix<<(Ix<<BigInt(s))-Ix);gbe.push(i)}const[h7t,f7t]=JCt(gbe,!0),mbe=(t,e,n)=>n>32?e7t(t,e,n):QCt(t,e,n),ybe=(t,e,n)=>n>32?t7t(t,e,n):XCt(t,e,n);function p7t(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=mbe(l,u,1)^n[a],h=ybe(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=pbe[o],c=mbe(i,s,a),l=ybe(i,s,a),u=fbe[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=h7t[r],t[1]^=f7t[r]}n.fill(0)}class bW extends vW{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ok(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=n7t(this.state)}keccak(){ube||dbe(this.state32),p7t(this.state32,this.rounds),ube||dbe(this.state32),this.posOut=0,this.pos=0}update(e){l2(this);const{blockLen:n,state:r}=this;e=ck(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){l2(this,!1),Sx(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ok(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(cbe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new bW(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const g7t=((t,e,n)=>hbe(()=>new bW(e,t,n)))(1,136,256/8);function m7t(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function y7t(t,e,n){return t&e^~t&n}function w7t(t,e,n){return t&e^t&n^e&n}class v7t extends vW{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=wW(this.buffer)}update(e){l2(this);const{view:n,buffer:r,blockLen:i}=this;e=ck(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=wW(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){l2(this),cbe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;m7t(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=wW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const b7t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Sg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ig=new Uint32Array(64);class x7t extends v7t{constructor(){super(64,32,8,!1),this.A=Sg[0]|0,this.B=Sg[1]|0,this.C=Sg[2]|0,this.D=Sg[3]|0,this.E=Sg[4]|0,this.F=Sg[5]|0,this.G=Sg[6]|0,this.H=Sg[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Ig[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Ig[d-15],f=Ig[d-2],g=Ph(h,7)^Ph(h,18)^h>>>3,m=Ph(f,17)^Ph(f,19)^f>>>10;Ig[d]=m+Ig[d-7]+g+Ig[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Ph(a,6)^Ph(a,11)^Ph(a,25),f=u+h+y7t(a,c,l)+b7t[d]+Ig[d]|0,m=(Ph(r,2)^Ph(r,13)^Ph(r,22))+w7t(r,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=r,r=f+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Ig.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const E7t=hbe(()=>new x7t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lk=BigInt(0),uk=BigInt(1),C7t=BigInt(2);function Y1(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function kx(t){if(!Y1(t))throw new Error("Uint8Array expected")}function d2(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const _7t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function h2(t){kx(t);let e="";for(let n=0;n<t.length;n++)e+=_7t[t[n]];return e}function f2(t){const e=t.toString(16);return e.length&1?"0"+e:e}function xW(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?lk:BigInt("0x"+t)}const up={_0:48,_9:57,A:65,F:70,a:97,f:102};function wbe(t){if(t>=up._0&&t<=up._9)return t-up._0;if(t>=up.A&&t<=up.F)return t-(up.A-10);if(t>=up.a&&t<=up.f)return t-(up.a-10)}function p2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=wbe(t.charCodeAt(s)),a=wbe(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function J1(t){return xW(h2(t))}function EW(t){return kx(t),xW(h2(Uint8Array.from(t).reverse()))}function g2(t,e){return p2(t.toString(16).padStart(e*2,"0"))}function CW(t,e){return g2(t,e).reverse()}function A7t(t){return p2(f2(t))}function fd(t,e,n){let r;if(typeof e=="string")try{r=p2(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Y1(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function $x(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];kx(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function S7t(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function I7t(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const _W=t=>typeof t=="bigint"&&lk<=t;function dk(t,e,n){return _W(t)&&_W(e)&&_W(n)&&e<=t&&t<n}function Q1(t,e,n,r){if(!dk(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function vbe(t){let e;for(e=0;t>lk;t>>=uk,e+=1);return e}function k7t(t,e){return t>>BigInt(e)&uk}function $7t(t,e,n){return t|(n?uk:lk)<<BigInt(e)}const AW=t=>(C7t<<BigInt(t-1))-uk,SW=t=>new Uint8Array(t),bbe=t=>Uint8Array.from(t);function xbe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=SW(t),i=SW(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=SW())=>{i=a(bbe([0]),d),r=a(),d.length!==0&&(i=a(bbe([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const f=r.slice();h.push(f),d+=r.length}return $x(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const T7t={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Y1(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Tx(t,e,n={}){const r=(i,s,o)=>{const a=T7t[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const P7t=()=>{throw new Error("not implemented")};function IW(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const N7t=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Q1,abool:d2,abytes:kx,bitGet:k7t,bitLen:vbe,bitMask:AW,bitSet:$7t,bytesToHex:h2,bytesToNumberBE:J1,bytesToNumberLE:EW,concatBytes:$x,createHmacDrbg:xbe,ensureBytes:fd,equalBytes:S7t,hexToBytes:p2,hexToNumber:xW,inRange:dk,isBytes:Y1,memoized:IW,notImplemented:P7t,numberToBytesBE:g2,numberToBytesLE:CW,numberToHexUnpadded:f2,numberToVarBytesBE:A7t,utf8ToBytes:I7t,validateObject:Tx},Symbol.toStringTag,{value:"Module"}));class Ebe extends vW{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,ZCt(e);const r=ck(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return l2(this),this.iHash.update(e),this}digestInto(e){l2(this),Sx(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Cbe=(t,e,n)=>new Ebe(t,e).update(n).digest();Cbe.create=(t,e)=>new Ebe(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const As=BigInt(0),Ti=BigInt(1),X1=BigInt(2),O7t=BigInt(3),kW=BigInt(4),_be=BigInt(5),Abe=BigInt(8);function pc(t,e){const n=t%e;return n>=As?n:e+n}function R7t(t,e,n){if(e<As)throw new Error("invalid exponent, negatives unsupported");if(n<=As)throw new Error("invalid modulus");if(n===Ti)return As;let r=Ti;for(;e>As;)e&Ti&&(r=r*t%n),t=t*t%n,e>>=Ti;return r}function cu(t,e,n){let r=t;for(;e-- >As;)r*=r,r%=n;return r}function $W(t,e){if(t===As)throw new Error("invert: expected non-zero number");if(e<=As)throw new Error("invert: expected positive modulus, got "+e);let n=pc(t,e),r=e,i=As,s=Ti;for(;n!==As;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==Ti)throw new Error("invert: does not exist");return pc(i,e)}function M7t(t){const e=(t-Ti)/X1;let n,r,i;for(n=t-Ti,r=0;n%X1===As;n/=X1,r++);for(i=X1;i<t&&R7t(i,e,t)!==t-Ti;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Ti)/kW;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(n+Ti)/X1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,i),n),d=a.pow(c,s),h=a.pow(c,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let f=1;for(let m=a.sqr(h);f<l&&!a.eql(m,a.ONE);f++)m=a.sqr(m);const g=a.pow(u,Ti<<BigInt(l-f-1));u=a.sqr(g),d=a.mul(d,g),h=a.mul(h,u),l=f}return d}}function j7t(t){if(t%kW===O7t){const e=(t+Ti)/kW;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%Abe===_be){const e=(t-_be)/Abe;return function(r,i){const s=r.mul(i,X1),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,X1),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return M7t(t)}const D7t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function L7t(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=D7t.reduce((r,i)=>(r[i]="function",r),e);return Tx(t,n)}function B7t(t,e,n){if(n<As)throw new Error("invalid exponent, negatives unsupported");if(n===As)return t.ONE;if(n===Ti)return e;let r=t.ONE,i=e;for(;n>As;)n&Ti&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ti;return r}function U7t(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Sbe(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ibe(t,e,n=!1,r={}){if(t<=As)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Sbe(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:AW(i),ZERO:As,ONE:Ti,create:c=>pc(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return As<=c&&c<t},is0:c=>c===As,isOdd:c=>(c&Ti)===Ti,neg:c=>pc(-c,t),eql:(c,l)=>c===l,sqr:c=>pc(c*c,t),add:(c,l)=>pc(c+l,t),sub:(c,l)=>pc(c-l,t),mul:(c,l)=>pc(c*l,t),pow:(c,l)=>B7t(a,c,l),div:(c,l)=>pc(c*$W(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>$W(c,t),sqrt:r.sqrt||(c=>(o||(o=j7t(t)),o(a,c))),invertBatch:c=>U7t(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?CW(c,s):g2(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?EW(c):J1(c)}});return Object.freeze(a)}function kbe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function $be(t){const e=kbe(t);return e+Math.ceil(e/2)}function F7t(t,e,n=!1){const r=t.length,i=kbe(e),s=$be(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?EW(t):J1(t),a=pc(o,e-Ti)+Ti;return n?CW(a,i):g2(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tbe=BigInt(0),hk=BigInt(1);function TW(t,e){const n=e.negate();return t?n:e}function Pbe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function PW(t,e){Pbe(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function z7t(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function W7t(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const NW=new WeakMap,Nbe=new WeakMap;function OW(t){return Nbe.get(t)||1}function q7t(t,e){return{constTimeNegate:TW,hasPrecomputes(n){return OW(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>Tbe;)r&hk&&(i=i.add(s)),s=s.double(),r>>=hk;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=PW(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=PW(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const f=h*o;let g=Number(i&l);i>>=d,g>o&&(g-=u,i+=hk);const m=f,y=f+Math.abs(g)-1,w=h%2!==0,b=g<0;g===0?c=c.add(TW(w,r[m])):a=a.add(TW(b,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=PW(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===Tbe)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=hk),f===0)continue;let g=r[h+Math.abs(f)-1];f<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(n,r,i){let s=NW.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&NW.set(r,i(s))),s},wNAFCached(n,r,i){const s=OW(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=OW(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Pbe(r,e),Nbe.set(n,r),NW.delete(n)}}}function H7t(t,e,n,r){if(z7t(n,t),W7t(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=vbe(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let f=0;f<r.length;f++){const g=r[f],m=Number(g>>BigInt(d)&BigInt(a));c[m]=c[m].add(n[f])}let h=i;for(let f=c.length-1,g=i;f>0;f--)g=g.add(c[f]),h=h.add(g);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function Obe(t){return L7t(t.Fp),Tx(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Sbe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rbe(t){t.lowS!==void 0&&d2("lowS",t.lowS),t.prehash!==void 0&&d2("prehash",t.prehash)}function V7t(t){const e=Obe(t);Tx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:K7t,hexToBytes:G7t}=N7t,dp={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:n}=dp;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=f2(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?f2(i.length/2|128):"";return f2(t)+s+i+e},decode(t,e){const{Err:n}=dp;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=dp;if(t<hp)throw new e("integer: negative integers are not allowed");let n=f2(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=dp;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return K7t(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=dp,i=typeof t=="string"?G7t(t):t;kx(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=dp,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},hp=BigInt(0),Ss=BigInt(1);BigInt(2);const Mbe=BigInt(3);BigInt(4);function Z7t(t){const e=V7t(t),{Fp:n}=e,r=Ibe(e.n,e.nBitLength),i=e.toBytes||((m,y,w)=>{const b=y.toAffine();return $x(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),s=e.fromBytes||(m=>{const y=m.subarray(1),w=n.fromBytes(y.subarray(0,n.BYTES)),b=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:w,y:b}});function o(m){const{a:y,b:w}=e,b=n.sqr(m),v=n.mul(b,m);return n.add(n.add(v,n.mul(m,y)),w)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return dk(m,Ss,e.n)}function c(m){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:b,n:v}=e;if(y&&typeof m!="bigint"){if(Y1(m)&&(m=h2(m)),typeof m!="string"||!y.includes(m.length))throw new Error("invalid private key");m=m.padStart(w*2,"0")}let E;try{E=typeof m=="bigint"?m:J1(fd("private key",m,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof m)}return b&&(E=pc(E,v)),Q1("private key",E,Ss,v),E}function l(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}const u=IW((m,y)=>{const{px:w,py:b,pz:v}=m;if(n.eql(v,n.ONE))return{x:w,y:b};const E=m.is0();y==null&&(y=E?n.ONE:n.inv(v));const _=n.mul(w,y),O=n.mul(b,y),S=n.mul(v,y);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:_,y:O}}),d=IW(m=>{if(m.is0()){if(e.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=m.toAffine();if(!n.isValid(y)||!n.isValid(w))throw new Error("bad point: x or y not FE");const b=n.sqr(w),v=o(y);if(!n.eql(b,v))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(y,w,b){if(this.px=y,this.py=w,this.pz=b,y==null||!n.isValid(y))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(y){const{x:w,y:b}=y||{};if(!y||!n.isValid(w)||!n.isValid(b))throw new Error("invalid affine point");if(y instanceof h)throw new Error("projective point not allowed");const v=E=>n.eql(E,n.ZERO);return v(w)&&v(b)?h.ZERO:new h(w,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=n.invertBatch(y.map(b=>b.pz));return y.map((b,v)=>b.toAffine(w[v])).map(h.fromAffine)}static fromHex(y){const w=h.fromAffine(s(fd("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return h.BASE.multiply(c(y))}static msm(y,w){return H7t(h,r,y,w)}_setWindowSize(y){g.setWindowSize(this,y)}assertValidity(){d(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:w,py:b,pz:v}=this,{px:E,py:_,pz:O}=y,S=n.eql(n.mul(w,O),n.mul(E,v)),R=n.eql(n.mul(b,O),n.mul(_,v));return S&&R}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:w}=e,b=n.mul(w,Mbe),{px:v,py:E,pz:_}=this;let O=n.ZERO,S=n.ZERO,R=n.ZERO,I=n.mul(v,v),D=n.mul(E,E),j=n.mul(_,_),F=n.mul(v,E);return F=n.add(F,F),R=n.mul(v,_),R=n.add(R,R),O=n.mul(y,R),S=n.mul(b,j),S=n.add(O,S),O=n.sub(D,S),S=n.add(D,S),S=n.mul(O,S),O=n.mul(F,O),R=n.mul(b,R),j=n.mul(y,j),F=n.sub(I,j),F=n.mul(y,F),F=n.add(F,R),R=n.add(I,I),I=n.add(R,I),I=n.add(I,j),I=n.mul(I,F),S=n.add(S,I),j=n.mul(E,_),j=n.add(j,j),I=n.mul(j,F),O=n.sub(O,I),R=n.mul(j,D),R=n.add(R,R),R=n.add(R,R),new h(O,S,R)}add(y){l(y);const{px:w,py:b,pz:v}=this,{px:E,py:_,pz:O}=y;let S=n.ZERO,R=n.ZERO,I=n.ZERO;const D=e.a,j=n.mul(e.b,Mbe);let F=n.mul(w,E),M=n.mul(b,_),C=n.mul(v,O),x=n.add(w,b),A=n.add(E,_);x=n.mul(x,A),A=n.add(F,M),x=n.sub(x,A),A=n.add(w,v);let P=n.add(E,O);return A=n.mul(A,P),P=n.add(F,C),A=n.sub(A,P),P=n.add(b,v),S=n.add(_,O),P=n.mul(P,S),S=n.add(M,C),P=n.sub(P,S),I=n.mul(D,A),S=n.mul(j,C),I=n.add(S,I),S=n.sub(M,I),I=n.add(M,I),R=n.mul(S,I),M=n.add(F,F),M=n.add(M,F),C=n.mul(D,C),A=n.mul(j,A),M=n.add(M,C),C=n.sub(F,C),C=n.mul(D,C),A=n.add(A,C),F=n.mul(M,A),R=n.add(R,F),F=n.mul(P,A),S=n.mul(x,S),S=n.sub(S,F),F=n.mul(x,M),I=n.mul(P,I),I=n.add(I,F),new h(S,R,I)}subtract(y){return this.add(y.negate())}is0(){return this.equals(h.ZERO)}wNAF(y){return g.wNAFCached(this,y,h.normalizeZ)}multiplyUnsafe(y){const{endo:w,n:b}=e;Q1("scalar",y,hp,b);const v=h.ZERO;if(y===hp)return v;if(this.is0()||y===Ss)return this;if(!w||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,y,h.normalizeZ);let{k1neg:E,k1:_,k2neg:O,k2:S}=w.splitScalar(y),R=v,I=v,D=this;for(;_>hp||S>hp;)_&Ss&&(R=R.add(D)),S&Ss&&(I=I.add(D)),D=D.double(),_>>=Ss,S>>=Ss;return E&&(R=R.negate()),O&&(I=I.negate()),I=new h(n.mul(I.px,w.beta),I.py,I.pz),R.add(I)}multiply(y){const{endo:w,n:b}=e;Q1("scalar",y,Ss,b);let v,E;if(w){const{k1neg:_,k1:O,k2neg:S,k2:R}=w.splitScalar(y);let{p:I,f:D}=this.wNAF(O),{p:j,f:F}=this.wNAF(R);I=g.constTimeNegate(_,I),j=g.constTimeNegate(S,j),j=new h(n.mul(j.px,w.beta),j.py,j.pz),v=I.add(j),E=D.add(F)}else{const{p:_,f:O}=this.wNAF(y);v=_,E=O}return h.normalizeZ([v,E])[0]}multiplyAndAddUnsafe(y,w,b){const v=h.BASE,E=(O,S)=>S===hp||S===Ss||!O.equals(v)?O.multiplyUnsafe(S):O.multiply(S),_=E(this,w).add(E(y,b));return _.is0()?void 0:_}toAffine(y){return u(this,y)}isTorsionFree(){const{h:y,isTorsionFree:w}=e;if(y===Ss)return!0;if(w)return w(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=e;return y===Ss?this:w?w(h,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return d2("isCompressed",y),this.assertValidity(),i(h,this,y)}toHex(y=!0){return d2("isCompressed",y),h2(this.toRawBytes(y))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,g=q7t(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function Y7t(t){const e=Obe(t);return Tx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function J7t(t){const e=Y7t(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(C){return pc(C,r)}function a(C){return $W(C,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=Z7t({...e,toBytes(C,x,A){const P=x.toAffine(),N=n.toBytes(P.x),$=$x;return d2("isCompressed",A),A?$(Uint8Array.from([x.hasEvenY()?2:3]),N):$(Uint8Array.from([4]),N,n.toBytes(P.y))},fromBytes(C){const x=C.length,A=C[0],P=C.subarray(1);if(x===i&&(A===2||A===3)){const N=J1(P);if(!dk(N,Ss,n.ORDER))throw new Error("Point is not on curve");const $=u(N);let L;try{L=n.sqrt($)}catch(z){const q=z instanceof Error?": "+z.message:"";throw new Error("Point is not on curve"+q)}const B=(L&Ss)===Ss;return(A&1)===1!==B&&(L=n.neg(L)),{x:N,y:L}}else if(x===s&&A===4){const N=n.fromBytes(P.subarray(0,n.BYTES)),$=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:N,y:$}}else{const N=i,$=s;throw new Error("invalid Point, expected length of "+N+", or uncompressed "+$+", got "+x)}}}),h=C=>h2(g2(C,e.nByteLength));function f(C){const x=r>>Ss;return C>x}function g(C){return f(C)?o(-C):C}const m=(C,x,A)=>J1(C.slice(x,A));class y{constructor(x,A,P){this.r=x,this.s=A,this.recovery=P,this.assertValidity()}static fromCompact(x){const A=e.nByteLength;return x=fd("compactSignature",x,A*2),new y(m(x,0,A),m(x,A,2*A))}static fromDER(x){const{r:A,s:P}=dp.toSig(fd("DER",x));return new y(A,P)}assertValidity(){Q1("r",this.r,Ss,r),Q1("s",this.s,Ss,r)}addRecoveryBit(x){return new y(this.r,this.s,x)}recoverPublicKey(x){const{r:A,s:P,recovery:N}=this,$=O(fd("msgHash",x));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const L=N===2||N===3?A+e.n:A;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const B=N&1?"03":"02",T=c.fromHex(B+h(L)),z=a(L),q=o(-$*z),U=o(P*z),V=c.BASE.multiplyAndAddUnsafe(T,q,U);if(!V)throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return p2(this.toDERHex())}toDERHex(){return dp.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return p2(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const w={isValidPrivateKey(C){try{return l(C),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const C=$be(e.n);return F7t(e.randomBytes(C),e.n)},precompute(C=8,x=c.BASE){return x._setWindowSize(C),x.multiply(BigInt(3)),x}};function b(C,x=!0){return c.fromPrivateKey(C).toRawBytes(x)}function v(C){const x=Y1(C),A=typeof C=="string",P=(x||A)&&C.length;return x?P===i||P===s:A?P===2*i||P===2*s:C instanceof c}function E(C,x,A=!0){if(v(C))throw new Error("first arg must be private key");if(!v(x))throw new Error("second arg must be public key");return c.fromHex(x).multiply(l(C)).toRawBytes(A)}const _=e.bits2int||function(C){if(C.length>8192)throw new Error("input is too large");const x=J1(C),A=C.length*8-e.nBitLength;return A>0?x>>BigInt(A):x},O=e.bits2int_modN||function(C){return o(_(C))},S=AW(e.nBitLength);function R(C){return Q1("num < 2^"+e.nBitLength,C,hp,S),g2(C,e.nByteLength)}function I(C,x,A=D){if(["recovered","canonical"].some(K=>K in A))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:N}=e;let{lowS:$,prehash:L,extraEntropy:B}=A;$==null&&($=!0),C=fd("msgHash",C),Rbe(A),L&&(C=fd("prehashed msgHash",P(C)));const T=O(C),z=l(x),q=[R(z),R(T)];if(B!=null&&B!==!1){const K=B===!0?N(n.BYTES):B;q.push(fd("extraEntropy",K))}const U=$x(...q),V=T;function Z(K){const J=_(K);if(!d(J))return;const oe=a(J),se=c.BASE.multiply(J).toAffine(),ae=o(se.x);if(ae===hp)return;const fe=o(oe*o(V+ae*z));if(fe===hp)return;let ce=(se.x===ae?0:2)|Number(se.y&Ss),de=fe;return $&&f(fe)&&(de=g(fe),ce^=1),new y(ae,de,ce)}return{seed:U,k2sig:Z}}const D={lowS:e.lowS,prehash:!1},j={lowS:e.lowS,prehash:!1};function F(C,x,A=D){const{seed:P,k2sig:N}=I(C,x,A),$=e;return xbe($.hash.outputLen,$.nByteLength,$.hmac)(P,N)}c.BASE._setWindowSize(8);function M(C,x,A,P=j){var ce;const N=C;x=fd("msgHash",x),A=fd("publicKey",A);const{lowS:$,prehash:L,format:B}=P;if(Rbe(P),"strict"in P)throw new Error("options.strict was renamed to lowS");if(B!==void 0&&B!=="compact"&&B!=="der")throw new Error("format must be compact or der");const T=typeof N=="string"||Y1(N),z=!T&&!B&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!T&&!z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,U;try{if(z&&(q=new y(N.r,N.s)),T){try{B!=="compact"&&(q=y.fromDER(N))}catch(de){if(!(de instanceof dp.Err))throw de}!q&&B!=="der"&&(q=y.fromCompact(N))}U=c.fromHex(A)}catch{return!1}if(!q||$&&q.hasHighS())return!1;L&&(x=e.hash(x));const{r:V,s:Z}=q,K=O(x),J=a(Z),oe=o(K*J),se=o(V*J),ae=(ce=c.BASE.multiplyAndAddUnsafe(U,oe,se))==null?void 0:ce.toAffine();return ae?o(ae.x)===V:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:F,verify:M,ProjectivePoint:c,Signature:y,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Q7t(t){return{hash:t,hmac:(e,...n)=>Cbe(t,e,s7t(...n)),randomBytes:o7t}}function X7t(t,e){const n=r=>J7t({...t,...Q7t(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jbe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Dbe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),e_t=BigInt(1),RW=BigInt(2),Lbe=(t,e)=>(t+e/RW)/e;function t_t(t){const e=jbe,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=cu(u,n,e)*u%e,h=cu(d,n,e)*u%e,f=cu(h,RW,e)*l%e,g=cu(f,i,e)*f%e,m=cu(g,s,e)*g%e,y=cu(m,a,e)*m%e,w=cu(y,c,e)*y%e,b=cu(w,a,e)*m%e,v=cu(b,n,e)*u%e,E=cu(v,o,e)*g%e,_=cu(E,r,e)*l%e,O=cu(_,RW,e);if(!MW.eql(MW.sqr(O),t))throw new Error("Cannot find square root");return O}const MW=Ibe(jbe,void 0,void 0,{sqrt:t_t}),Bbe=X7t({a:BigInt(0),b:BigInt(7),Fp:MW,n:Dbe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Dbe,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-e_t*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Lbe(s*t,e),c=Lbe(-r*t,e);let l=pc(t-a*n-c*i,e),u=pc(-a*r-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},E7t);BigInt(0),Bbe.ProjectivePoint;const n_t=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Bbe},Symbol.toStringTag,{value:"Module"}));function Ube(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Px(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=Ube(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Fbe(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const zbe=Fbe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),jW=Fbe("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Ube(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Wbe={utf8:zbe,"utf-8":zbe,hex:ZA.base16,latin1:jW,ascii:jW,binary:jW,...ZA};function gc(t,e="utf8"){const n=Wbe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function Fo(t,e="utf8"){const n=Wbe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}var r_t={};const i_t="ReactNative",pd={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},s_t="js";function fk(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ey(){return!ua()&&!!d1()&&navigator.product===i_t}function o_t(){return ey()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function a_t(){return ey()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Nx(){return!fk()&&!!d1()&&!!ua()}function pk(){return ey()?pd.reactNative:fk()?pd.node:Nx()?pd.browser:pd.unknown}function qbe(){var t;try{return ey()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function c_t(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function l_t(){return SA()||{name:"",description:"",url:"",icons:[""]}}function u_t(){if(pk()===pd.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=mue();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function d_t(){var t;const e=pk();return e===pd.browser?[e,((t=gL())==null?void 0:t.host)||"unknown"].join(":"):e}function Hbe(t,e,n){const r=u_t(),i=d_t();return[[t,e].join("-"),[s_t,n].join("-"),r,i].join("/")}function h_t({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=Hbe(t,e,r),d={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=c_t(l[1]||"",d);return l[0]+"?"+h}function DW(t){return Object.fromEntries(t.entries())}function LW(t){return new Map(Object.entries(t))}function f_t(t=le.FIVE_MINUTES,e){const n=le.toMiliseconds(t||le.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function kg(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function Vbe(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function p_t(t){return Vbe("topic",t)}function g_t(t){return Vbe("id",t)}function m_t(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ox(t,e){return le.fromMiliseconds(Date.now()+le.toMiliseconds(t))}function Kbe(t){return Date.now()>=le.toMiliseconds(t)}function BW(t,e){return`${t}${e?`:${e}`:""}`}function Gbe(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Zbe(){return typeof process<"u"&&r_t.IS_VITEST==="true"}function Ybe(t){return Buffer.from(t,"base64").toString("utf-8")}function y_t(t){return new Promise(e=>setTimeout(e,t))}function Rx(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function w_t(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Mx(t,...e){if(!w_t(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function UW(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Rx(t.outputLen),Rx(t.blockLen)}function m2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Jbe(t,e){Mx(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const gk=BigInt(2**32-1),Qbe=BigInt(32);function v_t(t,e=!1){return e?{h:Number(t&gk),l:Number(t>>Qbe&gk)}:{h:Number(t>>Qbe&gk)|0,l:Number(t&gk)|0}}function b_t(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=v_t(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const x_t=(t,e,n)=>t<<n|e>>>32-n,E_t=(t,e,n)=>e<<n|t>>>32-n,C_t=(t,e,n)=>e<<n-32|t>>>64-n,__t=(t,e,n)=>t<<n-32|e>>>64-n,y2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function A_t(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function FW(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Nh(t,e){return t<<32-e|t>>>e}const Xbe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function S_t(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function e2e(t){for(let e=0;e<t.length;e++)t[e]=S_t(t[e])}function I_t(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function w2(t){return typeof t=="string"&&(t=I_t(t)),Mx(t),t}function k_t(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Mx(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let zW=class{clone(){return this._cloneInto()}};function t2e(t){const e=r=>t().update(w2(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function v2(t=32){if(y2&&typeof y2.getRandomValues=="function")return y2.getRandomValues(new Uint8Array(t));if(y2&&typeof y2.randomBytes=="function")return y2.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const n2e=[],r2e=[],i2e=[],$_t=BigInt(0),jx=BigInt(1),T_t=BigInt(2),P_t=BigInt(7),N_t=BigInt(256),O_t=BigInt(113);for(let t=0,e=jx,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],n2e.push(2*(5*r+n)),r2e.push((t+1)*(t+2)/2%64);let i=$_t;for(let s=0;s<7;s++)e=(e<<jx^(e>>P_t)*O_t)%N_t,e&T_t&&(i^=jx<<(jx<<BigInt(s))-jx);i2e.push(i)}const[R_t,M_t]=b_t(i2e,!0),s2e=(t,e,n)=>n>32?C_t(t,e,n):x_t(t,e,n),o2e=(t,e,n)=>n>32?__t(t,e,n):E_t(t,e,n);function j_t(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=s2e(l,u,1)^n[a],h=o2e(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=r2e[o],c=s2e(i,s,a),l=o2e(i,s,a),u=n2e[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=R_t[r],t[1]^=M_t[r]}n.fill(0)}let D_t=class wEe extends zW{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Rx(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=A_t(this.state)}keccak(){Xbe||e2e(this.state32),j_t(this.state32,this.rounds),Xbe||e2e(this.state32),this.posOut=0,this.pos=0}update(e){m2(this);const{blockLen:n,state:r}=this;e=w2(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){m2(this,!1),Mx(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Rx(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Jbe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new wEe(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};((t,e,n)=>t2e(()=>new D_t(e,t,n)))(1,136,256/8);function WW(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function a2e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ol(t,...e){if(!a2e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function c2e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function L_t(t,e){ol(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function l2e(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const $g=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),B_t=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");function U_t(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function qW(t){if(typeof t=="string")t=U_t(t);else if(a2e(t))t=HW(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function F_t(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function z_t(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const W_t=(t,e)=>{function n(r,...i){if(ol(r),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?ol(l):ol(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&ol(i[1]);const o=e(r,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");ol(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ol(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(ol(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function u2e(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!q_t(e))throw new Error("invalid output, must be aligned");return e}function d2e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function q_t(t){return t.byteOffset%4===0}function HW(t){return Uint8Array.from(t)}function b2(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const h2e=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),H_t=h2e("expand 16-byte k"),V_t=h2e("expand 32-byte k"),K_t=$g(H_t),G_t=$g(V_t);function Wn(t,e){return t<<e|t>>>32-e}function VW(t){return t.byteOffset%4===0}const mk=64,Z_t=16,f2e=2**32-1,p2e=new Uint32Array;function Y_t(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(mk),u=$g(l),d=VW(i)&&VW(s),h=d?$g(i):p2e,f=d?$g(s):p2e;for(let g=0;g<c;o++){if(t(e,n,r,u,o,a),o>=f2e)throw new Error("arx: counter overflow");const m=Math.min(mk,c-g);if(d&&m===mk){const y=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let w=0,b;w<Z_t;w++)b=y+w,f[b]=h[b]^u[w];g+=mk;continue}for(let y=0,w;y<m;y++)w=g+y,s[w]=i[w]^l[y];g+=m}}function J_t(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=F_t({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return WW(i),WW(o),l2e(s),l2e(n),(a,c,l,u,d=0)=>{ol(a),ol(c),ol(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),ol(u),WW(d),d<0||d>=f2e)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let g=a.length,m,y;if(g===32)f.push(m=HW(a)),y=G_t;else if(g===16&&n)m=new Uint8Array(32),m.set(a),m.set(a,16),y=K_t,f.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);VW(c)||f.push(c=HW(c));const w=$g(m);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,w,$g(c.subarray(0,16)),w),c=c.subarray(16)}const b=16-i;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const E=new Uint8Array(12);E.set(c,s?0:12-c.length),c=E,f.push(c)}const v=$g(c);return Y_t(t,y,w,v,l,u,d,o),b2(...f),u}}const oo=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let Q_t=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=qW(e),ol(e,32);const n=oo(e,0),r=oo(e,2),i=oo(e,4),s=oo(e,6),o=oo(e,8),a=oo(e,10),c=oo(e,12),l=oo(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=oo(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],g=o[7],m=o[8],y=o[9],w=oo(e,n+0),b=oo(e,n+2),v=oo(e,n+4),E=oo(e,n+6),_=oo(e,n+8),O=oo(e,n+10),S=oo(e,n+12),R=oo(e,n+14);let I=s[0]+(w&8191),D=s[1]+((w>>>13|b<<3)&8191),j=s[2]+((b>>>10|v<<6)&8191),F=s[3]+((v>>>7|E<<9)&8191),M=s[4]+((E>>>4|_<<12)&8191),C=s[5]+(_>>>1&8191),x=s[6]+((_>>>14|O<<2)&8191),A=s[7]+((O>>>11|S<<5)&8191),P=s[8]+((S>>>8|R<<8)&8191),N=s[9]+(R>>>5|i),$=0,L=$+I*a+D*(5*y)+j*(5*m)+F*(5*g)+M*(5*f);$=L>>>13,L&=8191,L+=C*(5*h)+x*(5*d)+A*(5*u)+P*(5*l)+N*(5*c),$+=L>>>13,L&=8191;let B=$+I*c+D*a+j*(5*y)+F*(5*m)+M*(5*g);$=B>>>13,B&=8191,B+=C*(5*f)+x*(5*h)+A*(5*d)+P*(5*u)+N*(5*l),$+=B>>>13,B&=8191;let T=$+I*l+D*c+j*a+F*(5*y)+M*(5*m);$=T>>>13,T&=8191,T+=C*(5*g)+x*(5*f)+A*(5*h)+P*(5*d)+N*(5*u),$+=T>>>13,T&=8191;let z=$+I*u+D*l+j*c+F*a+M*(5*y);$=z>>>13,z&=8191,z+=C*(5*m)+x*(5*g)+A*(5*f)+P*(5*h)+N*(5*d),$+=z>>>13,z&=8191;let q=$+I*d+D*u+j*l+F*c+M*a;$=q>>>13,q&=8191,q+=C*(5*y)+x*(5*m)+A*(5*g)+P*(5*f)+N*(5*h),$+=q>>>13,q&=8191;let U=$+I*h+D*d+j*u+F*l+M*c;$=U>>>13,U&=8191,U+=C*a+x*(5*y)+A*(5*m)+P*(5*g)+N*(5*f),$+=U>>>13,U&=8191;let V=$+I*f+D*h+j*d+F*u+M*l;$=V>>>13,V&=8191,V+=C*c+x*a+A*(5*y)+P*(5*m)+N*(5*g),$+=V>>>13,V&=8191;let Z=$+I*g+D*f+j*h+F*d+M*u;$=Z>>>13,Z&=8191,Z+=C*l+x*c+A*a+P*(5*y)+N*(5*m),$+=Z>>>13,Z&=8191;let K=$+I*m+D*g+j*f+F*h+M*d;$=K>>>13,K&=8191,K+=C*u+x*l+A*c+P*a+N*(5*y),$+=K>>>13,K&=8191;let J=$+I*y+D*m+j*g+F*f+M*h;$=J>>>13,J&=8191,J+=C*d+x*u+A*l+P*c+N*a,$+=J>>>13,J&=8191,$=($<<2)+$|0,$=$+L|0,L=$&8191,$=$>>>13,B+=$,s[0]=L,s[1]=B,s[2]=T,s[3]=z,s[4]=q,s[5]=U,s[6]=V,s[7]=Z,s[8]=K,s[9]=J}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;b2(r)}update(e){c2e(this);const{buffer:n,blockLen:r}=this;e=qW(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){b2(this.h,this.r,this.buffer,this.pad)}digestInto(e){c2e(this),L_t(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function X_t(t){const e=(r,i)=>t(i).update(qW(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const eAt=X_t(t=>new Q_t(t));function tAt(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],g=e[4],m=e[5],y=e[6],w=e[7],b=i,v=n[0],E=n[1],_=n[2],O=o,S=a,R=c,I=l,D=u,j=d,F=h,M=f,C=g,x=m,A=y,P=w,N=b,$=v,L=E,B=_;for(let z=0;z<s;z+=2)O=O+D|0,N=Wn(N^O,16),C=C+N|0,D=Wn(D^C,12),O=O+D|0,N=Wn(N^O,8),C=C+N|0,D=Wn(D^C,7),S=S+j|0,$=Wn($^S,16),x=x+$|0,j=Wn(j^x,12),S=S+j|0,$=Wn($^S,8),x=x+$|0,j=Wn(j^x,7),R=R+F|0,L=Wn(L^R,16),A=A+L|0,F=Wn(F^A,12),R=R+F|0,L=Wn(L^R,8),A=A+L|0,F=Wn(F^A,7),I=I+M|0,B=Wn(B^I,16),P=P+B|0,M=Wn(M^P,12),I=I+M|0,B=Wn(B^I,8),P=P+B|0,M=Wn(M^P,7),O=O+j|0,B=Wn(B^O,16),A=A+B|0,j=Wn(j^A,12),O=O+j|0,B=Wn(B^O,8),A=A+B|0,j=Wn(j^A,7),S=S+F|0,N=Wn(N^S,16),P=P+N|0,F=Wn(F^P,12),S=S+F|0,N=Wn(N^S,8),P=P+N|0,F=Wn(F^P,7),R=R+M|0,$=Wn($^R,16),C=C+$|0,M=Wn(M^C,12),R=R+M|0,$=Wn($^R,8),C=C+$|0,M=Wn(M^C,7),I=I+D|0,L=Wn(L^I,16),x=x+L|0,D=Wn(D^x,12),I=I+D|0,L=Wn(L^I,8),x=x+L|0,D=Wn(D^x,7);let T=0;r[T++]=o+O|0,r[T++]=a+S|0,r[T++]=c+R|0,r[T++]=l+I|0,r[T++]=u+D|0,r[T++]=d+j|0,r[T++]=h+F|0,r[T++]=f+M|0,r[T++]=g+C|0,r[T++]=m+x|0,r[T++]=y+A|0,r[T++]=w+P|0,r[T++]=b+N|0,r[T++]=v+$|0,r[T++]=E+L|0,r[T++]=_+B|0}const nAt=J_t(tAt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),rAt=new Uint8Array(16),g2e=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(rAt.subarray(n))},iAt=new Uint8Array(32);function m2e(t,e,n,r,i){const s=t(e,n,iAt),o=eAt.create(s);i&&g2e(o,i),g2e(o,r);const a=new Uint8Array(16),c=B_t(a);d2e(c,0,BigInt(i?i.length:0),!0),d2e(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return b2(s,a),l}const sAt=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=u2e(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=m2e(t,e,n,a,r);return s.set(c,o),b2(c),s},decrypt(i,s){s=u2e(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=m2e(t,e,n,o,r);if(!z_t(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),b2(c),s}}),y2e=W_t({blockSize:64,nonceLength:12,tagLength:16},sAt(nAt));let w2e=class extends zW{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,UW(e);const r=w2(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return m2(this),this.iHash.update(e),this}digestInto(e){m2(this),Mx(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const yk=(t,e,n)=>new w2e(t,e).update(n).digest();yk.create=(t,e)=>new w2e(t,e);function oAt(t,e,n){return UW(t),n===void 0&&(n=new Uint8Array(t.outputLen)),yk(t,w2(n),w2(e))}const KW=new Uint8Array([0]),v2e=new Uint8Array;function aAt(t,e,n,r=32){if(UW(t),Rx(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=v2e);const s=new Uint8Array(i*t.outputLen),o=yk.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)KW[0]=l+1,a.update(l===0?v2e:c).update(n).update(KW).digestInto(c),s.set(c,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),KW.fill(0),s.slice(0,r)}const cAt=(t,e,n,r,i)=>aAt(t,oAt(t,e,n),r,i);function lAt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function uAt(t,e,n){return t&e^~t&n}function dAt(t,e,n){return t&e^t&n^e&n}let hAt=class extends zW{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=FW(this.buffer)}update(e){m2(this);const{view:n,buffer:r,blockLen:i}=this;e=w2(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=FW(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){m2(this),Jbe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;lAt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=FW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const fAt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pg=new Uint32Array(64);let pAt=class extends hAt{constructor(){super(64,32,8,!1),this.A=Tg[0]|0,this.B=Tg[1]|0,this.C=Tg[2]|0,this.D=Tg[3]|0,this.E=Tg[4]|0,this.F=Tg[5]|0,this.G=Tg[6]|0,this.H=Tg[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Pg[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Pg[d-15],f=Pg[d-2],g=Nh(h,7)^Nh(h,18)^h>>>3,m=Nh(f,17)^Nh(f,19)^f>>>10;Pg[d]=m+Pg[d-7]+g+Pg[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Nh(a,6)^Nh(a,11)^Nh(a,25),f=u+h+uAt(a,c,l)+fAt[d]+Pg[d]|0,g=(Nh(r,2)^Nh(r,13)^Nh(r,22))+dAt(r,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=r,r=f+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Pg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Dx=t2e(()=>new pAt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wk=BigInt(0),vk=BigInt(1),gAt=BigInt(2);function ty(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Lx(t){if(!ty(t))throw new Error("Uint8Array expected")}function x2(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const mAt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function E2(t){Lx(t);let e="";for(let n=0;n<t.length;n++)e+=mAt[t[n]];return e}function C2(t){const e=t.toString(16);return e.length&1?"0"+e:e}function GW(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?wk:BigInt("0x"+t)}const fp={_0:48,_9:57,A:65,F:70,a:97,f:102};function b2e(t){if(t>=fp._0&&t<=fp._9)return t-fp._0;if(t>=fp.A&&t<=fp.F)return t-(fp.A-10);if(t>=fp.a&&t<=fp.f)return t-(fp.a-10)}function _2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=b2e(t.charCodeAt(s)),a=b2e(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function ny(t){return GW(E2(t))}function Bx(t){return Lx(t),GW(E2(Uint8Array.from(t).reverse()))}function A2(t,e){return _2(t.toString(16).padStart(e*2,"0"))}function bk(t,e){return A2(t,e).reverse()}function yAt(t){return _2(C2(t))}function al(t,e,n){let r;if(typeof e=="string")try{r=_2(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(ty(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Ux(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Lx(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function wAt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function vAt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const ZW=t=>typeof t=="bigint"&&wk<=t;function xk(t,e,n){return ZW(t)&&ZW(e)&&ZW(n)&&e<=t&&t<n}function pp(t,e,n,r){if(!xk(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function x2e(t){let e;for(e=0;t>wk;t>>=vk,e+=1);return e}function bAt(t,e){return t>>BigInt(e)&vk}function xAt(t,e,n){return t|(n?vk:wk)<<BigInt(e)}const YW=t=>(gAt<<BigInt(t-1))-vk,JW=t=>new Uint8Array(t),E2e=t=>Uint8Array.from(t);function C2e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=JW(t),i=JW(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...u)=>n(i,r,...u),c=(u=JW())=>{i=a(E2e([0]),u),r=a(),u.length!==0&&(i=a(E2e([1]),u),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<e;){r=a();const h=r.slice();d.push(h),u+=r.length}return Ux(...d)};return(u,d)=>{o(),c(u);let h;for(;!(h=d(l()));)c();return o(),h}}const EAt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ty(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function S2(t,e,n={}){const r=(i,s,o)=>{const a=EAt[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const CAt=()=>{throw new Error("not implemented")};function QW(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}var _At=Object.freeze({__proto__:null,isBytes:ty,abytes:Lx,abool:x2,bytesToHex:E2,numberToHexUnpadded:C2,hexToNumber:GW,hexToBytes:_2,bytesToNumberBE:ny,bytesToNumberLE:Bx,numberToBytesBE:A2,numberToBytesLE:bk,numberToVarBytesBE:yAt,ensureBytes:al,concatBytes:Ux,equalBytes:wAt,utf8ToBytes:vAt,inRange:xk,aInRange:pp,bitLen:x2e,bitGet:bAt,bitSet:xAt,bitMask:YW,createHmacDrbg:C2e,validateObject:S2,notImplemented:CAt,memoized:QW});const Is=BigInt(0),Pi=BigInt(1),ry=BigInt(2),AAt=BigInt(3),XW=BigInt(4),_2e=BigInt(5),A2e=BigInt(8);function mc(t,e){const n=t%e;return n>=Is?n:e+n}function S2e(t,e,n){if(e<Is)throw new Error("invalid exponent, negatives unsupported");if(n<=Is)throw new Error("invalid modulus");if(n===Pi)return Is;let r=Pi;for(;e>Is;)e&Pi&&(r=r*t%n),t=t*t%n,e>>=Pi;return r}function gd(t,e,n){let r=t;for(;e-- >Is;)r*=r,r%=n;return r}function eq(t,e){if(t===Is)throw new Error("invert: expected non-zero number");if(e<=Is)throw new Error("invert: expected positive modulus, got "+e);let n=mc(t,e),r=e,i=Is,s=Pi;for(;n!==Is;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==Pi)throw new Error("invert: does not exist");return mc(i,e)}function SAt(t){const e=(t-Pi)/ry;let n,r,i;for(n=t-Pi,r=0;n%ry===Is;n/=ry,r++);for(i=ry;i<t&&S2e(i,e,t)!==t-Pi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Pi)/XW;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+Pi)/ry;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let g=o.sqr(d);h<c&&!o.eql(g,o.ONE);h++)g=o.sqr(g);const f=o.pow(l,Pi<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function IAt(t){if(t%XW===AAt){const e=(t+Pi)/XW;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%A2e===_2e){const e=(t-_2e)/A2e;return function(n,r){const i=n.mul(r,ry),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,ry),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return SAt(t)}const kAt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $At(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=kAt.reduce((r,i)=>(r[i]="function",r),e);return S2(t,n)}function TAt(t,e,n){if(n<Is)throw new Error("invalid exponent, negatives unsupported");if(n===Is)return t.ONE;if(n===Pi)return e;let r=t.ONE,i=e;for(;n>Is;)n&Pi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Pi;return r}function PAt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function I2e(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function k2e(t,e,n=!1,r={}){if(t<=Is)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=I2e(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:YW(i),ZERO:Is,ONE:Pi,create:c=>mc(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Is<=c&&c<t},is0:c=>c===Is,isOdd:c=>(c&Pi)===Pi,neg:c=>mc(-c,t),eql:(c,l)=>c===l,sqr:c=>mc(c*c,t),add:(c,l)=>mc(c+l,t),sub:(c,l)=>mc(c-l,t),mul:(c,l)=>mc(c*l,t),pow:(c,l)=>TAt(a,c,l),div:(c,l)=>mc(c*eq(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>eq(c,t),sqrt:r.sqrt||(c=>(o||(o=IAt(t)),o(a,c))),invertBatch:c=>PAt(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?bk(c,s):A2(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Bx(c):ny(c)}});return Object.freeze(a)}function $2e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function T2e(t){const e=$2e(t);return e+Math.ceil(e/2)}function NAt(t,e,n=!1){const r=t.length,i=$2e(e),s=T2e(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Bx(t):ny(t),a=mc(o,e-Pi)+Pi;return n?bk(a,i):A2(a,i)}const P2e=BigInt(0),Ek=BigInt(1);function tq(t,e){const n=e.negate();return t?n:e}function N2e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function nq(t,e){N2e(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function OAt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function RAt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const rq=new WeakMap,O2e=new WeakMap;function iq(t){return O2e.get(t)||1}function MAt(t,e){return{constTimeNegate:tq,hasPrecomputes(n){return iq(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>P2e;)r&Ek&&(i=i.add(s)),s=s.double(),r>>=Ek;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=nq(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=nq(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const f=h*o;let g=Number(i&l);i>>=d,g>o&&(g-=u,i+=Ek);const m=f,y=f+Math.abs(g)-1,w=h%2!==0,b=g<0;g===0?c=c.add(tq(w,r[m])):a=a.add(tq(b,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=nq(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===P2e)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=Ek),f===0)continue;let g=r[h+Math.abs(f)-1];f<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(n,r,i){let s=rq.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&rq.set(r,i(s))),s},wNAFCached(n,r,i){const s=iq(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=iq(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){N2e(r,e),O2e.set(n,r),rq.delete(n)}}}function jAt(t,e,n,r){if(OAt(n,t),RAt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=x2e(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let f=0;f<r.length;f++){const g=r[f],m=Number(g>>BigInt(d)&BigInt(a));c[m]=c[m].add(n[f])}let h=i;for(let f=c.length-1,g=i;f>0;f--)g=g.add(c[f]),h=h.add(g);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function R2e(t){return $At(t.Fp),S2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...I2e(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const I2=BigInt(0),sq=BigInt(1);function DAt(t){return S2(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function LAt(t){const e=DAt(t),{P:n}=e,r=b=>mc(b,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(b=>b),c=e.powPminus2||(b=>S2e(b,n-BigInt(2),n));function l(b,v,E){const _=r(b*(v-E));return v=r(v-_),E=r(E+_),[v,E]}const u=(e.a-BigInt(2))/BigInt(4);function d(b,v){pp("u",b,I2,n),pp("scalar",v,I2,n);const E=v,_=b;let O=sq,S=I2,R=b,I=sq,D=I2,j;for(let M=BigInt(i-1);M>=I2;M--){const C=E>>M&sq;D^=C,j=l(D,O,R),O=j[0],R=j[1],j=l(D,S,I),S=j[0],I=j[1],D=C;const x=O+S,A=r(x*x),P=O-S,N=r(P*P),$=A-N,L=R+I,B=R-I,T=r(B*x),z=r(L*P),q=T+z,U=T-z;R=r(q*q),I=r(_*r(U*U)),O=r(A*N),S=r($*(A+r(u*$)))}j=l(D,O,R),O=j[0],R=j[1],j=l(D,S,I),S=j[0],I=j[1];const F=c(S);return r(O*F)}function h(b){return bk(r(b),s)}function f(b){const v=al("u coordinate",b,s);return o===32&&(v[31]&=127),Bx(v)}function g(b){const v=al("scalar",b),E=v.length;if(E!==s&&E!==o){let _=""+s+" or "+o;throw new Error("invalid scalar, expected "+_+" bytes, got "+E)}return Bx(a(v))}function m(b,v){const E=f(v),_=g(b),O=d(E,_);if(O===I2)throw new Error("invalid private or public key received");return h(O)}const y=h(e.Gu);function w(b){return m(b,y)}return{scalarMult:m,scalarMultBase:w,getSharedSecret:(b,v)=>m(b,v),getPublicKey:b=>w(b),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:y}}const oq=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const BAt=BigInt(1),M2e=BigInt(2),UAt=BigInt(3),FAt=BigInt(5);BigInt(8);function zAt(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=oq,o=t*t%s*t%s,a=gd(o,M2e,s)*o%s,c=gd(a,BAt,s)*t%s,l=gd(c,FAt,s)*c%s,u=gd(l,e,s)*l%s,d=gd(u,n,s)*u%s,h=gd(d,r,s)*d%s,f=gd(h,i,s)*h%s,g=gd(f,i,s)*h%s,m=gd(g,e,s)*l%s;return{pow_p_5_8:gd(m,M2e,s)*t%s,b2:o}}function WAt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const aq=LAt({P:oq,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=oq,{pow_p_5_8:n,b2:r}=zAt(t);return mc(gd(n,UAt,e)*r,e)},adjustScalarBytes:WAt,randomBytes:v2});function j2e(t){t.lowS!==void 0&&x2("lowS",t.lowS),t.prehash!==void 0&&x2("prehash",t.prehash)}function qAt(t){const e=R2e(t);S2(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:HAt,hexToBytes:VAt}=_At,gp={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:n}=gp;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=C2(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?C2(i.length/2|128):"";return C2(t)+s+i+e},decode(t,e){const{Err:n}=gp;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=gp;if(t<mp)throw new e("integer: negative integers are not allowed");let n=C2(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=gp;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return HAt(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=gp,i=typeof t=="string"?VAt(t):t;Lx(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=gp,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},mp=BigInt(0),ks=BigInt(1);BigInt(2);const D2e=BigInt(3);BigInt(4);function KAt(t){const e=qAt(t),{Fp:n}=e,r=k2e(e.n,e.nBitLength),i=e.toBytes||((m,y,w)=>{const b=y.toAffine();return Ux(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),s=e.fromBytes||(m=>{const y=m.subarray(1),w=n.fromBytes(y.subarray(0,n.BYTES)),b=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:w,y:b}});function o(m){const{a:y,b:w}=e,b=n.sqr(m),v=n.mul(b,m);return n.add(n.add(v,n.mul(m,y)),w)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return xk(m,ks,e.n)}function c(m){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:b,n:v}=e;if(y&&typeof m!="bigint"){if(ty(m)&&(m=E2(m)),typeof m!="string"||!y.includes(m.length))throw new Error("invalid private key");m=m.padStart(w*2,"0")}let E;try{E=typeof m=="bigint"?m:ny(al("private key",m,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof m)}return b&&(E=mc(E,v)),pp("private key",E,ks,v),E}function l(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}const u=QW((m,y)=>{const{px:w,py:b,pz:v}=m;if(n.eql(v,n.ONE))return{x:w,y:b};const E=m.is0();y==null&&(y=E?n.ONE:n.inv(v));const _=n.mul(w,y),O=n.mul(b,y),S=n.mul(v,y);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:_,y:O}}),d=QW(m=>{if(m.is0()){if(e.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=m.toAffine();if(!n.isValid(y)||!n.isValid(w))throw new Error("bad point: x or y not FE");const b=n.sqr(w),v=o(y);if(!n.eql(b,v))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(y,w,b){if(this.px=y,this.py=w,this.pz=b,y==null||!n.isValid(y))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(y){const{x:w,y:b}=y||{};if(!y||!n.isValid(w)||!n.isValid(b))throw new Error("invalid affine point");if(y instanceof h)throw new Error("projective point not allowed");const v=E=>n.eql(E,n.ZERO);return v(w)&&v(b)?h.ZERO:new h(w,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=n.invertBatch(y.map(b=>b.pz));return y.map((b,v)=>b.toAffine(w[v])).map(h.fromAffine)}static fromHex(y){const w=h.fromAffine(s(al("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return h.BASE.multiply(c(y))}static msm(y,w){return jAt(h,r,y,w)}_setWindowSize(y){g.setWindowSize(this,y)}assertValidity(){d(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:w,py:b,pz:v}=this,{px:E,py:_,pz:O}=y,S=n.eql(n.mul(w,O),n.mul(E,v)),R=n.eql(n.mul(b,O),n.mul(_,v));return S&&R}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:w}=e,b=n.mul(w,D2e),{px:v,py:E,pz:_}=this;let O=n.ZERO,S=n.ZERO,R=n.ZERO,I=n.mul(v,v),D=n.mul(E,E),j=n.mul(_,_),F=n.mul(v,E);return F=n.add(F,F),R=n.mul(v,_),R=n.add(R,R),O=n.mul(y,R),S=n.mul(b,j),S=n.add(O,S),O=n.sub(D,S),S=n.add(D,S),S=n.mul(O,S),O=n.mul(F,O),R=n.mul(b,R),j=n.mul(y,j),F=n.sub(I,j),F=n.mul(y,F),F=n.add(F,R),R=n.add(I,I),I=n.add(R,I),I=n.add(I,j),I=n.mul(I,F),S=n.add(S,I),j=n.mul(E,_),j=n.add(j,j),I=n.mul(j,F),O=n.sub(O,I),R=n.mul(j,D),R=n.add(R,R),R=n.add(R,R),new h(O,S,R)}add(y){l(y);const{px:w,py:b,pz:v}=this,{px:E,py:_,pz:O}=y;let S=n.ZERO,R=n.ZERO,I=n.ZERO;const D=e.a,j=n.mul(e.b,D2e);let F=n.mul(w,E),M=n.mul(b,_),C=n.mul(v,O),x=n.add(w,b),A=n.add(E,_);x=n.mul(x,A),A=n.add(F,M),x=n.sub(x,A),A=n.add(w,v);let P=n.add(E,O);return A=n.mul(A,P),P=n.add(F,C),A=n.sub(A,P),P=n.add(b,v),S=n.add(_,O),P=n.mul(P,S),S=n.add(M,C),P=n.sub(P,S),I=n.mul(D,A),S=n.mul(j,C),I=n.add(S,I),S=n.sub(M,I),I=n.add(M,I),R=n.mul(S,I),M=n.add(F,F),M=n.add(M,F),C=n.mul(D,C),A=n.mul(j,A),M=n.add(M,C),C=n.sub(F,C),C=n.mul(D,C),A=n.add(A,C),F=n.mul(M,A),R=n.add(R,F),F=n.mul(P,A),S=n.mul(x,S),S=n.sub(S,F),F=n.mul(x,M),I=n.mul(P,I),I=n.add(I,F),new h(S,R,I)}subtract(y){return this.add(y.negate())}is0(){return this.equals(h.ZERO)}wNAF(y){return g.wNAFCached(this,y,h.normalizeZ)}multiplyUnsafe(y){const{endo:w,n:b}=e;pp("scalar",y,mp,b);const v=h.ZERO;if(y===mp)return v;if(this.is0()||y===ks)return this;if(!w||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,y,h.normalizeZ);let{k1neg:E,k1:_,k2neg:O,k2:S}=w.splitScalar(y),R=v,I=v,D=this;for(;_>mp||S>mp;)_&ks&&(R=R.add(D)),S&ks&&(I=I.add(D)),D=D.double(),_>>=ks,S>>=ks;return E&&(R=R.negate()),O&&(I=I.negate()),I=new h(n.mul(I.px,w.beta),I.py,I.pz),R.add(I)}multiply(y){const{endo:w,n:b}=e;pp("scalar",y,ks,b);let v,E;if(w){const{k1neg:_,k1:O,k2neg:S,k2:R}=w.splitScalar(y);let{p:I,f:D}=this.wNAF(O),{p:j,f:F}=this.wNAF(R);I=g.constTimeNegate(_,I),j=g.constTimeNegate(S,j),j=new h(n.mul(j.px,w.beta),j.py,j.pz),v=I.add(j),E=D.add(F)}else{const{p:_,f:O}=this.wNAF(y);v=_,E=O}return h.normalizeZ([v,E])[0]}multiplyAndAddUnsafe(y,w,b){const v=h.BASE,E=(O,S)=>S===mp||S===ks||!O.equals(v)?O.multiplyUnsafe(S):O.multiply(S),_=E(this,w).add(E(y,b));return _.is0()?void 0:_}toAffine(y){return u(this,y)}isTorsionFree(){const{h:y,isTorsionFree:w}=e;if(y===ks)return!0;if(w)return w(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=e;return y===ks?this:w?w(h,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return x2("isCompressed",y),this.assertValidity(),i(h,this,y)}toHex(y=!0){return x2("isCompressed",y),E2(this.toRawBytes(y))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,g=MAt(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function GAt(t){const e=R2e(t);return S2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ZAt(t){const e=GAt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(C){return mc(C,r)}function a(C){return eq(C,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=KAt({...e,toBytes(C,x,A){const P=x.toAffine(),N=n.toBytes(P.x),$=Ux;return x2("isCompressed",A),A?$(Uint8Array.from([x.hasEvenY()?2:3]),N):$(Uint8Array.from([4]),N,n.toBytes(P.y))},fromBytes(C){const x=C.length,A=C[0],P=C.subarray(1);if(x===i&&(A===2||A===3)){const N=ny(P);if(!xk(N,ks,n.ORDER))throw new Error("Point is not on curve");const $=u(N);let L;try{L=n.sqrt($)}catch(T){const z=T instanceof Error?": "+T.message:"";throw new Error("Point is not on curve"+z)}const B=(L&ks)===ks;return(A&1)===1!==B&&(L=n.neg(L)),{x:N,y:L}}else if(x===s&&A===4){const N=n.fromBytes(P.subarray(0,n.BYTES)),$=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:N,y:$}}else{const N=i,$=s;throw new Error("invalid Point, expected length of "+N+", or uncompressed "+$+", got "+x)}}}),h=C=>E2(A2(C,e.nByteLength));function f(C){const x=r>>ks;return C>x}function g(C){return f(C)?o(-C):C}const m=(C,x,A)=>ny(C.slice(x,A));class y{constructor(x,A,P){this.r=x,this.s=A,this.recovery=P,this.assertValidity()}static fromCompact(x){const A=e.nByteLength;return x=al("compactSignature",x,A*2),new y(m(x,0,A),m(x,A,2*A))}static fromDER(x){const{r:A,s:P}=gp.toSig(al("DER",x));return new y(A,P)}assertValidity(){pp("r",this.r,ks,r),pp("s",this.s,ks,r)}addRecoveryBit(x){return new y(this.r,this.s,x)}recoverPublicKey(x){const{r:A,s:P,recovery:N}=this,$=O(al("msgHash",x));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const L=N===2||N===3?A+e.n:A;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const B=N&1?"03":"02",T=c.fromHex(B+h(L)),z=a(L),q=o(-$*z),U=o(P*z),V=c.BASE.multiplyAndAddUnsafe(T,q,U);if(!V)throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return _2(this.toDERHex())}toDERHex(){return gp.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return _2(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const w={isValidPrivateKey(C){try{return l(C),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const C=T2e(e.n);return NAt(e.randomBytes(C),e.n)},precompute(C=8,x=c.BASE){return x._setWindowSize(C),x.multiply(BigInt(3)),x}};function b(C,x=!0){return c.fromPrivateKey(C).toRawBytes(x)}function v(C){const x=ty(C),A=typeof C=="string",P=(x||A)&&C.length;return x?P===i||P===s:A?P===2*i||P===2*s:C instanceof c}function E(C,x,A=!0){if(v(C))throw new Error("first arg must be private key");if(!v(x))throw new Error("second arg must be public key");return c.fromHex(x).multiply(l(C)).toRawBytes(A)}const _=e.bits2int||function(C){if(C.length>8192)throw new Error("input is too large");const x=ny(C),A=C.length*8-e.nBitLength;return A>0?x>>BigInt(A):x},O=e.bits2int_modN||function(C){return o(_(C))},S=YW(e.nBitLength);function R(C){return pp("num < 2^"+e.nBitLength,C,mp,S),A2(C,e.nByteLength)}function I(C,x,A=D){if(["recovered","canonical"].some(K=>K in A))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:N}=e;let{lowS:$,prehash:L,extraEntropy:B}=A;$==null&&($=!0),C=al("msgHash",C),j2e(A),L&&(C=al("prehashed msgHash",P(C)));const T=O(C),z=l(x),q=[R(z),R(T)];if(B!=null&&B!==!1){const K=B===!0?N(n.BYTES):B;q.push(al("extraEntropy",K))}const U=Ux(...q),V=T;function Z(K){const J=_(K);if(!d(J))return;const oe=a(J),se=c.BASE.multiply(J).toAffine(),ae=o(se.x);if(ae===mp)return;const fe=o(oe*o(V+ae*z));if(fe===mp)return;let ce=(se.x===ae?0:2)|Number(se.y&ks),de=fe;return $&&f(fe)&&(de=g(fe),ce^=1),new y(ae,de,ce)}return{seed:U,k2sig:Z}}const D={lowS:e.lowS,prehash:!1},j={lowS:e.lowS,prehash:!1};function F(C,x,A=D){const{seed:P,k2sig:N}=I(C,x,A),$=e;return C2e($.hash.outputLen,$.nByteLength,$.hmac)(P,N)}c.BASE._setWindowSize(8);function M(C,x,A,P=j){var fe;const N=C;x=al("msgHash",x),A=al("publicKey",A);const{lowS:$,prehash:L,format:B}=P;if(j2e(P),"strict"in P)throw new Error("options.strict was renamed to lowS");if(B!==void 0&&B!=="compact"&&B!=="der")throw new Error("format must be compact or der");const T=typeof N=="string"||ty(N),z=!T&&!B&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!T&&!z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,U;try{if(z&&(q=new y(N.r,N.s)),T){try{B!=="compact"&&(q=y.fromDER(N))}catch(ce){if(!(ce instanceof gp.Err))throw ce}!q&&B!=="der"&&(q=y.fromCompact(N))}U=c.fromHex(A)}catch{return!1}if(!q||$&&q.hasHighS())return!1;L&&(x=e.hash(x));const{r:V,s:Z}=q,K=O(x),J=a(Z),oe=o(K*J),se=o(V*J),ae=(fe=c.BASE.multiplyAndAddUnsafe(U,oe,se))==null?void 0:fe.toAffine();return ae?o(ae.x)===V:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:F,verify:M,ProjectivePoint:c,Signature:y,utils:w}}function YAt(t){return{hash:t,hmac:(e,...n)=>yk(t,e,k_t(...n)),randomBytes:v2}}function JAt(t,e){const n=r=>ZAt({...t,...YAt(r)});return{...n(e),create:n}}const L2e=k2e(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),QAt=L2e.create(BigInt("-3")),XAt=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),eSt=JAt({a:QAt,b:XAt,Fp:L2e,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Dx),B2e="base10",ya="base16",iy="base64pad",cq="base64url",Fx="utf8",U2e=0,k2=1,Ck=2,tSt=0,F2e=1,zx=12,lq=32;function nSt(){const t=aq.utils.randomPrivateKey(),e=aq.getPublicKey(t);return{privateKey:Fo(t,ya),publicKey:Fo(e,ya)}}function uq(){const t=v2(lq);return Fo(t,ya)}function rSt(t,e){const n=aq.getSharedSecret(gc(t,ya),gc(e,ya)),r=cAt(Dx,n,void 0,void 0,lq);return Fo(r,ya)}function iSt(t){const e=Dx(gc(t,ya));return Fo(e,ya)}function _k(t){const e=Dx(gc(t,Fx));return Fo(e,ya)}function z2e(t){return gc(`${t}`,B2e)}function sy(t){return Number(Fo(t,B2e))}function W2e(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function q2e(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function sSt(t){const e=z2e(typeof t.type<"u"?t.type:U2e);if(sy(e)===k2&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?gc(t.senderPublicKey,ya):void 0,r=typeof t.iv<"u"?gc(t.iv,ya):v2(zx),i=gc(t.symKey,ya),s=y2e(i,r).encrypt(gc(t.message,Fx)),o=H2e({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===cq?W2e(o):o}function oSt(t){const e=gc(t.symKey,ya),{sealed:n,iv:r}=Wx({encoded:t.encoded,encoding:t.encoding}),i=y2e(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Fo(i,Fx)}function aSt(t,e){const n=z2e(Ck),r=v2(zx),i=gc(t,Fx),s=H2e({type:n,sealed:i,iv:r});return e===cq?W2e(s):s}function cSt(t,e){const{sealed:n}=Wx({encoded:t,encoding:e});return Fo(n,Fx)}function H2e(t){if(sy(t.type)===Ck)return Fo(Px([t.type,t.sealed]),iy);if(sy(t.type)===k2){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Fo(Px([t.type,t.senderPublicKey,t.iv,t.sealed]),iy)}return Fo(Px([t.type,t.iv,t.sealed]),iy)}function Wx(t){const e=(t.encoding||iy)===cq?q2e(t.encoded):t.encoded,n=gc(e,iy),r=n.slice(tSt,F2e),i=F2e;if(sy(r)===k2){const c=i+lq,l=c+zx,u=n.slice(i,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(sy(r)===Ck){const c=n.slice(i),l=v2(zx);return{type:r,sealed:c,iv:l}}const s=i+zx,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function lSt(t,e){const n=Wx({encoded:t,encoding:e==null?void 0:e.encoding});return V2e({type:sy(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Fo(n.senderPublicKey,ya):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function V2e(t){const e=(t==null?void 0:t.type)||U2e;if(e===k2){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function K2e(t){return t.type===k2&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function G2e(t){return t.type===Ck}function uSt(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Px([new Uint8Array([4]),e,n])}function dSt(t,e){const[n,r,i]=t.split("."),s=Buffer.from(q2e(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=Dx(c),u=uSt(e);if(!eSt.verify(Px([o,a]),l,u))throw new Error("Invalid signature");return qv(t).payload}const hSt="irn";function Ak(t){return(t==null?void 0:t.relay)||{protocol:hSt}}function qx(t){const e=yhe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function fSt(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function Z2e(t){if(!t.includes("wc:")){const l=Ybe(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:pSt(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:fSt(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function pSt(t){return t.startsWith("//")?t.substring(2):t}function gSt(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function Y2e(t){const e=new URLSearchParams,n=gSt(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}const mSt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},ySt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function nr(t,e){const{message:n,code:r}=ySt[t];return{message:e?`${n} ${e}`:n,code:r}}function Hx(t,e){const{message:n,code:r}=mSt[t];return{message:e?`${n} ${e}`:n,code:r}}function dq(t){return typeof t>"u"}function J2e(t,e){return typeof t=="string"&&!!t.trim().length}function wSt(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(J2e(t,!1)){if(e(t))return!0;const n=Ybe(t);return e(n)}}catch{}return!1}function vSt(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function bSt(t){return t==null?void 0:t.topic}function hq(t){return typeof t<"u"&&typeof t!==null}function Q2e(){const t=pk();return new Promise(e=>{switch(t){case pd.browser:e(xSt());break;case pd.reactNative:e(ESt());break;case pd.node:e(CSt());break;default:e(!0)}})}function xSt(){return Nx()&&(navigator==null?void 0:navigator.onLine)}async function ESt(){if(ey()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function CSt(){return!0}function _St(t){switch(pk()){case pd.browser:ASt(t);break;case pd.reactNative:SSt(t);break}}function ASt(t){!ey()&&Nx()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function SSt(t){ey()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function ISt(){var t;return Nx()&&ua()?((t=ua())==null?void 0:t.visibilityState)==="visible":!0}var kSt={};const X2e="wc",e3e=2,fq="core",Oh=`${X2e}@2:${fq}:`,$St={logger:"error"},TSt={database:":memory:"},PSt="crypto",t3e="client_ed25519_seed",NSt=le.ONE_DAY,OSt="keychain",RSt="0.3",MSt="messages",jSt="0.3",n3e=le.SIX_HOURS,DSt="publisher",r3e="irn",LSt="error",i3e="wss://relay.walletconnect.org",BSt="relayer",$s={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},USt="_subscription",lu={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},FSt=.1,pq="2.21.0",Kr={link_mode:"link_mode",relay:"relay"},Sk={inbound:"inbound",outbound:"outbound"},zSt="0.3",WSt="WALLETCONNECT_CLIENT_ID",s3e="WALLETCONNECT_LINK_MODE_APPS",cl={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},qSt="subscription",HSt="0.3",VSt="pairing",KSt="0.3",Vx={wc_pairingDelete:{req:{ttl:le.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:le.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:le.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:le.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:le.ONE_DAY,prompt:!1,tag:0},res:{ttl:le.ONE_DAY,prompt:!1,tag:0}}},oy={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},md={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},GSt="history",ZSt="0.3",YSt="expirer",uu={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},JSt="0.3",QSt="verify-api",XSt="https://verify.walletconnect.com",o3e="https://verify.walletconnect.org",Kx=o3e,eIt=`${Kx}/v3`,tIt=[XSt,o3e],nIt="echo",rIt="https://echo.walletconnect.com",Rh={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},yp={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},yd={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},ay={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},cy={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Gx={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},iIt=.1,sIt="event-client",oIt=86400,aIt="https://pulse.walletconnect.org/batch";function cIt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,y=0,w=0,b=g.length;w!==b&&g[w]===0;)w++,m++;for(var v=(b-w)*u+1>>>0,E=new Uint8Array(v);w!==b;){for(var _=g[w],O=0,S=v-1;(_!==0||O<y)&&S!==-1;S--,O++)_+=256*E[S]>>>0,E[S]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");y=O,w++}for(var R=v-y;R!==v&&E[R]===0;)R++;for(var I=c.repeat(m);R<v;++R)I+=t.charAt(E[R]);return I}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var y=0,w=0;g[m]===c;)y++,m++;for(var b=(g.length-m)*l+1>>>0,v=new Uint8Array(b);g[m];){var E=n[g.charCodeAt(m)];if(E===255)return;for(var _=0,O=b-1;(E!==0||_<w)&&O!==-1;O--,_++)E+=a*v[O]>>>0,v[O]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,m++}if(g[m]!==" "){for(var S=b-w;S!==b&&v[S]===0;)S++;for(var R=new Uint8Array(y+(b-S)),I=y;S!==b;)R[I++]=v[S++];return R}}}function f(g){var m=h(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var lIt=cIt,uIt=lIt;const a3e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},dIt=t=>new TextEncoder().encode(t),hIt=t=>new TextDecoder().decode(t);let fIt=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},pIt=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return c3e(this,e)}},gIt=class{constructor(e){this.decoders=e}or(e){return c3e(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const c3e=(t,e)=>new gIt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let mIt=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new fIt(e,n,r),this.decoder=new pIt(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Ik=({name:t,prefix:e,encode:n,decode:r})=>new mIt(t,e,n,r),Zx=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=uIt(n,e);return Ik({prefix:t,name:e,encode:r,decode:s=>a3e(i(s))})},yIt=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},wIt=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},ao=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Ik({prefix:e,name:t,encode(i){return wIt(i,r,n)},decode(i){return yIt(i,r,n,t)}}),vIt=Ik({prefix:"\0",name:"identity",encode:t=>hIt(t),decode:t=>dIt(t)});var bIt=Object.freeze({__proto__:null,identity:vIt});const xIt=ao({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var EIt=Object.freeze({__proto__:null,base2:xIt});const CIt=ao({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var _It=Object.freeze({__proto__:null,base8:CIt});const AIt=Zx({prefix:"9",name:"base10",alphabet:"0123456789"});var SIt=Object.freeze({__proto__:null,base10:AIt});const IIt=ao({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),kIt=ao({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var $It=Object.freeze({__proto__:null,base16:IIt,base16upper:kIt});const TIt=ao({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),PIt=ao({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),NIt=ao({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),OIt=ao({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),RIt=ao({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),MIt=ao({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jIt=ao({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),DIt=ao({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),LIt=ao({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var BIt=Object.freeze({__proto__:null,base32:TIt,base32upper:PIt,base32pad:NIt,base32padupper:OIt,base32hex:RIt,base32hexupper:MIt,base32hexpad:jIt,base32hexpadupper:DIt,base32z:LIt});const UIt=Zx({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),FIt=Zx({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var zIt=Object.freeze({__proto__:null,base36:UIt,base36upper:FIt});const WIt=Zx({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),qIt=Zx({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var HIt=Object.freeze({__proto__:null,base58btc:WIt,base58flickr:qIt});const VIt=ao({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),KIt=ao({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),GIt=ao({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ZIt=ao({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var YIt=Object.freeze({__proto__:null,base64:VIt,base64pad:KIt,base64url:GIt,base64urlpad:ZIt});const l3e=Array.from(""),JIt=l3e.reduce((t,e,n)=>(t[n]=e,t),[]),QIt=l3e.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function XIt(t){return t.reduce((e,n)=>(e+=JIt[n],e),"")}function ekt(t){const e=[];for(const n of t){const r=QIt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const tkt=Ik({prefix:"",name:"base256emoji",encode:XIt,decode:ekt});var nkt=Object.freeze({__proto__:null,base256emoji:tkt}),rkt=d3e,u3e=128,ikt=-128,skt=Math.pow(2,31);function d3e(t,e,n){e=e||[],n=n||0;for(var r=n;t>=skt;)e[n++]=t&255|u3e,t/=128;for(;t&ikt;)e[n++]=t&255|u3e,t>>>=7;return e[n]=t|0,d3e.bytes=n-r+1,e}var okt=gq,akt=128,h3e=127;function gq(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw gq.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&h3e)<<i:(o&h3e)*Math.pow(2,i),i+=7}while(o>=akt);return gq.bytes=s-r,n}var ckt=Math.pow(2,7),lkt=Math.pow(2,14),ukt=Math.pow(2,21),dkt=Math.pow(2,28),hkt=Math.pow(2,35),fkt=Math.pow(2,42),pkt=Math.pow(2,49),gkt=Math.pow(2,56),mkt=Math.pow(2,63),ykt=function(t){return t<ckt?1:t<lkt?2:t<ukt?3:t<dkt?4:t<hkt?5:t<fkt?6:t<pkt?7:t<gkt?8:t<mkt?9:10},wkt={encode:rkt,decode:okt,encodingLength:ykt},f3e=wkt;const p3e=(t,e,n=0)=>(f3e.encode(t,e,n),e),g3e=t=>f3e.encodingLength(t),mq=(t,e)=>{const n=e.byteLength,r=g3e(t),i=r+g3e(n),s=new Uint8Array(i+n);return p3e(t,s,0),p3e(n,s,r),s.set(e,i),new vkt(t,n,e,s)};let vkt=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const m3e=({name:t,code:e,encode:n})=>new bkt(t,e,n);class bkt{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?mq(this.code,n):n.then(r=>mq(this.code,r))}else throw Error("Unknown type, must be binary type")}}const y3e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),xkt=m3e({name:"sha2-256",code:18,encode:y3e("SHA-256")}),Ekt=m3e({name:"sha2-512",code:19,encode:y3e("SHA-512")});var Ckt=Object.freeze({__proto__:null,sha256:xkt,sha512:Ekt});const w3e=0,_kt="identity",v3e=a3e;var Akt=Object.freeze({__proto__:null,identity:{code:w3e,name:_kt,encode:v3e,digest:t=>mq(w3e,v3e(t))}});new TextEncoder,new TextDecoder;const b3e={...bIt,...EIt,..._It,...SIt,...$It,...BIt,...zIt,...HIt,...YIt,...nkt};({...Ckt,...Akt});function Skt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function x3e(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const E3e=x3e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),yq=x3e("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Skt(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Ikt={utf8:E3e,"utf-8":E3e,hex:b3e.base16,latin1:yq,ascii:yq,binary:yq,...b3e};function kkt(t,e="utf8"){const n=Ikt[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var $kt=Object.defineProperty,Tkt=(t,e,n)=>e in t?$kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mh=(t,e,n)=>Tkt(t,typeof e!="symbol"?e+"":e,n);let Pkt=class{constructor(e,n){this.core=e,this.logger=n,Mh(this,"keychain",new Map),Mh(this,"name",OSt),Mh(this,"version",RSt),Mh(this,"initialized",!1),Mh(this,"storagePrefix",Oh),Mh(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Mh(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Mh(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Mh(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=nr("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Mh(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=pa(n,this.name)}get context(){return nc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,DW(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?LW(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=nr("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Nkt=Object.defineProperty,Okt=(t,e,n)=>e in t?Nkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,co=(t,e,n)=>Okt(t,typeof e!="symbol"?e+"":e,n);let Rkt=class{constructor(e,n,r){this.core=e,this.logger=n,co(this,"name",PSt),co(this,"keychain"),co(this,"randomSessionIdentifier",uq()),co(this,"initialized",!1),co(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),co(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),co(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=KA(i);return dB(s.publicKey)}),co(this,"generateKeyPair",()=>{this.isInitialized();const i=nSt();return this.setPrivateKey(i.publicKey,i.privateKey)}),co(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=KA(s),a=this.randomSessionIdentifier;return await uhe(a,i,NSt,o)}),co(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=rSt(a,s);return this.setSymKey(c,o)}),co(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||iSt(i);return await this.keychain.set(o,i),o}),co(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),co(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),co(this,"encode",async(i,s,o)=>{this.isInitialized();const a=V2e(o),c=qa(s);if(G2e(a))return aSt(c,o==null?void 0:o.encoding);if(K2e(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;i=await this.generateSharedKey(h,f)}const l=this.getSymKey(i),{type:u,senderPublicKey:d}=a;return sSt({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),co(this,"decode",async(i,s,o)=>{this.isInitialized();const a=lSt(s,o);if(G2e(a)){const c=cSt(s,o==null?void 0:o.encoding);return Qu(c)}if(K2e(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=oSt({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return Qu(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),co(this,"getPayloadType",(i,s=iy)=>{const o=Wx({encoded:i,encoding:s});return sy(o.type)}),co(this,"getPayloadSenderPublicKey",(i,s=iy)=>{const o=Wx({encoded:i,encoding:s});return o.senderPublicKey?Fo(o.senderPublicKey,ya):void 0}),this.core=e,this.logger=pa(n,this.name),this.keychain=r||new Pkt(this.core,this.logger)}get context(){return nc(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(t3e)}catch{e=uq(),await this.keychain.set(t3e,e)}return kkt(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=nr("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Mkt=Object.defineProperty,jkt=Object.defineProperties,Dkt=Object.getOwnPropertyDescriptors,C3e=Object.getOwnPropertySymbols,Lkt=Object.prototype.hasOwnProperty,Bkt=Object.prototype.propertyIsEnumerable,wq=(t,e,n)=>e in t?Mkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ukt=(t,e)=>{for(var n in e||(e={}))Lkt.call(e,n)&&wq(t,n,e[n]);if(C3e)for(var n of C3e(e))Bkt.call(e,n)&&wq(t,n,e[n]);return t},Fkt=(t,e)=>jkt(t,Dkt(e)),ll=(t,e,n)=>wq(t,typeof e!="symbol"?e+"":e,n);let zkt=class extends BCt{constructor(e,n){super(e,n),this.logger=e,this.core=n,ll(this,"messages",new Map),ll(this,"messagesWithoutClientAck",new Map),ll(this,"name",MSt),ll(this,"version",jSt),ll(this,"initialized",!1),ll(this,"storagePrefix",Oh),ll(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),ll(this,"set",async(r,i,s)=>{this.isInitialized();const o=_k(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===Sk.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Fkt(Ukt({},c),{[o]:i}))}return await this.persist(),o}),ll(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),ll(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),ll(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=_k(i);return typeof s[o]<"u"}),ll(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=_k(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),ll(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=pa(e,this.name),this.core=n}get context(){return nc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,DW(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,DW(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?LW(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?LW(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=nr("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Wkt=Object.defineProperty,qkt=Object.defineProperties,Hkt=Object.getOwnPropertyDescriptors,_3e=Object.getOwnPropertySymbols,Vkt=Object.prototype.hasOwnProperty,Kkt=Object.prototype.propertyIsEnumerable,vq=(t,e,n)=>e in t?Wkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kk=(t,e)=>{for(var n in e||(e={}))Vkt.call(e,n)&&vq(t,n,e[n]);if(_3e)for(var n of _3e(e))Kkt.call(e,n)&&vq(t,n,e[n]);return t},bq=(t,e)=>qkt(t,Hkt(e)),wd=(t,e,n)=>vq(t,typeof e!="symbol"?e+"":e,n);class Gkt extends UCt{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,wd(this,"events",new qi.EventEmitter),wd(this,"name",DSt),wd(this,"queue",new Map),wd(this,"publishTimeout",le.toMiliseconds(le.ONE_MINUTE)),wd(this,"initialPublishTimeout",le.toMiliseconds(le.ONE_SECOND*15)),wd(this,"needsTransportRestart",!1),wd(this,"publish",async(r,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||n3e,c=Ak(s),l=(s==null?void 0:s.prompt)||!1,u=(s==null?void 0:s.tag)||0,d=(s==null?void 0:s.id)||ec().toString(),h={topic:r,message:i,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const g=new Promise(async m=>{const y=({id:b})=>{h.opts.id===b&&(this.removeRequestFromQueue(b),this.relayer.events.removeListener($s.publish,y),m(h))};this.relayer.events.on($s.publish,y);const w=kg(new Promise((b,v)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:l,tag:u,id:d,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(b).catch(E=>{this.logger.warn(E,E==null?void 0:E.message),v(E)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await w,this.events.removeListener($s.publish,y)}catch(b){this.queue.set(d,bq(kk({},h),{attempt:1})),this.logger.warn(b,b==null?void 0:b.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:i,opts:s}}),await kg(g,this.publishTimeout,f)}catch(g){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(g),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw g}finally{this.queue.delete(d)}}),wd(this,"on",(r,i)=>{this.events.on(r,i)}),wd(this,"once",(r,i)=>{this.events.once(r,i)}),wd(this,"off",(r,i)=>{this.events.off(r,i)}),wd(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=pa(n,this.name),this.registerEventListeners()}get context(){return nc(this.logger)}async rpcPublish(e){var n,r,i,s;const{topic:o,message:a,ttl:c=n3e,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,g={method:qx(Ak().protocol).publish,params:kk({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};dq((n=g.params)==null?void 0:n.prompt)&&((r=g.params)==null||delete r.prompt),dq((i=g.params)==null?void 0:i.tag)&&((s=g.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:g});const m=await this.relayer.request(g);return this.relayer.events.emit($s.publish,e),this.logger.debug("Successfully Published Payload"),m}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,bq(kk({},e),{attempt:r}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(bq(kk({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Zc.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit($s.connection_stalled);return}this.checkQueue()}),this.relayer.on($s.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Zkt=Object.defineProperty,Ykt=(t,e,n)=>e in t?Zkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$2=(t,e,n)=>Ykt(t,typeof e!="symbol"?e+"":e,n);class Jkt{constructor(){$2(this,"map",new Map),$2(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),$2(this,"get",e=>this.map.get(e)||[]),$2(this,"exists",(e,n)=>this.get(e).includes(n)),$2(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),$2(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Qkt=Object.defineProperty,Xkt=Object.defineProperties,e$t=Object.getOwnPropertyDescriptors,A3e=Object.getOwnPropertySymbols,t$t=Object.prototype.hasOwnProperty,n$t=Object.prototype.propertyIsEnumerable,xq=(t,e,n)=>e in t?Qkt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yx=(t,e)=>{for(var n in e||(e={}))t$t.call(e,n)&&xq(t,n,e[n]);if(A3e)for(var n of A3e(e))n$t.call(e,n)&&xq(t,n,e[n]);return t},Eq=(t,e)=>Xkt(t,e$t(e)),Ar=(t,e,n)=>xq(t,typeof e!="symbol"?e+"":e,n);let r$t=class extends WCt{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Ar(this,"subscriptions",new Map),Ar(this,"topicMap",new Jkt),Ar(this,"events",new qi.EventEmitter),Ar(this,"name",qSt),Ar(this,"version",HSt),Ar(this,"pending",new Map),Ar(this,"cached",[]),Ar(this,"initialized",!1),Ar(this,"storagePrefix",Oh),Ar(this,"subscribeTimeout",le.toMiliseconds(le.ONE_MINUTE)),Ar(this,"initialSubscribeTimeout",le.toMiliseconds(le.ONE_SECOND*15)),Ar(this,"clientId"),Ar(this,"batchSubscribeTopicsLimit",500),Ar(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Ar(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const s=Ak(i),o={topic:r,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),Ar(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Ar(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Ar(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),Ar(this,"on",(r,i)=>{this.events.on(r,i)}),Ar(this,"once",(r,i)=>{this.events.once(r,i)}),Ar(this,"off",(r,i)=>{this.events.off(r,i)}),Ar(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),Ar(this,"start",async()=>{await this.onConnect()}),Ar(this,"stop",async()=>{await this.onDisconnect()}),Ar(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Ar(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Ar(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Zc.pulse,async()=>{await this.checkPending()}),this.events.on(cl.created,async r=>{const i=cl.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(cl.deleted,async r=>{const i=cl.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=pa(n,this.name),this.clientId=""}get context(){return nc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=Ak(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Hx("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i;(!r||(r==null?void 0:r.transportType)===Kr.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const s={method:qx(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===Kr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(u=>this.logger.warn(u))},le.toMiliseconds(le.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(cl.created,d),u(h.id))};this.events.on(cl.created,d);try{const h=await kg(new Promise((f,g)=>{this.relayer.request(s).catch(m=>{this.logger.warn(m,m==null?void 0:m.message),g(m)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(cl.created,d),u(h)}catch{}}),l=await kg(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit($s.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:qx(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await kg(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit($s.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:qx(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await kg(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit($s.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:qx(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,Eq(Yx({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Yx({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Yx({},n)),this.topicMap.set(n.topic,e),this.events.emit(cl.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=nr("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(cl.deleted,Eq(Yx({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(cl.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(cl.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=nr("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>Eq(Yx({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await y_t(le.toMiliseconds(le.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=nr("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return _k(e+await this.getClientId())}};var i$t=Object.defineProperty,S3e=Object.getOwnPropertySymbols,s$t=Object.prototype.hasOwnProperty,o$t=Object.prototype.propertyIsEnumerable,Cq=(t,e,n)=>e in t?i$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I3e=(t,e)=>{for(var n in e||(e={}))s$t.call(e,n)&&Cq(t,n,e[n]);if(S3e)for(var n of S3e(e))o$t.call(e,n)&&Cq(t,n,e[n]);return t},qn=(t,e,n)=>Cq(t,typeof e!="symbol"?e+"":e,n);let a$t=class extends FCt{constructor(e){super(e),qn(this,"protocol","wc"),qn(this,"version",2),qn(this,"core"),qn(this,"logger"),qn(this,"events",new qi.EventEmitter),qn(this,"provider"),qn(this,"messages"),qn(this,"subscriber"),qn(this,"publisher"),qn(this,"name",BSt),qn(this,"transportExplicitlyClosed",!1),qn(this,"initialized",!1),qn(this,"connectionAttemptInProgress",!1),qn(this,"relayUrl"),qn(this,"projectId"),qn(this,"packageName"),qn(this,"bundleId"),qn(this,"hasExperiencedNetworkDisruption",!1),qn(this,"pingTimeout"),qn(this,"heartBeatTimeout",le.toMiliseconds(le.THIRTY_SECONDS+le.FIVE_SECONDS)),qn(this,"reconnectTimeout"),qn(this,"connectPromise"),qn(this,"reconnectInProgress",!1),qn(this,"requestsInFlight",[]),qn(this,"connectTimeout",le.toMiliseconds(le.ONE_SECOND*15)),qn(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||ec().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),qn(this,"resetPingTimeout",()=>{fk()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),qn(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),qn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit($s.connect)}),qn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),qn(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit($s.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),qn(this,"registerProviderListeners",()=>{this.provider.on(lu.payload,this.onPayloadHandler),this.provider.on(lu.connect,this.onConnectHandler),this.provider.on(lu.disconnect,this.onDisconnectHandler),this.provider.on(lu.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?pa(e.logger,this.name):pb(gb({level:e.logger||LSt})),this.messages=new zkt(this.logger,e.core),this.subscriber=new r$t(this,this.logger),this.publisher=new Gkt(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||i3e,this.projectId=e.projectId,o_t()?this.packageName=qbe():a_t()&&(this.bundleId=qbe()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return nc(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Kr.relay},Sk.outbound)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(cl.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(cl.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,I3e({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await kg(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Q2e())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Ox(le.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit($s.message,e),await this.recordMessageEvent(e,Sk.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(lu.disconnect,s),await kg(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(lu.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(lu.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(lu.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,le.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(fk())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Xr(new e0e(h_t({sdkVersion:pq,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),sb(e)){if(!e.method.endsWith(USt))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:Kr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(I3e({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else A1(e)&&this.events.emit($s.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Sk.inbound),this.events.emit($s.message,e))}async acknowledgePayload(e){const n=Zf(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(lu.payload,this.onPayloadHandler),this.provider.off(lu.connect,this.onConnectHandler),this.provider.off(lu.disconnect,this.onDisconnectHandler),this.provider.off(lu.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Q2e();_St(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Zc.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&ISt())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit($s.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},le.toMiliseconds(FSt)))))}isInitialized(){if(!this.initialized){const{message:e}=nr("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function c$t(){}function k3e(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function $3e(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function T3e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const l$t="[object RegExp]",u$t="[object String]",d$t="[object Number]",h$t="[object Boolean]",P3e="[object Arguments]",f$t="[object Symbol]",p$t="[object Date]",g$t="[object Map]",m$t="[object Set]",y$t="[object Array]",w$t="[object Function]",v$t="[object ArrayBuffer]",_q="[object Object]",b$t="[object Error]",x$t="[object DataView]",E$t="[object Uint8Array]",C$t="[object Uint8ClampedArray]",_$t="[object Uint16Array]",A$t="[object Uint32Array]",S$t="[object BigUint64Array]",I$t="[object Int8Array]",k$t="[object Int16Array]",$$t="[object Int32Array]",T$t="[object BigInt64Array]",P$t="[object Float32Array]",N$t="[object Float64Array]";function O$t(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function R$t(t,e,n){return Jx(t,e,void 0,void 0,void 0,void 0,n)}function Jx(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Qx(t,e,s,o)}return Qx(t,e,s,o)}function Qx(t,e,n,r){if(Object.is(t,e))return!0;let i=T3e(t),s=T3e(e);if(i===P3e&&(i=_q),s===P3e&&(s=_q),i!==s)return!1;switch(i){case u$t:return t.toString()===e.toString();case d$t:{const c=t.valueOf(),l=e.valueOf();return O$t(c,l)}case h$t:case p$t:case f$t:return Object.is(t.valueOf(),e.valueOf());case l$t:return t.source===e.source&&t.flags===e.flags;case w$t:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case g$t:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!Jx(l,e.get(c),c,t,e,n,r))return!1;return!0}case m$t:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>Jx(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case y$t:case E$t:case C$t:case _$t:case A$t:case S$t:case I$t:case k$t:case $$t:case T$t:case P$t:case N$t:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Jx(t[c],e[c],c,t,e,n,r))return!1;return!0}case v$t:return t.byteLength!==e.byteLength?!1:Qx(new Uint8Array(t),new Uint8Array(e),n,r);case x$t:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Qx(new Uint8Array(t),new Uint8Array(e),n,r);case b$t:return t.name===e.name&&t.message===e.message;case _q:{if(!(Qx(t.constructor,e.constructor,n,r)||k3e(t)&&k3e(e)))return!1;const c=[...Object.keys(t),...$3e(t)],l=[...Object.keys(e),...$3e(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!Jx(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function M$t(t,e){return R$t(t,e,c$t)}var j$t=Object.defineProperty,N3e=Object.getOwnPropertySymbols,D$t=Object.prototype.hasOwnProperty,L$t=Object.prototype.propertyIsEnumerable,Aq=(t,e,n)=>e in t?j$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O3e=(t,e)=>{for(var n in e||(e={}))D$t.call(e,n)&&Aq(t,n,e[n]);if(N3e)for(var n of N3e(e))L$t.call(e,n)&&Aq(t,n,e[n]);return t},yc=(t,e,n)=>Aq(t,typeof e!="symbol"?e+"":e,n);let ly=class extends zCt{constructor(e,n,r,i=Oh,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,yc(this,"map",new Map),yc(this,"version",zSt),yc(this,"cached",[]),yc(this,"initialized",!1),yc(this,"getKey"),yc(this,"storagePrefix",Oh),yc(this,"recentlyDeleted",[]),yc(this,"recentlyDeletedLimit",200),yc(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!dq(o)?this.map.set(this.getKey(o),o):vSt(o)?this.map.set(o.id,o):bSt(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),yc(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),yc(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),yc(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>M$t(a[c],o[c]))):this.values)),yc(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=O3e(O3e({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),yc(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=pa(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return nc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=nr("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=nr("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=nr("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=nr("NOT_INITIALIZED",this.name);throw new Error(e)}}};var B$t=Object.defineProperty,U$t=(t,e,n)=>e in t?B$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sn=(t,e,n)=>U$t(t,typeof e!="symbol"?e+"":e,n);let F$t=class{constructor(e,n){this.core=e,this.logger=n,Sn(this,"name",VSt),Sn(this,"version",KSt),Sn(this,"events",new jv),Sn(this,"pairings"),Sn(this,"initialized",!1),Sn(this,"storagePrefix",Oh),Sn(this,"ignoredPayloadTypes",[k2]),Sn(this,"registeredMethods",[]),Sn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Sn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Sn(this,"create",async r=>{this.isInitialized();const i=uq(),s=await this.core.crypto.setSymKey(i),o=Ox(le.FIVE_MINUTES),a={protocol:r3e},c={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=Y2e({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(oy.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType}),{topic:s,uri:l}}),Sn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Rh.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=Z2e(r.uri);i.props.properties.topic=s,i.addTrace(Rh.pairing_uri_validation_success),i.addTrace(Rh.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Rh.existing_pairing),u.active)throw i.setError(yp.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Rh.pairing_not_expired)}const d=c||Ox(le.FIVE_MINUTES),h={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),i.addTrace(Rh.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(oy.create,h),i.addTrace(Rh.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Rh.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(yp.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(f){throw i.setError(yp.subscribe_pairing_topic_failure),f}return i.addTrace(Rh.subscribe_pairing_topic_success),h}),Sn(this,"activate",async({topic:r})=>{this.isInitialized();const i=Ox(le.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Sn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=f_t();this.events.once(BW("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),Sn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Sn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Sn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Sn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Hx("USER_DISCONNECTED")),await this.deletePairing(i))}),Sn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return Y2e({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Sn(this,"sendRequest",async(r,i,s)=>{const o=Ys(i,s),a=await this.core.crypto.encode(r,o),c=Vx[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),Sn(this,"sendResult",async(r,i,s)=>{const o=Zf(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=Vx[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Sn(this,"sendError",async(r,i,s)=>{const o=ib(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=Vx[c]?Vx[c].res:Vx.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Sn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Hx("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Sn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Kbe(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Sn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Sn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Sn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(oy.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Sn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{cs(i)?this.events.emit(BW("pairing_ping",s),{}):mi(i)&&this.events.emit(BW("pairing_ping",s),{error:i.error})},500)}),Sn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(oy.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Sn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Hx("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Sn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Hx("WC_METHOD_UNSUPPORTED",r))}),Sn(this,"isValidPair",(r,i)=>{var s;if(!hq(r)){const{message:a}=nr("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(yp.malformed_pairing_uri),new Error(a)}if(!wSt(r.uri)){const{message:a}=nr("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(yp.malformed_pairing_uri),new Error(a)}const o=Z2e(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=nr("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(yp.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=nr("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(yp.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&le.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(yp.pairing_expired);const{message:a}=nr("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Sn(this,"isValidPing",async r=>{if(!hq(r)){const{message:s}=nr("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Sn(this,"isValidDisconnect",async r=>{if(!hq(r)){const{message:s}=nr("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Sn(this,"isValidPairingTopic",async r=>{if(!J2e(r)){const{message:i}=nr("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=nr("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Kbe(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=nr("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=pa(n,this.name),this.pairings=new ly(this.core,this.logger,this.name,this.storagePrefix)}get context(){return nc(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=nr("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on($s.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Kr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);sb(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):A1(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(uu.expired,async e=>{const{topic:n}=m_t(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(oy.expire,{topic:n}))})}};var z$t=Object.defineProperty,W$t=(t,e,n)=>e in t?z$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lo=(t,e,n)=>W$t(t,typeof e!="symbol"?e+"":e,n);let q$t=class extends LCt{constructor(e,n){super(e,n),this.core=e,this.logger=n,lo(this,"records",new Map),lo(this,"events",new qi.EventEmitter),lo(this,"name",GSt),lo(this,"version",ZSt),lo(this,"cached",[]),lo(this,"initialized",!1),lo(this,"storagePrefix",Oh),lo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),lo(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Ox(le.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(md.created,o)}),lo(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=mi(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(md.updated,i))}),lo(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),lo(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(md.deleted,s)}}),this.persist()}),lo(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),lo(this,"on",(r,i)=>{this.events.on(r,i)}),lo(this,"once",(r,i)=>{this.events.once(r,i)}),lo(this,"off",(r,i)=>{this.events.off(r,i)}),lo(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=pa(n,this.name)}get context(){return nc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Ys(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=nr("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(md.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=nr("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(md.created,e=>{const n=md.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(md.updated,e=>{const n=md.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(md.deleted,e=>{const n=md.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Zc.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{le.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(md.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=nr("NOT_INITIALIZED",this.name);throw new Error(e)}}};var H$t=Object.defineProperty,V$t=(t,e,n)=>e in t?H$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zo=(t,e,n)=>V$t(t,typeof e!="symbol"?e+"":e,n);let K$t=class extends qCt{constructor(e,n){super(e,n),this.core=e,this.logger=n,zo(this,"expirations",new Map),zo(this,"events",new qi.EventEmitter),zo(this,"name",YSt),zo(this,"version",JSt),zo(this,"cached",[]),zo(this,"initialized",!1),zo(this,"storagePrefix",Oh),zo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),zo(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),zo(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(uu.created,{target:s,expiration:o})}),zo(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),zo(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(uu.deleted,{target:i,expiration:s})}}),zo(this,"on",(r,i)=>{this.events.on(r,i)}),zo(this,"once",(r,i)=>{this.events.once(r,i)}),zo(this,"off",(r,i)=>{this.events.off(r,i)}),zo(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=pa(n,this.name)}get context(){return nc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return p_t(e);if(typeof e=="number")return g_t(e);const{message:n}=nr("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(uu.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=nr("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=nr("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;le.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(uu.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Zc.pulse,()=>this.checkExpirations()),this.events.on(uu.created,e=>{const n=uu.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(uu.expired,e=>{const n=uu.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(uu.deleted,e=>{const n=uu.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=nr("NOT_INITIALIZED",this.name);throw new Error(e)}}};var G$t=Object.defineProperty,Z$t=(t,e,n)=>e in t?G$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zi=(t,e,n)=>Z$t(t,typeof e!="symbol"?e+"":e,n);let Y$t=class extends HCt{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Zi(this,"name",QSt),Zi(this,"abortController"),Zi(this,"isDevEnv"),Zi(this,"verifyUrlV3",eIt),Zi(this,"storagePrefix",Oh),Zi(this,"version",e3e),Zi(this,"publicKey"),Zi(this,"fetchPromise"),Zi(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&le.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Zi(this,"register",async i=>{if(!Nx()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=ua(),u=this.startAbortTimer(le.ONE_SECOND*5),d=await new Promise((h,f)=>{const g=()=>{window.removeEventListener("message",y),l.body.removeChild(m),f("attestation aborted")};this.abortController.signal.addEventListener("abort",g);const m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",g,{signal:this.abortController.signal});const y=w=>{if(w.data&&typeof w.data=="string")try{const b=JSON.parse(w.data);if(b.type==="verify_attestation"){if(qv(b.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",g),window.removeEventListener("message",y),h(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};l.body.appendChild(m),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),Zi(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(qv(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),Zi(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(le.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Zi(this,"getVerifyUrl",i=>{let s=i||Kx;return tIt.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Kx}`),s=Kx),s}),Zi(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(le.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Zi(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Zi(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Zi(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Zi(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Zi(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Zi(this,"validateAttestation",(i,s)=>{const o=dSt(i,s.publicKey),a={hasExpired:le.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=pa(n,this.name),this.abortController=new AbortController,this.isDevEnv=Zbe(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return nc(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),le.toMiliseconds(e))}};var J$t=Object.defineProperty,Q$t=(t,e,n)=>e in t?J$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R3e=(t,e,n)=>Q$t(t,typeof e!="symbol"?e+"":e,n);let X$t=class extends VCt{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,R3e(this,"context",nIt),R3e(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${rIt}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=pa(n,this.context)}};var eTt=Object.defineProperty,M3e=Object.getOwnPropertySymbols,tTt=Object.prototype.hasOwnProperty,nTt=Object.prototype.propertyIsEnumerable,Sq=(t,e,n)=>e in t?eTt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xx=(t,e)=>{for(var n in e||(e={}))tTt.call(e,n)&&Sq(t,n,e[n]);if(M3e)for(var n of M3e(e))nTt.call(e,n)&&Sq(t,n,e[n]);return t},Ts=(t,e,n)=>Sq(t,typeof e!="symbol"?e+"":e,n);class rTt extends KCt{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Ts(this,"context",sIt),Ts(this,"storagePrefix",Oh),Ts(this,"storageVersion",iIt),Ts(this,"events",new Map),Ts(this,"shouldPersist",!1),Ts(this,"init",async()=>{if(!Zbe())try{const i={eventId:Gbe(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Hbe(this.core.relayer.protocol,this.core.relayer.version,pq)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Ts(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=Gbe(),u=this.core.projectId||"",d=Date.now(),h=Xx({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),Ts(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Xx(Xx({},a),this.setMethods(a.eventId))}),Ts(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Ts(this,"setEventListeners",()=>{this.core.heartbeat.on(Zc.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{le.fromMiliseconds(Date.now())-le.fromMiliseconds(i.timestamp)>oIt&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Ts(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Ts(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Ts(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Ts(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ts(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Xx(Xx({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Ts(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Ts(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${aIt}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${pq}${s}`,{method:"POST",body:JSON.stringify(i)})}),Ts(this,"getAppDomain",()=>l_t().url),this.logger=pa(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var iTt=Object.defineProperty,j3e=Object.getOwnPropertySymbols,sTt=Object.prototype.hasOwnProperty,oTt=Object.prototype.propertyIsEnumerable,Iq=(t,e,n)=>e in t?iTt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D3e=(t,e)=>{for(var n in e||(e={}))sTt.call(e,n)&&Iq(t,n,e[n]);if(j3e)for(var n of j3e(e))oTt.call(e,n)&&Iq(t,n,e[n]);return t},jr=(t,e,n)=>Iq(t,typeof e!="symbol"?e+"":e,n);const aTt=class vEe extends RCt{constructor(e){var n;super(e),jr(this,"protocol",X2e),jr(this,"version",e3e),jr(this,"name",fq),jr(this,"relayUrl"),jr(this,"projectId"),jr(this,"customStoragePrefix"),jr(this,"events",new qi.EventEmitter),jr(this,"logger"),jr(this,"heartbeat"),jr(this,"relayer"),jr(this,"crypto"),jr(this,"storage"),jr(this,"history"),jr(this,"expirer"),jr(this,"pairing"),jr(this,"verify"),jr(this,"echoClient"),jr(this,"linkModeSupportedApps"),jr(this,"eventClient"),jr(this,"initialized",!1),jr(this,"logChunkController"),jr(this,"on",(a,c)=>this.events.on(a,c)),jr(this,"once",(a,c)=>this.events.once(a,c)),jr(this,"off",(a,c)=>this.events.off(a,c)),jr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),jr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Kr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||i3e,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=gb({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:$St.logger,name:fq}),{logger:s,chunkLoggerController:o}=oge({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=pa(s,this.name),this.heartbeat=new _pe,this.crypto=new Rkt(this,this.logger,e==null?void 0:e.keychain),this.history=new q$t(this,this.logger),this.expirer=new K$t(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new PCt(D3e(D3e({},TSt),e==null?void 0:e.storageOptions)),this.relayer=new a$t({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new F$t(this,this.logger),this.verify=new Y$t(this,this.logger,this.storage),this.echoClient=new X$t(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new rTt(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new vEe(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(WSt,r),n}get context(){return nc(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(s3e,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(s3e)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&kSt.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}},uy={getSIWX(){return Ce.state.siwx},async initializeIfEnabled(){var s;const t=Ce.state.siwx,e=X.getActiveCaipAddress();if(!(t&&e))return;const[n,r,i]=e.split(":");if(X.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,i)).length)return;await tr.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),En.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((s=Ge._getClient())==null?void 0:s.disconnect().catch(console.error)),ze.reset("Connect"),$i.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=Ce.state.siwx,e=Be.getPlainAddress(X.getActiveCaipAddress()),n=X.getActiveCaipNetwork(),r=Ge._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),s=i.toString();Ne.getConnectorId(n.chainNamespace)===Pt.CONNECTOR_ID.AUTH&&ze.pushTransactionStack({});const a=await r.signMessage(s);await t.addSession({data:i,message:s,signature:a}),tr.close(),En.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!tr.state.open||ze.state.view==="ApproveTransaction")&&await tr.open({view:"SIWXSignMessage"}),s.isSmartAccount?$i.showError("This application might not support Smart Accounts"):$i.showError("Signature declined"),En.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await Ge.disconnect():tr.close(),ze.reset("Connect"),En.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=Ce.state.siwx,e=Be.getPlainAddress(X.getActiveCaipAddress()),n=X.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=ze.state.view==="ApproveTransaction",r=ze.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=uy.getSIWX(),i=new Set(e.map(u=>u.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const s=await r.createMessage({chainId:((a=X.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:n,chains:[s.chainId,...e.filter(u=>u!==s.chainId)]});if($i.showLoading("Authenticating...",{autoClose:!1}),_t.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(i)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const h=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||s.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:h,signature:d.s.s,cacao:d}});try{await r.setSessions(u),En.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:uy.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),En.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:uy.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{$i.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=X.state.activeChain;return{network:((e=X.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=_t.state.preferredAccountTypes)==null?void 0:n[t])===Ex.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},L3e={isUnsupportedChainView(){return ze.state.view==="UnsupportedChain"||ze.state.view==="SwitchNetwork"&&ze.state.history.includes("UnsupportedChain")},async safeClose(){if(this.isUnsupportedChainView()){tr.shake();return}if(await uy.isSIWXCloseDisabled()){tr.shake();return}tr.close()}};var cTt=Object.defineProperty,lTt=(t,e,n)=>e in t?cTt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B3e=(t,e,n)=>lTt(t,typeof e!="symbol"?e+"":e,n);let uTt=class{constructor(e){this.opts=e,B3e(this,"protocol","wc"),B3e(this,"version",2)}},dTt=class{constructor(e){this.client=e}};function eE(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function U3e(t){return eE(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const F3e="2.23.2";let tE={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${F3e}`},$k=class CK extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof CK?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof CK&&n.cause.docsPath||n.docsPath,s=(a=tE.getDocsUrl)==null?void 0:a.call(tE,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...tE.version?[`Version: ${tE.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=F3e}walk(e){return z3e(this,e)}};function z3e(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?z3e(t.cause,e):e?null:t}let W3e=class extends $k{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function T2(t,{dir:e,size:n=32}={}){return typeof t=="string"?hTt(t,{dir:e,size:n}):fTt(t,{dir:e,size:n})}function hTt(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new W3e({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function fTt(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new W3e({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let pTt=class extends $k{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},gTt=class extends $k{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function P2(t,{size:e}){if(U3e(t)>e)throw new gTt({givenSize:U3e(t),maxSize:e})}function kq(t,e={}){const{signed:n}=e;e.size&&P2(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function mTt(t,e={}){return Number(kq(t,e))}const yTt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $q(t,e={}){return typeof t=="number"||typeof t=="bigint"?H3e(t,e):typeof t=="string"?bTt(t,e):typeof t=="boolean"?wTt(t,e):q3e(t,e)}function wTt(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(P2(n,{size:e.size}),T2(n,{size:e.size})):n}function q3e(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=yTt[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(P2(r,{size:e.size}),T2(r,{dir:"right",size:e.size})):r}function H3e(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new pTt({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?T2(a,{size:r}):a}const vTt=new TextEncoder;function bTt(t,e={}){const n=vTt.encode(t);return q3e(n,e)}const xTt=new TextEncoder;function ETt(t,e={}){return typeof t=="number"||typeof t=="bigint"?_Tt(t,e):typeof t=="boolean"?CTt(t,e):eE(t)?K3e(t,e):G3e(t,e)}function CTt(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(P2(n,{size:e.size}),T2(n,{size:e.size})):n}const wp={zero:48,nine:57,A:65,F:70,a:97,f:102};function V3e(t){if(t>=wp.zero&&t<=wp.nine)return t-wp.zero;if(t>=wp.A&&t<=wp.F)return t-(wp.A-10);if(t>=wp.a&&t<=wp.f)return t-(wp.a-10)}function K3e(t,e={}){let n=t;e.size&&(P2(n,{size:e.size}),n=T2(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=V3e(r.charCodeAt(a++)),l=V3e(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new $k(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function _Tt(t,e){const n=H3e(t,e);return K3e(n)}function G3e(t,e={}){const n=xTt.encode(t);return typeof e.size=="number"?(P2(n,{size:e.size}),T2(n,{dir:"right",size:e.size})):n}function Z3e(t,e){const n=e||"hex",r=g7t(eE(t,{strict:!1})?ETt(t):t);return n==="bytes"?r:$q(r)}class ATt extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Tq=new ATt(8192);function STt(t,e){if(Tq.has(`${t}.${e}`))return Tq.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Z3e(G3e(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Tq.set(`${t}.${e}`,s),s}function ITt(t){const e=Z3e(`0x${t.substring(4)}`).substring(26);return STt(`0x${e}`)}async function kTt({hash:t,signature:e}){const n=eE(t)?t:$q(t),{secp256k1:r}=await De(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>n_t);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),g=Y3e(f);return new r.Signature(kq(l),kq(u)).addRecoveryBit(g)}const o=eE(e)?e:$q(e),a=mTt(`0x${o.slice(130)}`),c=Y3e(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Y3e(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function $Tt({hash:t,signature:e}){return ITt(await kTt({hash:t,signature:e}))}var TTt={};const PTt=":";function N2(t){const[e,n]=t.split(PTt);return{namespace:e,reference:n}}function J3e(t,e){return t.includes(":")?[t]:e.chains||[]}var NTt=Object.defineProperty,OTt=Object.defineProperties,RTt=Object.getOwnPropertyDescriptors,Q3e=Object.getOwnPropertySymbols,MTt=Object.prototype.hasOwnProperty,jTt=Object.prototype.propertyIsEnumerable,X3e=(t,e,n)=>e in t?NTt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e5e=(t,e)=>{for(var n in e||(e={}))MTt.call(e,n)&&X3e(t,n,e[n]);if(Q3e)for(var n of Q3e(e))jTt.call(e,n)&&X3e(t,n,e[n]);return t},DTt=(t,e)=>OTt(t,RTt(e));const LTt="ReactNative",O2={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function t5e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function n5e(){return!ua()&&!!d1()&&navigator.product===LTt}function r5e(){return!t5e()&&!!d1()&&!!ua()}function BTt(){return n5e()?O2.reactNative:t5e()?O2.node:r5e()?O2.browser:O2.unknown}function UTt(t){var e,n;const r=FTt();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),DTt(e5e(e5e({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function FTt(){return SA()||{name:"",description:"",url:"",icons:[""]}}function dy(t,e){return t.filter(n=>e.includes(n)).length===t.length}function R2(t=le.FIVE_MINUTES,e){const n=le.toMiliseconds(t||le.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function zTt(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function wc(t,e){return le.fromMiliseconds(Date.now()+le.toMiliseconds(t))}function M2(t){return Date.now()>=le.toMiliseconds(t)}function Sr(t,e){return`${t}${e?`:${e}`:""}`}function jh(t=[],e=[]){return[...new Set([...t,...e])]}async function WTt({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=qTt(s,t,e),a=BTt();if(a===O2.browser){if(!((r=ua())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}HTt(o)}else a===O2.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function qTt(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${YTt(r,!0)}`}else i=`${i}/wc?${r}`;return i}function HTt(t){let e="_self";ZTt()?e="_top":(GTt()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function VTt(t,e){let n="";try{if(r5e()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function i5e(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function KTt(){return typeof process<"u"&&TTt.IS_VITEST==="true"}function GTt(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function ZTt(){try{return window.self!==window.top}catch{return!1}}function YTt(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function Tk(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function JTt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function nE(t,...e){if(!JTt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function QTt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Tk(t.outputLen),Tk(t.blockLen)}function j2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function s5e(t,e){nE(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Pk=BigInt(2**32-1),o5e=BigInt(32);function XTt(t,e=!1){return e?{h:Number(t&Pk),l:Number(t>>o5e&Pk)}:{h:Number(t>>o5e&Pk)|0,l:Number(t&Pk)|0}}function ePt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=XTt(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const tPt=(t,e,n)=>t<<n|e>>>32-n,nPt=(t,e,n)=>e<<n|t>>>32-n,rPt=(t,e,n)=>e<<n-32|t>>>64-n,iPt=(t,e,n)=>t<<n-32|e>>>64-n,D2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function sPt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Pq(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Dh(t,e){return t<<32-e|t>>>e}const a5e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function oPt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function c5e(t){for(let e=0;e<t.length;e++)t[e]=oPt(t[e])}function aPt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Nk(t){return typeof t=="string"&&(t=aPt(t)),nE(t),t}function cPt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];nE(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let Nq=class{clone(){return this._cloneInto()}};function l5e(t){const e=r=>t().update(Nk(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function u5e(t=32){if(D2&&typeof D2.getRandomValues=="function")return D2.getRandomValues(new Uint8Array(t));if(D2&&typeof D2.randomBytes=="function")return D2.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const d5e=[],h5e=[],f5e=[],lPt=BigInt(0),rE=BigInt(1),uPt=BigInt(2),dPt=BigInt(7),hPt=BigInt(256),fPt=BigInt(113);for(let t=0,e=rE,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],d5e.push(2*(5*r+n)),h5e.push((t+1)*(t+2)/2%64);let i=lPt;for(let s=0;s<7;s++)e=(e<<rE^(e>>dPt)*fPt)%hPt,e&uPt&&(i^=rE<<(rE<<BigInt(s))-rE);f5e.push(i)}const[pPt,gPt]=ePt(f5e,!0),p5e=(t,e,n)=>n>32?rPt(t,e,n):tPt(t,e,n),g5e=(t,e,n)=>n>32?iPt(t,e,n):nPt(t,e,n);function mPt(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=p5e(l,u,1)^n[a],h=g5e(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=h5e[o],c=p5e(i,s,a),l=g5e(i,s,a),u=d5e[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=pPt[r],t[1]^=gPt[r]}n.fill(0)}class Oq extends Nq{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Tk(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=sPt(this.state)}keccak(){a5e||c5e(this.state32),mPt(this.state32,this.rounds),a5e||c5e(this.state32),this.posOut=0,this.pos=0}update(e){j2(this);const{blockLen:n,state:r}=this;e=Nk(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){j2(this,!1),nE(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Tk(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(s5e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Oq(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const yPt=(t,e,n)=>l5e(()=>new Oq(e,t,n)),wPt=yPt(1,136,256/8),vPt="https://rpc.walletconnect.org/v1";function m5e(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(wPt(n)).toString("hex")}async function bPt(t,e,n,r,i,s){switch(n.t){case"eip191":return await xPt(t,e,n.s);case"eip1271":return await EPt(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function xPt(t,e,n){return(await $Tt({hash:m5e(e),signature:n})).toLowerCase()===t.toLowerCase()}async function EPt(t,e,n,r,i,s){const o=N2(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=n.substring(2),d=m5e(e).substring(2),h=a+d+c+l+u,f=await fetch(`${s||vPt}/?chainId=${r}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:CPt(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:g}=await f.json();return g?g.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function CPt(){return Date.now()+Math.floor(Math.random()*1e3)}function _Pt(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return p1.encode(s)}var APt=Object.defineProperty,SPt=Object.defineProperties,IPt=Object.getOwnPropertyDescriptors,y5e=Object.getOwnPropertySymbols,kPt=Object.prototype.hasOwnProperty,$Pt=Object.prototype.propertyIsEnumerable,w5e=(t,e,n)=>e in t?APt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,TPt=(t,e)=>{for(var n in e||(e={}))kPt.call(e,n)&&w5e(t,n,e[n]);if(y5e)for(var n of y5e(e))$Pt.call(e,n)&&w5e(t,n,e[n]);return t},PPt=(t,e)=>SPt(t,IPt(e));const NPt="did:pkh:",Rq=t=>t==null?void 0:t.split(":"),OPt=t=>{const e=t&&Rq(t);if(e)return t.includes(NPt)?e[3]:e[1]},Mq=t=>{const e=t&&Rq(t);if(e)return e[2]+":"+e[3]},Ok=t=>{const e=t&&Rq(t);if(e)return e.pop()};async function v5e(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=b5e(i,i.iss),o=Ok(i.iss);return await bPt(o,s,r,Mq(i.iss),n)}const b5e=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=Ok(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${OPt(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,g=Rk(t.resources);if(g){const m=iE(g);i=zPt(i,m)}return[n,r,"",i,"",s,o,a,c,l,u,d,h,f].filter(m=>m!=null).join(`
`)};function RPt(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function MPt(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function hy(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function jPt(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:DPt(e,n,r)}}}function DPt(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function x5e(t){return hy(t),`urn:recap:${RPt(t).replace(/=/g,"")}`}function iE(t){const e=MPt(t.replace("urn:recap:",""));return hy(e),e}function LPt(t,e,n){const r=jPt(t,e,n);return x5e(r)}function BPt(t){return t&&t.includes("urn:recap:")}function UPt(t,e){const n=iE(t),r=iE(e),i=FPt(n,r);return x5e(i)}function FPt(t,e){hy(t),hy(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=PPt(TPt({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function zPt(t="",e){hy(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function E5e(t){var e;const n=iE(t);hy(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function C5e(t){const e=iE(t);hy(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function Rk(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return BPt(e)?e:void 0}function jq(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function _5e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ul(t,...e){if(!_5e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function A5e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function WPt(t,e){ul(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function S5e(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Ng=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),qPt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");function HPt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Dq(t){if(typeof t=="string")t=HPt(t);else if(_5e(t))t=Lq(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function VPt(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function KPt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const GPt=(t,e)=>{function n(r,...i){if(ul(r),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?ul(l):ul(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&ul(i[1]);const o=e(r,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");ul(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ul(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(ul(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function I5e(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!ZPt(e))throw new Error("invalid output, must be aligned");return e}function k5e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function ZPt(t){return t.byteOffset%4===0}function Lq(t){return Uint8Array.from(t)}function L2(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const $5e=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),YPt=$5e("expand 16-byte k"),JPt=$5e("expand 32-byte k"),QPt=Ng(YPt),XPt=Ng(JPt);function Hn(t,e){return t<<e|t>>>32-e}function Bq(t){return t.byteOffset%4===0}const Mk=64,eNt=16,T5e=2**32-1,P5e=new Uint32Array;function tNt(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(Mk),u=Ng(l),d=Bq(i)&&Bq(s),h=d?Ng(i):P5e,f=d?Ng(s):P5e;for(let g=0;g<c;o++){if(t(e,n,r,u,o,a),o>=T5e)throw new Error("arx: counter overflow");const m=Math.min(Mk,c-g);if(d&&m===Mk){const y=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let w=0,b;w<eNt;w++)b=y+w,f[b]=h[b]^u[w];g+=Mk;continue}for(let y=0,w;y<m;y++)w=g+y,s[w]=i[w]^l[y];g+=m}}function nNt(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=VPt({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return jq(i),jq(o),S5e(s),S5e(n),(a,c,l,u,d=0)=>{ul(a),ul(c),ul(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),ul(u),jq(d),d<0||d>=T5e)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let g=a.length,m,y;if(g===32)f.push(m=Lq(a)),y=XPt;else if(g===16&&n)m=new Uint8Array(32),m.set(a),m.set(a,16),y=QPt,f.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);Bq(c)||f.push(c=Lq(c));const w=Ng(m);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,w,Ng(c.subarray(0,16)),w),c=c.subarray(16)}const b=16-i;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const E=new Uint8Array(12);E.set(c,s?0:12-c.length),c=E,f.push(c)}const v=Ng(c);return tNt(t,y,w,v,l,u,d,o),L2(...f),u}}const uo=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class rNt{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Dq(e),ul(e,32);const n=uo(e,0),r=uo(e,2),i=uo(e,4),s=uo(e,6),o=uo(e,8),a=uo(e,10),c=uo(e,12),l=uo(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=uo(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],g=o[7],m=o[8],y=o[9],w=uo(e,n+0),b=uo(e,n+2),v=uo(e,n+4),E=uo(e,n+6),_=uo(e,n+8),O=uo(e,n+10),S=uo(e,n+12),R=uo(e,n+14);let I=s[0]+(w&8191),D=s[1]+((w>>>13|b<<3)&8191),j=s[2]+((b>>>10|v<<6)&8191),F=s[3]+((v>>>7|E<<9)&8191),M=s[4]+((E>>>4|_<<12)&8191),C=s[5]+(_>>>1&8191),x=s[6]+((_>>>14|O<<2)&8191),A=s[7]+((O>>>11|S<<5)&8191),P=s[8]+((S>>>8|R<<8)&8191),N=s[9]+(R>>>5|i),$=0,L=$+I*a+D*(5*y)+j*(5*m)+F*(5*g)+M*(5*f);$=L>>>13,L&=8191,L+=C*(5*h)+x*(5*d)+A*(5*u)+P*(5*l)+N*(5*c),$+=L>>>13,L&=8191;let B=$+I*c+D*a+j*(5*y)+F*(5*m)+M*(5*g);$=B>>>13,B&=8191,B+=C*(5*f)+x*(5*h)+A*(5*d)+P*(5*u)+N*(5*l),$+=B>>>13,B&=8191;let T=$+I*l+D*c+j*a+F*(5*y)+M*(5*m);$=T>>>13,T&=8191,T+=C*(5*g)+x*(5*f)+A*(5*h)+P*(5*d)+N*(5*u),$+=T>>>13,T&=8191;let z=$+I*u+D*l+j*c+F*a+M*(5*y);$=z>>>13,z&=8191,z+=C*(5*m)+x*(5*g)+A*(5*f)+P*(5*h)+N*(5*d),$+=z>>>13,z&=8191;let q=$+I*d+D*u+j*l+F*c+M*a;$=q>>>13,q&=8191,q+=C*(5*y)+x*(5*m)+A*(5*g)+P*(5*f)+N*(5*h),$+=q>>>13,q&=8191;let U=$+I*h+D*d+j*u+F*l+M*c;$=U>>>13,U&=8191,U+=C*a+x*(5*y)+A*(5*m)+P*(5*g)+N*(5*f),$+=U>>>13,U&=8191;let V=$+I*f+D*h+j*d+F*u+M*l;$=V>>>13,V&=8191,V+=C*c+x*a+A*(5*y)+P*(5*m)+N*(5*g),$+=V>>>13,V&=8191;let Z=$+I*g+D*f+j*h+F*d+M*u;$=Z>>>13,Z&=8191,Z+=C*l+x*c+A*a+P*(5*y)+N*(5*m),$+=Z>>>13,Z&=8191;let K=$+I*m+D*g+j*f+F*h+M*d;$=K>>>13,K&=8191,K+=C*u+x*l+A*c+P*a+N*(5*y),$+=K>>>13,K&=8191;let J=$+I*y+D*m+j*g+F*f+M*h;$=J>>>13,J&=8191,J+=C*d+x*u+A*l+P*c+N*a,$+=J>>>13,J&=8191,$=($<<2)+$|0,$=$+L|0,L=$&8191,$=$>>>13,B+=$,s[0]=L,s[1]=B,s[2]=T,s[3]=z,s[4]=q,s[5]=U,s[6]=V,s[7]=Z,s[8]=K,s[9]=J}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;L2(r)}update(e){A5e(this);const{buffer:n,blockLen:r}=this;e=Dq(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){L2(this.h,this.r,this.buffer,this.pad)}digestInto(e){A5e(this),WPt(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function iNt(t){const e=(r,i)=>t(i).update(Dq(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const sNt=iNt(t=>new rNt(t));function oNt(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],g=e[4],m=e[5],y=e[6],w=e[7],b=i,v=n[0],E=n[1],_=n[2],O=o,S=a,R=c,I=l,D=u,j=d,F=h,M=f,C=g,x=m,A=y,P=w,N=b,$=v,L=E,B=_;for(let z=0;z<s;z+=2)O=O+D|0,N=Hn(N^O,16),C=C+N|0,D=Hn(D^C,12),O=O+D|0,N=Hn(N^O,8),C=C+N|0,D=Hn(D^C,7),S=S+j|0,$=Hn($^S,16),x=x+$|0,j=Hn(j^x,12),S=S+j|0,$=Hn($^S,8),x=x+$|0,j=Hn(j^x,7),R=R+F|0,L=Hn(L^R,16),A=A+L|0,F=Hn(F^A,12),R=R+F|0,L=Hn(L^R,8),A=A+L|0,F=Hn(F^A,7),I=I+M|0,B=Hn(B^I,16),P=P+B|0,M=Hn(M^P,12),I=I+M|0,B=Hn(B^I,8),P=P+B|0,M=Hn(M^P,7),O=O+j|0,B=Hn(B^O,16),A=A+B|0,j=Hn(j^A,12),O=O+j|0,B=Hn(B^O,8),A=A+B|0,j=Hn(j^A,7),S=S+F|0,N=Hn(N^S,16),P=P+N|0,F=Hn(F^P,12),S=S+F|0,N=Hn(N^S,8),P=P+N|0,F=Hn(F^P,7),R=R+M|0,$=Hn($^R,16),C=C+$|0,M=Hn(M^C,12),R=R+M|0,$=Hn($^R,8),C=C+$|0,M=Hn(M^C,7),I=I+D|0,L=Hn(L^I,16),x=x+L|0,D=Hn(D^x,12),I=I+D|0,L=Hn(L^I,8),x=x+L|0,D=Hn(D^x,7);let T=0;r[T++]=o+O|0,r[T++]=a+S|0,r[T++]=c+R|0,r[T++]=l+I|0,r[T++]=u+D|0,r[T++]=d+j|0,r[T++]=h+F|0,r[T++]=f+M|0,r[T++]=g+C|0,r[T++]=m+x|0,r[T++]=y+A|0,r[T++]=w+P|0,r[T++]=b+N|0,r[T++]=v+$|0,r[T++]=E+L|0,r[T++]=_+B|0}const aNt=nNt(oNt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),cNt=new Uint8Array(16),N5e=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(cNt.subarray(n))},lNt=new Uint8Array(32);function O5e(t,e,n,r,i){const s=t(e,n,lNt),o=sNt.create(s);i&&N5e(o,i),N5e(o,r);const a=new Uint8Array(16),c=qPt(a);k5e(c,0,BigInt(i?i.length:0),!0),k5e(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return L2(s,a),l}GPt({blockSize:64,nonceLength:12,tagLength:16},(t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=I5e(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=O5e(t,e,n,a,r);return s.set(c,o),L2(c),s},decrypt(i,s){s=I5e(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=O5e(t,e,n,o,r);if(!KPt(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),L2(c),s}}))(aNt));class R5e extends Nq{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,QTt(e);const r=Nk(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return j2(this),this.iHash.update(e),this}digestInto(e){j2(this),nE(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const M5e=(t,e,n)=>new R5e(t,e).update(n).digest();M5e.create=(t,e)=>new R5e(t,e);function uNt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function dNt(t,e,n){return t&e^~t&n}function hNt(t,e,n){return t&e^t&n^e&n}let fNt=class extends Nq{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Pq(this.buffer)}update(e){j2(this);const{view:n,buffer:r,blockLen:i}=this;e=Nk(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Pq(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){j2(this),s5e(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;uNt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Pq(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const pNt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Og=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rg=new Uint32Array(64);class gNt extends fNt{constructor(){super(64,32,8,!1),this.A=Og[0]|0,this.B=Og[1]|0,this.C=Og[2]|0,this.D=Og[3]|0,this.E=Og[4]|0,this.F=Og[5]|0,this.G=Og[6]|0,this.H=Og[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Rg[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Rg[d-15],f=Rg[d-2],g=Dh(h,7)^Dh(h,18)^h>>>3,m=Dh(f,17)^Dh(f,19)^f>>>10;Rg[d]=m+Rg[d-7]+g+Rg[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Dh(a,6)^Dh(a,11)^Dh(a,25),f=u+h+dNt(a,c,l)+pNt[d]+Rg[d]|0,g=(Dh(r,2)^Dh(r,13)^Dh(r,22))+hNt(r,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=r,r=f+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Rg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Uq=l5e(()=>new gNt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jk=BigInt(0),Dk=BigInt(1),mNt=BigInt(2);function fy(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sE(t){if(!fy(t))throw new Error("Uint8Array expected")}function B2(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const yNt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function U2(t){sE(t);let e="";for(let n=0;n<t.length;n++)e+=yNt[t[n]];return e}function F2(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Fq(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?jk:BigInt("0x"+t)}const vp={_0:48,_9:57,A:65,F:70,a:97,f:102};function j5e(t){if(t>=vp._0&&t<=vp._9)return t-vp._0;if(t>=vp.A&&t<=vp.F)return t-(vp.A-10);if(t>=vp.a&&t<=vp.f)return t-(vp.a-10)}function z2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=j5e(t.charCodeAt(s)),a=j5e(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function py(t){return Fq(U2(t))}function oE(t){return sE(t),Fq(U2(Uint8Array.from(t).reverse()))}function W2(t,e){return z2(t.toString(16).padStart(e*2,"0"))}function Lk(t,e){return W2(t,e).reverse()}function wNt(t){return z2(F2(t))}function dl(t,e,n){let r;if(typeof e=="string")try{r=z2(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(fy(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function aE(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];sE(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function vNt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function bNt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const zq=t=>typeof t=="bigint"&&jk<=t;function Bk(t,e,n){return zq(t)&&zq(e)&&zq(n)&&e<=t&&t<n}function bp(t,e,n,r){if(!Bk(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function D5e(t){let e;for(e=0;t>jk;t>>=Dk,e+=1);return e}function xNt(t,e){return t>>BigInt(e)&Dk}function ENt(t,e,n){return t|(n?Dk:jk)<<BigInt(e)}const Wq=t=>(mNt<<BigInt(t-1))-Dk,qq=t=>new Uint8Array(t),L5e=t=>Uint8Array.from(t);function B5e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=qq(t),i=qq(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...u)=>n(i,r,...u),c=(u=qq())=>{i=a(L5e([0]),u),r=a(),u.length!==0&&(i=a(L5e([1]),u),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<e;){r=a();const h=r.slice();d.push(h),u+=r.length}return aE(...d)};return(u,d)=>{o(),c(u);let h;for(;!(h=d(l()));)c();return o(),h}}const CNt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||fy(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function q2(t,e,n={}){const r=(i,s,o)=>{const a=CNt[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const _Nt=()=>{throw new Error("not implemented")};function Hq(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}var ANt=Object.freeze({__proto__:null,isBytes:fy,abytes:sE,abool:B2,bytesToHex:U2,numberToHexUnpadded:F2,hexToNumber:Fq,hexToBytes:z2,bytesToNumberBE:py,bytesToNumberLE:oE,numberToBytesBE:W2,numberToBytesLE:Lk,numberToVarBytesBE:wNt,ensureBytes:dl,concatBytes:aE,equalBytes:vNt,utf8ToBytes:bNt,inRange:Bk,aInRange:bp,bitLen:D5e,bitGet:xNt,bitSet:ENt,bitMask:Wq,createHmacDrbg:B5e,validateObject:q2,notImplemented:_Nt,memoized:Hq});const Ps=BigInt(0),Ni=BigInt(1),gy=BigInt(2),SNt=BigInt(3),Vq=BigInt(4),U5e=BigInt(5),F5e=BigInt(8);function vc(t,e){const n=t%e;return n>=Ps?n:e+n}function z5e(t,e,n){if(e<Ps)throw new Error("invalid exponent, negatives unsupported");if(n<=Ps)throw new Error("invalid modulus");if(n===Ni)return Ps;let r=Ni;for(;e>Ps;)e&Ni&&(r=r*t%n),t=t*t%n,e>>=Ni;return r}function vd(t,e,n){let r=t;for(;e-- >Ps;)r*=r,r%=n;return r}function Kq(t,e){if(t===Ps)throw new Error("invert: expected non-zero number");if(e<=Ps)throw new Error("invert: expected positive modulus, got "+e);let n=vc(t,e),r=e,i=Ps,s=Ni;for(;n!==Ps;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==Ni)throw new Error("invert: does not exist");return vc(i,e)}function INt(t){const e=(t-Ni)/gy;let n,r,i;for(n=t-Ni,r=0;n%gy===Ps;n/=gy,r++);for(i=gy;i<t&&z5e(i,e,t)!==t-Ni;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Ni)/Vq;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+Ni)/gy;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let g=o.sqr(d);h<c&&!o.eql(g,o.ONE);h++)g=o.sqr(g);const f=o.pow(l,Ni<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function kNt(t){if(t%Vq===SNt){const e=(t+Ni)/Vq;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%F5e===U5e){const e=(t-U5e)/F5e;return function(n,r){const i=n.mul(r,gy),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,gy),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return INt(t)}const $Nt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function TNt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=$Nt.reduce((r,i)=>(r[i]="function",r),e);return q2(t,n)}function PNt(t,e,n){if(n<Ps)throw new Error("invalid exponent, negatives unsupported");if(n===Ps)return t.ONE;if(n===Ni)return e;let r=t.ONE,i=e;for(;n>Ps;)n&Ni&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ni;return r}function NNt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function W5e(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function q5e(t,e,n=!1,r={}){if(t<=Ps)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=W5e(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Wq(i),ZERO:Ps,ONE:Ni,create:c=>vc(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ps<=c&&c<t},is0:c=>c===Ps,isOdd:c=>(c&Ni)===Ni,neg:c=>vc(-c,t),eql:(c,l)=>c===l,sqr:c=>vc(c*c,t),add:(c,l)=>vc(c+l,t),sub:(c,l)=>vc(c-l,t),mul:(c,l)=>vc(c*l,t),pow:(c,l)=>PNt(a,c,l),div:(c,l)=>vc(c*Kq(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Kq(c,t),sqrt:r.sqrt||(c=>(o||(o=kNt(t)),o(a,c))),invertBatch:c=>NNt(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?Lk(c,s):W2(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?oE(c):py(c)}});return Object.freeze(a)}function H5e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function V5e(t){const e=H5e(t);return e+Math.ceil(e/2)}function ONt(t,e,n=!1){const r=t.length,i=H5e(e),s=V5e(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?oE(t):py(t),a=vc(o,e-Ni)+Ni;return n?Lk(a,i):W2(a,i)}const K5e=BigInt(0),Uk=BigInt(1);function Gq(t,e){const n=e.negate();return t?n:e}function G5e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Zq(t,e){G5e(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function RNt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function MNt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Yq=new WeakMap,Z5e=new WeakMap;function Jq(t){return Z5e.get(t)||1}function jNt(t,e){return{constTimeNegate:Gq,hasPrecomputes(n){return Jq(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>K5e;)r&Uk&&(i=i.add(s)),s=s.double(),r>>=Uk;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Zq(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=Zq(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const f=h*o;let g=Number(i&l);i>>=d,g>o&&(g-=u,i+=Uk);const m=f,y=f+Math.abs(g)-1,w=h%2!==0,b=g<0;g===0?c=c.add(Gq(w,r[m])):a=a.add(Gq(b,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=Zq(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===K5e)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=Uk),f===0)continue;let g=r[h+Math.abs(f)-1];f<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(n,r,i){let s=Yq.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Yq.set(r,i(s))),s},wNAFCached(n,r,i){const s=Jq(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Jq(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){G5e(r,e),Z5e.set(n,r),Yq.delete(n)}}}function DNt(t,e,n,r){if(RNt(n,t),MNt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=D5e(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let f=0;f<r.length;f++){const g=r[f],m=Number(g>>BigInt(d)&BigInt(a));c[m]=c[m].add(n[f])}let h=i;for(let f=c.length-1,g=i;f>0;f--)g=g.add(c[f]),h=h.add(g);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function Y5e(t){return TNt(t.Fp),q2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...W5e(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const H2=BigInt(0),Qq=BigInt(1);function LNt(t){return q2(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function BNt(t){const e=LNt(t),{P:n}=e,r=b=>vc(b,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(b=>b),c=e.powPminus2||(b=>z5e(b,n-BigInt(2),n));function l(b,v,E){const _=r(b*(v-E));return v=r(v-_),E=r(E+_),[v,E]}const u=(e.a-BigInt(2))/BigInt(4);function d(b,v){bp("u",b,H2,n),bp("scalar",v,H2,n);const E=v,_=b;let O=Qq,S=H2,R=b,I=Qq,D=H2,j;for(let M=BigInt(i-1);M>=H2;M--){const C=E>>M&Qq;D^=C,j=l(D,O,R),O=j[0],R=j[1],j=l(D,S,I),S=j[0],I=j[1],D=C;const x=O+S,A=r(x*x),P=O-S,N=r(P*P),$=A-N,L=R+I,B=R-I,T=r(B*x),z=r(L*P),q=T+z,U=T-z;R=r(q*q),I=r(_*r(U*U)),O=r(A*N),S=r($*(A+r(u*$)))}j=l(D,O,R),O=j[0],R=j[1],j=l(D,S,I),S=j[0],I=j[1];const F=c(S);return r(O*F)}function h(b){return Lk(r(b),s)}function f(b){const v=dl("u coordinate",b,s);return o===32&&(v[31]&=127),oE(v)}function g(b){const v=dl("scalar",b),E=v.length;if(E!==s&&E!==o){let _=""+s+" or "+o;throw new Error("invalid scalar, expected "+_+" bytes, got "+E)}return oE(a(v))}function m(b,v){const E=f(v),_=g(b),O=d(E,_);if(O===H2)throw new Error("invalid private or public key received");return h(O)}const y=h(e.Gu);function w(b){return m(b,y)}return{scalarMult:m,scalarMultBase:w,getSharedSecret:(b,v)=>m(b,v),getPublicKey:b=>w(b),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:y}}const Xq=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const UNt=BigInt(1),J5e=BigInt(2),FNt=BigInt(3),zNt=BigInt(5);BigInt(8);function WNt(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Xq,o=t*t%s*t%s,a=vd(o,J5e,s)*o%s,c=vd(a,UNt,s)*t%s,l=vd(c,zNt,s)*c%s,u=vd(l,e,s)*l%s,d=vd(u,n,s)*u%s,h=vd(d,r,s)*d%s,f=vd(h,i,s)*h%s,g=vd(f,i,s)*h%s,m=vd(g,e,s)*l%s;return{pow_p_5_8:vd(m,J5e,s)*t%s,b2:o}}function qNt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}BNt({P:Xq,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=Xq,{pow_p_5_8:n,b2:r}=WNt(t);return vc(vd(n,FNt,e)*r,e)},adjustScalarBytes:qNt,randomBytes:u5e});function Q5e(t){t.lowS!==void 0&&B2("lowS",t.lowS),t.prehash!==void 0&&B2("prehash",t.prehash)}function HNt(t){const e=Y5e(t);q2(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:VNt,hexToBytes:KNt}=ANt;class GNt extends Error{constructor(e=""){super(e)}}const xp={Err:GNt,_tlv:{encode:(t,e)=>{const{Err:n}=xp;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=F2(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?F2(i.length/2|128):"";return F2(t)+s+i+e},decode(t,e){const{Err:n}=xp;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=xp;if(t<Ep)throw new e("integer: negative integers are not allowed");let n=F2(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=xp;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return VNt(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=xp,i=typeof t=="string"?KNt(t):t;sE(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=xp,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Ep=BigInt(0),Ns=BigInt(1);BigInt(2);const X5e=BigInt(3);BigInt(4);function ZNt(t){const e=HNt(t),{Fp:n}=e,r=q5e(e.n,e.nBitLength),i=e.toBytes||((m,y,w)=>{const b=y.toAffine();return aE(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),s=e.fromBytes||(m=>{const y=m.subarray(1),w=n.fromBytes(y.subarray(0,n.BYTES)),b=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:w,y:b}});function o(m){const{a:y,b:w}=e,b=n.sqr(m),v=n.mul(b,m);return n.add(n.add(v,n.mul(m,y)),w)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return Bk(m,Ns,e.n)}function c(m){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:b,n:v}=e;if(y&&typeof m!="bigint"){if(fy(m)&&(m=U2(m)),typeof m!="string"||!y.includes(m.length))throw new Error("invalid private key");m=m.padStart(w*2,"0")}let E;try{E=typeof m=="bigint"?m:py(dl("private key",m,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof m)}return b&&(E=vc(E,v)),bp("private key",E,Ns,v),E}function l(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}const u=Hq((m,y)=>{const{px:w,py:b,pz:v}=m;if(n.eql(v,n.ONE))return{x:w,y:b};const E=m.is0();y==null&&(y=E?n.ONE:n.inv(v));const _=n.mul(w,y),O=n.mul(b,y),S=n.mul(v,y);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:_,y:O}}),d=Hq(m=>{if(m.is0()){if(e.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=m.toAffine();if(!n.isValid(y)||!n.isValid(w))throw new Error("bad point: x or y not FE");const b=n.sqr(w),v=o(y);if(!n.eql(b,v))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(y,w,b){if(this.px=y,this.py=w,this.pz=b,y==null||!n.isValid(y))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(y){const{x:w,y:b}=y||{};if(!y||!n.isValid(w)||!n.isValid(b))throw new Error("invalid affine point");if(y instanceof h)throw new Error("projective point not allowed");const v=E=>n.eql(E,n.ZERO);return v(w)&&v(b)?h.ZERO:new h(w,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=n.invertBatch(y.map(b=>b.pz));return y.map((b,v)=>b.toAffine(w[v])).map(h.fromAffine)}static fromHex(y){const w=h.fromAffine(s(dl("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return h.BASE.multiply(c(y))}static msm(y,w){return DNt(h,r,y,w)}_setWindowSize(y){g.setWindowSize(this,y)}assertValidity(){d(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:w,py:b,pz:v}=this,{px:E,py:_,pz:O}=y,S=n.eql(n.mul(w,O),n.mul(E,v)),R=n.eql(n.mul(b,O),n.mul(_,v));return S&&R}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:w}=e,b=n.mul(w,X5e),{px:v,py:E,pz:_}=this;let O=n.ZERO,S=n.ZERO,R=n.ZERO,I=n.mul(v,v),D=n.mul(E,E),j=n.mul(_,_),F=n.mul(v,E);return F=n.add(F,F),R=n.mul(v,_),R=n.add(R,R),O=n.mul(y,R),S=n.mul(b,j),S=n.add(O,S),O=n.sub(D,S),S=n.add(D,S),S=n.mul(O,S),O=n.mul(F,O),R=n.mul(b,R),j=n.mul(y,j),F=n.sub(I,j),F=n.mul(y,F),F=n.add(F,R),R=n.add(I,I),I=n.add(R,I),I=n.add(I,j),I=n.mul(I,F),S=n.add(S,I),j=n.mul(E,_),j=n.add(j,j),I=n.mul(j,F),O=n.sub(O,I),R=n.mul(j,D),R=n.add(R,R),R=n.add(R,R),new h(O,S,R)}add(y){l(y);const{px:w,py:b,pz:v}=this,{px:E,py:_,pz:O}=y;let S=n.ZERO,R=n.ZERO,I=n.ZERO;const D=e.a,j=n.mul(e.b,X5e);let F=n.mul(w,E),M=n.mul(b,_),C=n.mul(v,O),x=n.add(w,b),A=n.add(E,_);x=n.mul(x,A),A=n.add(F,M),x=n.sub(x,A),A=n.add(w,v);let P=n.add(E,O);return A=n.mul(A,P),P=n.add(F,C),A=n.sub(A,P),P=n.add(b,v),S=n.add(_,O),P=n.mul(P,S),S=n.add(M,C),P=n.sub(P,S),I=n.mul(D,A),S=n.mul(j,C),I=n.add(S,I),S=n.sub(M,I),I=n.add(M,I),R=n.mul(S,I),M=n.add(F,F),M=n.add(M,F),C=n.mul(D,C),A=n.mul(j,A),M=n.add(M,C),C=n.sub(F,C),C=n.mul(D,C),A=n.add(A,C),F=n.mul(M,A),R=n.add(R,F),F=n.mul(P,A),S=n.mul(x,S),S=n.sub(S,F),F=n.mul(x,M),I=n.mul(P,I),I=n.add(I,F),new h(S,R,I)}subtract(y){return this.add(y.negate())}is0(){return this.equals(h.ZERO)}wNAF(y){return g.wNAFCached(this,y,h.normalizeZ)}multiplyUnsafe(y){const{endo:w,n:b}=e;bp("scalar",y,Ep,b);const v=h.ZERO;if(y===Ep)return v;if(this.is0()||y===Ns)return this;if(!w||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,y,h.normalizeZ);let{k1neg:E,k1:_,k2neg:O,k2:S}=w.splitScalar(y),R=v,I=v,D=this;for(;_>Ep||S>Ep;)_&Ns&&(R=R.add(D)),S&Ns&&(I=I.add(D)),D=D.double(),_>>=Ns,S>>=Ns;return E&&(R=R.negate()),O&&(I=I.negate()),I=new h(n.mul(I.px,w.beta),I.py,I.pz),R.add(I)}multiply(y){const{endo:w,n:b}=e;bp("scalar",y,Ns,b);let v,E;if(w){const{k1neg:_,k1:O,k2neg:S,k2:R}=w.splitScalar(y);let{p:I,f:D}=this.wNAF(O),{p:j,f:F}=this.wNAF(R);I=g.constTimeNegate(_,I),j=g.constTimeNegate(S,j),j=new h(n.mul(j.px,w.beta),j.py,j.pz),v=I.add(j),E=D.add(F)}else{const{p:_,f:O}=this.wNAF(y);v=_,E=O}return h.normalizeZ([v,E])[0]}multiplyAndAddUnsafe(y,w,b){const v=h.BASE,E=(O,S)=>S===Ep||S===Ns||!O.equals(v)?O.multiplyUnsafe(S):O.multiply(S),_=E(this,w).add(E(y,b));return _.is0()?void 0:_}toAffine(y){return u(this,y)}isTorsionFree(){const{h:y,isTorsionFree:w}=e;if(y===Ns)return!0;if(w)return w(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=e;return y===Ns?this:w?w(h,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return B2("isCompressed",y),this.assertValidity(),i(h,this,y)}toHex(y=!0){return B2("isCompressed",y),U2(this.toRawBytes(y))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,g=jNt(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function YNt(t){const e=Y5e(t);return q2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function JNt(t){const e=YNt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(C){return vc(C,r)}function a(C){return Kq(C,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=ZNt({...e,toBytes(C,x,A){const P=x.toAffine(),N=n.toBytes(P.x),$=aE;return B2("isCompressed",A),A?$(Uint8Array.from([x.hasEvenY()?2:3]),N):$(Uint8Array.from([4]),N,n.toBytes(P.y))},fromBytes(C){const x=C.length,A=C[0],P=C.subarray(1);if(x===i&&(A===2||A===3)){const N=py(P);if(!Bk(N,Ns,n.ORDER))throw new Error("Point is not on curve");const $=u(N);let L;try{L=n.sqrt($)}catch(T){const z=T instanceof Error?": "+T.message:"";throw new Error("Point is not on curve"+z)}const B=(L&Ns)===Ns;return(A&1)===1!==B&&(L=n.neg(L)),{x:N,y:L}}else if(x===s&&A===4){const N=n.fromBytes(P.subarray(0,n.BYTES)),$=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:N,y:$}}else{const N=i,$=s;throw new Error("invalid Point, expected length of "+N+", or uncompressed "+$+", got "+x)}}}),h=C=>U2(W2(C,e.nByteLength));function f(C){const x=r>>Ns;return C>x}function g(C){return f(C)?o(-C):C}const m=(C,x,A)=>py(C.slice(x,A));class y{constructor(x,A,P){this.r=x,this.s=A,this.recovery=P,this.assertValidity()}static fromCompact(x){const A=e.nByteLength;return x=dl("compactSignature",x,A*2),new y(m(x,0,A),m(x,A,2*A))}static fromDER(x){const{r:A,s:P}=xp.toSig(dl("DER",x));return new y(A,P)}assertValidity(){bp("r",this.r,Ns,r),bp("s",this.s,Ns,r)}addRecoveryBit(x){return new y(this.r,this.s,x)}recoverPublicKey(x){const{r:A,s:P,recovery:N}=this,$=O(dl("msgHash",x));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const L=N===2||N===3?A+e.n:A;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const B=N&1?"03":"02",T=c.fromHex(B+h(L)),z=a(L),q=o(-$*z),U=o(P*z),V=c.BASE.multiplyAndAddUnsafe(T,q,U);if(!V)throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return z2(this.toDERHex())}toDERHex(){return xp.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return z2(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const w={isValidPrivateKey(C){try{return l(C),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const C=V5e(e.n);return ONt(e.randomBytes(C),e.n)},precompute(C=8,x=c.BASE){return x._setWindowSize(C),x.multiply(BigInt(3)),x}};function b(C,x=!0){return c.fromPrivateKey(C).toRawBytes(x)}function v(C){const x=fy(C),A=typeof C=="string",P=(x||A)&&C.length;return x?P===i||P===s:A?P===2*i||P===2*s:C instanceof c}function E(C,x,A=!0){if(v(C))throw new Error("first arg must be private key");if(!v(x))throw new Error("second arg must be public key");return c.fromHex(x).multiply(l(C)).toRawBytes(A)}const _=e.bits2int||function(C){if(C.length>8192)throw new Error("input is too large");const x=py(C),A=C.length*8-e.nBitLength;return A>0?x>>BigInt(A):x},O=e.bits2int_modN||function(C){return o(_(C))},S=Wq(e.nBitLength);function R(C){return bp("num < 2^"+e.nBitLength,C,Ep,S),W2(C,e.nByteLength)}function I(C,x,A=D){if(["recovered","canonical"].some(K=>K in A))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:N}=e;let{lowS:$,prehash:L,extraEntropy:B}=A;$==null&&($=!0),C=dl("msgHash",C),Q5e(A),L&&(C=dl("prehashed msgHash",P(C)));const T=O(C),z=l(x),q=[R(z),R(T)];if(B!=null&&B!==!1){const K=B===!0?N(n.BYTES):B;q.push(dl("extraEntropy",K))}const U=aE(...q),V=T;function Z(K){const J=_(K);if(!d(J))return;const oe=a(J),se=c.BASE.multiply(J).toAffine(),ae=o(se.x);if(ae===Ep)return;const fe=o(oe*o(V+ae*z));if(fe===Ep)return;let ce=(se.x===ae?0:2)|Number(se.y&Ns),de=fe;return $&&f(fe)&&(de=g(fe),ce^=1),new y(ae,de,ce)}return{seed:U,k2sig:Z}}const D={lowS:e.lowS,prehash:!1},j={lowS:e.lowS,prehash:!1};function F(C,x,A=D){const{seed:P,k2sig:N}=I(C,x,A),$=e;return B5e($.hash.outputLen,$.nByteLength,$.hmac)(P,N)}c.BASE._setWindowSize(8);function M(C,x,A,P=j){var fe;const N=C;x=dl("msgHash",x),A=dl("publicKey",A);const{lowS:$,prehash:L,format:B}=P;if(Q5e(P),"strict"in P)throw new Error("options.strict was renamed to lowS");if(B!==void 0&&B!=="compact"&&B!=="der")throw new Error("format must be compact or der");const T=typeof N=="string"||fy(N),z=!T&&!B&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!T&&!z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,U;try{if(z&&(q=new y(N.r,N.s)),T){try{B!=="compact"&&(q=y.fromDER(N))}catch(ce){if(!(ce instanceof xp.Err))throw ce}!q&&B!=="der"&&(q=y.fromCompact(N))}U=c.fromHex(A)}catch{return!1}if(!q||$&&q.hasHighS())return!1;L&&(x=e.hash(x));const{r:V,s:Z}=q,K=O(x),J=a(Z),oe=o(K*J),se=o(V*J),ae=(fe=c.BASE.multiplyAndAddUnsafe(U,oe,se))==null?void 0:fe.toAffine();return ae?o(ae.x)===V:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:F,verify:M,ProjectivePoint:c,Signature:y,utils:w}}function QNt(t){return{hash:t,hmac:(e,...n)=>M5e(t,e,cPt(...n)),randomBytes:u5e}}function XNt(t,e){const n=r=>JNt({...t,...QNt(r)});return{...n(e),create:n}}const e6e=q5e(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),eOt=e6e.create(BigInt("-3")),tOt=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");XNt({a:eOt,b:tOt,Fp:e6e,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Uq);const eH="base16",Fk="base64pad",cE="base64url",nOt="utf8",tH=1,rOt=2;function nH(t){const e=Uq(gc(t,eH));return Fo(e,eH)}function V2(t){const e=Uq(gc(t,nOt));return Fo(e,eH)}function zk(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var iOt=Object.defineProperty,sOt=Object.defineProperties,oOt=Object.getOwnPropertyDescriptors,t6e=Object.getOwnPropertySymbols,aOt=Object.prototype.hasOwnProperty,cOt=Object.prototype.propertyIsEnumerable,n6e=(t,e,n)=>e in t?iOt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lOt=(t,e)=>{for(var n in e||(e={}))aOt.call(e,n)&&n6e(t,n,e[n]);if(t6e)for(var n of t6e(e))cOt.call(e,n)&&n6e(t,n,e[n]);return t},uOt=(t,e)=>sOt(t,oOt(e));function K2(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function dOt(t){const e=[];return Object.values(t).forEach(n=>{e.push(...K2(n.accounts))}),e}function hOt(t,e){const n=[];return Object.values(t).forEach(r=>{K2(r.accounts).includes(e)&&n.push(...r.methods)}),n}function fOt(t,e){const n=[];return Object.values(t).forEach(r=>{K2(r.accounts).includes(e)&&n.push(...r.events)}),n}function Wk(t){return t.includes(":")}function G2(t){return Wk(t)?t.split(":")[0]:t}function r6e(t){var e,n,r;const i={};if(!jg(t))return i;for(const[s,o]of Object.entries(t)){const a=Wk(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=G2(s);i[u]=uOt(lOt({},i[u]),{chains:jh(a,(e=i[u])==null?void 0:e.chains),methods:jh(c,(n=i[u])==null?void 0:n.methods),events:jh(l,(r=i[u])==null?void 0:r.events)})}return i}function pOt(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function i6e(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=pOt(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=jh(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function gOt(t,e){var n,r,i,s,o,a;const c=r6e(t),l=r6e(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:jh((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:jh((i=c[h])==null?void 0:i.methods,(s=l[h])==null?void 0:s.methods),events:jh((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const mOt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},yOt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Lt(t,e){const{message:n,code:r}=yOt[t];return{message:e?`${n} ${e}`:n,code:r}}function ci(t,e){const{message:n,code:r}=mOt[t];return{message:e?`${n} ${e}`:n,code:r}}function Mg(t,e){return!!Array.isArray(t)}function jg(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function bc(t){return typeof t>"u"}function Os(t,e){return e&&bc(t)?!0:typeof t=="string"&&!!t.trim().length}function rH(t,e){return e&&bc(t)?!0:typeof t=="number"&&!isNaN(t)}function wOt(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return dy(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=K2(a),d=n[o];(!dy(J3e(o,d),u)||!dy(d.methods,c)||!dy(d.events,l))&&(s=!1)}),s):!1}function qk(t){return Os(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function vOt(t){if(Os(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&qk(n)}}return!1}function bOt(t,e){let n=null;return Os(t==null?void 0:t.publicKey,!1)||(n=Lt("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function s6e(t){let e=!0;return Mg(t)?t.length&&(e=t.every(n=>Os(n,!1))):e=!1,e}function xOt(t,e,n){let r=null;return Mg(e)&&e.length?e.forEach(i=>{r||qk(i)||(r=ci("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):qk(t)||(r=ci("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function EOt(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=xOt(i,J3e(i,s),`${e} ${n}`);o&&(r=o)}),r}function COt(t,e){let n=null;return Mg(t)?t.forEach(r=>{n||vOt(r)||(n=ci("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=ci("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function _Ot(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=COt(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function AOt(t,e){let n=null;return s6e(t==null?void 0:t.methods)?s6e(t==null?void 0:t.events)||(n=ci("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=ci("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function o6e(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=AOt(r,`${e}, namespace`);i&&(n=i)}),n}function SOt(t,e,n){let r=null;if(t&&jg(t)){const i=o6e(t,e);i&&(r=i);const s=EOt(t,e,n);s&&(r=s)}else r=Lt("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function iH(t,e){let n=null;if(t&&jg(t)){const r=o6e(t,e);r&&(n=r);const i=_Ot(t,e);i&&(n=i)}else n=Lt("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function a6e(t){return Os(t.protocol,!0)}function IOt(t,e){let n=!1;return t?t&&Mg(t)&&t.length&&t.forEach(r=>{n=a6e(r)}):n=!0,n}function kOt(t){return typeof t=="number"}function bd(t){return typeof t<"u"&&typeof t!==null}function $Ot(t){return!(!t||typeof t!="object"||!t.code||!rH(t.code,!1)||!t.message||!Os(t.message,!1))}function TOt(t){return!(bc(t)||!Os(t.method,!1))}function POt(t){return!(bc(t)||bc(t.result)&&bc(t.error)||!rH(t.id,!1)||!Os(t.jsonrpc,!1))}function NOt(t){return!(bc(t)||!Os(t.name,!1))}function c6e(t,e){return!(!qk(e)||!dOt(t).includes(e))}function OOt(t,e,n){return Os(n,!1)?hOt(t,e).includes(n):!1}function ROt(t,e,n){return Os(n,!1)?fOt(t,e).includes(n):!1}function l6e(t,e,n){let r=null;const i=MOt(t),s=jOt(e),o=Object.keys(i),a=Object.keys(s),c=u6e(Object.keys(t)),l=u6e(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=Lt("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),dy(o,a)||(r=Lt("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=K2(e[d].accounts);h.includes(d)||(r=Lt("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(dy(i[d].methods,s[d].methods)?dy(i[d].events,s[d].events)||(r=Lt("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=Lt("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function MOt(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function u6e(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function jOt(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=K2(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function DOt(t,e){return rH(t,!1)&&t<=e.max&&t>=e.min}const sH={};class lE{static get(e){return sH[e]}static set(e,n){sH[e]=n}static delete(e){delete sH[e]}}const d6e="wc",h6e=2,f6e="client",oH=`${d6e}@${h6e}:${f6e}:`,aH={name:f6e,logger:"error"},p6e="WALLETCONNECT_DEEPLINK_CHOICE",LOt="proposal",g6e="Proposal expired",BOt="session",Z2=le.SEVEN_DAYS,UOt="engine",Rs={wc_sessionPropose:{req:{ttl:le.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:le.ONE_DAY,prompt:!1,tag:1104},res:{ttl:le.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:le.ONE_DAY,prompt:!1,tag:1106},res:{ttl:le.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:le.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:le.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:le.ONE_DAY,prompt:!1,tag:1112},res:{ttl:le.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:le.ONE_DAY,prompt:!1,tag:1114},res:{ttl:le.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:le.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:le.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:le.FIVE_MINUTES,prompt:!1,tag:1119}}},cH={min:le.FIVE_MINUTES,max:le.SEVEN_DAYS},Lh={idle:"IDLE",active:"ACTIVE"},m6e={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},FOt="request",zOt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],WOt="wc",qOt="auth",HOt="authKeys",VOt="pairingTopics",KOt="requests",Hk=`${WOt}@${1.5}:${qOt}:`,Vk=`${Hk}:PUB_KEY`;var GOt=Object.defineProperty,ZOt=Object.defineProperties,YOt=Object.getOwnPropertyDescriptors,y6e=Object.getOwnPropertySymbols,JOt=Object.prototype.hasOwnProperty,QOt=Object.prototype.propertyIsEnumerable,lH=(t,e,n)=>e in t?GOt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ir=(t,e)=>{for(var n in e||(e={}))JOt.call(e,n)&&lH(t,n,e[n]);if(y6e)for(var n of y6e(e))QOt.call(e,n)&&lH(t,n,e[n]);return t},wa=(t,e)=>ZOt(t,YOt(e)),Pe=(t,e,n)=>lH(t,typeof e!="symbol"?e+"":e,n);class XOt extends dTt{constructor(e){super(e),Pe(this,"name",UOt),Pe(this,"events",new jv),Pe(this,"initialized",!1),Pe(this,"requestQueue",{state:Lh.idle,queue:[]}),Pe(this,"sessionRequestQueue",{state:Lh.idle,queue:[]}),Pe(this,"requestQueueDelay",le.ONE_SECOND),Pe(this,"expectedPairingMethodMap",new Map),Pe(this,"recentlyDeletedMap",new Map),Pe(this,"recentlyDeletedLimit",200),Pe(this,"relayMessageCache",[]),Pe(this,"pendingSessions",new Map),Pe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Rs)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},le.toMiliseconds(this.requestQueueDelay)))}),Pe(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=wa(Ir({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=gOt(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=i,d,h=!1;try{if(u){const O=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=O.active}}catch(O){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),O}if(!u||!h){const{topic:O,uri:S}=await this.client.core.pairing.create();u=O,d=S}if(!u){const{message:O}=Lt("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(O)}const f=await this.client.core.crypto.generateKeyPair(),g=Rs.wc_sessionPropose.req.ttl||le.FIVE_MINUTES,m=wc(g),y=wa(Ir(Ir({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:r3e}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Es()}),w=Sr("session_connect",y.id),{reject:b,resolve:v,done:E}=R2(g,g6e),_=({id:O})=>{O===y.id&&(this.client.events.off("proposal_expire",_),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:g6e,code:0}}))};return this.client.events.on("proposal_expire",_),this.events.once(w,({error:O,session:S})=>{this.client.events.off("proposal_expire",_),O?b(O):S&&v(S)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:y,throwOnFailedPublish:!0,clientRpcId:y.id}),await this.setProposal(y.id,y),{uri:d,approval:E}}),Pe(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),Pe(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[yd.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(I){throw o.setError(ay.no_internet_connection),I}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(I){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(ay.proposal_not_found),I}try{await this.isValidApprove(n)}catch(I){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(ay.session_approve_namespace_validation_failure),I}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:m,requiredNamespaces:y,optionalNamespaces:w}=f;let b=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});b||(b=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:yd.session_approve_started,properties:{topic:g,trace:[yd.session_approve_started,yd.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),E=m.publicKey,_=await this.client.core.crypto.generateSharedKey(v,E),O=Ir(Ir(Ir({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:wc(Z2)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),S=Kr.relay;b.addTrace(yd.subscribing_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:S})}catch(I){throw b.setError(ay.subscribe_session_topic_failure),I}b.addTrace(yd.subscribe_session_topic_success);const R=wa(Ir({},O),{topic:_,requiredNamespaces:y,optionalNamespaces:w,pairingTopic:g,acknowledged:!1,self:O.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:v,transportType:Kr.relay});await this.client.session.set(_,R),b.addTrace(yd.store_session);try{b.addTrace(yd.publishing_session_settle),await this.sendRequest({topic:_,method:"wc_sessionSettle",params:O,throwOnFailedPublish:!0}).catch(I=>{throw b==null||b.setError(ay.session_settle_publish_failure),I}),b.addTrace(yd.session_settle_publish_success),b.addTrace(yd.publishing_session_approve),await this.sendResult({id:a,topic:g,result:{relay:{protocol:c??"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch(I=>{throw b==null||b.setError(ay.session_approve_publish_failure),I}),b.addTrace(yd.session_approve_publish_success)}catch(I){throw this.client.logger.error(I),this.client.session.delete(_,ci("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(_),I}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:m.metadata}),await this.client.proposal.delete(a,ci("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(_,wc(Z2)),{topic:_,acknowledged:()=>Promise.resolve(this.client.session.get(_))}}),Pe(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&(await this.sendError({id:r,topic:s,error:i,rpcOpts:Rs.wc_sessionPropose.reject}),await this.client.proposal.delete(r,ci("USER_DISCONNECTED")))}),Pe(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=R2(),c=Es(),l=ec().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Sr("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:s}}),Pe(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Es(),{done:s,resolve:o,reject:a}=R2();return this.events.once(Sr("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,wc(Z2)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),Pe(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:r,request:i,topic:s,expiry:o=Rs.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===Kr.relay&&await this.confirmOnlineStateOrThrow();const c=Es(),l=ec().toString(),{done:u,resolve:d,reject:h}=R2(o,"Request expired. Please try again.");this.events.once(Sr("session_request",c),({error:w,result:b})=>{w?h(w):d(b)});const f="wc_sessionRequest",g=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(g)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:{request:wa(Ir({},i),{expiryTimestamp:wc(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:g}).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await u();const m={request:wa(Ir({},i),{expiryTimestamp:wc(o)}),chainId:r},y=this.shouldSetTVF(f,m);return await Promise.all([new Promise(async w=>{await this.sendRequest(Ir({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:m,expiry:o,throwOnFailedPublish:!0},y&&{tvf:this.getTVFParams(c,m)})).catch(b=>h(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),w()}),new Promise(async w=>{var b;if(!((b=a.sessionConfig)!=null&&b.disableDeepLink)){const v=await VTt(this.client.core.storage,p6e);await WTt({id:c,topic:s,wcDeepLink:v})}w()}),u()]).then(w=>w[2])}),Pe(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===Kr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);cs(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):mi(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),Pe(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Es(),s=ec().toString(),{done:o,resolve:a,reject:c}=R2();this.events.once(Sr("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),Pe(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=ec().toString(),a=Es();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Pe(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:ci("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Lt("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),Pe(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>wOt(r,n)))),Pe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Pe(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Kr.link_mode:Kr.relay;o===Kr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:g,methods:m=[],expiry:y}=n,w=[...n.resources||[]],{topic:b,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:v}});const E=await this.client.core.crypto.generateKeyPair(),_=nH(E);if(await Promise.all([this.client.auth.authKeys.set(Vk,{responseTopic:_,publicKey:E}),this.client.auth.pairingTopics.set(_,{topic:_,pairingTopic:b})]),await this.client.core.relayer.subscribe(_,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),m.length>0){const{namespace:$}=N2(a[0]);let L=LPt($,"request",m);Rk(w)&&(L=UPt(L,w.pop())),w.push(L)}const O=y&&y>Rs.wc_sessionAuthenticate.req.ttl?y:Rs.wc_sessionAuthenticate.req.ttl,S={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:g,resources:w},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:wc(O)},R={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},I={requiredNamespaces:{},optionalNamespaces:R,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:wc(Rs.wc_sessionPropose.req.ttl),id:Es()},{done:D,resolve:j,reject:F}=R2(O,"Request expired"),M=Es(),C=Sr("session_connect",I.id),x=Sr("session_request",M),A=async({error:$,session:L})=>{this.events.off(x,P),$?F($):L&&j({session:L})},P=async $=>{var L,B,T;if(await this.deletePendingAuthRequest(M,{message:"fulfilled",code:0}),$.error){const J=ci("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return $.error.code===J.code?void 0:(this.events.off(C,A),F($.error.message))}await this.deleteProposal(I.id),this.events.off(C,A);const{cacaos:z,responder:q}=$.result,U=[],V=[];for(const J of z){await v5e({cacao:J,projectId:this.client.core.projectId})||(this.client.logger.error(J,"Signature verification failed"),F(ci("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:oe}=J,se=Rk(oe.resources),ae=[Mq(oe.iss)],fe=Ok(oe.iss);if(se){const ce=E5e(se),de=C5e(se);U.push(...ce),ae.push(...de)}for(const ce of ae)V.push(`${ce}:${fe}`)}const Z=await this.client.core.crypto.generateSharedKey(E,q.publicKey);let K;U.length>0&&(K={topic:Z,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:q,controller:q.publicKey,expiry:wc(Z2),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:i6e([...new Set(U)],[...new Set(V)]),transportType:o},await this.client.core.relayer.subscribe(Z,{transportType:o}),await this.client.session.set(Z,K),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:q.metadata}),K=this.client.session.get(Z)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(B=q.metadata.redirect)!=null&&B.linkMode&&(T=q.metadata.redirect)!=null&&T.universal&&r&&(this.client.core.addLinkModeSupportedApp(q.metadata.redirect.universal),this.client.session.update(Z,{transportType:Kr.link_mode})),j({auths:z,session:K})};this.events.once(C,A),this.events.once(x,P);let N;try{if(s){const $=Ys("wc_sessionAuthenticate",S,M);this.client.core.history.set(b,$);const L=await this.client.core.crypto.encode("",$,{type:rOt,encoding:cE});N=zk(r,b,L)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:S,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:M}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:I,expiry:Rs.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:I.id})])}catch($){throw this.events.off(C,A),this.events.off(x,P),$}return await this.setProposal(I.id,I),await this.setAuthRequest(M,{request:wa(Ir({},S),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:N??v,response:D}}),Pe(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[cy.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw s.setError(Gx.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(Gx.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Kr.relay;a===Kr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=nH(c),d={type:tH,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const y of i){if(!await v5e({cacao:y,projectId:this.client.core.projectId})){s.setError(Gx.invalid_cacao);const _=ci("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:_,encodeOpts:d}),new Error(_.message)}s.addTrace(cy.cacaos_verified);const{p:w}=y,b=Rk(w.resources),v=[Mq(w.iss)],E=Ok(w.iss);if(b){const _=E5e(b),O=C5e(b);h.push(..._),v.push(...O)}for(const _ of v)f.push(`${_}:${E}`)}const g=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(cy.create_authenticated_session_topic);let m;if((h==null?void 0:h.length)>0){m={topic:g,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:wc(Z2),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:i6e([...new Set(h)],[...new Set(f)]),transportType:a},s.addTrace(cy.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(g,{transportType:a})}catch(y){throw s.setError(Gx.subscribe_authenticated_session_topic_failure),y}s.addTrace(cy.subscribe_authenticated_session_topic_success),await this.client.session.set(g,m),s.addTrace(cy.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(cy.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw s.setError(Gx.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:m}}),Pe(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Kr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=nH(o),l={type:tH,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:Rs.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,ci("USER_DISCONNECTED"))}),Pe(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return b5e(r,i)}),Pe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),Pe(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),Pe(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,ci("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(p6e).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,ci("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Lh.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),Pe(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(ay.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,ci("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),Pe(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Lh.idle,this.client.events.emit("session_request_expire",{id:n}))}),Pe(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),Pe(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),Pe(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,wc(Rs.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),Pe(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=Kr.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),Pe(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||wc(Rs.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),Pe(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=Ys(i,s,c);let f;const g=!!u;try{const w=g?cE:Fk;f=await this.client.core.crypto.encode(r,h,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),w}let m;if(zOt.includes(i)){const w=V2(JSON.stringify(h)),b=V2(f);m=await this.client.core.verify.register({id:b,decryptedId:w})}const y=Rs[i].req;if(y.attestation=m,o&&(y.ttl=o),a&&(y.id=a),this.client.core.history.set(r,h),g){const w=zk(u,r,f);await global.Linking.openURL(w,this.client.name)}else{const w=Rs[i].req;o&&(w.ttl=o),a&&(w.id=a),w.tvf=wa(Ir({},d),{correlationId:h.id}),l?(w.internal=wa(Ir({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,w)):this.client.core.relayer.publish(r,f,w).catch(b=>this.client.logger.error(b))}return h.id}),Pe(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=Zf(r,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const g=d?cE:Fk;u=await this.client.core.crypto.encode(i,l,wa(Ir({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),g}let h,f;try{h=await this.client.core.history.get(i,r);const g=h.request;try{this.shouldSetTVF(g.method,g.params)&&(f=this.getTVFParams(r,g.params,s))}catch(m){this.client.logger.warn("sendResult() -> getTVFParams() failed",m)}}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),g}if(d){const g=zk(c,i,u);await global.Linking.openURL(g,this.client.name)}else{const g=h.request.method,m=Rs[g].res;m.tvf=wa(Ir({},f),{correlationId:r}),o?(m.internal=wa(Ir({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),Pe(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=ib(r,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?cE:Fk;u=await this.client.core.crypto.encode(i,l,wa(Ir({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),f}let h;try{h=await this.client.core.history.get(i,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),f}if(d){const f=zk(c,i,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,g=a||Rs[f].res;this.client.core.relayer.publish(i,u,g)}await this.client.core.history.resolve(l)}),Pe(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;M2(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{M2(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),Pe(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),Pe(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),Pe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Lh.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Lh.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Lh.idle}),Pe(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),Pe(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Pe(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Lt("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Pe(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Pe(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(yp.proposal_listener_not_found)),this.isValidConnect(Ir({},i.params));const u=a.expiryTimestamp||wc(Rs.wc_sessionPropose.req.ttl),d=Ir({id:c,pairingTopic:r,expiryTimestamp:u},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:V2(JSON.stringify(i)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(Rh.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Rs.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),Pe(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(cs(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(mi(r)){await this.client.proposal.delete(s,ci("USER_DISCONNECTED"));const o=Sr("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),Pe(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const g=this.client.proposal.get(f.proposalId),m=wa(Ir(Ir(Ir({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:Kr.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(Sr("session_connect",f.proposalId),{session:m}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Pe(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;cs(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Sr("session_approve",i),{})):mi(r)&&(await this.client.session.delete(n,ci("USER_DISCONNECTED")),this.events.emit(Sr("session_approve",i),{error:r.error}))}),Pe(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=lE.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:ci("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Ir({topic:n},i));try{lE.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw lE.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),Pe(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),Pe(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=Sr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);cs(r)?this.events.emit(Sr("session_update",i),{}):mi(r)&&this.events.emit(Sr("session_update",i),{error:r.error})}),Pe(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,wc(Z2)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Pe(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=Sr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);cs(r)?this.events.emit(Sr("session_extend",i),{}):mi(r)&&this.events.emit(Sr("session_extend",i),{error:r.error})}),Pe(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Pe(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=Sr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);cs(r)?this.events.emit(Sr("session_ping",i),{}):mi(r)&&this.events.emit(Sr("session_ping",i),{error:r.error})},500)}),Pe(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once($s.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:ci("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Pe(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(Ir({topic:o},h));const f=this.client.session.get(o),g=await this.getVerifyContext({attestationId:c,hash:V2(JSON.stringify(Ys("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),m={id:d,topic:o,params:h,verifyContext:g};await this.setPendingSessionRequest(m),u===Kr.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=f.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),Pe(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=Sr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);cs(r)?this.events.emit(Sr("session_request",i),{result:r.result}):mi(r)&&this.events.emit(Sr("session_request",i),{error:r.error})}),Pe(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=lE.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Ir({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),lE.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Pe(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),cs(r)?this.events.emit(Sr("session_request",i),{result:r.result}):mi(r)&&this.events.emit(Sr("session_request",i),{error:r.error})}),Pe(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:o,hash:V2(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:f,pairingTopic:i,transportType:c}),c===Kr.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),f={type:tH,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:f,rpcOpts:Rs.wc_sessionAuthenticate.autoReject,appLink:h})}}),Pe(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),Pe(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Lh.idle,this.processSessionRequestQueue()},le.toMiliseconds(this.requestQueueDelay))}),Pe(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Sr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Sr("session_request",s.request.id),{error:r})})}),Pe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Lh.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Lh.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),Pe(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),Pe(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Ys("wc_sessionPropose",wa(Ir({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),Pe(this,"isValidConnect",async n=>{if(!bd(n)){const{message:l}=Lt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(bc(r)||await this.isValidPairingTopic(r),!IOt(c)){const{message:l}=Lt("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!bc(i)&&jg(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!bc(s)&&jg(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),bc(o)||this.validateSessionProps(o,"sessionProperties"),!bc(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),Pe(this,"validateNamespaces",(n,r)=>{const i=SOt(n,"connect()",r);if(i)throw new Error(i.message)}),Pe(this,"isValidApprove",async n=>{if(!bd(n))throw new Error(Lt("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=iH(i,"approve()");if(l)throw new Error(l.message);const u=l6e(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Os(s,!0)){const{message:d}=Lt("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(bc(o)||this.validateSessionProps(o,"sessionProperties"),!bc(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),Pe(this,"isValidReject",async n=>{if(!bd(n)){const{message:s}=Lt("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!$Ot(i)){const{message:s}=Lt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Pe(this,"isValidSessionSettleRequest",n=>{if(!bd(n)){const{message:l}=Lt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!a6e(r)){const{message:l}=Lt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=bOt(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=iH(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(M2(o)){const{message:l}=Lt("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),Pe(this,"isValidUpdate",async n=>{if(!bd(n)){const{message:c}=Lt("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=iH(i,"update()");if(o)throw new Error(o.message);const a=l6e(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),Pe(this,"isValidExtend",async n=>{if(!bd(n)){const{message:i}=Lt("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),Pe(this,"isValidRequest",async n=>{if(!bd(n)){const{message:c}=Lt("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!c6e(a,s)){const{message:c}=Lt("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!TOt(i)){const{message:c}=Lt("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!OOt(a,s,i.method)){const{message:c}=Lt("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!DOt(o,cH)){const{message:c}=Lt("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${cH.min} and ${cH.max}`);throw new Error(c)}}),Pe(this,"isValidRespond",async n=>{var r;if(!bd(n)){const{message:o}=Lt("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!POt(s)){const{message:o}=Lt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),Pe(this,"isValidPing",async n=>{if(!bd(n)){const{message:i}=Lt("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Pe(this,"isValidEmit",async n=>{if(!bd(n)){const{message:a}=Lt("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!c6e(o,s)){const{message:a}=Lt("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!NOt(i)){const{message:a}=Lt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!ROt(o,s,i.name)){const{message:a}=Lt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),Pe(this,"isValidDisconnect",async n=>{if(!bd(n)){const{message:i}=Lt("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Pe(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Os(i,!1))throw new Error("uri is required parameter");if(!Os(s,!1))throw new Error("domain is required parameter");if(!Os(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>N2(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=N2(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Pe(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||Kx,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Kr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),Pe(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=Lt("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),Pe(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),Pe(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),Pe(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Lt("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),Pe(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,l,u,d,h;return!n||r!==Kr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Pe(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),Pe(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=i5e(n,"topic")||"",i=decodeURIComponent(i5e(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Kr.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),Pe(this,"registerLinkModeListeners",async()=>{var n;if(KTt()||n5e()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Pe(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:i}=r;return Object.keys(m6e).includes(i.method)}),Pe(this,"getTVFParams",(n,r,i)=>{var s,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,i);return wa(Ir({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),Pe(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Pe(this,"extractTxHashesFromResult",(n,r)=>{try{const i=m6e[n];if(typeof r=="string")return[r];const s=r[i.key];if(Mg(s))return n==="solana_signAllTransactions"?s.map(o=>_Pt(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Lt("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on($s.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(Vk)?this.client.auth.authKeys.get(Vk):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===Kr.link_mode?cE:Fk});sb(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:V2(r)})):A1(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(uu.expired,async e=>{const{topic:n,id:r}=zTt(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Lt("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Lt("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(oy.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(oy.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Os(e,!1)){const{message:n}=Lt("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Lt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(M2(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Lt("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Os(e,!1)){const{message:n}=Lt("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Lt("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(M2(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Lt("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Lt("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Os(e,!1)){const{message:n}=Lt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Lt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!kOt(e)){const{message:n}=Lt("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Lt("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(M2(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Lt("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class eRt extends ly{constructor(e,n){super(e,n,LOt,oH),this.core=e,this.logger=n}}let tRt=class extends ly{constructor(e,n){super(e,n,BOt,oH),this.core=e,this.logger=n}};class nRt extends ly{constructor(e,n){super(e,n,FOt,oH,r=>r.id),this.core=e,this.logger=n}}class rRt extends ly{constructor(e,n){super(e,n,HOt,Hk,()=>Vk),this.core=e,this.logger=n}}class iRt extends ly{constructor(e,n){super(e,n,VOt,Hk),this.core=e,this.logger=n}}class sRt extends ly{constructor(e,n){super(e,n,KOt,Hk,r=>r.id),this.core=e,this.logger=n}}var oRt=Object.defineProperty,aRt=(t,e,n)=>e in t?oRt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uH=(t,e,n)=>aRt(t,typeof e!="symbol"?e+"":e,n);class cRt{constructor(e,n){this.core=e,this.logger=n,uH(this,"authKeys"),uH(this,"pairingTopics"),uH(this,"requests"),this.authKeys=new rRt(this.core,this.logger),this.pairingTopics=new iRt(this.core,this.logger),this.requests=new sRt(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var lRt=Object.defineProperty,uRt=(t,e,n)=>e in t?lRt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,In=(t,e,n)=>uRt(t,typeof e!="symbol"?e+"":e,n);let dRt=class bEe extends uTt{constructor(e){super(e),In(this,"protocol",d6e),In(this,"version",h6e),In(this,"name",aH.name),In(this,"metadata"),In(this,"core"),In(this,"logger"),In(this,"events",new qi.EventEmitter),In(this,"engine"),In(this,"session"),In(this,"proposal"),In(this,"pendingRequest"),In(this,"auth"),In(this,"signConfig"),In(this,"on",(r,i)=>this.events.on(r,i)),In(this,"once",(r,i)=>this.events.once(r,i)),In(this,"off",(r,i)=>this.events.off(r,i)),In(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),In(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),In(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),In(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),In(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),In(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||aH.name,this.metadata=UTt(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:pb(gb({level:(e==null?void 0:e.logger)||aH.logger}));this.core=(e==null?void 0:e.core)||new aTt(e),this.logger=pa(n,this.name),this.session=new tRt(this.core,this.logger),this.proposal=new eRt(this.core,this.logger),this.pendingRequest=new nRt(this.core,this.logger),this.engine=new XOt(this),this.auth=new cRt(this.core,this.logger)}static async init(e){const n=new bEe(e);return await n.initialize(),n}get context(){return nc(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},le.toMiliseconds(le.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const w6e="error",hRt="wss://relay.walletconnect.org",fRt="wc",pRt="universal_provider",Kk=`${fRt}@2:${pRt}:`,v6e="https://rpc.walletconnect.org/v1/",Y2="generic",gRt=`${v6e}bundler`,du={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function mRt(){}function dH(t){return t==null||typeof t!="object"&&typeof t!="function"}function hH(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yRt(t){if(dH(t))return t;if(Array.isArray(t)||hH(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function b6e(t){return typeof t=="object"&&t!==null}function x6e(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function E6e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const wRt="[object RegExp]",C6e="[object String]",_6e="[object Number]",A6e="[object Boolean]",S6e="[object Arguments]",vRt="[object Symbol]",bRt="[object Date]",xRt="[object Map]",ERt="[object Set]",CRt="[object Array]",_Rt="[object ArrayBuffer]",ARt="[object Object]",SRt="[object DataView]",IRt="[object Uint8Array]",kRt="[object Uint8ClampedArray]",$Rt="[object Uint16Array]",TRt="[object Uint32Array]",PRt="[object Int8Array]",NRt="[object Int16Array]",ORt="[object Int32Array]",RRt="[object Float32Array]",MRt="[object Float64Array]";function jRt(t,e){return J2(t,void 0,t,new Map,e)}function J2(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(dH(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=J2(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,J2(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(J2(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(hH(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=J2(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),my(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),my(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),my(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,my(o,t,n,r,i),o}if(typeof t=="object"&&DRt(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),my(o,t,n,r,i),o}return t}function my(t,e,n=t,r,i){const s=[...Object.keys(e),...x6e(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=J2(e[a],a,n,r,i))}}function DRt(t){switch(E6e(t)){case S6e:case CRt:case _Rt:case SRt:case A6e:case bRt:case RRt:case MRt:case PRt:case NRt:case ORt:case xRt:case _6e:case ARt:case wRt:case ERt:case C6e:case vRt:case IRt:case kRt:case $Rt:case TRt:return!0;default:return!1}}function LRt(t,e){return jRt(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case _6e:case C6e:case A6e:{const o=new t.constructor(t==null?void 0:t.valueOf());return my(o,t),o}case S6e:{const o={};return my(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function I6e(t){return LRt(t)}function k6e(t){return t!==null&&typeof t=="object"&&E6e(t)==="[object Arguments]"}function BRt(t){return hH(t)}function URt(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function FRt(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=fH(i,o,r,new Map)}return i}function fH(t,e,n,r){if(dH(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return yRt(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...x6e(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(k6e(a)&&(a={...a}),k6e(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=I6e(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||b6e(c)&&b6e(a)?t[o]=fH(c,a,n,r):c==null&&URt(a)?t[o]=fH({},a,n,r):c==null&&BRt(a)?t[o]=I6e(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function zRt(t,...e){return FRt(t,...e,mRt)}var WRt=Object.defineProperty,qRt=Object.defineProperties,HRt=Object.getOwnPropertyDescriptors,$6e=Object.getOwnPropertySymbols,VRt=Object.prototype.hasOwnProperty,KRt=Object.prototype.propertyIsEnumerable,T6e=(t,e,n)=>e in t?WRt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gk=(t,e)=>{for(var n in e||(e={}))VRt.call(e,n)&&T6e(t,n,e[n]);if($6e)for(var n of $6e(e))KRt.call(e,n)&&T6e(t,n,e[n]);return t},GRt=(t,e)=>qRt(t,HRt(e));function hl(t,e,n){var r;const i=N2(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${v6e}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function yy(t){return t.includes(":")?t.split(":")[1]:t}function P6e(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function ZRt(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function Zk(t={},e={}){const n=N6e(t),r=N6e(e);return zRt(n,r)}function N6e(t){var e,n,r,i,s;const o={};if(!jg(t))return o;for(const[a,c]of Object.entries(t)){const l=Wk(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=G2(a);o[f]=GRt(Gk(Gk({},o[f]),c),{chains:jh(l,(e=o[f])==null?void 0:e.chains),methods:jh(u,(n=o[f])==null?void 0:n.methods),events:jh(d,(r=o[f])==null?void 0:r.events)}),(jg(h)||jg(((i=o[f])==null?void 0:i.rpcMap)||{}))&&(o[f].rpcMap=Gk(Gk({},h),(s=o[f])==null?void 0:s.rpcMap))}return o}function O6e(t){return t.includes(":")?t.split(":")[2]:t}function R6e(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=Wk(n)?[n]:r.chains?r.chains:P6e(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function pH(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const M6e={},Vn=t=>M6e[t],gH=(t,e)=>{M6e[t]=e};var YRt=Object.defineProperty,JRt=(t,e,n)=>e in t?YRt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q2=(t,e,n)=>JRt(t,typeof e!="symbol"?e+"":e,n);class QRt{constructor(e){Q2(this,"name","polkadot"),Q2(this,"client"),Q2(this,"httpProviders"),Q2(this,"events"),Q2(this,"namespace"),Q2(this,"chainId"),this.namespace=e.namespace,this.events=Vn("events"),this.client=Vn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(du.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=yy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||hl(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Vn("disableProviderPing")))}}var XRt=Object.defineProperty,eMt=Object.defineProperties,tMt=Object.getOwnPropertyDescriptors,j6e=Object.getOwnPropertySymbols,nMt=Object.prototype.hasOwnProperty,rMt=Object.prototype.propertyIsEnumerable,mH=(t,e,n)=>e in t?XRt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D6e=(t,e)=>{for(var n in e||(e={}))nMt.call(e,n)&&mH(t,n,e[n]);if(j6e)for(var n of j6e(e))rMt.call(e,n)&&mH(t,n,e[n]);return t},L6e=(t,e)=>eMt(t,tMt(e)),X2=(t,e,n)=>mH(t,typeof e!="symbol"?e+"":e,n);class iMt{constructor(e){X2(this,"name","eip155"),X2(this,"client"),X2(this,"chainId"),X2(this,"namespace"),X2(this,"httpProviders"),X2(this,"events"),this.namespace=e.namespace,this.events=Vn("events"),this.client=Vn("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(du.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||hl(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Vn("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(yy(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d==null?void 0:d[l];const h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:L6e(D6e({},u.sessionProperties||{}),{capabilities:L6e(D6e({},d||{}),{[l]:h})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return h}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ys("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${gRt}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var sMt=Object.defineProperty,oMt=(t,e,n)=>e in t?sMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e3=(t,e,n)=>oMt(t,typeof e!="symbol"?e+"":e,n);class aMt{constructor(e){e3(this,"name","solana"),e3(this,"client"),e3(this,"httpProviders"),e3(this,"events"),e3(this,"namespace"),e3(this,"chainId"),this.namespace=e.namespace,this.events=Vn("events"),this.client=Vn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(du.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=yy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||hl(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Vn("disableProviderPing")))}}var cMt=Object.defineProperty,lMt=(t,e,n)=>e in t?cMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,t3=(t,e,n)=>lMt(t,typeof e!="symbol"?e+"":e,n);class uMt{constructor(e){t3(this,"name","cosmos"),t3(this,"client"),t3(this,"httpProviders"),t3(this,"events"),t3(this,"namespace"),t3(this,"chainId"),this.namespace=e.namespace,this.events=Vn("events"),this.client=Vn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(du.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=yy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||hl(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Vn("disableProviderPing")))}}var dMt=Object.defineProperty,hMt=(t,e,n)=>e in t?dMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n3=(t,e,n)=>hMt(t,typeof e!="symbol"?e+"":e,n);class fMt{constructor(e){n3(this,"name","algorand"),n3(this,"client"),n3(this,"httpProviders"),n3(this,"events"),n3(this,"namespace"),n3(this,"chainId"),this.namespace=e.namespace,this.events=Vn("events"),this.client=Vn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||hl(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(du.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||hl(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Xr(new yi(r,Vn("disableProviderPing")))}}var pMt=Object.defineProperty,gMt=(t,e,n)=>e in t?pMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r3=(t,e,n)=>gMt(t,typeof e!="symbol"?e+"":e,n);class mMt{constructor(e){r3(this,"name","cip34"),r3(this,"client"),r3(this,"httpProviders"),r3(this,"events"),r3(this,"namespace"),r3(this,"chainId"),this.namespace=e.namespace,this.events=Vn("events"),this.client=Vn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(du.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=yy(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Vn("disableProviderPing")))}}var yMt=Object.defineProperty,wMt=(t,e,n)=>e in t?yMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,i3=(t,e,n)=>wMt(t,typeof e!="symbol"?e+"":e,n);class vMt{constructor(e){i3(this,"name","elrond"),i3(this,"client"),i3(this,"httpProviders"),i3(this,"events"),i3(this,"namespace"),i3(this,"chainId"),this.namespace=e.namespace,this.events=Vn("events"),this.client=Vn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(du.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=yy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||hl(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Vn("disableProviderPing")))}}var bMt=Object.defineProperty,xMt=(t,e,n)=>e in t?bMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,s3=(t,e,n)=>xMt(t,typeof e!="symbol"?e+"":e,n);class EMt{constructor(e){s3(this,"name","multiversx"),s3(this,"client"),s3(this,"httpProviders"),s3(this,"events"),s3(this,"namespace"),s3(this,"chainId"),this.namespace=e.namespace,this.events=Vn("events"),this.client=Vn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(du.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=yy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||hl(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Vn("disableProviderPing")))}}var CMt=Object.defineProperty,_Mt=(t,e,n)=>e in t?CMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,o3=(t,e,n)=>_Mt(t,typeof e!="symbol"?e+"":e,n);class AMt{constructor(e){o3(this,"name","near"),o3(this,"client"),o3(this,"httpProviders"),o3(this,"events"),o3(this,"namespace"),o3(this,"chainId"),this.namespace=e.namespace,this.events=Vn("events"),this.client=Vn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||hl(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(du.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||hl(e,this.namespace);return typeof r>"u"?void 0:new Xr(new yi(r,Vn("disableProviderPing")))}}var SMt=Object.defineProperty,IMt=(t,e,n)=>e in t?SMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a3=(t,e,n)=>IMt(t,typeof e!="symbol"?e+"":e,n);class kMt{constructor(e){a3(this,"name","tezos"),a3(this,"client"),a3(this,"httpProviders"),a3(this,"events"),a3(this,"namespace"),a3(this,"chainId"),this.namespace=e.namespace,this.events=Vn("events"),this.client=Vn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||hl(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(du.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||hl(e,this.namespace);return typeof r>"u"?void 0:new Xr(new yi(r))}}var $Mt=Object.defineProperty,TMt=(t,e,n)=>e in t?$Mt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c3=(t,e,n)=>TMt(t,typeof e!="symbol"?e+"":e,n);class PMt{constructor(e){c3(this,"name",Y2),c3(this,"client"),c3(this,"httpProviders"),c3(this,"events"),c3(this,"namespace"),c3(this,"chainId"),this.namespace=e.namespace,this.events=Vn("events"),this.client=Vn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(du.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=N2(i);r[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||hl(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xr(new yi(r,Vn("disableProviderPing")))}}var NMt=Object.defineProperty,OMt=Object.defineProperties,RMt=Object.getOwnPropertyDescriptors,B6e=Object.getOwnPropertySymbols,MMt=Object.prototype.hasOwnProperty,jMt=Object.prototype.propertyIsEnumerable,yH=(t,e,n)=>e in t?NMt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yk=(t,e)=>{for(var n in e||(e={}))MMt.call(e,n)&&yH(t,n,e[n]);if(B6e)for(var n of B6e(e))jMt.call(e,n)&&yH(t,n,e[n]);return t},wH=(t,e)=>OMt(t,RMt(e)),hu=(t,e,n)=>yH(t,typeof e!="symbol"?e+"":e,n);let DMt=class xEe{constructor(e){hu(this,"client"),hu(this,"namespaces"),hu(this,"optionalNamespaces"),hu(this,"sessionProperties"),hu(this,"scopedProperties"),hu(this,"events",new jv),hu(this,"rpcProviders",{}),hu(this,"session"),hu(this,"providerOpts"),hu(this,"logger"),hu(this,"uri"),hu(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:pb(gb({level:(e==null?void 0:e.logger)||w6e})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new xEe(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Yk({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,Zf(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:ci("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=R6e(this.session.namespaces);this.namespaces=Zk(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=R6e(i.namespaces);return this.namespaces=Zk(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e),s=this.getProvider(r);s.name===Y2?s.setDefaultChain(`${r}:${i}`,n):s.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(Mg(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await dRt.init({core:this.providerOpts.core,logger:this.providerOpts.logger||w6e,relayUrl:this.providerOpts.relayUrl||hRt,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>G2(n)))];gH("client",this.client),gH("events",this.events),gH("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=ZRt(n,this.session),i=P6e(r),s=Zk(this.namespaces,this.optionalNamespaces),o=wH(Yk({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new iMt({namespace:o});break;case"algorand":this.rpcProviders[n]=new fMt({namespace:o});break;case"solana":this.rpcProviders[n]=new aMt({namespace:o});break;case"cosmos":this.rpcProviders[n]=new uMt({namespace:o});break;case"polkadot":this.rpcProviders[n]=new QRt({namespace:o});break;case"cip34":this.rpcProviders[n]=new mMt({namespace:o});break;case"elrond":this.rpcProviders[n]=new vMt({namespace:o});break;case"multiversx":this.rpcProviders[n]=new EMt({namespace:o});break;case"near":this.rpcProviders[n]=new AMt({namespace:o});break;case"tezos":this.rpcProviders[n]=new kMt({namespace:o});break;default:this.rpcProviders[Y2]?this.rpcProviders[Y2].updateNamespace(o):this.rpcProviders[Y2]=new PMt({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&Mg(o)&&this.events.emit("accountsChanged",o.map(O6e))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=G2(o),l=pH(o)!==pH(a)?`${c}:${pH(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=wH(Yk({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",wH(Yk({},ci("USER_DISCONNECTED")),{data:e.topic})))}),this.on(du.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Y2]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=Zk(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>G2(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=G2(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i),this.events.emit("chainChanged",i);const s=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(O6e);if(!Mg(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Kk}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Kk}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Kk}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Kk)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};function Jk(t,e){return Ne.getConnectorId(t)===e}function LMt(t){const e=Array.from(X.state.chains.keys());let n=[];return t?(n.push([t,X.state.chains.get(t)]),Jk(t,Pt.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&Jk(r,Pt.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,X.state.chains.get(r)])}):Jk(t,Pt.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&Jk(r,Pt.CONNECTOR_ID.AUTH)&&n.push([r,X.state.chains.get(r)])})):n=Array.from(X.state.chains.entries()),n}const Dg={EIP155:"eip155",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED"},Qk={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Pt.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Pt.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Pt.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Pt.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Pt.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Pt.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Pt.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Pt.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Pt.CONNECTOR_ID.COINBASE]:"Coinbase",[Pt.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Pt.CONNECTOR_ID.LEDGER]:"Ledger",[Pt.CONNECTOR_ID.SAFE]:"Safe"}},vH={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${Dg.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}};new AbortController;const l3={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${BMt()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function BMt(){return typeof window<"u"}const UMt={createLogger(t,e="error"){const n=gb({level:e}),{logger:r}=oge({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},r}},FMt="rpc.walletconnect.org";function U6e(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const bH=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],u3={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===FMt}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Pt.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Pt.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var i,s,o;const r=(o=(s=(i=t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null?void 0:o[0];return bH.includes(e)?U6e(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var h,f,g,m,y;const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=(h=t.rpcUrls.default.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,s,n),c=((m=(g=(f=t==null?void 0:t.rpcUrls)==null?void 0:f.chainDefault)==null?void 0:g.http)==null?void 0:m[0])||o,l=((y=r==null?void 0:r[s])==null?void 0:y.map(w=>w.url))||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:Qk.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(i=>u3.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var i,s,o;const r=[];return n==null||n.forEach(a=>{r.push(ta(a.url,a.config))}),bH.includes(t.caipNetworkId)&&r.push(ta(U6e(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(s=(i=t==null?void 0:t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null||o.forEach(a=>{r.push(ta(a))}),Ane(r)},extendWagmiTransports(t,e,n){if(bH.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return Ane([n,ta(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Pt.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=wt.getActiveCaipNetworkId(),n=X.getAllRequestedCaipNetworks(),r=Array.from(((c=X.state.chains)==null?void 0:c.keys())||[]),i=e==null?void 0:e.split(":")[0],s=i?r.includes(i):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},Xk={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},xc=Rr({providers:{...Xk},providerIds:{...Xk}}),li={state:xc,subscribeKey(t,e){return io(xc,t,e)},subscribe(t){return ro(xc,()=>{t(xc)})},subscribeProviders(t){return ro(xc.providers,()=>t(xc.providers))},setProvider(t,e){e&&(xc.providers[t]=K1(e))},getProvider(t){return xc.providers[t]},setProviderId(t,e){e&&(xc.providerIds[t]=e)},getProviderId(t){if(t)return xc.providerIds[t]},reset(){xc.providers={...Xk},xc.providerIds={...Xk}},resetChain(t){xc.providers[t]=void 0,xc.providerIds[t]=void 0}},Lg={VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},wy={filterOutDuplicatesByRDNS(t){const e=Ce.state.enableEIP6963?Ne.state.connectors:[],n=wt.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&Be.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=Ne.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=wt.getRecentWallets(),r=e.map(a=>a.explorerId),i=n.map(a=>a.id),s=r.concat(i);return t.filter(a=>!s.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Ne.state,{featuredWalletIds:n}=Ce.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=Ce.state.features)==null?void 0:c.connectMethodsOrder),r=e||Ne.state.connectors;if(n)return n;const{injected:i,announced:s}=Cp.getConnectorsByType(r,We.state.recommended,We.state.featured),o=i.filter(Cp.showConnector),a=s.filter(Cp.showConnector);return o.length||a.length?["wallet","email","social"]:Lg.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&We.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&We.state.excludedWallets.some(r=>vH.isLowerCaseMatch(r.name,t.name));return e||n}},Cp={getConnectorsByType(t,e,n){const{customWallets:r}=Ce.state,i=wt.getRecentWallets(),s=wy.filterOutDuplicateWallets(e),o=wy.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){var i;const e=(i=t.info)==null?void 0:i.rdns,n=!!e&&We.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===e),r=!!t.name&&We.state.excludedWallets.some(s=>vH.isLowerCaseMatch(s.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Be.isMobile()||Be.isMobile()&&!e&&!Ge.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(X.state.chains.values()).some(n=>Ne.getConnectorId(n.namespace)===Pt.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=Ce.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=Cp.getIsConnectedWithWC(),f=[{type:"walletConnect",isEnabled:Ce.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(w=>w.isEnabled),g=new Set(f.map(w=>w.type)),m=c.filter(w=>g.has(w)).map(w=>({type:w,isEnabled:!0})),y=f.filter(({type:w})=>!m.some(({type:v})=>v===w));return Array.from(new Set([...m,...y].map(({type:w})=>w)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$=globalThis,xH=e$.ShadowRoot&&(e$.ShadyCSS===void 0||e$.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,EH=Symbol(),F6e=new WeakMap;let z6e=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==EH)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(xH&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=F6e.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&F6e.set(n,e))}return e}toString(){return this.cssText}};const fu=t=>new z6e(typeof t=="string"?t:t+"",void 0,EH),Bt=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new z6e(n,t,EH)},zMt=(t,e)=>{if(xH)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),i=e$.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)}},W6e=xH?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return fu(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:WMt,defineProperty:qMt,getOwnPropertyDescriptor:HMt,getOwnPropertyNames:VMt,getOwnPropertySymbols:KMt,getPrototypeOf:GMt}=Object,Bg=globalThis,q6e=Bg.trustedTypes,ZMt=q6e?q6e.emptyScript:"",CH=Bg.reactiveElementPolyfillSupport,uE=(t,e)=>t,t$={toAttribute(t,e){switch(e){case Boolean:t=t?ZMt:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},_H=(t,e)=>!WMt(t,e),H6e={attribute:!0,type:String,converter:t$,reflect:!1,useDefault:!1,hasChanged:_H};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Bg.litPropertyMetadata??(Bg.litPropertyMetadata=new WeakMap);let d3=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=H6e){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&qMt(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:s}=HMt(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i==null?void 0:i.call(this);s==null||s.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??H6e}static _$Ei(){if(this.hasOwnProperty(uE("elementProperties")))return;const e=GMt(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(uE("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(uE("properties"))){const n=this.properties,r=[...VMt(n),...KMt(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(W6e(i))}else e!==void 0&&n.push(W6e(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return zMt(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var s;const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:t$).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,n){var s,o;const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=r.getPropertyOptions(i),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:t$;this._$Em=i;const l=c.fromAttribute(n,a.type);this[i]=l??((o=this._$Ej)==null?void 0:o.get(i))??l,this._$Em=null}}requestUpdate(e,n,r,i=!1,s){var o;if(e!==void 0){const a=this.constructor;if(i===!1&&(s=this[e]),r??(r=a.getPropertyOptions(e)),!((r.hasChanged??_H)(s,n)||r.useDefault&&r.reflect&&s===((o=this._$Ej)==null?void 0:o.get(e))&&!this.hasAttribute(a._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i){const{wrapped:a}=o,c=this[s];a!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};d3.elementStyles=[],d3.shadowRootOptions={mode:"open"},d3[uE("elementProperties")]=new Map,d3[uE("finalized")]=new Map,CH==null||CH({ReactiveElement:d3}),(Bg.reactiveElementVersions??(Bg.reactiveElementVersions=[])).push("2.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const dE=globalThis,V6e=t=>t,n$=dE.trustedTypes,K6e=n$?n$.createPolicy("lit-html",{createHTML:t=>t}):void 0,G6e="$lit$",Ug=`lit$${Math.random().toFixed(9).slice(2)}$`,Z6e="?"+Ug,YMt=`<${Z6e}>`,vy=document,hE=()=>vy.createComment(""),fE=t=>t===null||typeof t!="object"&&typeof t!="function",AH=Array.isArray,JMt=t=>AH(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",SH=`[ 	
\f\r]`,pE=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Y6e=/-->/g,J6e=/>/g,by=RegExp(`>|${SH}(?:([^\\s"'>=/]+)(${SH}*=${SH}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Q6e=/'/g,X6e=/"/g,e4e=/^(?:script|style|textarea|title)$/i,t4e=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),re=t4e(1),Ke=t4e(2),_p=Symbol.for("lit-noChange"),Oi=Symbol.for("lit-nothing"),n4e=new WeakMap,xy=vy.createTreeWalker(vy,129);function r4e(t,e){if(!AH(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return K6e!==void 0?K6e.createHTML(e):e}const QMt=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=pE;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===pE?u[1]==="!--"?o=Y6e:u[1]!==void 0?o=J6e:u[2]!==void 0?(e4e.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=by):u[3]!==void 0&&(o=by):o===by?u[0]===">"?(o=i??pE,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?by:u[3]==='"'?X6e:Q6e):o===X6e||o===Q6e?o=by:o===Y6e||o===J6e?o=pE:(o=by,i=void 0);const f=o===by&&t[a+1].startsWith("/>")?" ":"";s+=o===pE?c+YMt:d>=0?(r.push(l),c.slice(0,d)+G6e+c.slice(d)+Ug+f):c+Ug+(d===-2?a:f)}return[r4e(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class gE{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=QMt(e,n);if(this.el=gE.createElement(l,r),xy.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=xy.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(G6e)){const h=u[o++],f=i.getAttribute(d).split(Ug),g=/([.?@])?(.*)/.exec(h);c.push({type:1,index:s,name:g[2],strings:f,ctor:g[1]==="."?ejt:g[1]==="?"?tjt:g[1]==="@"?njt:r$}),i.removeAttribute(d)}else d.startsWith(Ug)&&(c.push({type:6,index:s}),i.removeAttribute(d));if(e4e.test(i.tagName)){const d=i.textContent.split(Ug),h=d.length-1;if(h>0){i.textContent=n$?n$.emptyScript:"";for(let f=0;f<h;f++)i.append(d[f],hE()),xy.nextNode(),c.push({type:2,index:++s});i.append(d[h],hE())}}}else if(i.nodeType===8)if(i.data===Z6e)c.push({type:2,index:s});else{let d=-1;for(;(d=i.data.indexOf(Ug,d+1))!==-1;)c.push({type:7,index:s}),d+=Ug.length-1}s++}}static createElement(e,n){const r=vy.createElement("template");return r.innerHTML=e,r}}function h3(t,e,n=t,r){var o,a;if(e===_p)return e;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=fE(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(e=h3(t,i._$AS(t,e.values),i,r)),e}class XMt{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=((e==null?void 0:e.creationScope)??vy).importNode(n,!0);xy.currentNode=i;let s=xy.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new mE(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new rjt(s,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(s=xy.nextNode(),o++)}return xy.currentNode=vy,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class mE{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=Oi,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=h3(this,e,n),fE(e)?e===Oi||e==null||e===""?(this._$AH!==Oi&&this._$AR(),this._$AH=Oi):e!==this._$AH&&e!==_p&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):JMt(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Oi&&fE(this._$AH)?this._$AA.nextSibling.data=e:this.T(vy.createTextNode(e)),this._$AH=e}$(e){var s;const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=gE.createElement(r4e(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new XMt(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=n4e.get(e.strings);return n===void 0&&n4e.set(e.strings,n=new gE(e)),n}k(e){AH(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new mE(this.O(hE()),this.O(hE()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e!==this._$AB;){const i=V6e(e).nextSibling;V6e(e).remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class r${get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=Oi,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Oi}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=h3(this,e,n,0),o=!fE(e)||e!==this._$AH&&e!==_p,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=h3(this,a[r+c],n,c),l===_p&&(l=this._$AH[c]),o||(o=!fE(l)||l!==this._$AH[c]),l===Oi?e=Oi:e!==Oi&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===Oi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class ejt extends r${constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Oi?void 0:e}}class tjt extends r${constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Oi)}}class njt extends r${constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=h3(this,e,n,0)??Oi)===_p)return;const r=this._$AH,i=e===Oi&&r!==Oi||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==Oi&&(r===Oi||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class rjt{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){h3(this,e)}}const IH=dE.litHtmlPolyfillSupport;IH==null||IH(gE,mE),(dE.litHtmlVersions??(dE.litHtmlVersions=[])).push("3.3.2");const ijt=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new mE(e.insertBefore(hE(),s),s,void 0,n??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ey=globalThis;let vt=class extends d3{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=ijt(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return _p}};vt._$litElement$=!0,vt.finalized=!0,(nEe=Ey.litElementHydrateSupport)==null||nEe.call(Ey,{LitElement:vt});const kH=Ey.litElementPolyfillSupport;kH==null||kH({LitElement:vt}),(Ey.litElementVersions??(Ey.litElementVersions=[])).push("4.2.2");let yE,Fg,zg;function sjt(t,e){yE=document.createElement("style"),Fg=document.createElement("style"),zg=document.createElement("style"),yE.textContent=f3(t).core.cssText,Fg.textContent=f3(t).dark.cssText,zg.textContent=f3(t).light.cssText,document.head.appendChild(yE),document.head.appendChild(Fg),document.head.appendChild(zg),i4e(e)}function i4e(t){Fg&&zg&&(t==="light"?(Fg.removeAttribute("media"),zg.media="enabled"):(zg.removeAttribute("media"),Fg.media="enabled"))}function ojt(t){yE&&Fg&&zg&&(yE.textContent=f3(t).core.cssText,Fg.textContent=f3(t).dark.cssText,zg.textContent=f3(t).light.cssText)}function f3(t){return{core:Bt`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${fu(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${fu((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${fu((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${fu((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${fu((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Bt`
      :root {
        --w3m-color-mix: ${fu((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${fu(xg(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${fu(xg(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Bt`
      :root {
        --w3m-color-mix: ${fu((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${fu(xg(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${fu(xg(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Qn=Bt`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,ho=Bt`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,wE=Bt`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Ms={getSpacingStyles(t,e){if(Array.isArray(t))return t[e]?`var(--wui-spacing-${t[e]})`:void 0;if(typeof t=="string")return`var(--wui-spacing-${t})`},getFormattedDate(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)},getHostName(t){try{return new URL(t).hostname}catch{return""}},getTruncateString({string:t,charsStart:e,charsEnd:n,truncate:r}){return t.length<=e+n?t:r==="end"?`${t.substring(0,e)}...`:r==="start"?`...${t.substring(t.length-n)}`:`${t.substring(0,Math.floor(e))}...${t.substring(t.length-Math.floor(n))}`},generateAvatarColors(t){const n=t.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),r=this.hexToRgb(n),i=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),o=100-3*Number(i==null?void 0:i.replace("px","")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){const u=this.tintColor(r,.15*l);c.push(`rgb(${u[0]}, ${u[1]}, ${u[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(t){const e=parseInt(t,16),n=e>>16&255,r=e>>8&255,i=e&255;return[n,r,i]},tintColor(t,e){const[n,r,i]=t,s=Math.round(n+(255-n)*e),o=Math.round(r+(255-r)*e),a=Math.round(i+(255-i)*e);return[s,o,a]},isNumber(t){return{number:/^[0-9]+$/u}.number.test(t)},getColorTheme(t){var e;return t||(typeof window<"u"&&window.matchMedia?(e=window.matchMedia("(prefers-color-scheme: dark)"))!=null&&e.matches?"dark":"light":"dark")},splitBalance(t){const e=t.split(".");return e.length===2?[e[0],e[1]]:["0","00"]},roundNumber(t,e,n){return t.toString().length>=e?Number(t).toFixed(n):t},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})}};function ajt(t,e){const{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(i){customElements.get(t)||customElements.define(t,i)}}}function cjt(t,e){return customElements.get(t)||customElements.define(t,e),e}function mt(t){return function(n){return typeof n=="function"?cjt(t,n):ajt(t,n)}}const vE={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};function bE(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const s4e=bE({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),o4e=bE({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});bE({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),bE({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),bE({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const ljt={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},i$={getMethodsByChainNamespace(t){return ljt[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>r.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>r.add(i)),e.events&&Object.keys(e.events).forEach(i=>r.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=r[o];switch(u.chains.push(l),l){case s4e.caipNetworkId:u.chains.push(s4e.deprecatedCaipNetworkId);break;case o4e.caipNetworkId:u.chains.push(o4e.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await Ax.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const s=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class a4e{constructor({provider:e,namespace:n}){this.id=Pt.CONNECTOR_ID.WALLET_CONNECT,this.name=Qk.ConnectorNamesMap[Pt.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Qk.ConnectorImageIds[Pt.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=X.getCaipNetworks.bind(X),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=Ce.state.universalProviderConfigOverride,i=i$.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return uy.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:ujt})}}const ujt=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class djt{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>X.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:Pt.CONNECTOR_ID.AUTH,type:"AUTH",name:Pt.CONNECTOR_NAMES.AUTH,provider:e,imageId:Qk.ConnectorImageIds[Pt.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){_t.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(i=>i(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var s;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(i&&r==="AUTH"){const o=i,a=(s=_t.state.preferredAccountTypes)==null?void 0:s[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof a4e);if(!e)throw new Error("WalletConnectConnector not found");return e}}class hjt extends djt{setUniversalProvider(e){this.addConnector(new a4e({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var i,s,o,a;const n=this.provider,r=((a=(o=(s=(i=n==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>Be.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var s,o,a,c,l;if(!(e.caipNetwork&&dr.BALANCE_SUPPORTED_CHAINS.includes((s=e.caipNetwork)==null?void 0:s.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(_t.state.balanceLoading&&e.chainId===((c=X.state.activeCaipNetwork)==null?void 0:c.id))return{balance:_t.state.balance||"0.00",symbol:_t.state.balanceSymbol||""};const i=(await _t.fetchTokenBalance()).find(u=>{var d,h;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return((o=X.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===Pt.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:p1.encode(new TextEncoder().encode(r)),pubkey:i}},(a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},(c=X.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var i,s,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===Pt.CHAIN.EVM)try{await((i=r.provider)==null?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:sr(n.id)}]}))}catch(u){if(u.code===vE.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===vE.ERROR_INVALID_CHAIN_ID||u.code===vE.ERROR_CODE_DEFAULT||((o=(s=u==null?void 0:u.data)==null?void 0:s.originalError)==null?void 0:o.code)===vE.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:sr(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const fjt=["email","socials","swaps","onramp","activity","reownBranding"],s$={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?dr.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?dr.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?dr.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?dr.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?dr.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?dr.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?dr.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?dr.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?dr.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},pjt={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=s$[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,i){const s=s$[t],o=e[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(s.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return s$[t].processApi(e)},processFallbackFeature(t,e){return s$[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,i=!1;try{r=await We.fetchProjectConfig(),i=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!e?dr.DEFAULT_REMOTE_FEATURES:dr.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of fjt){const a=this.processFeature(o,n,r,i,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),dr.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;dd.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return s}};class gjt{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var i,s,o,a;if(n){const c=(s=(i=X.getNetworkData(n))==null?void 0:i.requestedCaipNetworks)==null?void 0:s.find(d=>d.id===r);if(c)return c;const l=(o=X.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=X.getRequestedCaipNetworks(n).filter(d=>d.chainNamespace===n))==null?void 0:a[0])}return X.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>X.getCaipNetworks(n),this.getActiveChainNamespace=()=>X.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{X.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>X.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>X.state.activeChain===n||!n?X.state.activeCaipAddress:X.getAccountProp("caipAddress",n),this.setClientId=n=>{Ft.setClientId(n)},this.getProvider=n=>li.getProvider(n),this.getProviderType=n=>li.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=_t.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{_t.setCaipAddress(n,r),n&&Ce.state.enableEmbedded&&this.close()},this.setBalance=(n,r,i)=>{_t.setBalance(n,r,i)},this.setProfileName=(n,r)=>{_t.setProfileName(n,r)},this.setProfileImage=(n,r)=>{_t.setProfileImage(n,r)},this.setUser=(n,r)=>{_t.setUser(n,r)},this.resetAccount=n=>{_t.resetAccount(n)},this.setCaipNetwork=n=>{X.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{X.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{_t.setAllAccounts(n,r),Ce.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{_t.setStatus(n,r),Ne.isConnected()?wt.setConnectionStatus("connected"):wt.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>X.getAccountProp("address",n),this.setConnectors=n=>{const r=[...Ne.state.allConnectors,...n];Ne.setConnectors(r)},this.setConnections=(n,r)=>{Ge.setConnections(n,r)},this.fetchIdentity=n=>Ft.fetchIdentity(n),this.getReownName=n=>Ax.getNamesForAddress(n),this.getConnectors=()=>Ne.getConnectors(),this.getConnectorImage=n=>ds.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const i=li.getProviderId(r),s=n?{...n,type:i}:void 0;_t.setConnectedWalletInfo(s,r)},this.getIsConnectedState=()=>!!X.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{_t.addAddressLabel(n,r,i)},this.removeAddressLabel=(n,r)=>{_t.removeAddressLabel(n,r)},this.getAddress=n=>X.state.activeChain===n||!n?_t.state.address:X.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>X.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{X.resetNetwork(n)},this.addConnector=n=>{Ne.addConnector(n)},this.resetWcConnection=()=>{Ge.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{_t.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{_t.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{X.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{_t.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{Ce.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(s=>s.namespace).filter(s=>!!s);if(r!=null&&r.length)return[...new Set(r)];const i=n==null?void 0:n.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){var n,r,i;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await pjt.fetchRemoteFeatures(e),Ce.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&gW.setOnrampProviders(this.remoteFeatures.onramp),((n=Ce.state.remoteFeatures)!=null&&n.email||Array.isArray((r=Ce.state.remoteFeatures)==null?void 0:r.socials)&&((i=Ce.state.remoteFeatures)==null?void 0:i.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const e=await We.fetchAllowedOrigins();if(e&&Be.isClient()){const n=window.location.origin;i$.isOriginAllowed(n,e,vE.DEFAULT_ALLOWED_ANCESTORS)||dd.open(l3.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else dd.open(l3.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,En.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(i=>i.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&so.setThemeMode(e.themeMode),e.themeVariables&&so.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");X.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&X.setActiveCaipNetwork(n)}initializeConnectionController(e){Ge.setWcBasic(e.basic??!1)}initializeConnectorController(){Ne.initialize(this.chainNamespaces)}initializeProjectSettings(e){Ce.setProjectId(e.projectId),Ce.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var o;Ce.setDebug(e.debug!==!1),Ce.setEnableWalletConnect(e.enableWalletConnect!==!1),Ce.setEnableWalletGuide(e.enableWalletGuide!==!1),Ce.setEnableWallets(e.enableWallets!==!1),Ce.setEIP6963Enabled(e.enableEIP6963!==!1),Ce.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Ce.setEnableAuthLogger(e.enableAuthLogger!==!1),Ce.setCustomRpcUrls(e.customRpcUrls),Ce.setEnableEmbedded(e.enableEmbedded),Ce.setAllWallets(e.allWallets),Ce.setIncludeWalletIds(e.includeWalletIds),Ce.setExcludeWalletIds(e.excludeWalletIds),Ce.setFeaturedWalletIds(e.featuredWalletIds),Ce.setTokens(e.tokens),Ce.setTermsConditionsUrl(e.termsConditionsUrl),Ce.setPrivacyPolicyUrl(e.privacyPolicyUrl),Ce.setCustomWallets(e.customWallets),Ce.setFeatures(e.features),Ce.setAllowUnsupportedChain(e.allowUnsupportedChain),Ce.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Ce.setPreferUniversalLinks(e.experimental_preferUniversalLinks),Ce.setDefaultAccountTypes(e.defaultAccountTypes);const n=wt.getPreferredAccountTypes()||{},r={...Ce.state.defaultAccountTypes,...n};_t.setPreferredAccountTypes(r);const i=this.getDefaultMetaData();if(!e.metadata&&i&&(e.metadata=i),Ce.setMetadata(e.metadata),Ce.setDisableAppend(e.disableAppend),Ce.setEnableEmbedded(e.enableEmbedded),Ce.setSIWX(e.siwx),!e.projectId){dd.open(l3.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===Pt.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Ce.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,i;return Be.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((i=document.querySelector('link[rel~="icon"]'))==null?void 0:i.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=u3.getUnsupportedNetwork(`${n}:${e}`);X.setActiveCaipNetwork(r)}}getDefaultNetwork(){return u3.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return u3.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return u3.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>{var s;return i.id===((s=e.defaultNetwork)==null?void 0:s.id)});return n?u3.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=li.getProvider(e),i=li.getProviderId(e),{caipAddress:s}=X.getAccountData(e)||{};this.setLoading(!0,e),s&&(n!=null&&n.disconnect)&&await n.disconnect({provider:r,providerType:i}),wt.removeConnectedNamespace(e),li.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),Ne.removeConnectorId(e),X.resetAccount(e),X.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var s;const e=X.state.activeChain,n=this.getAdapter(e),r=(s=this.getCaipNetwork(e))==null?void 0:s.id;if(!n)throw new Error("Adapter not found");const i=await n.connectWalletConnect(r);this.close(),this.setClientId((i==null?void 0:i.clientId)||null),wt.setConnectedNamespaces([...X.state.chains.keys()]),this.chainNamespaces.forEach(o=>{Ne.setConnectorId(Dg.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:i,chain:s,caipNetwork:o,socialUri:a})=>{var m,y,w,b,v,E;const c=X.state.activeChain,l=s||c,u=this.getAdapter(l);if(s&&s!==c&&!o){const _=this.getCaipNetworks().find(O=>O.chainNamespace===s);_&&this.setCaipNetwork(_)}if(!u)throw new Error("Adapter not found");const d=this.getCaipNetwork(l),h=await u.connect({id:e,info:n,type:r,provider:i,socialUri:a,chainId:(o==null?void 0:o.id)||(d==null?void 0:d.id),rpcUrl:((w=(y=(m=o==null?void 0:o.rpcUrls)==null?void 0:m.default)==null?void 0:y.http)==null?void 0:w[0])||((E=(v=(b=d==null?void 0:d.rpcUrls)==null?void 0:b.default)==null?void 0:v.http)==null?void 0:E[0])});if(!h)return;wt.addConnectedNamespace(l),this.syncProvider({...h,chainNamespace:l});const f=_t.state.allAccounts,{accounts:g}=(f==null?void 0:f.length)>0?{accounts:[...f]}:await u.getAccounts({namespace:l,id:e});this.setAllAccounts(g,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:n,type:r,provider:i})=>{var a;const s=X.state.activeChain,o=this.getAdapter(s);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:i,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),wt.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const n=LMt(e);try{const r=await Promise.allSettled(n.map(async([s])=>this.disconnectNamespace(s)));Jn.resetSend(),Ge.resetWcConnection(),await uy.clearSessions(),Ne.setFilterByNamespace(void 0);const i=r.filter(s=>s.status==="rejected");if(i.length>0)throw new Error(i.map(s=>s.reason.message).join(", "));wt.deleteConnectedSocialProvider(),En.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(X.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:_t.state.address,provider:li.getProvider(X.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(dr.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(X.state.activeChain),i=li.getProvider(n),s=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}));return(s==null?void 0:s.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===Pt.CHAIN.EVM){const n=this.getAdapter(X.state.activeChain),r=li.getProvider(X.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");const s=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:i}));return(s==null?void 0:s.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:_t.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:X.state.activeChain}),_t.state.profileImage||!1},getEnsAddress:async e=>await i$.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(X.state.activeChain),r=this.getCaipNetwork(),i=this.getCaipAddress(),s=li.getProvider(X.state.activeChain);if(!r||!i)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:s,caipAddress:i}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(X.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(X.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(X.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(X.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(X.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(X.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!_t.state.address||this.updateNativeBalance(_t.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Ge.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,i,s,o;if(li.getProviderId(X.state.activeChain)===Dg.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(s=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:s.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=li.getProvider(n),s=li.getProviderId(n);if(e.chainNamespace===X.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:i,providerType:s}))}else if(this.setCaipNetwork(e),s===Dg.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=bg.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var s;const i=e==null?void 0:e.find(o=>o.namespace===r);return i?(i.construct({namespace:r,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),n[r]=i):n[r]=new hjt({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=wt.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(wt.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id===s||l.caipNetworkId===s),a=X.state.activeChain===e,c=X.getAccountProp("address",e);if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",i=>{this.setConnections(i,e)}),n.on("pendingTransactions",()=>{const i=_t.state.address,s=X.state.activeCaipNetwork;!i||!(s!=null&&s.id)||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s})=>{var a,c;const o=X.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&((a=X.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:i,chainId:(c=X.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(i,s,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,i;await this.getUniversalProvider(),this.universalProvider&&((i=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||i.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===Pt.CHAIN.EVM&&Be.isSafeApp()&&Ne.setConnectorId(Pt.CONNECTOR_ID.SAFE,e);const n=Ne.getConnectorId(e);switch(this.setStatus("connecting",e),n){case Pt.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Pt.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var a,c,l;const n=this.getAdapter(e),r=Ne.getConnectorId(e),i=this.getCaipNetwork(e),o=Ne.getConnectors(e).find(u=>u.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(i!=null&&i.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:i.id,rpcUrl:(l=(c=(a=i==null?void 0:i.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));if(u){const d=await(n==null?void 0:n.getAccounts({namespace:e,id:o.id}));d&&d.accounts.length>0?this.setAllAccounts(d.accounts,e):this.setAllAccounts([Be.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{var a,c,l,u,d;const r=this.getAdapter(n),i=((u=(l=(c=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:l[n])==null?void 0:u.accounts)||[],s=(d=X.state.activeCaipNetwork)==null?void 0:d.id,o=i.find(h=>{const{chainId:f}=bg.parseCaipAddress(h);return f===(s==null?void 0:s.toString())})||i[0];if(o){const h=bg.validateCaipAddress(o),{chainId:f,address:g}=bg.parseCaipAddress(h);if(li.setProviderId(n,Dg.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&X.state.activeCaipNetwork&&(r==null?void 0:r.namespace)!==Pt.CHAIN.EVM){const m=r==null?void 0:r.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:X.state.activeCaipNetwork});li.setProvider(n,m)}else li.setProvider(n,this.universalProvider);Ne.setConnectorId(Pt.CONNECTOR_ID.WALLET_CONNECT,n),wt.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:g,chainId:f,chainNamespace:n})}else this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await X.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){var r,i,s,o,a;const n=(a=(o=(s=(i=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=bg.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>Be.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:i}){li.setProviderId(i,e),li.setProvider(i,n),Ne.setConnectorId(r,i)}async syncAllAccounts(e){const n=Ne.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),i=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));i&&i.accounts.length>0&&this.setAllAccounts(i.accounts,e)}async syncAccount(e){var d,h;const n=e.chainNamespace===X.state.activeChain,r=X.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=wt.getActiveNetworkProps(),c=s||a,l=((d=X.state.activeCaipNetwork)==null?void 0:d.name)===Pt.UNSUPPORTED_NETWORK_NAME,u=X.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(y=>y.id.toString()===c.toString()),g=this.getCaipNetworks().find(y=>y.chainNamespace===o);if(!u&&!f&&!g){const y=this.getApprovedCaipNetworkIds()||[],w=y.find(v=>{var E;return((E=bg.parseCaipNetworkId(v))==null?void 0:E.chainId)===c.toString()}),b=y.find(v=>{var E;return((E=bg.parseCaipNetworkId(v))==null?void 0:E.chainNamespace)===o});f=this.getCaipNetworks().find(v=>v.caipNetworkId===w),g=this.getCaipNetworks().find(v=>v.caipNetworkId===b||"deprecatedCaipNetworkId"in v&&v.deprecatedCaipNetworkId===b)}const m=f||g;(m==null?void 0:m.chainNamespace)===X.state.activeChain?Ce.state.enableNetworkSwitch&&!Ce.state.allowUnsupportedChain&&((h=X.state.activeCaipNetwork)==null?void 0:h.name)===Pt.UNSUPPORTED_NETWORK_NAME?X.showUnsupportedChainUI():this.setCaipNetwork(m):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),vH.isLowerCaseMatch(i,_t.state.address)||this.syncAccountInfo(i,m==null?void 0:m.id,o),n?await this.syncBalance({address:i,chainId:m==null?void 0:m.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const i=this.getCaipAddress(r),s=n||(i==null?void 0:i.split(":")[1]);if(!s)return;const o=`${r}:${s}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:s,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var i;const n=Ne.getConnectorId(e),r=li.getProviderId(e);if(r===Dg.CONNECTOR_TYPE_ANNOUNCED||r===Dg.CONNECTOR_TYPE_INJECTED){if(n){const s=this.getConnectors().find(o=>o.id===n);if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===Dg.CONNECTOR_TYPE_WALLET_CONNECT){const s=li.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(i=s.session.peer.metadata.icons)==null?void 0:i[0]},e)}else if(n&&n===Pt.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(o=>o.id===Pt.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(s)},e)}}async syncBalance(e){!Hve.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var i;return r.id.toString()===((i=e.chainId)==null?void 0:i.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const i=this.getAdapter(r),s=X.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:e,chainId:n,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,i,s,o,a,c,l,u,d,h;const e=UMt.createLogger((f,...g)=>{f&&this.handleAlertError(f),console.error(...g)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(s=this.options)==null?void 0:s.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};Ce.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await DMt.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Ge.setUri(e)}),this.universalProvider.on("connect",Ge.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Ge.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(i=>i.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(i$.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&Be.isCaipAddress(r[0])&&this.syncAccount(bg.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Be.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){En.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(l3.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=l3.ALERT_ERRORS[o];a&&(dd.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var i;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&Ge.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return tr.open({...e,data:{swap:e.arguments}})}return tr.open(e)}async close(){await this.injectModalUi(),tr.close()}setLoading(e,n){tr.setLoading(e,n)}async disconnect(e){await Ge.disconnect(e)}getSIWX(){return Ce.state.siwx}getError(){return""}getChainId(){var e;return(e=X.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){dd.open(l3.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await X.switchActiveNetwork(n)}getWalletProvider(){return X.state.activeChain?li.state.providers[X.state.activeChain]:null}getWalletProviderType(){return li.getProviderId(X.state.activeChain)}subscribeProviders(e){return li.subscribeProviders(e)}getThemeMode(){return so.state.themeMode}getThemeVariables(){return so.state.themeVariables}setThemeMode(e){so.setThemeMode(e),i4e(so.state.themeMode)}setTermsConditionsUrl(e){Ce.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Ce.setPrivacyPolicyUrl(e)}setThemeVariables(e){so.setThemeVariables(e),ojt(so.state.themeVariables)}subscribeTheme(e){return so.subscribe(e)}getWalletInfo(){return _t.state.connectedWalletInfo}getAccount(e){var o;const n=Ne.getAuthConnector(e),r=X.getAccountData(e),i=X.state.activeChain,s=wt.getConnectedConnectorId(e||i);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:Be.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&s===Pt.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:wt.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(o=r.preferredAccountTypes)==null?void 0:o[e||i],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const i=this.getAccount(n);i&&e(i)};n?X.subscribeChainProp("accountState",r,n):X.subscribe(r),Ne.subscribe(r)}subscribeNetwork(e){return X.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e){return _t.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){_t.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){X.subscribeKey("activeCaipNetwork",e)}getState(){return Ag.state}subscribeState(e){return Ag.subscribe(e)}showErrorMessage(e){$i.showError(e)}showSuccessMessage(e){$i.showSuccess(e)}getEvent(){return{...En.state}}subscribeEvents(e){return En.subscribe(e)}replace(e){ze.replace(e)}redirect(e){ze.push(e)}popTransactionStack(e){ze.popTransactionStack(e)}isOpen(){return tr.state.open}isTransactionStackEmpty(){return ze.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){Ce.setFeatures(e)}updateRemoteFeatures(e){Ce.setRemoteFeatures(e)}updateOptions(e){const r={...Ce.state||{},...e};Ce.setOptions(r)}setConnectMethodsOrder(e){Ce.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Ce.setWalletFeaturesOrder(e)}setCollapseWallets(e){Ce.setCollapseWallets(e)}setSocialsOrder(e){Ce.setSocialsOrder(e)}getConnectMethodsOrder(){return wy.getConnectOrderMethod(Ce.state.features,Ne.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||X.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&X.removeNetwork(e,n)}}let c4e=!1;class l4e extends gjt{async open(e){Ne.isConnected()||await super.open(e)}async close(){await super.close(),this.options.manualWCControl&&Ge.finalizeWcConnection()}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!c4e&&Be.isClient()){if(await De(()=>Promise.resolve().then(()=>Jzt),void 0),await De(()=>Promise.resolve().then(()=>fWt),void 0),!document.querySelector("w3m-modal")){const n=document.createElement("w3m-modal");!Ce.state.disableAppend&&!Ce.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",n)}c4e=!0}}}const mjt="1.7.8";function yjt(t){return new l4e({...t,basic:!0,sdkVersion:`html-core-${mjt}`})}const wjt=Object.freeze(Object.defineProperty({__proto__:null,AppKit:l4e,createAppKit:yjt},Symbol.toStringTag,{value:"Module"}));function vjt(t){return new TextEncoder().encode(t)}function Bh(t){const e=new Uint8Array(t);let n="";for(const i of e)n+=String.fromCharCode(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function o$(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4,r=e.padEnd(e.length+n,"="),i=atob(r),s=new ArrayBuffer(i.length),o=new Uint8Array(s);for(let a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return s}function a$(){return(window==null?void 0:window.PublicKeyCredential)!==void 0&&typeof window.PublicKeyCredential=="function"}function u4e(t){const{id:e}=t;return{...t,id:o$(e),transports:t.transports}}function d4e(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}class fo extends Error{constructor({message:e,code:n,cause:r,name:i}){super(e,{cause:r}),this.name=i??r.name,this.code=n}}function bjt({error:t,options:e}){var r,i;const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fo({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=n.authenticatorSelection)==null?void 0:r.requireResidentKey)===!0)return new fo({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(((i=n.authenticatorSelection)==null?void 0:i.userVerification)==="required")return new fo({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fo({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fo({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return n.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new fo({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fo({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(d4e(s)){if(n.rp.id!==s)return new fo({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fo({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new fo({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fo({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return t}class xjt{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const $H=new xjt,Ejt=["cross-platform","platform"];function h4e(t){if(t&&!(Ejt.indexOf(t)<0))return t}async function Cjt(t){var h;if(!a$())throw new Error("WebAuthn is not supported in this browser");const n={publicKey:{...t,challenge:o$(t.challenge),user:{...t.user,id:vjt(t.user.id)},excludeCredentials:(h=t.excludeCredentials)==null?void 0:h.map(u4e)}};n.signal=$H.createNewAbortSignal();let r;try{r=await navigator.credentials.create(n)}catch(f){throw bjt({error:f,options:n})}if(!r)throw new Error("Registration was not completed");const{id:i,rawId:s,response:o,type:a}=r;let c;typeof o.getTransports=="function"&&(c=o.getTransports());let l;if(typeof o.getPublicKeyAlgorithm=="function")try{l=o.getPublicKeyAlgorithm()}catch(f){TH("getPublicKeyAlgorithm()",f)}let u;if(typeof o.getPublicKey=="function")try{const f=o.getPublicKey();f!==null&&(u=Bh(f))}catch(f){TH("getPublicKey()",f)}let d;if(typeof o.getAuthenticatorData=="function")try{d=Bh(o.getAuthenticatorData())}catch(f){TH("getAuthenticatorData()",f)}return{id:i,rawId:Bh(s),response:{attestationObject:Bh(o.attestationObject),clientDataJSON:Bh(o.clientDataJSON),transports:c,publicKeyAlgorithm:l,publicKey:u,authenticatorData:d},type:a,clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:h4e(r.authenticatorAttachment)}}function TH(t,e){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${t}. You should report this error to them.
`,e)}function _jt(t){return new TextDecoder("utf-8").decode(t)}function f4e(){const t=window.PublicKeyCredential;return t.isConditionalMediationAvailable===void 0?new Promise(e=>e(!1)):t.isConditionalMediationAvailable()}function Ajt({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fo({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fo({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(d4e(r)){if(n.rpId!==r)return new fo({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fo({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fo({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return t}async function Sjt(t,e=!1){var d,h;if(!a$())throw new Error("WebAuthn is not supported in this browser");let n;((d=t.allowCredentials)==null?void 0:d.length)!==0&&(n=(h=t.allowCredentials)==null?void 0:h.map(u4e));const r={...t,challenge:o$(t.challenge),allowCredentials:n},i={};if(e){if(!await f4e())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');i.mediation="conditional",r.allowCredentials=[]}i.publicKey=r,i.signal=$H.createNewAbortSignal();let s;try{s=await navigator.credentials.get(i)}catch(f){throw Ajt({error:f,options:i})}if(!s)throw new Error("Authentication was not completed");const{id:o,rawId:a,response:c,type:l}=s;let u;return c.userHandle&&(u=_jt(c.userHandle)),{id:o,rawId:Bh(a),response:{authenticatorData:Bh(c.authenticatorData),clientDataJSON:Bh(c.clientDataJSON),signature:Bh(c.signature),userHandle:u},type:l,clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:h4e(s.authenticatorAttachment)}}function Ijt(){return a$()?PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable():new Promise(t=>t(!1))}const xE=Object.freeze(Object.defineProperty({__proto__:null,WebAuthnAbortService:$H,WebAuthnError:fo,base64URLStringToBuffer:o$,browserSupportsWebAuthn:a$,browserSupportsWebAuthnAutofill:f4e,bufferToBase64URLString:Bh,platformAuthenticatorIsAvailable:Ijt,startAuthentication:Sjt,startRegistration:Cjt},Symbol.toStringTag,{value:"Module"})),p4e={name:"@base-org/account",version:"1.1.1"},kjt="https://keys.coinbase.com/connect",g4e="https://rpc.wallet.coinbase.com",c$=p4e.name,p3=p4e.version;function m4e(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const PH=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return PH(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return PH(r)(n)}}}},$jt=(t,e)=>(n,r,i)=>{let s={storage:m4e(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...e},o=!1;const a=new Set,c=new Set;let l=s.storage;if(!l)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...m)},r,i);const u=()=>{const m=s.partialize({...r()});return l.setItem(s.name,{state:m,version:s.version})},d=i.setState;i.setState=(m,y)=>{d(m,y),u()};const h=t((...m)=>{n(...m),u()},r,i);i.getInitialState=()=>h;let f;const g=()=>{var m,y;if(!l)return;o=!1,a.forEach(b=>{var v;return b((v=r())!=null?v:h)});const w=((y=s.onRehydrateStorage)==null?void 0:y.call(s,(m=r())!=null?m:h))||void 0;return PH(l.getItem.bind(l))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate){const v=s.migrate(b.state,b.version);return v instanceof Promise?v.then(E=>[!0,E]):[!0,v]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var v;const[E,_]=b;if(f=s.merge(_,(v=r())!=null?v:h),n(f,!0),E)return u()}).then(()=>{w==null||w(f,void 0),f=r(),o=!0,c.forEach(b=>b(f))}).catch(b=>{w==null||w(void 0,b)})};return i.persist={setOptions:m=>{s={...s,...m},m.storage&&(l=m.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},s.skipHydration||g(),f||h},y4e=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,i,a);return a},NH=t=>t?y4e(t):y4e,Tjt=()=>({chains:[]}),Pjt=()=>({keys:{}}),Njt=()=>({account:{}}),Ojt=()=>({subAccount:void 0}),Rjt=()=>({subAccountConfig:{}}),Mjt=()=>({spendPermissions:[]}),jjt=()=>({config:{version:p3}}),Ri=NH($jt((...t)=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tjt(...t)),Pjt(...t)),Njt(...t)),Ojt(...t)),Mjt(...t)),jjt(...t)),Rjt(...t)),{name:"base-acc-sdk.store",storage:m4e(()=>localStorage),partialize:t=>({chains:t.chains,keys:t.keys,account:t.account,subAccount:t.subAccount,spendPermissions:t.spendPermissions,config:t.config})})),Djt={get:()=>Ri.getState().subAccountConfig,set:t=>{Ri.setState(e=>({subAccountConfig:Object.assign(Object.assign({},e.subAccountConfig),t)}))},clear:()=>{Ri.setState({subAccountConfig:{}})}},Ljt={get:()=>Ri.getState().subAccount,set:t=>{Ri.setState(e=>({subAccount:e.subAccount?Object.assign(Object.assign({},e.subAccount),t):Object.assign({address:t.address},t)}))},clear:()=>{Ri.setState({subAccount:void 0})}},Bjt={get:()=>Ri.getState().spendPermissions,set:t=>{Ri.setState({spendPermissions:t})},clear:()=>{Ri.setState({spendPermissions:[]})}},Ujt={get:()=>Ri.getState().account,set:t=>{Ri.setState(e=>({account:Object.assign(Object.assign({},e.account),t)}))},clear:()=>{Ri.setState({account:{}})}},Fjt={get:()=>Ri.getState().chains,set:t=>{Ri.setState({chains:t})},clear:()=>{Ri.setState({chains:[]})}},zjt={get:t=>Ri.getState().keys[t],set:(t,e)=>{Ri.setState(n=>({keys:Object.assign(Object.assign({},n.keys),{[t]:e})}))},clear:()=>{Ri.setState({keys:{}})}},w4e={get:()=>Ri.getState().config,set:t=>{Ri.setState(e=>({config:Object.assign(Object.assign({},e.config),t)}))}},Wjt={subAccounts:Ljt,subAccountsConfig:Djt,spendPermissions:Bjt,account:Ujt,chains:Fjt,keys:zjt,config:w4e},Qe=Object.assign(Object.assign({},Ri),Wjt),qjt='!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClientAnalytics=t():e.ClientAnalytics=t()}(this,(function(){return(()=>{var e={792:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},562:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}},e.exports=n},335:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},762:(e,t,n)=>{var r,i,a,o,s;r=n(562),i=n(792).utf8,a=n(335),o=n(792).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):i.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,d=-1732584194,p=271733878,m=0;m<n.length;m++)n[m]=16711935&(n[m]<<8|n[m]>>>24)|4278255360&(n[m]<<24|n[m]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var f=s._ff,v=s._gg,g=s._hh,b=s._ii;for(m=0;m<n.length;m+=16){var h=u,w=l,y=d,T=p;u=f(u,l,d,p,n[m+0],7,-680876936),p=f(p,u,l,d,n[m+1],12,-389564586),d=f(d,p,u,l,n[m+2],17,606105819),l=f(l,d,p,u,n[m+3],22,-1044525330),u=f(u,l,d,p,n[m+4],7,-176418897),p=f(p,u,l,d,n[m+5],12,1200080426),d=f(d,p,u,l,n[m+6],17,-1473231341),l=f(l,d,p,u,n[m+7],22,-45705983),u=f(u,l,d,p,n[m+8],7,1770035416),p=f(p,u,l,d,n[m+9],12,-1958414417),d=f(d,p,u,l,n[m+10],17,-42063),l=f(l,d,p,u,n[m+11],22,-1990404162),u=f(u,l,d,p,n[m+12],7,1804603682),p=f(p,u,l,d,n[m+13],12,-40341101),d=f(d,p,u,l,n[m+14],17,-1502002290),u=v(u,l=f(l,d,p,u,n[m+15],22,1236535329),d,p,n[m+1],5,-165796510),p=v(p,u,l,d,n[m+6],9,-1069501632),d=v(d,p,u,l,n[m+11],14,643717713),l=v(l,d,p,u,n[m+0],20,-373897302),u=v(u,l,d,p,n[m+5],5,-701558691),p=v(p,u,l,d,n[m+10],9,38016083),d=v(d,p,u,l,n[m+15],14,-660478335),l=v(l,d,p,u,n[m+4],20,-405537848),u=v(u,l,d,p,n[m+9],5,568446438),p=v(p,u,l,d,n[m+14],9,-1019803690),d=v(d,p,u,l,n[m+3],14,-187363961),l=v(l,d,p,u,n[m+8],20,1163531501),u=v(u,l,d,p,n[m+13],5,-1444681467),p=v(p,u,l,d,n[m+2],9,-51403784),d=v(d,p,u,l,n[m+7],14,1735328473),u=g(u,l=v(l,d,p,u,n[m+12],20,-1926607734),d,p,n[m+5],4,-378558),p=g(p,u,l,d,n[m+8],11,-2022574463),d=g(d,p,u,l,n[m+11],16,1839030562),l=g(l,d,p,u,n[m+14],23,-35309556),u=g(u,l,d,p,n[m+1],4,-1530992060),p=g(p,u,l,d,n[m+4],11,1272893353),d=g(d,p,u,l,n[m+7],16,-155497632),l=g(l,d,p,u,n[m+10],23,-1094730640),u=g(u,l,d,p,n[m+13],4,681279174),p=g(p,u,l,d,n[m+0],11,-358537222),d=g(d,p,u,l,n[m+3],16,-722521979),l=g(l,d,p,u,n[m+6],23,76029189),u=g(u,l,d,p,n[m+9],4,-640364487),p=g(p,u,l,d,n[m+12],11,-421815835),d=g(d,p,u,l,n[m+15],16,530742520),u=b(u,l=g(l,d,p,u,n[m+2],23,-995338651),d,p,n[m+0],6,-198630844),p=b(p,u,l,d,n[m+7],10,1126891415),d=b(d,p,u,l,n[m+14],15,-1416354905),l=b(l,d,p,u,n[m+5],21,-57434055),u=b(u,l,d,p,n[m+12],6,1700485571),p=b(p,u,l,d,n[m+3],10,-1894986606),d=b(d,p,u,l,n[m+10],15,-1051523),l=b(l,d,p,u,n[m+1],21,-2054922799),u=b(u,l,d,p,n[m+8],6,1873313359),p=b(p,u,l,d,n[m+15],10,-30611744),d=b(d,p,u,l,n[m+6],15,-1560198380),l=b(l,d,p,u,n[m+13],21,1309151649),u=b(u,l,d,p,n[m+4],6,-145523070),p=b(p,u,l,d,n[m+11],10,-1120210379),d=b(d,p,u,l,n[m+2],15,718787259),l=b(l,d,p,u,n[m+9],21,-343485551),u=u+h>>>0,l=l+w>>>0,d=d+y>>>0,p=p+T>>>0}return r.endian([u,l,d,p])})._ff=function(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._gg=function(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._hh=function(e,t,n,r,i,a,o){var s=e+(t^n^r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._ii=function(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):r.bytesToHex(n)}},2:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Perfume:()=>ze,incrementUjNavigation:()=>Le,markStep:()=>Re,markStepOnce:()=>qe});var r,i,a={isResourceTiming:!1,isElementTiming:!1,maxTime:3e4,reportOptions:{},enableNavigationTracking:!0},o=window,s=o.console,c=o.navigator,u=o.performance,l=function(){return c.deviceMemory},d=function(){return c.hardwareConcurrency},p="mark.",m=function(){return u&&!!u.getEntriesByType&&!!u.now&&!!u.mark},f="4g",v=!1,g={},b={value:0},h={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},w={value:0},y={value:0},T={},k={isHidden:!1,didChange:!1},_=function(){k.isHidden=!1,document.hidden&&(k.isHidden=document.hidden,k.didChange=!0)},S=function(e,t){try{var n=new PerformanceObserver((function(e){t(e.getEntries())}));return n.observe({type:e,buffered:!0}),n}catch(e){s.warn("Perfume.js:",e)}return null},E=function(){return!!(d()&&d()<=4)||!!(l()&&l()<=4)},x=function(e,t){switch(e){case"slow-2g":case"2g":case"3g":return!0;default:return E()||t}},O=function(e){return parseFloat(e.toFixed(4))},j=function(e){return"number"!=typeof e?null:O(e/Math.pow(1024,2))},N=function(e,t,n,r,i){var s,u=function(){a.analyticsTracker&&(k.isHidden&&!["CLS","INP"].includes(e)||a.analyticsTracker({attribution:r,metricName:e,data:t,navigatorInformation:c?{deviceMemory:l()||0,hardwareConcurrency:d()||0,serviceWorkerStatus:"serviceWorker"in c?c.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:E(),isLowEndExperience:x(f,v)}:{},rating:n,navigationType:i}))};["CLS","INP"].includes(e)?u():(s=u,"requestIdleCallback"in o?o.requestIdleCallback(s,{timeout:3e3}):s())},I=function(e){e.forEach((function(e){if(!("self"!==e.name||e.startTime<b.value)){var t=e.duration-50;t>0&&(w.value+=t,y.value+=t)}}))};!function(e){e.instant="instant",e.quick="quick",e.moderate="moderate",e.slow="slow",e.unavoidable="unavoidable"}(r||(r={}));var P,M,B,C,D,A=((i={})[r.instant]={vitalsThresholds:[100,200],maxOutlierThreshold:1e4},i[r.quick]={vitalsThresholds:[200,500],maxOutlierThreshold:1e4},i[r.moderate]={vitalsThresholds:[500,1e3],maxOutlierThreshold:1e4},i[r.slow]={vitalsThresholds:[1e3,2e3],maxOutlierThreshold:1e4},i[r.unavoidable]={vitalsThresholds:[2e3,5e3],maxOutlierThreshold:2e4},i),L={RT:[100,200],TBT:[200,600],NTBT:[200,600]},U=function(e,t){return L[e]?t<=L[e][0]?"good":t<=L[e][1]?"needsImprovement":"poor":null},R=function(e,t,n){Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=O(t[e]))})),N(e,t,null,n||{})},q=function(e){var t=e.attribution,n=e.name,r=e.rating,i=e.value,o=e.navigationType;"FCP"===n&&(b.value=i),["FCP","LCP"].includes(n)&&!T[0]&&(T[0]=S("longtask",I)),"FID"===n&&setTimeout((function(){k.didChange||(q({attribution:t,name:"TBT",rating:U("TBT",w.value),value:w.value,navigationType:o}),R("dataConsumption",h.value))}),1e4);var s=O(i);s<=a.maxTime&&s>=0&&N(n,s,r,t,o)},F=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},z=function(e){if("loading"===document.readyState)return"loading";var t=F();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},K=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},$=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?"#"+r.id:K(r)+(r.className&&r.className.length?"."+r.className.replace(/\\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},Q=-1,W=function(){return Q},H=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Q=t.timeStamp,e(t))}),!0)},V=function(){var e=F();return e&&e.activationStart||0},J=function(e,t){var n=F(),r="navigate";return W()>=0?r="back-forward-cache":n&&(r=document.prerendering||V()>0?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},X=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},G=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Z=function(e,t,n,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Y=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},ee=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},te=-1,ne=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},re=function(e){"hidden"===document.visibilityState&&te>-1&&(te="visibilitychange"===e.type?e.timeStamp:0,ae())},ie=function(){addEventListener("visibilitychange",re,!0),addEventListener("prerenderingchange",re,!0)},ae=function(){removeEventListener("visibilitychange",re,!0),removeEventListener("prerenderingchange",re,!0)},oe=function(){return te<0&&(te=ne(),ie(),H((function(){setTimeout((function(){te=ne(),ie()}),0)}))),{get firstHiddenTime(){return te}}},se=function(e,t){t=t||{},ee((function(){var n,r=[1800,3e3],i=oe(),a=J("FCP"),o=X("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<i.firstHiddenTime&&(a.value=Math.max(e.startTime-V(),0),a.entries.push(e),n(!0)))}))}));o&&(n=Z(e,a,r,t.reportAllChanges),H((function(i){a=J("FCP"),n=Z(e,a,r,t.reportAllChanges),Y((function(){a.value=performance.now()-i.timeStamp,n(!0)}))})))}))},ce={passive:!0,capture:!0},ue=new Date,le=function(e,t){P||(P=t,M=e,B=new Date,me(removeEventListener),de())},de=function(){if(M>=0&&M<B-ue){var e={entryType:"first-input",name:P.type,target:P.target,cancelable:P.cancelable,startTime:P.timeStamp,processingStart:P.timeStamp+M};C.forEach((function(t){t(e)})),C=[]}},pe=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){le(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,ce),removeEventListener("pointercancel",r,ce)};addEventListener("pointerup",n,ce),addEventListener("pointercancel",r,ce)}(t,e):le(t,e)}},me=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,pe,ce)}))},fe=0,ve=1/0,ge=0,be=function(e){e.forEach((function(e){e.interactionId&&(ve=Math.min(ve,e.interactionId),ge=Math.max(ge,e.interactionId),fe=ge?(ge-ve)/7+1:0)}))},he=function(){return D?fe:performance.interactionCount||0},we=0,ye=function(){return he()-we},Te=[],ke={},_e=function(e){var t=Te[Te.length-1],n=ke[e.interactionId];if(n||Te.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};ke[r.id]=r,Te.push(r)}Te.sort((function(e,t){return t.latency-e.latency})),Te.splice(10).forEach((function(e){delete ke[e.id]}))}},Se={},Ee=function e(t){document.prerendering?ee((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},xe=function(e,t){t=t||{};var n=[800,1800],r=J("TTFB"),i=Z(e,r,n,t.reportAllChanges);Ee((function(){var a=F();if(a){var o=a.responseStart;if(o<=0||o>performance.now())return;r.value=Math.max(o-V(),0),r.entries=[a],i(!0),H((function(){r=J("TTFB",0),(i=Z(e,r,n,t.reportAllChanges))(!0)}))}}))},Oe=function(e){e.forEach((function(e){e.identifier&&q({attribution:{identifier:e.identifier},name:"ET",rating:null,value:e.startTime})}))},je=function(e){e.forEach((function(e){if(a.isResourceTiming&&R("resourceTiming",e),e.decodedBodySize&&e.initiatorType){var t=e.decodedBodySize/1e3;h.value[e.initiatorType]+=t,h.value.total+=t}}))},Ne=function(){!function(e,t){xe((function(e){!function(e){if(e.entries.length){var t=e.entries[0],n=t.activationStart||0,r=Math.max(t.domainLookupStart-n,0),i=Math.max(t.connectStart-n,0),a=Math.max(t.requestStart-n,0);e.attribution={waitingTime:r,dnsTime:i-r,connectionTime:a-i,requestTime:e.value-a,navigationEntry:t}}else e.attribution={waitingTime:0,dnsTime:0,connectionTime:0,requestTime:0}}(e),function(e){e.value>0&&q(e)}(e)}),t)}(0,a.reportOptions.ttfb),function(e,t){!function(e,t){t=t||{},ee((function(){var e,n=[.1,.25],r=J("CLS"),i=-1,a=0,o=[],s=function(e){i>-1&&function(e){!function(e){if(e.entries.length){var t=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(t&&t.sources&&t.sources.length){var n=(r=t.sources).find((function(e){return e.node&&1===e.node.nodeType}))||r[0];if(n)return void(e.attribution={largestShiftTarget:$(n.node),largestShiftTime:t.startTime,largestShiftValue:t.value,largestShiftSource:n,largestShiftEntry:t,loadState:z(t.startTime)})}}var r;e.attribution={}}(e),function(e){q(e)}(e)}(e)},c=function(t){t.forEach((function(t){if(!t.hadRecentInput){var n=o[0],i=o[o.length-1];a&&t.startTime-i.startTime<1e3&&t.startTime-n.startTime<5e3?(a+=t.value,o.push(t)):(a=t.value,o=[t]),a>r.value&&(r.value=a,r.entries=o,e())}}))},u=X("layout-shift",c);u&&(e=Z(s,r,n,t.reportAllChanges),se((function(t){i=t.value,r.value<0&&(r.value=0,e())})),G((function(){c(u.takeRecords()),e(!0)})),H((function(){a=0,i=-1,r=J("CLS",0),e=Z(s,r,n,t.reportAllChanges),Y((function(){return e()}))})))}))}(0,t)}(0,a.reportOptions.cls),function(e,t){se((function(e){!function(e){if(e.entries.length){var t=F(),n=e.entries[e.entries.length-1];if(t){var r=t.activationStart||0,i=Math.max(0,t.responseStart-r);return void(e.attribution={timeToFirstByte:i,firstByteToFCP:e.value-i,loadState:z(e.entries[0].startTime),navigationEntry:t,fcpEntry:n})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:z(W())}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.fcp),function(e,t){!function(e,t){t=t||{},ee((function(){var n,r=[100,300],i=oe(),a=J("FID"),o=function(e){e.startTime<i.firstHiddenTime&&(a.value=e.processingStart-e.startTime,a.entries.push(e),n(!0))},s=function(e){e.forEach(o)},c=X("first-input",s);n=Z(e,a,r,t.reportAllChanges),c&&G((function(){s(c.takeRecords()),c.disconnect()}),!0),c&&H((function(){var i;a=J("FID"),n=Z(e,a,r,t.reportAllChanges),C=[],M=-1,P=null,me(addEventListener),i=o,C.push(i),de()}))}))}((function(e){!function(e){var t=e.entries[0];e.attribution={eventTarget:$(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:z(t.startTime)}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.fid),function(e,t){!function(e,t){t=t||{},ee((function(){var n,r=[2500,4e3],i=oe(),a=J("LCP"),o=function(e){var t=e[e.length-1];if(t){var r=Math.max(t.startTime-V(),0);r<i.firstHiddenTime&&(a.value=r,a.entries=[t],n())}},s=X("largest-contentful-paint",o);if(s){n=Z(e,a,r,t.reportAllChanges);var c=function(){Se[a.id]||(o(s.takeRecords()),s.disconnect(),Se[a.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,c,{once:!0,capture:!0})})),G(c,!0),H((function(i){a=J("LCP"),n=Z(e,a,r,t.reportAllChanges),Y((function(){a.value=performance.now()-i.timeStamp,Se[a.id]=!0,n(!0)}))}))}}))}((function(e){!function(e){if(e.entries.length){var t=F();if(t){var n=t.activationStart||0,r=e.entries[e.entries.length-1],i=r.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===r.url}))[0],a=Math.max(0,t.responseStart-n),o=Math.max(a,i?(i.requestStart||i.startTime)-n:0),s=Math.max(o,i?i.responseEnd-n:0),c=Math.max(s,r?r.startTime-n:0),u={element:$(r.element),timeToFirstByte:a,resourceLoadDelay:o-a,resourceLoadTime:s-o,elementRenderDelay:c-s,navigationEntry:t,lcpEntry:r};return r.url&&(u.url=r.url),i&&(u.lcpResourceEntry=i),void(e.attribution=u)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.lcp),function(e,t){!function(e,t){t=t||{},ee((function(){var n=[200,500];"interactionCount"in performance||D||(D=X("event",be,{type:"event",buffered:!0,durationThreshold:0}));var r,i=J("INP"),a=function(e){e.forEach((function(e){e.interactionId&&_e(e),"first-input"===e.entryType&&!Te.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&_e(e)}));var t,n=(t=Math.min(Te.length-1,Math.floor(ye()/50)),Te[t]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())},o=X("event",a,{durationThreshold:t.durationThreshold||40});r=Z(e,i,n,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),G((function(){a(o.takeRecords()),i.value<0&&ye()>0&&(i.value=0,i.entries=[]),r(!0)})),H((function(){Te=[],we=he(),i=J("INP"),r=Z(e,i,n,t.reportAllChanges)})))}))}((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0];e.attribution={eventTarget:$(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:z(t.startTime)}}else e.attribution={}}(t),e(t)}),t)}((function(e){return q(e)}),a.reportOptions.inp),a.isResourceTiming&&S("resource",je),a.isElementTiming&&S("element",Oe)},Ie=function(e){var t="usageDetails"in e?e.usageDetails:{};R("storageEstimate",{quota:j(e.quota),usage:j(e.usage),caches:j(t.caches),indexedDB:j(t.indexedDB),serviceWorker:j(t.serviceWorkerRegistrations)})},Pe={finalMarkToStepsMap:{},startMarkToStepsMap:{},active:{},navigationSteps:{}},Me=function(e){delete Pe.active[e]},Be=function(){return Pe.navigationSteps},Ce=function(e){var t;return null!==(t=Be()[e])&&void 0!==t?t:{}},De=function(e,t,n){var r="step."+e,i=u.getEntriesByName(p+t).length>0;if(u.getEntriesByName(p+n).length>0&&a.steps){var o=A[a.steps[e].threshold],s=o.maxOutlierThreshold,c=o.vitalsThresholds;if(i){var l=u.measure(r,p+t,p+n),d=l.duration;if(d<=s){var m=function(e,t){return e<=t[0]?"good":e<=t[1]?"needsImprovement":"poor"}(d,c);d>=0&&(N("userJourneyStep",d,m,{stepName:e},void 0),u.measure("step.".concat(e,"_vitals_").concat(m),{start:l.startTime+l.duration,end:l.startTime+l.duration,detail:{type:"stepVital",duration:d}}))}}}},Ae=function(){var e=Be(),t=Pe.startMarkToStepsMap,n=Object.keys(e).length;if(0===n)return{};var r={},i=n-1,a=Ce(i);if(Object.keys(a).forEach((function(e){var n,i=null!==(n=t[e])&&void 0!==n?n:[];Object.keys(i).forEach((function(e){r[e]=!0}))})),n>1){var o=Ce(i-1);Object.keys(o).forEach((function(e){var n,i=null!==(n=t[e])&&void 0!==n?n:[];Object.keys(i).forEach((function(e){r[e]=!0}))}))}return r},Le=function(){var e,t=Object.keys(Pe.navigationSteps).length;Pe.navigationSteps[t]={};var n=Ae();null===(e=a.onMarkStep)||void 0===e||e.call(a,"",Object.keys(n))},Ue=function(e){var t,n,r,i,o,s,c;if(Pe.finalMarkToStepsMap[e]){!function(e){var t=Pe.navigationSteps,n=Pe.finalMarkToStepsMap,r=Object.keys(t).length;if(0!==r){var i=r-1,a=Ce(i);if(a&&n[e]){var o=n[e];o&&Object.keys(o).forEach((function(e){if(a[e]){var n=Ce(i)||{};n[e]=!1,t[i]=n}if(r>1){var o=i-1,s=Ce(o);s[e]&&(s[e]=!1,t[o]=s)}}))}}}(e);var u=Pe.finalMarkToStepsMap[e];Object.keys(u).forEach((function(t){var n=u[t];n.forEach(Me),Promise.all(n.map((function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(e,t){function i(e){try{o(r.next(e))}catch(e){t(e)}}function a(e){try{o(r.throw(e))}catch(e){t(e)}}function o(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}o((r=r.apply(undefined,[])).next())}))}(0,0,void 0,(function(){return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(r){switch(r.label){case 0:return[4,De(n,t,e)];case 1:return r.sent(),[2]}}))}))}))).catch((function(){}))}))}else r=e,i=Pe.navigationSteps,o=Object.keys(i).length,(c=Ce(s=(o>0?o:1)-1)||[])[r]=!0,i[s]=c,function(e){var t,n=null!==(t=Pe.startMarkToStepsMap[e])&&void 0!==t?t:[];Object.keys(n).forEach((function(e){Pe.active[e]||(Pe.active[e]=!0)}))}(e);if(a.enableNavigationTracking){var l=Ae();null===(t=a.onMarkStep)||void 0===t||t.call(a,e,Object.keys(l))}else null===(n=a.onMarkStep)||void 0===n||n.call(a,e,Object.keys(Pe.active))},Re=function(e){u.mark(p+e),Ue(e)},qe=function(e){0===u.getEntriesByName(p+e).length&&(u.mark(p+e),Ue(e))},Fe=0,ze=function(){function e(e){if(void 0===e&&(e={}),this.v="9.0.0-rc.3",a.analyticsTracker=e.analyticsTracker,a.isResourceTiming=!!e.resourceTiming,a.isElementTiming=!!e.elementTiming,a.maxTime=e.maxMeasureTime||a.maxTime,a.reportOptions=e.reportOptions||a.reportOptions,a.steps=e.steps,a.onMarkStep=e.onMarkStep,a.enableNavigationTracking=e.enableNavigationTracking,m()){"PerformanceObserver"in o&&Ne(),void 0!==document.hidden&&document.addEventListener("visibilitychange",_);var t=function(){if(!m())return{};var e=u.getEntriesByType("navigation")[0];if(!e)return{};var t=e.responseStart,n=e.responseEnd;return{fetchTime:n-e.fetchStart,workerTime:e.workerStart>0?n-e.workerStart:0,totalTime:n-e.requestStart,downloadTime:n-t,timeToFirstByte:t-e.requestStart,headerSize:e.transferSize-e.encodedBodySize||0,dnsLookupTime:e.domainLookupEnd-e.domainLookupStart,redirectTime:e.redirectEnd-e.redirectStart}}();R("navigationTiming",t),t.redirectTime&&q({attribution:{},name:"RT",rating:U("RT",t.redirectTime),value:t.redirectTime}),R("networkInformation",function(){if("connection"in c){var e=c.connection;return"object"!=typeof e?{}:(f=e.effectiveType,v=!!e.saveData,{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData})}return{}}()),c&&c.storage&&"function"==typeof c.storage.estimate&&c.storage.estimate().then(Ie),a.steps&&a.steps&&(Pe.startMarkToStepsMap={},Pe.finalMarkToStepsMap={},Pe.active={},Pe.navigationSteps={},Object.entries(a.steps).forEach((function(e){var t,n,r=e[0],i=e[1].marks,a=i[0],o=i[1],s=null!==(n=Pe.startMarkToStepsMap[a])&&void 0!==n?n:{};if(s[r]=!0,Pe.startMarkToStepsMap[a]=s,Pe.finalMarkToStepsMap[o]){var c=Pe.finalMarkToStepsMap[o][a]||[];c.push(r),Pe.finalMarkToStepsMap[o][a]=c}else Pe.finalMarkToStepsMap[o]=((t={})[a]=[r],t)})))}}return e.prototype.start=function(e){m()&&!g[e]&&(g[e]=!0,u.mark("mark_".concat(e,"_start")))},e.prototype.end=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n=!0),m()&&g[e]){u.mark("mark_".concat(e,"_end")),delete g[e];var r=function(e){u.measure(e,"mark_".concat(e,"_start"),"mark_".concat(e,"_end"));var t=u.getEntriesByName(e).pop();return t&&"measure"===t.entryType?t.duration:-1}(e);n&&R(e,O(r),t)}},e.prototype.endPaint=function(e,t){var n=this;setTimeout((function(){n.end(e,t)}))},e.prototype.clear=function(e){delete g[e],u.clearMarks&&(u.clearMarks("mark_".concat(e,"_start")),u.clearMarks("mark_".concat(e,"_end")))},e.prototype.markNTBT=function(){var e=this;this.start("ntbt"),y.value=0,clearTimeout(Fe),Fe=setTimeout((function(){e.end("ntbt",{},!1),q({attribution:{},name:"NTBT",rating:U("NTBT",y.value),value:y.value}),y.value=0}),2e3)},e}()},426:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.iterator;var n={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r=Object.assign,i={};function a(e,t,r){this.props=e,this.context=t,this.refs=i,this.updater=r||n}function o(){}function s(e,t,r){this.props=e,this.context=t,this.refs=i,this.updater=r||n}a.prototype.isReactComponent={},a.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=a.prototype;var c=s.prototype=new o;c.constructor=s,r(c,a.prototype),c.isPureReactComponent=!0;Array.isArray,Object.prototype.hasOwnProperty;var u={current:null};t.useCallback=function(e,t){return u.current.useCallback(e,t)},t.useEffect=function(e,t){return u.current.useEffect(e,t)},t.useRef=function(e){return u.current.useRef(e)}},784:(e,t,n)=>{"use strict";e.exports=n(426)},353:function(e,t,n){var r;!function(i,a){"use strict";var o="function",s="undefined",c="object",u="string",l="major",d="model",p="name",m="type",f="vendor",v="version",g="architecture",b="console",h="mobile",w="tablet",y="smarttv",T="wearable",k="embedded",_="Amazon",S="Apple",E="ASUS",x="BlackBerry",O="Browser",j="Chrome",N="Firefox",I="Google",P="Huawei",M="LG",B="Microsoft",C="Motorola",D="Opera",A="Samsung",L="Sharp",U="Sony",R="Xiaomi",q="Zebra",F="Facebook",z="Chromium OS",K="Mac OS",$=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},Q=function(e,t){return typeof e===u&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===u)return e=e.replace(/^\\s\\s*/,""),typeof t===s?e:e.substring(0,350)},V=function(e,t){for(var n,r,i,s,u,l,d=0;d<t.length&&!u;){var p=t[d],m=t[d+1];for(n=r=0;n<p.length&&!u&&p[n];)if(u=p[n++].exec(e))for(i=0;i<m.length;i++)l=u[++r],typeof(s=m[i])===c&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):a:this[s[0]]=l?s[1].call(this,l,s[2]):a:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):a):this[s]=l||a;d+=2}},J=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(Q(t[n][r],e))return"?"===n?a:n}else if(Q(t[n],e))return"?"===n?a:n;return e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[v,[p,"Chrome"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[v,[p,"Edge"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[p,v],[/opios[\\/ ]+([\\w\\.]+)/i],[v,[p,D+" Mini"]],[/\\bopr\\/([\\w\\.]+)/i],[v,[p,D]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(heytap|ovi)browser\\/([\\d\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[p,v],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[v,[p,"UC"+O]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[v,[p,"WeChat(Win) Desktop"]],[/micromessenger\\/([\\w\\.]+)/i],[v,[p,"WeChat"]],[/konqueror\\/([\\w\\.]+)/i],[v,[p,"Konqueror"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[v,[p,"IE"]],[/ya(?:search)?browser\\/([\\w\\.]+)/i],[v,[p,"Yandex"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[p,/(.+)/,"$1 Secure "+O],v],[/\\bfocus\\/([\\w\\.]+)/i],[v,[p,N+" Focus"]],[/\\bopt\\/([\\w\\.]+)/i],[v,[p,D+" Touch"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[v,[p,"Coc Coc"]],[/dolfin\\/([\\w\\.]+)/i],[v,[p,"Dolphin"]],[/coast\\/([\\w\\.]+)/i],[v,[p,D+" Coast"]],[/miuibrowser\\/([\\w\\.]+)/i],[v,[p,"MIUI "+O]],[/fxios\\/([-\\w\\.]+)/i],[v,[p,N]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+O]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[p,/(.+)/,"$1 "+O],v],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[p,/_/g," "],v],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[p,v],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[p],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[p,F],v],[/(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,/(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[p,v],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[v,[p,"GSA"]],[/musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i],[v,[p,"TikTok"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[v,[p,j+" Headless"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[p,j+" WebView"],v],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[v,[p,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[p,v],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[v,[p,"Mobile Safari"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[v,p],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[p,[v,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[p,v],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[p,"Netscape"],v],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[v,[p,N+" Reality"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i,/panasonic;(viera)/i],[p,v],[/(cobalt)\\/([\\w\\.]+)/i],[p,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,W]],[/((?:i[346]|x)86)[;\\)]/i],[[g,"ia32"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[g,"arm64"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[g,/ower/,"",W]],[/(sun4\\w)[;\\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[g,W]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,A],[m,w]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[d,[f,A],[m,h]],[/(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i],[d,[f,S],[m,h]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[d,[f,S],[m,w]],[/(macintosh);/i],[d,[f,S]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[d,[f,L],[m,h]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[d,[f,P],[m,w]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[d,[f,P],[m,h]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[d,/_/g," "],[f,R],[m,h]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[d,/_/g," "],[f,R],[m,w]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[d,[f,"OPPO"],[m,h]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[m,h]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[d,[f,"Realme"],[m,h]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[d,[f,C],[m,h]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[d,[f,C],[m,w]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,M],[m,w]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[d,[f,M],[m,h]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[d,[f,"Lenovo"],[m,w]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[m,h]],[/(pixel c)\\b/i],[d,[f,I],[m,w]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[d,[f,I],[m,h]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[d,[f,U],[m,h]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[d,"Xperia Tablet"],[f,U],[m,w]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[d,[f,"OnePlus"],[m,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[d,[f,_],[m,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,_],[m,h]],[/(playbook);[-\\w\\),; ]+(rim)/i],[d,f,[m,w]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[d,[f,x],[m,h]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[d,[f,E],[m,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[d,[f,E],[m,h]],[/(nexus 9)/i],[d,[f,"HTC"],[m,w]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i],[f,[d,/_/g," "],[m,h]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[d,[f,"Acer"],[m,w]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[d,[f,"Meizu"],[m,h]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[f,d,[m,h]],[/(kobo)\\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[f,d,[m,w]],[/(surface duo)/i],[d,[f,B],[m,w]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[d,[f,"Fairphone"],[m,h]],[/(u304aa)/i],[d,[f,"AT&T"],[m,h]],[/\\bsie-(\\w*)/i],[d,[f,"Siemens"],[m,h]],[/\\b(rct\\w+) b/i],[d,[f,"RCA"],[m,w]],[/\\b(venue[\\d ]{2,7}) b/i],[d,[f,"Dell"],[m,w]],[/\\b(q(?:mv|ta)\\w+) b/i],[d,[f,"Verizon"],[m,w]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[d,[f,"Barnes & Noble"],[m,w]],[/\\b(tm\\d{3}\\w+) b/i],[d,[f,"NuVision"],[m,w]],[/\\b(k88) b/i],[d,[f,"ZTE"],[m,w]],[/\\b(nx\\d{3}j) b/i],[d,[f,"ZTE"],[m,h]],[/\\b(gen\\d{3}) b.+49h/i],[d,[f,"Swiss"],[m,h]],[/\\b(zur\\d{3}) b/i],[d,[f,"Swiss"],[m,w]],[/\\b((zeki)?tb.*\\b) b/i],[d,[f,"Zeki"],[m,w]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[f,"Dragon Touch"],d,[m,w]],[/\\b(ns-?\\w{0,9}) b/i],[d,[f,"Insignia"],[m,w]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[d,[f,"NextBook"],[m,w]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[m,h]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[f,"LvTel"],d,[m,h]],[/\\b(ph-1) /i],[d,[f,"Essential"],[m,h]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[d,[f,"Envizen"],[m,w]],[/\\b(trio[-\\w\\. ]+) b/i],[d,[f,"MachSpeed"],[m,w]],[/\\btu_(1491) b/i],[d,[f,"Rotor"],[m,w]],[/(shield[\\w ]+) b/i],[d,[f,"Nvidia"],[m,w]],[/(sprint) (\\w+)/i],[f,d,[m,h]],[/(kin\\.[onetw]{3})/i],[[d,/\\./g," "],[f,B],[m,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[d,[f,q],[m,w]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[d,[f,q],[m,h]],[/smart-tv.+(samsung)/i],[f,[m,y]],[/hbbtv.+maple;(\\d+)/i],[[d,/^/,"SmartTV"],[f,A],[m,y]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[f,M],[m,y]],[/(apple) ?tv/i],[f,[d,S+" TV"],[m,y]],[/crkey/i],[[d,j+"cast"],[f,I],[m,y]],[/droid.+aft(\\w)( bui|\\))/i],[d,[f,_],[m,y]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[d,[f,L],[m,y]],[/(bravia[\\w ]+)( bui|\\))/i],[d,[f,U],[m,y]],[/(mitv-\\w{5}) bui/i],[d,[f,R],[m,y]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[m,y]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i],[[f,H],[d,H],[m,y]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[m,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[m,b]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[d,[f,U],[m,b]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[d,[f,B],[m,b]],[/((pebble))app/i],[f,d,[m,T]],[/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i],[d,[f,S],[m,T]],[/droid.+; (glass) \\d/i],[d,[f,I],[m,T]],[/droid.+; (wt63?0{2,3})\\)/i],[d,[f,q],[m,T]],[/(quest( 2| pro)?)/i],[d,[f,F],[m,T]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[f,[m,k]],[/(aeobc)\\b/i],[d,[f,_],[m,k]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[d,[m,h]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[d,[m,w]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[m,w]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[m,h]],[/(android[-\\w\\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[v,[p,"EdgeHTML"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[v,[p,"Blink"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,/\\b(libweb)/i],[p,v],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[v,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,v],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[p,[v,J,X]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[p,"Windows"],[v,J,X]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/ios;fbsv\\/([\\d\\.]+)/i,/cfnetwork\\/.+darwin/i],[[v,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[p,K],[v,/_/g,"."]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[v,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[p,v],[/\\(bb(10);/i],[v,[p,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[v,[p,"Symbian"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[v,[p,N+" OS"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[v,[p,"webOS"]],[/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i],[v,[p,"watchOS"]],[/crkey\\/([\\d\\.]+)/i],[v,[p,j+"cast"]],[/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i],[[p,z],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\/(\\d+\\.[\\w\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[p,v],[/(sunos) ?([\\w\\.\\d]*)/i],[[p,"Solaris"],v],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\\w\\.]*)/i],[p,v]]},Z=function(e,t){if(typeof e===c&&(t=e,e=a),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof i!==s&&i.navigator?i.navigator:a,r=e||(n&&n.userAgent?n.userAgent:""),b=n&&n.userAgentData?n.userAgentData:a,y=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(G,t):G,T=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[p]=a,t[v]=a,V.call(t,r,y.browser),t[l]=typeof(e=t[v])===u?e.replace(/[^\\d\\.]/g,"").split(".")[0]:a,T&&n&&n.brave&&typeof n.brave.isBrave==o&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[g]=a,V.call(e,r,y.cpu),e},this.getDevice=function(){var e={};return e[f]=a,e[d]=a,e[m]=a,V.call(e,r,y.device),T&&!e[m]&&b&&b.mobile&&(e[m]=h),T&&"Macintosh"==e[d]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[m]=w),e},this.getEngine=function(){var e={};return e[p]=a,e[v]=a,V.call(e,r,y.engine),e},this.getOS=function(){var e={};return e[p]=a,e[v]=a,V.call(e,r,y.os),T&&!e[p]&&b&&"Unknown"!=b.platform&&(e[p]=b.platform.replace(/chrome os/i,z).replace(/macos/i,K)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>350?H(e,350):e,this},this.setUA(r),this};Z.VERSION="1.0.35",Z.BROWSER=$([p,v,l]),Z.CPU=$([g]),Z.DEVICE=$([d,f,m,b,h,y,w,T,k]),Z.ENGINE=Z.OS=$([p,v]),typeof t!==s?(e.exports&&(t=e.exports=Z),t.UAParser=Z):n.amdO?(r=function(){return Z}.call(t,n,t,e))===a||(e.exports=r):typeof i!==s&&(i.UAParser=Z);var Y=typeof i!==s&&(i.jQuery||i.Zepto);if(Y&&!Y.ua){var ee=new Z;Y.ua=ee.getResult(),Y.ua.get=function(){return ee.getUA()},Y.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)Y.ua[n]=t[n]}}}("object"==typeof window?window:this)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{ActionType:()=>f,AmplitudePlatformName:()=>g,AnalyticsEventImportance:()=>l,AnalyticsQueries:()=>e,AuthStatus:()=>b,ComponentType:()=>m,IThresholdTier:()=>Jt,MetricType:()=>d,PlatformName:()=>v,SessionActions:()=>h,SessionAutomatedEvents:()=>w,SessionRank:()=>y,SubjectType:()=>p,UserTypeCommerce:()=>c,UserTypeInsto:()=>i,UserTypeRetail:()=>t,UserTypeRetailBusinessBanking:()=>s,UserTypeRetailEmployeeInternal:()=>a,UserTypeRetailEmployeePersonal:()=>o,UserTypeWallet:()=>u,automatedEvents:()=>xn,automatedMappingConfig:()=>In,clearMarkEntry:()=>Vn,clearPerformanceMarkEntries:()=>Xn,config:()=>A,createEventConfig:()=>On,createNewSpan:()=>Ln,createNewTrace:()=>Un,device:()=>W,endPerfMark:()=>Jn,exposeExperiment:()=>wn,flushQueue:()=>or,generateUUID:()=>V,getAnalyticsHeaders:()=>sr,getReferrerData:()=>le,getTracingHeaders:()=>An,getTracingId:()=>Dn,getUrlHostname:()=>pe,getUrlParams:()=>me,getUrlPathname:()=>fe,getUserContext:()=>ar,identify:()=>Tn,identifyFlow:()=>xe,identity:()=>H,identityFlow:()=>Se,incrementUjNavigation:()=>an,init:()=>yn,initNextJsTrackPageview:()=>_n,initTrackPageview:()=>kn,isEventKeyFormatValid:()=>we,isSessionEnded:()=>pt,location:()=>re,logEvent:()=>$t,logMetric:()=>Ht,logPageView:()=>on,logTrace:()=>Rn,markNTBT:()=>tn,markStep:()=>nn,markStepOnce:()=>rn,onVisibilityChange:()=>ln,optIn:()=>En,optOut:()=>Sn,perfMark:()=>Wn,persistentData:()=>oe,postMessage:()=>K,recordSessionDuration:()=>pn,removeFromIdentifyFlow:()=>Ee,savePersistentData:()=>st,sendScheduledEvents:()=>Bt,setBreadcrumbs:()=>ie,setConfig:()=>U,setLocation:()=>ae,setPagePath:()=>ve,setPageview:()=>Kt,setPersistentData:()=>se,setSessionStart:()=>dt,setTime:()=>Ue,startPerfMark:()=>Hn,timeStone:()=>Le,useEventLogger:()=>Yn,useLogEventOnMount:()=>tr,usePerformanceMarks:()=>rr});let e=function(e){return e.fbclid="fbclid",e.gclid="gclid",e.msclkid="msclkid",e.ptclid="ptclid",e.ttclid="ttclid",e.utm_source="utm_source",e.utm_medium="utm_medium",e.utm_campaign="utm_campaign",e.utm_term="utm_term",e.utm_content="utm_content",e}({});const t=0,i=1,a=2,o=3,s=4,c=5,u=6;let l=function(e){return e.low="low",e.high="high",e}({}),d=function(e){return e.count="count",e.rate="rate",e.gauge="gauge",e.distribution="distribution",e.histogram="histogram",e}({}),p=function(e){return e.commerce_merchant="commerce_merchant",e.device="device",e.edp_fingerprint_id="edp_fingerprint_id",e.nft_user="nft_user",e.user="user",e.wallet_user="wallet_user",e.uuid="user_uuid",e}({}),m=function(e){return e.unknown="unknown",e.banner="banner",e.button="button",e.card="card",e.chart="chart",e.content_script="content_script",e.dropdown="dropdown",e.link="link",e.page="page",e.modal="modal",e.table="table",e.search_bar="search_bar",e.service_worker="service_worker",e.text="text",e.text_input="text_input",e.tray="tray",e.checkbox="checkbox",e.icon="icon",e}({}),f=function(e){return e.unknown="unknown",e.blur="blur",e.click="click",e.change="change",e.dismiss="dismiss",e.focus="focus",e.hover="hover",e.select="select",e.measurement="measurement",e.move="move",e.process="process",e.render="render",e.scroll="scroll",e.view="view",e.search="search",e.keyPress="keyPress",e}({}),v=function(e){return e.unknown="unknown",e.web="web",e.android="android",e.ios="ios",e.mobile_web="mobile_web",e.tablet_web="tablet_web",e.server="server",e.windows="windows",e.macos="macos",e.extension="extension",e}({}),g=function(e){return e.web="Web",e.ios="iOS",e.android="Android",e}({}),b=function(e){return e[e.notLoggedIn=0]="notLoggedIn",e[e.loggedIn=1]="loggedIn",e}({}),h=function(e){return e.ac="ac",e.af="af",e.ah="ah",e.al="al",e.am="am",e.ar="ar",e.as="as",e}({}),w=function(e){return e.pv="pv",e}({}),y=function(e){return e.xs="xs",e.s="s",e.m="m",e.l="l",e.xl="xl",e.xxl="xxl",e}({});const T="https://analytics-service-dev.cbhq.net",k=3e5,_=5e3,S="analytics-db",E="experiment-exposure-db",x="Analytics SDK:",O=Object.values(e),j="pageview",N="session_duration",I={navigationTiming:{eventName:"perf_navigation_timing"},redirectTime:{eventName:"perf_redirect_time"},RT:{eventName:"perf_redirect_time"},TTFB:{eventName:"perf_time_to_first_byte"},networkInformation:{eventName:"perf_network_information"},storageEstimate:{eventName:"perf_storage_estimate"},FCP:{eventName:"perf_first_contentful_paint"},FID:{eventName:"perf_first_input_delay"},LCP:{eventName:"perf_largest_contentful_paint"},CLS:{eventName:"perf_cumulative_layout_shift"},TBT:{eventName:"perf_total_blocking_time"},NTBT:{eventName:"perf_navigation_total_blocking_time"},INP:{eventName:"perf_interact_to_next_paint"},ET:{eventName:"perf_element_timing"},userJourneyStep:{eventName:"perf_user_journey_step"}},P="1",M="web";function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}const C=/^(https?:\\/\\/)/;function D(e){return{eventsEndpoint:e+"/amp",metricsEndPoint:e+"/metrics",exposureEndpoint:e+"/track-exposures",tracesEndpoint:e+"/traces"}}const A=B({authCookie:"logged_in",amplitudeApiKey:"",batchEventsPeriod:_,batchEventsThreshold:30,batchMetricsPeriod:_,batchMetricsThreshold:30,batchTracesPeriod:_,batchTracesThreshold:30,headers:{},interactionManager:null,isAlwaysAuthed:!1,isProd:!1,isInternalApplication:!1,onError:(e,t)=>{console.error(x,e,t)},platform:v.unknown,projectName:"",ricTimeoutScheduleEvent:1e3,ricTimeoutSetDevice:500,showDebugLogging:!1,trackUserId:!1,version:null,apiEndpoint:T},D(T),{steps:{}}),L=[].reduce(((e,t)=>n=>e(t(n))),(e=>{if(!e.isProd)return e.isInternalApplication?(e.apiEndpoint="https://analytics-service-internal-dev.cbhq.net",B({},e,D(e.apiEndpoint))):e;const t=(e=>e.apiEndpoint?C.test(e.apiEndpoint)?e.apiEndpoint:`https://${e.apiEndpoint}`:e.isInternalApplication?"https://analytics-service-internal.cbhq.net":"https://as.coinbase.com")(e);return B({},e,{apiEndpoint:t},D(t))})),U=e=>{const{batchEventsThreshold:t,batchMetricsThreshold:n,batchTracesThreshold:r}=e,i=[t,n,r];for(const e of i)if((e||0)>30){console.warn("You are setting the threshhold for the batch limit to be greater than 30. This may cause request overload.");break}Object.assign(A,L(e))},R=[v.web,v.mobile_web,v.tablet_web];function q(){return"android"===A.platform}function F(){return"ios"===A.platform}function z(){return R.includes(A.platform)}function K(e){if(z()&&navigator&&"serviceWorker"in navigator&&navigator.serviceWorker.controller)try{navigator.serviceWorker.controller.postMessage(e)}catch(e){e instanceof Error&&A.onError(e)}}var $=n(353),Q=n.n($);const W={amplitudeOSName:null,amplitudeOSVersion:null,amplitudeDeviceModel:null,amplitudePlatform:null,browserName:null,browserMajor:null,osName:null,userAgent:null,width:null,height:null},H={countryCode:null,deviceId:null,device_os:null,isOptOut:!1,languageCode:null,locale:null,jwt:null,session_lcc_id:null,userAgent:null,userId:null},V=e=>e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,V),J=()=>A.isAlwaysAuthed||!!H.userId,X=()=>{const e={};return H.countryCode&&(e.country_code=H.countryCode),e},G=()=>{const{platform:e}=A;if(e===v.web)switch(!0){case window.matchMedia("(max-width: 560px)").matches:return v.mobile_web;case window.matchMedia("(max-width: 1024px, min-width: 561px)").matches:return v.tablet_web}return e},Z=()=>{var e,t,n,r,i;z()?("requestIdleCallback"in window?window.requestIdleCallback(ne,{timeout:A.ricTimeoutSetDevice}):ne(),W.amplitudePlatform=g.web,W.userAgent=(null==(e=window)||null==(e=e.navigator)?void 0:e.userAgent)||null,ee({height:null!=(t=null==(n=window)?void 0:n.innerHeight)?t:null,width:null!=(r=null==(i=window)?void 0:i.innerWidth)?r:null})):F()?(W.amplitudePlatform=g.ios,W.userAgent=H.userAgent,W.userAgent&&ne()):q()&&(W.userAgent=H.userAgent,W.amplitudePlatform=g.android,W.userAgent&&ne())},Y=e=>{Object.assign(H,e),z()&&K({identity:{isAuthed:!!H.userId,locale:H.locale||null}})},ee=e=>{W.height=e.height,W.width=e.width},te=()=>{U({platform:G()}),z()&&K({config:{platform:A.platform}})},ne=()=>{var e;performance.mark&&performance.mark("ua_parser_start");const t=new(Q())(null!=(e=W.userAgent)?e:"").getResult();W.browserName=t.browser.name||null,W.browserMajor=t.browser.major||null,W.osName=t.os.name||null,W.amplitudeOSName=W.browserName,W.amplitudeOSVersion=W.browserMajor,W.amplitudeDeviceModel=W.osName,K({device:{browserName:W.browserName,osName:W.osName}}),performance.mark&&(performance.mark("ua_parser_end"),performance.measure("ua_parser","ua_parser_start","ua_parser_end"))},re={breadcrumbs:[],initialUAAData:{},pageKey:"",pageKeyRegex:{},pagePath:"",prevPageKey:"",prevPagePath:""};function ie(e){Object.assign(re,{breadcrumbs:e})}function ae(e){Object.assign(re,e)}const oe={eventId:0,sequenceNumber:0,sessionId:0,lastEventTime:0,sessionStart:0,sessionUUID:null,userId:null,ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0};function se(e){Object.assign(oe,e)}function ce(){var e,t;return null!=(e=null==(t=document)?void 0:t.referrer)?e:""}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}const le=()=>{const e=ce();if(!e)return{};const t=new URL(e);return t.hostname===pe()?{}:{referrer:e,referring_domain:t.hostname}},de=()=>{const e=new URLSearchParams(me()),t={};return O.forEach((n=>{e.has(n)&&(t[n]=(e.get(n)||"").toLowerCase())})),t},pe=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.hostname)||""},me=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.search)||""},fe=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.pathname)||""},ve=()=>{const e=A.overrideWindowLocation?re.pagePath:fe()+me();e&&e!==re.pagePath&&(e!==re.pagePath&&ge(),re.pagePath=e,re.pageKeyRegex&&Object.keys(re.pageKeyRegex).some((e=>{if(re.pageKeyRegex[e].test(re.pagePath))return re.pageKey=e,!0})))},ge=()=>{if(z()){const e=ce();if(!re.prevPagePath&&e){const t=new URL(e);if(t.hostname===pe())return void(re.prevPagePath=t.pathname)}}re.prevPagePath=re.pagePath,re.prevPageKey=re.pageKey},be=e=>{z()&&Object.assign(e,z()?(Object.keys(re.initialUAAData).length>0||(new URLSearchParams(me()),re.initialUAAData=ue({},(()=>{const e={};return O.forEach((t=>{oe[t]&&(e[t]=oe[t])})),e})(),de(),le())),re.initialUAAData):re.initialUAAData)},he=/^[a-zd]+(_[a-zd]+)*$/;function we(e){return he.test(e)}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}const Te=["action","component_type","component_name","context","logging_id"],ke=["num_non_hardware_accounts","ujs"],_e="ujs_",Se={};function Ee(e){e.forEach((e=>{ke.includes(e)&&delete Se[e]}))}function xe(e){var t;const n=Object.entries(e).reduce(((e,t)=>{const[n,r]=t;return!Te.includes(n)&&ke.includes(n)?we(n)?ye({},e,{[n]:r}):(A.onError(new Error("IdentityFlow property names must have snake case format"),{[n]:r}),e):e}),{});null!=(t=n.ujs)&&t.length&&(n.ujs=n.ujs.map((e=>`${_e}${e}`))),Object.assign(Se,n)}function Oe(){return A.platform!==v.unknown||(A.onError(new Error("SDK platform not initialized")),!1)}const je={eventsQueue:[],eventsScheduled:!1,metricsQueue:[],metricsScheduled:!1,tracesQueue:[],tracesScheduled:!1};function Ne(e){Object.assign(je,e)}const Ie={ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0},Pe={ac:20,af:5,ah:1,al:1,am:0,ar:10,as:20},Me={pv:25},Be={xs:0,s:1,m:1,l:2,xl:2,xxl:2},Ce=e=>e<15?y.xs:e<60?y.s:e<240?y.m:e<960?y.l:e<3840?y.xl:y.xxl,De=e=>{Object.assign(Ie,e)};function Ae(){return(new Date).getTime()}const Le={timeStart:Ae(),timeOnPagePath:0,timeOnPageKey:0,prevTimeOnPagePath:0,prevTimeOnPageKey:0,sessionDuration:0,sessionEnd:0,sessionStart:0,prevSessionDuration:0};function Ue(e){Object.assign(Le,e)}const Re=(e,t)=>t.some((t=>e instanceof t));let qe,Fe;const ze=new WeakMap,Ke=new WeakMap,$e=new WeakMap,Qe=new WeakMap,We=new WeakMap;let He={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ke.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$e.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Je(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ve(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Fe||(Fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Xe(this),e),Je(ze.get(this))}:function(...e){return Je(t.apply(Xe(this),e))}:function(e,...n){const r=t.call(Xe(this),e,...n);return $e.set(r,e.sort?e.sort():[e]),Je(r)}:(e instanceof IDBTransaction&&function(e){if(Ke.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ke.set(e,t)}(e),Re(e,qe||(qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,He):e);var t}function Je(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Je(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&ze.set(t,e)})).catch((()=>{})),We.set(t,e),t}(e);if(Qe.has(e))return Qe.get(e);const t=Ve(e);return t!==e&&(Qe.set(e,t),We.set(t,e)),t}const Xe=e=>We.get(e),Ge=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],Ye=new Map;function et(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Ye.get(t))return Ye.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ze.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ge.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,i?"readwrite":"readonly");let o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return Ye.set(t,a),a}var tt;tt=He,He={...tt,get:(e,t,n)=>et(e,t)||tt.get(e,t,n),has:(e,t)=>!!et(e,t)||tt.has(e,t)};const nt={isReady:!1,idbKeyval:null};function rt(e){Object.assign(nt,e)}const it={},at=async e=>{if(!nt.idbKeyval)return Promise.resolve(null);try{return await nt.idbKeyval.get(e)}catch(e){return A.onError(new Error("IndexedDB:Get:InternalError")),Promise.resolve(null)}},ot=async(e,t)=>{if(nt.idbKeyval)try{await nt.idbKeyval.set(e,t)}catch(e){A.onError(new Error("IndexedDB:Set:InternalError"))}},st=()=>{"server"!==A.platform&&(se({sessionStart:Le.sessionStart,ac:Ie.ac,af:Ie.af,ah:Ie.ah,al:Ie.al,am:Ie.am,ar:Ie.ar,as:Ie.as,pv:Ie.pv}),H.userId&&se({userId:H.userId}),ot(S,oe))},ct="rgb(5,177,105)",ut=e=>{const{metricName:t,data:n}=e,r=e.importance||l.low;if(!A.showDebugLogging||!console)return;const i=`%c ${x}`,a=`color:${ct};font-size:11px;`,o=`Importance: ${r}`;console.group(i,a,t,o),n.forEach((e=>{e.event_type?console.log(e.event_type,e):console.log(e)})),console.groupEnd()},lt=e=>{const{metricName:t,data:n}=e,r=e.importance||l.low;if(!A.showDebugLogging||!console)return;const i=`color:${ct};font-size:11px;`,a=`%c ${x}`,o=`Importance: ${r}`;console.log(a,i,t,n,o)},dt=()=>{const e=Ae();oe.sessionId&&oe.lastEventTime&&oe.sessionUUID&&!pt(e)||(oe.sessionId=e,oe.sessionUUID=V(),Ue({sessionStart:e}),lt({metricName:"Started new session:",data:{persistentData:oe,timeStone:Le}})),oe.lastEventTime=e},pt=e=>e-oe.lastEventTime>18e5;function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}const ft=e=>{var t;(e=>{switch(e.action){case f.click:Ie.ac+=1;break;case f.focus:Ie.af+=1;break;case f.hover:Ie.ah+=1;break;case f.move:Ie.am+=1;break;case f.scroll:Ie.al+=1;break;case f.search:Ie.ar+=1;break;case f.select:Ie.as+=1}})(t=e),t.event_type!==j?t.event_type===N&&((e=>{if(!e.session_rank)return;const t=e.session_rank;Object.values(h).forEach((e=>{Ie.sqs+=Ie[e]*Pe[e]})),Object.values(w).forEach((e=>{Ie.sqs+=Ie[e]*Me[e]})),Ie.sqs*=Be[t]})(t),Object.assign(t,Ie),De({ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0})):Ie.pv+=1;const n=e.event_type;delete e.event_type;const r=e.deviceId?e.deviceId:null,i=e.timestamp;return delete e.timestamp,se({eventId:oe.eventId+1}),se({sequenceNumber:oe.sequenceNumber+1}),dt(),st(),{device_id:H.deviceId||r||null,user_id:H.userId,timestamp:i,event_id:oe.eventId,session_id:oe.sessionId||-1,event_type:n,version_name:A.version||null,platform:W.amplitudePlatform,os_name:W.amplitudeOSName,os_version:W.amplitudeOSVersion,device_model:W.amplitudeDeviceModel,language:H.languageCode,event_properties:mt({},e,{session_uuid:oe.sessionUUID,height:W.height,width:W.width}),user_properties:X(),uuid:V(),library:{name:"@cbhq/client-analytics",version:"10.6.0"},sequence_number:oe.sequenceNumber,user_agent:W.userAgent||H.userAgent}},vt=e=>e.map((e=>ft(e)));function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(this,arguments)}const bt=e=>e.map((e=>(e=>{const t=e.tags||{},n=gt({authed:J()?"true":"false",platform:A.platform},t,{project_name:A.projectName,version_name:A.version||null});return{metric_name:e.metricName,page_path:e.pagePath||null,value:e.value,tags:n,type:e.metricType}})(e))),ht=e=>0!==je.metricsQueue.length&&(je.metricsQueue.length>=A.batchMetricsThreshold||(je.metricsScheduled||(je.metricsScheduled=!0,setTimeout((()=>{je.metricsScheduled=!1,e(bt(je.metricsQueue)),je.metricsQueue=[]}),A.batchMetricsPeriod)),!1)),wt=e=>0!==je.tracesQueue.length&&(je.tracesQueue.length>=A.batchTracesThreshold||(je.tracesScheduled||(je.tracesScheduled=!0,setTimeout((()=>{je.tracesScheduled=!1,e(je.tracesQueue),je.tracesQueue=[]}),A.batchTracesPeriod)),!1)),yt=e=>{var t;z()&&null!=(t=window)&&t.requestIdleCallback?window.requestIdleCallback(e,{timeout:A.ricTimeoutScheduleEvent}):(q()||F())&&A.interactionManager?A.interactionManager.runAfterInteractions(e):e()};function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tt.apply(this,arguments)}const kt="application/x-www-form-urlencoded; charset=UTF-8",_t=e=>{const{data:t,importance:n,isJSON:r,onError:i,url:a}=e,o=r?"application/json":kt,s=n||l.low,c=r?JSON.stringify(t):new URLSearchParams(t).toString();function u(){const e=new XMLHttpRequest;e.open("POST",a,!0),Object.keys(A.headers||{}).forEach((t=>{e.setRequestHeader(t,A.headers[t])})),e.setRequestHeader("Content-Type",kt),H.jwt&&e.setRequestHeader("authorization",`Bearer ${H.jwt}`),e.send(c)}if(!z()||r||!("sendBeacon"in navigator)||s!==l.low||A.headers&&0!==Object.keys(A.headers).length)if(z()&&!r)u();else{const e=Tt({},A.headers,{"Content-Type":o});H.jwt&&(e.Authorization=`Bearer ${H.jwt}`),fetch(a,{method:"POST",mode:"no-cors",headers:e,body:c}).catch((e=>{i(e,{context:"AnalyticsSDKApiError"})}))}else{const e=new Blob([c],{type:kt});try{navigator.sendBeacon.bind(navigator)(a,e)||u()}catch(e){console.error(e),u()}}};var St=n(762),Et=n.n(St);const xt=(e,t,n)=>{const r=e||"";return Et()("2"+r+t+n)};function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ot.apply(this,arguments)}class jt extends Error{constructor(e){super(e),this.name="CircularJsonReference",this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}}class Nt extends jt{constructor(...e){super(...e),this.name="DomReferenceInAnalyticsEvent"}}function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}const Pt=(e,t=l.low)=>{var n;e&&je.eventsQueue.push(e),nt.isReady&&(!A.trackUserId||H.userId?(t===l.high||(n=Mt,0!==je.eventsQueue.length&&(je.eventsQueue.length>=A.batchEventsThreshold||(je.eventsScheduled||(je.eventsScheduled=!0,setTimeout((()=>{je.eventsScheduled=!1,n(vt(je.eventsQueue)),je.eventsQueue=[]}),A.batchEventsPeriod)),0))))&&Bt():je.eventsQueue.length>10&&(A.trackUserId=!1,A.onError(new Error("userId not set in Logged-in"))))},Mt=(e,t=l.low)=>{if(H.isOptOut||0===e.length)return;let n;try{n=JSON.stringify(e)}catch(t){const r=e.map((e=>e.event_type)).join(", "),[i,a]=(e=>{try{const n=[];for(const r of e){const e=Ot({},r);r.event_properties&&(e.event_properties=Ot({},e.event_properties,{currentTarget:null,target:null,relatedTarget:null,_dispatchInstances:null,_targetInst:null,view:(t=r.event_properties.view,["string","number","boolean"].includes(typeof t)?r.event_properties.view:null)})),n.push(e)}return[!0,JSON.stringify(n)]}catch(e){return[!1,""]}var t})(e);if(!i)return void A.onError(new jt(t instanceof Error?t.message:"unknown"),{listEventType:r});n=a,A.onError(new Nt("Found DOM element reference"),{listEventType:r,stringifiedEventData:n})}const r=Ae().toString(),i=It({},{e:n,v:"2",upload_time:r},{client:A.amplitudeApiKey,checksum:xt(A.amplitudeApiKey,n,r)});_t({url:A.eventsEndpoint,data:i,importance:t,onError:A.onError}),ut({metricName:"Batch Events",data:e,importance:t})},Bt=()=>{Mt(vt(je.eventsQueue)),Ne({eventsQueue:[]})};function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ct.apply(this,arguments)}const Dt=Object.values(f),At=Object.values(m),Lt=e=>Dt.includes(e)?e:f.unknown,Ut=e=>At.includes(e)?e:m.unknown,Rt=(e,t,n)=>{const r={auth:J()?b.loggedIn:b.notLoggedIn,action:Lt(e),component_type:Ut(t),logging_id:n,platform:A.platform,project_name:A.projectName};return"number"==typeof H.userTypeEnum&&(r.user_type_enum=H.userTypeEnum),r},qt=e=>{const t=Ae();if(!e)return A.onError(new Error("missing logData")),Ct({},Rt(f.unknown,m.unknown),{locale:H.locale,session_lcc_id:H.session_lcc_id,timestamp:t,time_start:Le.timeStart});const n=Ct({},e,Rt(e.action,e.componentType,e.loggingId),{locale:H.locale,session_lcc_id:H.session_lcc_id,timestamp:t,time_start:Le.timeStart});return delete n.componentType,delete n.loggingId,n},Ft={blacklistRegex:[],isEnabled:!1};function zt(){return{page_key:re.pageKey,page_path:re.pagePath,prev_page_key:re.prevPageKey,prev_page_path:re.prevPagePath}}function Kt(e){Object.assign(Ft,e)}function $t(e,t,n=l.low){if(H.isOptOut)return;if(!Oe())return;const r=qt(t);!function(e){Ft.isEnabled&&(ve(),Object.assign(e,zt()))}(r),be(r),function(e){Object.keys(Se).length>0&&Object.assign(e,Se)}(r),r.has_double_fired=!1,r.event_type=e,n===l.high?Pt(r,n):yt((()=>{Pt(r)}))}function Qt(e,t=!1){t?_t({url:A.metricsEndPoint,data:{metrics:e},isJSON:!0,onError:A.onError}):yt((()=>{_t({url:A.metricsEndPoint,data:{metrics:e},isJSON:!0,onError:A.onError})})),ut({metricName:"Batch Metrics",data:e})}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt.apply(this,arguments)}function Ht(e){if(!Oe())return;v.server!==A.platform&&!e.pagePath&&re.pagePath&&(e.pagePath=re.pagePath);const t=Object.keys(Se).length?Wt({},e.tags,Se):e.tags;t&&Object.assign(e,{tags:t}),je.metricsQueue.push(e),ht(Qt)&&(Qt(bt(je.metricsQueue)),je.metricsQueue=[])}function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vt.apply(this,arguments)}let Jt=function(e){return e.instant="instant",e.quick="quick",e.moderate="moderate",e.slow="slow",e.unavoidable="unavoidable",e}({});function Xt(e){return e.toLowerCase()}let Gt={};const Zt=(e,t)=>{null!=A&&A.onMarkStep&&A.onMarkStep(e,t),xe({ujs:t})};let Yt;const en={Perfume:()=>{},markStep:e=>{},markStepOnce:e=>{},incrementUjNavigation:()=>{}},tn=()=>{z()&&Yt&&Yt.markNTBT&&Yt.markNTBT()},nn=e=>{z()&&Yt&&en.markStep&&en.markStep(e)},rn=e=>{z()&&Yt&&en.markStepOnce&&en.markStepOnce(e)},an=()=>{z()&&Yt&&en.incrementUjNavigation&&en.incrementUjNavigation()};function on(e={callMarkNTBT:!0}){"unknown"!==A.platform&&(Ft.blacklistRegex.some((e=>e.test(fe())))||($t(j,{action:f.render,componentType:m.page}),e.callMarkNTBT&&tn()))}let sn=!1,cn=!1;const un=e=>{sn=!e.persisted},ln=(e,t="hidden",n=!1)=>{cn||(addEventListener("pagehide",un),addEventListener("beforeunload",(()=>{})),cn=!0),addEventListener("visibilitychange",(({timeStamp:n})=>{document.visibilityState===t&&e({timeStamp:n,isUnloading:sn})}),{capture:!0,once:n})},dn=36e3;function pn(){const e=pt(Ae());if(e&&(O.forEach((e=>{oe[e]&&delete oe[e]})),st()),!oe.lastEventTime||!Le.sessionStart||!e)return;const t=Math.round((oe.lastEventTime-Le.sessionStart)/1e3);if(t<1||t>dn)return;const n=Ce(t);$t(N,{action:f.measurement,componentType:m.page,session_duration:t,session_end:oe.lastEventTime,session_start:Le.sessionStart,session_rank:n})}function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mn.apply(this,arguments)}const fn=[],vn=[],gn=()=>{const e=fn.shift();e&&e()},bn=()=>{const e=vn.shift();e&&e()};let hn={};function wn(e){const t=function(e){return{test_name:e.testName,group_name:e.group,subject_id:e.subjectId,exposed_at:Ae(),subject_type:e.subjectType,platform:A.platform}}(e);hn[e.testName]=hn[e.testName]||0,hn[e.testName]+k>Ae()?lt({metricName:`Event: exposeExperiment ${e.testName} not sent`,data:t}):(hn[e.testName]=Ae(),ot(E,hn),lt({metricName:`Event: exposeExperiment ${e.testName} sent`,data:t}),_t({url:A.exposureEndpoint,data:[t],onError:(t,n)=>{hn[e.testName]=0,ot(E,hn),A.onError(t,n)},isJSON:!0,importance:l.high}))}const yn=e=>{var t,r,i;U(e),z()&&(H.languageCode=(null==(t=navigator)?void 0:t.languages[0])||(null==(r=navigator)?void 0:r.language)||""),te(),(()=>{var e;if(z()&&null!=(e=window)&&e.indexedDB){const e=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=Je(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Je(o.result),e.oldVersion,e.newVersion,Je(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("keyval-store",1,{upgrade(e){e.createObjectStore("keyval")}});rt({idbKeyval:{get:async t=>(await e).get("keyval",t),set:async(t,n)=>(await e).put("keyval",n,t),delete:async t=>(await e).delete("keyval",t),keys:async()=>(await e).getAllKeys("keyval")}})}else rt({idbKeyval:{get:async e=>new Promise((t=>{t(it[e])})),set:async(e,t)=>new Promise((n=>{it[e]=t,n(e)})),delete:async e=>new Promise((()=>{delete it[e]})),keys:async()=>new Promise((e=>{e(Object.keys(it))}))}})})(),lt({metricName:"Initialized Analytics:",data:{deviceId:H.deviceId}}),fn.push((()=>{Pt()})),(async()=>{const e=await at(S);rt({isReady:!0}),gn(),e&&(bn(),se({eventId:e.eventId||oe.eventId,sequenceNumber:e.sequenceNumber||oe.sequenceNumber,sessionId:e.sessionId||oe.sessionId,lastEventTime:e.lastEventTime||oe.lastEventTime,sessionUUID:e.sessionUUID||oe.sessionUUID}),function(e){se(mn({},function(e){const t={};return O.forEach((n=>{e[n]&&(t[n]=e[n])})),t}(e),de()))}(e),Ue({sessionStart:e.sessionStart||oe.sessionStart}),De({ac:e.ac||Ie.ac,af:e.af||Ie.af,ah:e.ah||Ie.ah,al:e.al||Ie.al,am:e.am||Ie.am,ar:e.ar||Ie.ar,as:e.as||Ie.as,pv:e.pv||Ie.pv}),A.trackUserId&&Y({userId:e.userId||H.userId}),pn(),lt({metricName:"Initialized Analytics IndexedDB:",data:e}))})(),async function(){at(E).then((e=>{hn=null!=e?e:{}})).catch((e=>{e instanceof Error&&A.onError(e)}))}(),Z(),z()&&(ln((()=>{se({lastEventTime:Ae()}),st(),Bt()}),"hidden"),ln((()=>{pn()}),"visible")),z()&&(i=()=>{var e,t,n,r;te(),ee({width:null!=(e=null==(t=window)?void 0:t.innerWidth)?e:null,height:null!=(n=null==(r=window)?void 0:r.innerHeight)?n:null})},addEventListener("resize",(()=>{requestAnimationFrame((()=>{i()}))}))),(()=>{if(z())try{const e=n(2);en.markStep=e.markStep,en.markStepOnce=e.markStepOnce,en.incrementUjNavigation=e.incrementUjNavigation,Yt=new e.Perfume({analyticsTracker:e=>{const{data:t,attribution:n,metricName:r,navigatorInformation:i,rating:a}=e,o=I[r],s=(null==n?void 0:n.category)||null;if(!o&&!s)return;const c=(null==i?void 0:i.deviceMemory)||0,u=(null==i?void 0:i.hardwareConcurrency)||0,l=(null==i?void 0:i.isLowEndDevice)||!1,p=(null==i?void 0:i.isLowEndExperience)||!1,v=(null==i?void 0:i.serviceWorkerStatus)||"unsupported",g=Vt({deviceMemory:c,hardwareConcurrency:u,isLowEndDevice:l,isLowEndExperience:p,serviceWorkerStatus:v},Gt),b={is_low_end_device:l,is_low_end_experience:p,page_key:re.pageKey||"",save_data:t.saveData||!1,service_worker:v,is_perf_metric:!0};if("navigationTiming"===r)t&&"number"==typeof t.redirectTime&&Ht({metricName:I.redirectTime.eventName,metricType:d.histogram,tags:b,value:t.redirectTime||0});else if("TTFB"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,vitalsScore:a||null},g)),Ht({metricName:I.TTFB.eventName,metricType:d.histogram,tags:Vt({},b),value:t}),a&&Ht({metricName:`perf_web_vitals_ttfb_${a}`,metricType:d.count,tags:b,value:1});else if("networkInformation"===r)null!=t&&t.effectiveType&&(Gt=t,$t(o.eventName,{action:f.measurement,componentType:m.page,networkInformationDownlink:t.downlink,networkInformationEffectiveType:t.effectiveType,networkInformationRtt:t.rtt,networkInformationSaveData:t.saveData,navigatorDeviceMemory:c,navigatorHardwareConcurrency:u}));else if("storageEstimate"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page},t,g)),Ht({metricName:"perf_storage_estimate_caches",metricType:d.histogram,tags:b,value:t.caches}),Ht({metricName:"perf_storage_estimate_indexed_db",metricType:d.histogram,tags:b,value:t.indexedDB});else if("CLS"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page,score:100*t||null,vitalsScore:a||null},g)),a&&Ht({metricName:`perf_web_vitals_cls_${a}`,metricType:d.count,tags:b,value:1});else if("FID"===r){const e=(null==n?void 0:n.performanceEntry)||null,r=parseInt((null==e?void 0:e.processingStart)||"");$t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,processingStart:null!=e&&e.processingStart?r:null,startTime:null!=e&&e.startTime?parseInt(e.startTime):null,vitalsScore:a||null},g)),a&&Ht({metricName:`perf_web_vitals_fidVitals_${a}`,metricType:d.count,tags:b,value:1})}else"userJourneyStep"===r?($t("perf_user_journey_step",Vt({action:f.measurement,componentType:m.page,duration:t||null,rating:null!=a?a:null,step_name:(null==n?void 0:n.stepName)||""},g)),Ht({metricName:`user_journey_step.${A.projectName}.${A.platform}.${(null==n?void 0:n.stepName)||""}_vitals_${a}`,metricType:d.count,tags:b,value:1}),Ht({metricName:`user_journey_step.${A.projectName}.${A.platform}.${(null==n?void 0:n.stepName)||""}`,metricType:d.distribution,tags:b,value:t||null})):I[r]&&t&&($t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,vitalsScore:a||null},g)),a&&(Ht({metricName:`perf_web_vitals_${Xt(r)}_${a}`,metricType:d.count,tags:b,value:1}),"LCP"===r&&Ht({metricName:`perf_web_vitals_${Xt(r)}`,metricType:d.distribution,tags:b,value:t})))},maxMeasureTime:3e4,steps:A.steps,onMarkStep:Zt})}catch(e){e instanceof Error&&A.onError(e)}})()},Tn=e=>{Y(e),e.userAgent&&Z(),lt({metricName:"Identify:",data:{countryCode:H.countryCode,deviceId:H.deviceId,userId:H.userId}})},kn=({blacklistRegex:e,pageKeyRegex:t,browserHistory:n})=>{Kt({blacklistRegex:e||[],isEnabled:!0}),ae({pageKeyRegex:t}),on({callMarkNTBT:!1}),n.listen((()=>{on()}))},_n=({blacklistRegex:e,pageKeyRegex:t,nextJsRouter:n})=>{Kt({blacklistRegex:e||[],isEnabled:!0}),ae({pageKeyRegex:t}),on({callMarkNTBT:!1}),n.events.on("routeChangeComplete",(()=>{on()}))},Sn=()=>{Y({isOptOut:!0}),ot(S,{})},En=()=>{Y({isOptOut:!1})},xn={Button:{label:"cb_button",uuid:"e921a074-40e6-4371-8700-134d5cd633e6",componentType:m.button}};function On(e,t,n){return{componentName:e,actions:t,data:n}}function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jn.apply(this,arguments)}function Nn(e,t,n){const{componentName:r,data:i}=n;$t(e.label,jn({componentType:e.componentType,action:t,loggingId:e.uuid,component_name:r},i))}const In={actionMapping:{onPress:f.click,onHover:f.hover},handlers:{Button:{[f.click]:e=>Nn(xn.Button,f.click,e),[f.hover]:e=>Nn(xn.Button,f.hover,e)}}};function Pn(e,t=!1){t?_t({url:A.tracesEndpoint,data:{traces:e},isJSON:!0,onError:A.onError}):yt((()=>{_t({url:A.tracesEndpoint,data:{traces:e},isJSON:!0,onError:A.onError})})),ut({metricName:"Batch Traces",data:e})}function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}const Bn=1e6;function Cn(e){return e*Bn}function Dn(e=function(){var e;return null==(e=window)?void 0:e.crypto}()){const t=new Uint32Array(2);return null==e||e.getRandomValues(t),((BigInt(t[0])<<BigInt(32))+BigInt(t[1])).toString()}function An(e,t){return{"x-datadog-origin":"rum","x-datadog-parent-id":t,"x-datadog-sampling-priority":"1","x-datadog-trace-id":e}}function Ln(e){var t;const{name:n,traceId:r,spanId:i,start:a,duration:o,resource:s,meta:c}=e;return{duration:o?Cn(o):0,name:n,resource:s,service:A.projectName,span_id:null!=i?i:Dn(),start:a?Cn(a):0,trace_id:null!=r?r:Dn(),parent_id:P,type:M,meta:Mn({platform:A.platform},re.pageKey?{page_key:re.pageKey}:{},null!=(t=Se.ujs)&&t.length?{last_ujs:Se.ujs[Se.ujs.length-1]}:{},null!=c?c:{})}}function Un(e){return[Ln(e)]}function Rn(e,t){Oe()&&function(e){return e.length>0}(e)&&(t&&function(e,t){e.forEach((e=>function(e,t){const n=Mn({},e.meta,t.meta),r={start:t.start?Cn(t.start):e.start,duration:t.duration?Cn(t.duration):e.duration};Object.assign(e,t,Mn({meta:n},r))}(e,t)))}(e,t),je.tracesQueue.push(e),wt(Pn)&&(Pn(je.tracesQueue),je.tracesQueue=[]))}function qn(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fn.apply(this,arguments)}function zn(){return void 0!==typeof window&&"performance"in window&&"mark"in performance&&"getEntriesByName"in performance}function Kn(e,t){return`perf_${e}${null!=t&&t.label?`_${t.label}`:""}`}function $n(e,t,n){return`${Kn(e,n)}__${t}`}let Qn={};function Wn(e,t,n){if(!zn())return;const r=$n(e,t,n);if(performance.mark(r),"end"===t){const t=Kn(e,n);!function(e,t,n){try{performance.measure(e,t,n)}catch(e){A.onError(e)}}(t,$n(e,"start",n),r);const i=performance.getEntriesByName(t).pop();i&&Ht(Fn({metricName:e,metricType:d.distribution,value:i.duration},null!=n&&n.tags?{tags:n.tags}:{}))}}function Hn(e,t){if(!zn())return;const n=$n(e,"start",t);Qn[n]||(Wn(e,"start",t),Qn[n]=!0)}function Vn(e,t){const n=$n(e,"start",t),r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(Qn,[n].map(qn));Qn=r}function Jn(e,t){if(!zn())return;const n=$n(e,"start",t);Qn[n]&&(Wn(e,"end",t),Vn(e,t))}function Xn(){zn()&&(performance.clearMarks(),Qn={})}var Gn=n(784);function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}function Yn(e,t,n=l.low){const r=(0,Gn.useRef)(t);return(0,Gn.useEffect)((()=>{r.current=t}),[t]),(0,Gn.useCallback)((t=>{$t(e,Zn({},r.current,t),n)}),[e,n])}function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(this,arguments)}function tr(e,t,n=l.low){(0,Gn.useEffect)((()=>{const r=er({},t,{action:f.render});$t(e,r,n)}),[])}function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}const rr=function(e,t){return{markStartPerf:(0,Gn.useCallback)((()=>Hn(e,t)),[e,t]),markEndPerf:(0,Gn.useCallback)((n=>Jn(e,nr({},t,n))),[e,t])}};function ir(){return ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ir.apply(this,arguments)}function ar(){return Object.entries(ir({},Se,zt(),{sessionUUID:oe.sessionUUID,userId:oe.userId})).reduce(((e,t)=>{return null!=(n=t[1])&&""!==n?ir({},e,{[t[0]]:t[1]}):e;var n}),{})}async function or(){return new Promise((e=>{Mt(vt(je.eventsQueue)),Qt(bt(je.metricsQueue),!0),Pn(je.tracesQueue,!0),Ne({eventsQueue:[],metricsQueue:[],tracesQueue:[]}),e()}))}function sr(){return{"X-CB-Device-ID":H.deviceId||"unknown","X-CB-Is-Logged-In":H.userId?"true":"false","X-CB-Pagekey":re.pageKey||"unknown","X-CB-UJS":(e=Se.ujs,void 0===e||0===e.length?"":e.join(",")),"X-CB-Platform":A.platform||"unknown","X-CB-Project-Name":A.projectName||"unknown","X-CB-Session-UUID":oe.sessionUUID||"unknown","X-CB-Version-Name":A.version?String(A.version):"unknown"};var e}})(),r})()}));',Hjt=()=>new Promise((t,e)=>{if(window.ClientAnalytics)return t();try{const n=document.createElement("script");n.textContent=qjt,n.type="text/javascript",document.head.appendChild(n),Vjt(),document.head.removeChild(n),t()}catch{console.error("Failed to execute inlined telemetry script"),e()}}),Vjt=()=>{var t,e,n;if(typeof window<"u"){const r=(n=(t=Qe.config.get().deviceId)!==null&&t!==void 0?t:(e=window.crypto)===null||e===void 0?void 0:e.randomUUID())!==null&&n!==void 0?n:"";if(window.ClientAnalytics){const{init:i,identify:s,PlatformName:o}=window.ClientAnalytics;i({isProd:!0,amplitudeApiKey:"c66737ad47ec354ced777935b0af822e",platform:o.web,projectName:"base_account_sdk",showDebugLogging:!1,version:"1.0.0",apiEndpoint:"https://cca-lite.coinbase.com"}),s({deviceId:r}),Qe.config.set({deviceId:r})}}},Kjt="0xba5ed110efdba3d005bfc882d75358acbbb85842",v4e="0xf85210B21cC50302F477BA56686d2019dC9b67Ad",xd=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"owner",type:"bytes"}],name:"AlreadyOwner",type:"error"},{inputs:[],name:"Initialized",type:"error"},{inputs:[{name:"owner",type:"bytes"}],name:"InvalidEthereumAddressOwner",type:"error"},{inputs:[{name:"key",type:"uint256"}],name:"InvalidNonceKey",type:"error"},{inputs:[{name:"owner",type:"bytes"}],name:"InvalidOwnerBytesLength",type:"error"},{inputs:[],name:"LastOwner",type:"error"},{inputs:[{name:"index",type:"uint256"}],name:"NoOwnerAtIndex",type:"error"},{inputs:[{name:"ownersRemaining",type:"uint256"}],name:"NotLastOwner",type:"error"},{inputs:[{name:"selector",type:"bytes4"}],name:"SelectorNotAllowed",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{inputs:[],name:"UnauthorizedCallContext",type:"error"},{inputs:[],name:"UpgradeFailed",type:"error"},{inputs:[{name:"index",type:"uint256"},{name:"expectedOwner",type:"bytes"},{name:"actualOwner",type:"bytes"}],name:"WrongOwnerAtIndex",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"index",type:"uint256"},{indexed:!1,name:"owner",type:"bytes"}],name:"AddOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"index",type:"uint256"},{indexed:!1,name:"owner",type:"bytes"}],name:"RemoveOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"REPLAYABLE_NONCE_KEY",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"addOwnerAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"addOwnerPublicKey",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"functionSelector",type:"bytes4"}],name:"canSkipChainIdValidation",outputs:[{name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"entryPoint",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"executeBatch",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"calls",type:"bytes[]"}],name:"executeWithoutChainIdValidation",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHashWithoutChainId",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{name:"$",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"owners",type:"bytes[]"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"isOwnerAddress",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"bytes"}],name:"isOwnerBytes",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"isOwnerPublicKey",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"result",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextOwnerIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"}],name:"ownerAtIndex",outputs:[{name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"ownerCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"},{name:"owner",type:"bytes"}],name:"removeLastOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"index",type:"uint256"},{name:"owner",type:"bytes"}],name:"removeOwnerAtIndex",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"removedOwnersCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"hash",type:"bytes32"}],name:"replaySafeHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"newImplementation",type:"address"},{name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],b4e=[{inputs:[{name:"implementation_",type:"address"}],stateMutability:"payable",type:"constructor"},{inputs:[],name:"OwnerRequired",type:"error"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"createAccount",outputs:[{name:"account",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"getAddress",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initCodeHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"}],Mi={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},OH={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},x4e="Unspecified error message.",Gjt="Unspecified server error.";function RH(t,e=x4e){if(t&&Number.isInteger(t)){const n=t.toString();if(MH(OH,n))return OH[n].message;if(E4e(t))return Gjt}return e}function Zjt(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(OH[e]||E4e(t))}function Yjt(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&MH(t,"code")&&Zjt(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,MH(r,"data")&&(n.data=r.data)):(n.message=RH(n.code),n.data={originalError:C4e(t)})}else n.code=Mi.rpc.internal,n.message=_4e(t,"message")?t.message:x4e,n.data={originalError:C4e(t)};return e&&(n.stack=_4e(t,"stack")?t.stack:void 0),n}function E4e(t){return t>=-32099&&t<=-32e3}function C4e(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function MH(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _4e(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const at={rpc:{parse:t=>pu(Mi.rpc.parse,t),invalidRequest:t=>pu(Mi.rpc.invalidRequest,t),invalidParams:t=>pu(Mi.rpc.invalidParams,t),methodNotFound:t=>pu(Mi.rpc.methodNotFound,t),internal:t=>pu(Mi.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return pu(e,t)},invalidInput:t=>pu(Mi.rpc.invalidInput,t),resourceNotFound:t=>pu(Mi.rpc.resourceNotFound,t),resourceUnavailable:t=>pu(Mi.rpc.resourceUnavailable,t),transactionRejected:t=>pu(Mi.rpc.transactionRejected,t),methodNotSupported:t=>pu(Mi.rpc.methodNotSupported,t),limitExceeded:t=>pu(Mi.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>g3(Mi.provider.userRejectedRequest,t),unauthorized:t=>g3(Mi.provider.unauthorized,t),unsupportedMethod:t=>g3(Mi.provider.unsupportedMethod,t),disconnected:t=>g3(Mi.provider.disconnected,t),chainDisconnected:t=>g3(Mi.provider.chainDisconnected,t),unsupportedChain:t=>g3(Mi.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new S4e(e,n,r)}}};function pu(t,e){const[n,r]=A4e(e);return new jH(t,n||RH(t),r)}function g3(t,e){const[n,r]=A4e(e);return new S4e(t,n||RH(t),r)}function A4e(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class jH extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class S4e extends jH{constructor(e,n,r){if(!Jjt(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function Jjt(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function I4e(t){return typeof t=="object"&&t!==null&&"code"in t&&"data"in t&&t.code===-32090&&typeof t.data=="object"&&t.data!==null&&"type"in t.data&&t.data.type==="INSUFFICIENT_FUNDS"}function k4e(t){return typeof t=="object"&&t!==null&&"details"in t}function Qjt(t){try{const e=JSON.parse(t.details);return new jH(e.code,e.message,e.data)}catch{return null}}function gu(t,e,n){if(t==null)throw e??at.rpc.invalidParams({message:"value must be present",data:t})}function Wg(t,e){if(!Array.isArray(t))throw at.rpc.invalidParams({message:e??"value must be an array",data:t})}const Xjt=`Base Account SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Base Account app.

Please see https://docs.base.org/smart-wallet/quickstart#cross-origin-opener-policy for more information.`,eDt=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(Xjt)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:tDt,getCrossOriginOpenerPolicy:nDt}=eDt();function rDt(t){if(t){if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties");if(t.telemetry&&typeof t.telemetry!="boolean")throw new Error("Telemetry must be a boolean")}}function $4e(t){if(typeof t!="function")throw new Error("toAccount is not a function")}var Kn;(function(t){t.unknown="unknown",t.banner="banner",t.button="button",t.card="card",t.chart="chart",t.content_script="content_script",t.dropdown="dropdown",t.link="link",t.page="page",t.modal="modal",t.table="table",t.search_bar="search_bar",t.service_worker="service_worker",t.text="text",t.text_input="text_input",t.tray="tray",t.checkbox="checkbox",t.icon="icon"})(Kn||(Kn={}));var Gn;(function(t){t.unknown="unknown",t.blur="blur",t.click="click",t.change="change",t.dismiss="dismiss",t.focus="focus",t.hover="hover",t.select="select",t.measurement="measurement",t.move="move",t.process="process",t.render="render",t.scroll="scroll",t.view="view",t.search="search",t.keyPress="keyPress",t.error="error"})(Gn||(Gn={}));var Zn;(function(t){t.low="low",t.high="high"})(Zn||(Zn={}));function rr(t,e,n){var r,i,s;window.ClientAnalytics&&((r=window.ClientAnalytics)===null||r===void 0||r.logEvent(t,Object.assign(Object.assign({},e),{sdkVersion:p3,sdkName:c$,appName:(s=(i=Qe.config.get().metadata)===null||i===void 0?void 0:i.appName)!==null&&s!==void 0?s:"",appOrigin:window.location.origin}),n))}const iDt=()=>{rr("communicator.popup_setup.started",{action:Gn.unknown,componentType:Kn.unknown},Zn.high)},sDt=()=>{rr("communicator.popup_setup.completed",{action:Gn.unknown,componentType:Kn.unknown},Zn.high)},oDt=()=>{rr("communicator.popup_unload.received",{action:Gn.unknown,componentType:Kn.unknown},Zn.high)},DH=({dialogContext:t})=>{rr(`dialog.${t}.shown`,{action:Gn.render,componentType:Kn.modal,dialogContext:t},Zn.high)},T4e=({dialogContext:t})=>{rr(`dialog.${t}.dismissed`,{action:Gn.dismiss,componentType:Kn.modal,dialogContext:t},Zn.high)},Cy=({dialogContext:t,dialogAction:e})=>{rr(`dialog.${t}.action_clicked`,{action:Gn.click,componentType:Kn.button,dialogContext:t,dialogAction:e},Zn.high)},aDt=`
@font-face {
  font-family: "BaseSans-Regular";
  src: url("data:font/woff2;charset=utf-8;base64,d09GMgABAAAAAJigAA8AAAACCywAAJg8AAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP0ZGVE0cGoIuG4L7BhzCdAZgAJIGEQgKg+k0gv4NC4p0AAE2AiQDlWQEIAWGfgeublsIz5EGVeP2TiXfSAJ0G0LBr7Zlqf6pcAA3dwBbquuITJr6o7y2YrpNHoSyAwBKe/rZ//////+/IlmMMf8PuQcEUUitMtva1oSQhGamQkxJxpSLWVScqgQ1RW16VovNJTZ2uagkVSeuNje11QubnvZpYVB7yUGi4thNqJYBdoegR2V9jiA4dEhCOgf3Va7muEqhcRKz0dDNOVV47+hxPO9qkzFCUg5glpCZxKbOGFxehX5nYwGEBZOQwyRFIY5oljSrLwkSIj35dugPRJKk8G3GwUgw06hpknM0qqcUdO/UkzLvviWielabhCp59zPCaOnnqLtK3qXfP4Jz+vAum7Q0/NuZGXK9lUJKTpCEJ7ENfKrSzrLJy8uqLLgUD5sssqscpk8OS7HhGv36H+Ct59wJukpOmwpgFOqL6vCNd0ISNjq/nA5E/OXNVV0dR7EKTAKiB1ZvW+tSlyr7EWdJ3qxDtA8codE8WQY4xkT9EJF26FGP+iQKnwv66klyovCkLwlr8Lxu3nv/5/MNMUKMiAhhDtdkGsM0RAwRI8QYaRhCUNgOUAO4Bi0u3DhL0aZoKaLFsXHublwTFwWef9oP2rlv3sxftRCxRCOKSDVvItZINGlFPFkmbqay38SW9hmQLI2pME5qCPQ47vfu8GC3f2SvxM2MUAmZO8ThjH049p2ZcUbGnTPWOHudo8vMLNEQRUvt3y9qA6U5Uu9ZONvHHhBR/BdN1Kcsoz6KD7j59iAmJA4eESNxvpq3Y6fp1ru163hU2GRzm8rmg0BhMJKgMIaf9nO3qg2ztI6m8ncflWgaGnQInYUqlufvbIecf9zg3KdoiqIpiqLnHzctBAhpSGNI+CSBCoxSmdVel2WMzJgqpdvlRLu9sTnXnnhOLGfKTLCJOTM9UWa8ezmfeyz//739L9vet2xVfdv8v/dtfXvfXldd46q+pW+rqhpVVXVV1biGGqPGGGOMMSIiRkSEOCIiIiIiIiKOIyJEHBHHETH/+Nz8/5kozOTkkPZ9M9uZRYC0pVwIQS5XK0nOJvA8lOVX3YrZypBnvvvmw25iURRFUTRNURRFURRFURRFURRF0TRNUzRN0TRN0/zRttoUsFC40OU9euRGFjGNjc8DAIWhNhWIqEFFnL7nFu2CjlFaJxxJRqf6Ung+Jvp73GVuoRtcHv8zeSKBU33dLOlWLJ0kBS4NEvIIaJvcM3ZuaDO0PkAHB26nUXSKoiiKorCiM7PySCWqIBxaeL2g/EBoVNGFPYv0QhLD6BUFa7FVDM8hh4gg8ggWk0GkW3K9iQBYnQnPTdjg3A60rt4SpU4u7oiFDsrYvgxqdHDejpIzYZgbzk8QuuLh/8fU3Bf+KRCpqkoCWRYOgAZ6Z5rQmDGR2/bhWlmYKohLc8ntExu5JXwnk4LxI3Dc4OHi4/9eZ9m+b3l93mMfUbzJKYRFQ1QlXco0TebrSbL0JXsjyd5bw4HXPtI6YPvIcDe3DiFVQLb3iLxBgC4dNk2KLk2ZpkxREncp6io8fL/sm+2zzdT+IY9D0m6/Y4Tb+s6iqZrfMxvuf9tUfXJvk9JjSEMeYnYhCoOwOIYhfWJUUa2kkNlJpML5EP/eVKu0P5sQZjyxnCmOds/xprjWpqAZcY3TaO585D3x+jeeuj+aGBIYUWAPxDGOwjgjW4Pf//+GJyFLEJQZZ5xG63XOmMhaQ53VznlFa3y22daGl256F+cXhBeFxoYXXhZfePD8O32lcfRutrIm2gQ7oUjxl7L8lWnl5GWsjrVZocNaAAtYi4twUQmBxeWB71Q+jf0X4QkWtlmSCs9F9QVYKjgMPC1YEQfHiQ1IA75IGACGQSXDpvfmW2GhW4TDy9KXWhTKEVQViiAk0uAR7iVCIrxEwlP9Tf+zRMPFdQxv5oIEg///pmZK8yodlcqgE4BywtDq/vc9azWnlY7kGdlbOg4NZKEs8O+WPP07CTSbOoxcSiiOX6QEN+t/J+H/fye5TqG9dlWtqrVWRESMyIsRI0bEWhVH3///6xjuE3wV5isP2bQlhMJa/PCAB7e9XrJlnx4vRqoCxJEeHtsI0x9/s5owdGxp17TXIikE8RSCxh6y+31+b1Pbj1sa9nZsapXA6RS3w2leokH/w4wAP/6mRgHw09uiJICffvQeEZQY/BH8E+WJYYuQkGD11BMhJcNy5oJw5Yrlxg3hzh3LQxgiXDhWhAjEGGOw5BSISJFYUWIQsWKx4oxHJEjAmiARoaHBmqgMMc8ClDkxSGKjw2RK5iCZm1JsyrIcyYqswGZl9iDZmxNoTuYrkm/pRNNFvZHyqUC0gupnpCx1EFOHqhHBggLBgJnAPGAJFElsNCDYJGVStElG0cRmItSr1aA7AqYxnAnd7KY4NcTHPZpvggwLTE5jQFCdzRz7ZK4J0n+yOBxfPLubEYQhClMafQx9v+JB6UbImj03AQYbTS6OWrJUJhSP0p/2es1yt0Omr7Egj5366fr4ua6v3dbt9Ruc/3R947/ZvnkHjg3y7lUgoL2UBP/MNpUuiyQu8YoquufZv6iCKqyOV+sY2sKGZqwbj8bn9uvFkxPI5wJN4YqTdR3cr39S/T4cB2JUjhcpltUvgRzIldzOJ3mQJ8XXdymUZumXYxErv47qa0tRnWmroa07s59NsWk3Q2f+HEC/bJfPh/PLFdHXxHmv5nfeueJkzg3Zs+zvMTCTf967JdTaNjTKjk5xsRvd5QGPed4r3vZnH/nrwvoTeZY4lfsvixW3mtfjU+A83xeuevacM9d5qon6fOTg/79PrhPLMWMcwa3bv3J36RZlxnBgAJ2KMoyFYTREKn+ZKsvGlEcUkroTk15wKDTCoMoIwHgRFQNDXIa8HgfEacoFAzxuOQ7CC3jkglmPV3om8ky0iIPACWPlXBxA16FBIDBeeJaRPVKUYhqoHSvO1VEgVUajSwqlmlIalK25HF6e7le5QsHuVNO9EEUGvScieDTMCFZkT4wSprN3PWQynglxJhmiQBMhZVkvQGCuhy3sGznDAIAvIckysxSNLSamjH8rL/iQ6kCmCWULlOP5La5Cs7pTIL3W4dKITAHf4EO4q5DGYsYTJxAmKicRJgvAnGZ4X3BH3jdqsaKPhrAlcd9II/pGQ57oVzQUSmFQLm+lopVwjzel0YxGq1ZiNdKcpfuGqsZq1tfw2zUtj7I82jLYr2C4PWYaWZ7sU0shbvISKvr5PPYncRCxIBcTsIcjEmiZi+j6+xZjUG3QSJJkOZ0oBjriBHZXeDFRTOILE8ls/Z1QmBmC1XFrmI7FjqdMACayJ1Eg7HQJdDV0dWgN4VgRHHE5ABPlwkwJvi3SNGU/lasiDqPyamkvpWzzBjsBryYXJNXRm2tksf66FHEGdBmprXMO/1yFsdTx4ATRRPEkkcqIE5HnoBB2PKcIq8ZzlSN8HCKVJBHWJzP1NxSViSkoDNOJZpubo9BJtAXOIPRT0X9kVclq8tUZa+iMJY1nT2BPZE5i7yWMRBxEHkXREryFuA1pTeFkz16JKs2eU2cambRkOYZ51DBJkZdkdOBO1AQu0xoxEcLlwSSBqtBzWJOQp2j/YPUah4IrAyPcIIRHuRyjYm79IrehQq6t9gjOo6A5WAlDn6G/Slwapo9gn6z1M9KX/NyrefcT219m/6T9N1+VuBqwus3JnHV46zL3MhVy1okYqZS3Xcm8i7xvbUEzwFWV2XeQ5F6iBJcLUUfaS0gcx2wRFtPjKKVzUzgM0nCXr5JMDXgZL8jbNiPYm2wRUCU4+QQoQ91iwHod68TgjVRIY/cPoxKynq70EPJKDlY+WP8/iJENKyo2DdZO0RFCRWl8qYaUyVu2HuXo8nyFlO7UrXuhigi9UUMhCoNpZKOmo7sejsnhitMeFwkw4jbF6eKNCUQeE6I3hF/ZyCJFXdBcy2HclbkniyIr5XDCacLlCrDJrYNzhmcQdHmIRFtGVnnvci45/f5axEx9ZsTly7CRjYpavpZsBLBW4871xpXwuoQwsnGRf67JdGbERWSYIk+XT4QhBZrEundut/S4Oy7OUn2eBVcfMACKZwtZ7vfPkikU8liT8fgJ5pPMqQKnI5sNt3bV9WYXwYCRCmnsJx3RJ0l+6/QvNvRMxawtzC4Ve/pNF9wma6m7xmLp3uXhEaPZS1FUrC1TzWgWUWglgRYfAJF3xGHMqRcDDrmxOBMSnoPnyRB33z8pwsi4oobUmtOoPmfI6dsqlqf6FaTnHQrVMCiFey0ybwY8BcJphGVwiQEUb5+AImiIJCpVoEz+stnFThmZ5E4N86YgEtlZrpMAyaHS6KGQgEAbv7A3kKrhuJCjbuekZkO95mq0dxThTHgj4YjVXu1K1PWIIag9EYMgwH0ZijiLLKJU4NcXx1Mn0CaKJlGNAIcDCHic5Z4StDNOHDZbv7+bRDOSrhiJiqUFgdtxi51Q7pTJTgfRP3jnYS57EIs1CW8ysRQSOk7m7p9jnJzgFFd83PHxxGcIp4ThMwUXE6dU7Um6wBbQywdbvtjyw5Y/tgKwFYjFERNm1a5XNt/KwddMfBXgEfF6P19vBIZYb/EKsmGvtlsHs+XFXT+ugvmLV07hpJyoQKWFFlnspNPOvvt2rlm7l9m0J0S8iAXrI96AQ2JiYmJiYmLiEdmal3VYUVKSJGl/JWzgCM7bBzojlGUlYKF0vU265E+2EO5klB3PUFBWMSOTWolpoaFoor5MkPQ+o6HQ6Cn1jcK8p1zf/YRhp1TgHVfurATSOreWKNSiPbLa8byeBD23wXWgdW5KdhHedfE2EVhUMJNDKaHcdLor9Imh3DvtcFL4Y17E00B5ZStaY9uaXDZpgKZvEZQWWXJKPeq0IL6r24RivS9KJYVHJYSovb2ndPFvOUyxNC5yeXqLW8iJswKBh0zx3z52tby6PyMqltMpj0zteLz4NqK7DmHRrSN3WD3G46yxswltmY2NwFA2nSDKgZ0E5DEBoia2rObDAAy4OTgcRC0G2k3EcdVx6veK9H6BhqHA7y3odv5qPTAUKppb7vWymulmK8NNz9UZ5jiQJkwI7CAgGWfJEzgo9yDmmkgT4PNBHqF2vDigI4wa1Xv17/28Vbquyn7/PLcDQ2HYy7B08iq8MdA4eUgQlpf5zvZaqBf15lCE0M6cNvZpEiAZ2F45nOBqF+dUbKHUUI6ne4MAYbiTVO3lqVfKb1ayIi5FXpcDlGlyjhzkw/MZmPmoh5QQiZDYcpOgDpXi/1NnChbIDPU5wLQ8scKEcyYn50pPz42BgbtUaTxkyOAjWzZfOXL4yZXLX74iAWabrb8yZQYwMxtoo40GOeywwYlIhCGZk0WGZllWGJNV+Z4i1dkqNtuzgyY7s0tSbuYmbe7mgcmlLKUppSoVfU2oCabWxNIxlKGMMiujZsip3MpVVPmVr7gKa5aSKq1SpTW/Fiir8qowv6qqihnd6DqwsPbVo8IQKQ1qjbIrwYlZoLkRJG+6WZugMZshWKeMxCutGYpJve3Mw28xpYiLzi/bdEFwn1ZxmiUMnnpvH8aVtrQW0e6ZDVGIx3ato8cXg9yY3yVwTMWfoZlZasK15xoRJu19atJdVE3aaQooW7py90yx2b0cRnPzQLBQ9HYIGRn2cTuDUU7mqC7QMta7GWFHwDrFdMaTcOwsxz9wFp3hDa95kR4xMURdxCne5kuXVot3fK/AUBFTYyTNwCHho0m3WELrjocfdeK8R76XC8sKb0xtLZNbrPCKR+W4yRFYr8cdWSVxbPijn5fJ7dmOHZjFHoTyqEnGo/iRX/s9m7fejl9nco980fKEe9ZO25rQGIkA8mLmLDUilOb3hTSBN5ZhC0Ppw8fWDJvl6bLWs0om0vNerrzWNo7vz22ZHyX5BJRxLb61CbxsxLC/f5mvCpm9CxpgTGm0mMU2ZFnhZmZoe6P4i3wiNZ1xall2cbaXQ86Jfv1ui0W+Kk5xF7+1CfzDjUdlRyiYgjb1nopTbRc0MOZlydBSGxnHwAhJUwDznPM7XDt5mXHPiztGft91q4ufPGYV8ntnHuOxMKEus9qnCt4NAkC+2EOcjJKkrO8V9zTVQBEfQC4jeS/RQnV12bAEfNhtdUrQOHvFgfxCMpQbaavfRzKKxDFTDhQebuPIyrNyoFCxIqVGLXIygcMhw8uTcy82JZhpiA9XPjuXa+2v0tRpHrJVh8XK5SMI2G7k5DKT7ct2NPJACAlHBetq03f4yQjYWor/KH89NyFNy6aAZfcCPXd/KIF6JBZmc5T156XLzGXJ6MrrokXOWYTZ8OxwfvkjfV6609pkows0w3++aaoWq81hGOyO+h91VBj9Q4+GbwdWiL4yGuSCYyG/BJvVEvDPNPPUi95/VtmyVu0ZmtjUTqqtrR1eiucax2SM5Dze5puIrOflYNPzPKDLhEOv3R+QCE6s+kYtThtQN9QWNv4pwg7GeX2ZlZuQjUN0+tJo0EhUQYT74ymt1oWww35CO+AP+pL6ZgkTZ3Wao8595eNLZjMLXf7QO+Lga81u4TXJUfseAUH/HUsQlPWkQjsn53QV0IokfPU5gcVDN5ey+5t/vund2zM6bridM6h2XdYc2rWHOxatInPllyuGRjh9IZYZl58tA2aPqPK1Vr4jdOa288nZZpQ7JVr4H9lus4hh34OJSGzsgMM+54OzceTY8RNo+nDGutrGPteGPgeE/1zbksih71QDck2qru1lzrsO3fCRj3u9a7IvUWQeivblx00HrgguaQaOhFNG90eTaTPiE1hZsmZF3DoqkHkvm96X74dPYlNQzL1amVzbtptuuJlbeG4gNT2/YNDl+QW7XZ5fkHRZPkP5+kcReN5h0kWyvX/e6p5gc8+NRL07spHCH+2Qx+WzOq7LbDniVvfiXkpoeJQHO8Z8SBxht2BXAhj2Jzm3n1Im7V6xn69XYgk4QIRv5rxFPj8O0co68Vyf//bCf8Fdw3aZ8cS8HAX5tR4zee2G0yXLKziJFiw3a1ETRLImUkmXNb/o1KSR2LTx660Fb7pEx70N2SQQlMaVbODmgGOQwr/lRE1Naqc4ZRbi6VjvlJin37FoOqdevRtc19fpT1/qnqn9a7tHFY9UqzpDo4lLkicwxZgdbr9cQCcL1RYpOzfhViLum2j+Hnr7rNbUcezQpcv7btFZt8+vKrMfwG8XH9DENOGzsdKbtETTVWkl6BjpCUxSzIwsRFY+FBM7HQcNJx2XKLdBHj1eA2j9GG2sFk4fnkLQJKZdoRCW0eXQY6bw6Be3zWpH2S6bfVUHeKfKLuRdIdxWSx49aXgT8KHhi8rvIQzms9Wgl3JkmrVAPwXDALqp6NfGsA66abA76rEfTJLcIyD2OFRj6qpzORp7s0x9OhT37VXoWOfVutBNcpUfkaoEq8FVJ1bjYKkZTRvzQ4rFHwcVj707OBPwdhdXInSbuJNg2oJsG3U7kO2ibo9sh5H7jLb0UDpluIKgmT4x+uSJAOBQmWiNQQRgp2FnNM+socVkyhyrmnpmqXIthgZ8WW3FNxaLAtcGHLOJ0KEdPfjPSVqMTgKwC5BtUnQpWD2btmzZtGnRIsWirkXLJP2yfHL8AkYsiAL6FAAAACwAgAmAGgBkAAAQFAQAwAwgCOAAAJDmvbEQSgEE221AWyelstEKZQgqgS17Ej9CG6DoT/ltRouXPH2bsuOGbsfK9G09wEGh4y1CwT5bvHuo4CIDCMJTw/imZd1CkGbc0X+fJB8VfwstEHU8nbbw/prowT8+QDElmOTENPMhPIH9OQwAY8EO+eTC1Th7grqzUhB/I1P+/I3cdwFOBijV1cHNzpc6XwlnuwudrXY2QLDwulnjduhXzAMbOs1tlEOFU1xSlYtN8eoOA+w8CNgeIvGjEgKjpnY+hnqUGC5KXJEuF23bJdl3IFBvylAZLiNltIyViTJZpsq0zCt1ZKeNV9uDOlFOm+lumh2D4PCme846TPbB1MXXp3yFqIH4JP8RF11Bj434iCvhEOiRndy7bVvxImrlRTeGPuoGbPiNuBXvhXvfwIzyVM/q0ZzssNlH5Vcqb+SwNJ2pDLqSJ5+Hc/lXeG4XoQ7qsBXatFHt2dGdHRtzHAKuLkEVuXdjU/sV4SF9YE4eRKDEp+LMDkVJ4f1PoJ05MGcPtuP3oN9kGHGc2FGjN9Wg2Mhtt2HbxjUPPOE2DFtBYFdh27IrOa97qTg45+w4N67GmJ2NPCR+O0x/mXMr0ZNELM3b1MpG1Fl31zhRqA4lMITwfGI9ewFaNvwzZrtnHbH8exZX+Lvw9NW3LWYvzO2H9S5cCgamDlK9FTIzok2VzzHx/kQbCYZI0Mr3sN4rIdGlYuJTlb8ScvMb59MEnj7zfC6chza9q1d/Hvky/H30h3/umz/OpVwXd+FEPVKVRRliMamNSkN9LpaDbA2WRweqpS6Yy9p0D8ORZ/l/4NsJ40YQ8nSWzTI8aDIqSy659mEfsseNVcQrJJwGjBxsL0R3XUw1ejDUQYu83qwQRIIkDC4y0IGUaE8HhEIkhYM8EQRFTlPBbx+BWhn+tSyXCpUNlx+gquaWmKKCHh7suwwjoEiFYNYLUCDaN7J7C6vmUgFUnIqg4gvR349ExWJcCTbVyzSJJCiVWFoiU3CsDfPyxG/ho23WoejWZMFlH14J+MbuKdOgjMrPh+CrCtNwxfZkUXRnqkyp2wzVszCYMSfzZIud10vRzY1qXpiOvBgHn3NT64jZwVZ5kySmxqOgbzXvdVjvs+9D9aFHrHYun+nXgMm0OvpteB/2jJaVtkzUmKTw870LUPiqSwL0d1/xEAke1Q06jlw3zEYA61w2Ir3G7KQ4JYNugXpEpR2YwArLWQ/wYz8s5CkFI0leRyjairkhOrLH821NEizyjCVWLXXTMg2rPGqNh631pFTjSgMyiWUb0jqr1vurjf5sk4bNHrbHjn2ec8CaY5ac8miK4nxWFz3setysXvs7f/SrxQBdieVDKnqGnjwUOgNpC8+faj7452LYUnbKOQkPjtCu12aD/tW0ZkvOIz0TYz3ObsDK3HBpPoS7iNmi/ri4taWB5TyzXussUmqZYFm1Qqg7anpwGCzUZj0dZcruDQ4JVsGlAEy51TgJQcmj4Ofqr1kE3xzWDpkbLmGoIy7VNk0myZJqQmmhTFRBGL95ptCU7lRXEUePHfRUmJs4Q80q8dJEPGFZc3viyQyl2U7JUVJVoLS4YbPfiAMDeQiEnz1VkZEpI47g7AB5bFN4xoH3Q6JY7VTT5eIiCW0dUXXC1EAa6HOapEqqIaXVsgXLEW0lMNgEhg7WZSLepw1qXp+/G112mm4fEqbzM6q7qtPVtLfH5YrWMLdA8wJ1VJ/Gl8RJNaM0VbbIuCxTbilV1KKHEOizScXw5VxEECO1Ahq9DlxEjwwnI9hKFQQNMSa7l1xGKMryIZn1IsSRazKku35uq48KArOpuFsizFNpYXXzQpJ19VSjyiQUzYTwZk4j6VWW9YnPGhl9QjBXj12TgQ/C0i5j2iqz6Ni9YiLUoFvGVPHmZc8ygVeJvpRtBDhCQdSjgp0H5cMgPI2v5kSIhBUek11XqFDo4mFsOUigHZHDdfWsbj1mjHds0eTdhqHqvA90JAyFA2h4IdOtFuXCdGjBnBzrhytcHpxG7EPsDGq6ajZKOMgLPwvseVivwsGprWFci0EgWSNXm2D4KZPRGsxfO/qiYWLnUrWQj+1EeAb9l9Yh3vF7Jaoo60gWWsO8XVO1ZWWLqxyKmimiCkSUjt0qKmsk6MeTa+M6LvPikN21Tbur9GYGjxhqRfZ4dPHzoNRF22K37yMi2L5ybdg8LCFAgy9qGrCVgV/d+RouxrozXm+C/kTDSfpKEDRy8rpYeEC1Dnr1KgPZeDLVrjsQ+f3TtIJ0wszCrDYpJu2atbhuyr/+88fyAGJhnCK8tnBpMIkmAxw8tCQ6QWZBlEUhfygkuxi3Nj0NMv5uf8my9FrKiujULNoLEkkpuACFOsdLy0VHmPmwVjJKVMg0hWxXy60qzvgT93/zDASBgCVgtcBgG1jZnHjySL/3ZzfjYxEpJJKwKZn9XSrqMalXd3QKM0aady60NbvEV2VaqBXKCmUFs55Fe0yGh78QlMvhliIGqsuC7PVcFiqeN5opodCSHG31djSKAfni6uKLWywMFItABqchMUzVGFio2Ad6cAjHfTh5OFu4nGSv05+FeRAtSJKBLFOW0opy+kOt2rTr0Kmr6j79rh69+vTn0dO7jWE8JjCJipbnT3+3cBKLackdy7FKrLu7NmNrrataPMh4ZHZiF0/tox256Ts/+Om6v2XyN1yIm5lHWMXOVXkgyicgFJE1YkhIycjN5y0qqCqmEhyR59AWsBQrFavW5hmoA7BDyAHQmX8EzQTjmWFhZWPn4OTiHvYhpgXhhYRFRMXEJSSlpKuMfFk5eQVFJThCj97hJjQKHB1bFDunKhGNT/69RdwlJKiy7icdSERzFqFwoQizItXka1Jy8xoU1fCoRsQ0MqZRUY2OSilRvDqypmQ1bJnSkpGtdkf1i9+6QjcFS9xD0R/06q+o/i3+7w+pS3cvudth65kq91eN1shK0tQs2jPnQajzio9fYFhs3ikFDxTqI4XytRoCkEFMCCzwMwg13CKih/oycDtOgcMxcEzqwb7JaAND0R2sT1PQwgq6gtxl+/IrNLbI8cknFDopKXsILgtvOG+kcfl6LTk2Ja54rWjUqFGpRuUse0rggAr1ehnLRfDMVn0jzkfeD1Th1KJBU9fyyPD1QR8rt+xqJWtzNmh0+iOv4xqK+DDjI/nYJz6tG6f45iR2VWOPV4dxjjruZOTNDbd878dJk1Va2Q25vMYvWOUXKcLTZBWdXWnaWTMZq6t6bLhmsAS339Wo7Z2130MJPb/l3W2TtpN2bwrIHst6ab2cp0kYBRuLZbmBiIjKYDfEMONMyJPUpmBqKLVuhjALsagei2WJpZZZbkW1UmWV1dZYa70NNtpks6222W6HndU+xAGH4giOOeGUM84676LLrsZ13PSdH/w0IclskQdW+RAQqhLqUjJyVa+qfoOGjaZxHlSr1XWda8sYbnSg6FBYRYzWGooyIKVmtInOiCOGHwlngtXMLKxs7BycXNzLRflkKSPitEqURLUIzygCOj1XQragBIvj9frEeBDeD1rDdH4QxAJlV0ENCCP2lpf7BdQf3yys/2ZT8q6dcGL1B8J9l/kA8jK0xzG+YrPE61KZS74wXRyoAtQCGgBNgJZgA70hommwpiGahgKGaRqBGIkYY8tYW8ZpGm/LBE0TbZlkx2SKKXZEfaVVS8xNbfZN1fAQoJ1lhoNGPz/jyItzvCQve8WrXjvjdaBkAQAAgAZ0CNo3LDZLuqXe7RLE8hErrFqpaZXV1lj77lJFStNk6lG2UOtsWb+LDdhok822Vtvs2G6HndUu+/bM73VgnzfsTwccdGj4MOCIpqOOOe6Ek07FGWouibMW581Fl111PW5U3Ixb5jvf+8GPfrpdh8KMRVL3EEUb/uD6es39batbEeYRVrFzzbshyAObeZ2PX0BQKCLfy2P6JeyUslemwzHYL58LlIqmNOl4mLY79XsMmmGjxvOkVtMneU6jBeUle614rNr8GiXSRnViwzUzoxlXzQe+6hDyMPB4HUsdLX7koMeOgv8HQ1SZYHNmFlY2dg5OLu5hH8Jd0MZCwjmiu2hGDHEJSanhNGYZzWXl5BUUleAIPXqrPmD9BgwaMlw1HYxCn7Gly93bunW1PtWkTPOBSYdeyGO+4Js/Y8Vcgdc3g0zMAxp/aaFuK8bjtm8J2Yl8vBZKtUgmS/XXpuSHmc4Sh3Qy6tLThb8JIzBnwLC0yxn7xJ1qvy89S0echGytnerg/JiPTcSUpqGwbuNxRkzdcGygjsGu7nFMfL/DENmeLkHp1fynBiH0ynteEoxFXT9I+Vr+B5anb3EBJlGoBIZn0nV3zUtD9IatheS/H5dgdFZWEGyiMvAXCjawqQm1N73m4sVrqbPOevVinyb2eZsb09bZkZlzoutt361x6dOnz4rCezI8zIQNHxzY3u1t6nh48qaDvxdMIP8vJ6J3rUFd4aW3U6uSiOXsZFZ4Nhuac7DT6hMtx/L9LnxCcKmZgcSuLeU8q+JBSq0l8u8kfro7GwBYuk05Y6HhN7TPOsF5nAFRc2sLiWIfOTpRNJsQdqYmwRmnG4HUEUvkLmgnjF2NdbtsygZEX2AmglWeVUQBR+CSuS0PvJUeVIJa90Ku8pkJmHzUUMrG4M17auJ2czdRWGMLxcCLBJIICx5dcMChQ8N7rXTnRvwVj4dewe7Esnx+gWtUFdQfLuxjoT6r5keqifKmEJrFY0N16Aomg6XLMaD9PBy1IhGP8cmxxE6kFKMT8U90oFSHPoXPrMhaI2684f4UD6/jqfNWgiZS6lSfUdS2t0dnH7XBDTWVci2LmYQIIqiABtkywWquj6Hu0VlRv6Yu44ghDjR8Fu841TSWaBg5fmUC3iDEQoxUUoe49WfKcYxkChEYhz5xhw6zwoL7GTHSKVRV3zZtMOUq79yxmfNhOAszMrOsFo/7XR/rNa+thcgfPexJnnnquozk2OZKmdas5POZW/UdvA6oMoaNlrXMad0vW/LWcl2vkC9Sb8ZfCsYRd/mxLUp4qQICWjPJSqkk9Whi3pADZ5Rad3S7OWSTUZuLM39Tzg3dVOBBZDGHPkhuoVdQOZyi5vRKO+a1gFK7X0RQTFbxqiQ7onb0A86RzqgPVUhwrcvyk4wBISNOfIK2bKn4KC9475hNcCxRU4tRxSp+5fzwiBlEtjuxqDn8nN9hP+9MdHtV0zKBn2v7YbL5JvaafwUtKcnIitUrwtoFbrXZE2KnN9Itxs8W9/Uc07Z2/MDjfutJH5kve9dCZYXLXoyegoRZ5nZtVnIpZ7tZwhjjbnE3V2wwPQhyDhwIgTtmBEXlxRnTnDR0yB56ft1jdaYtg34ykR4qjo4FqCNMmjkUJbFiL1Q1dK+PZJSKFpSDx7p4WkhYjLq5S0uKU4ncgXZcEgLETSTAcVEzVXU3hjAolG6dNu0Ol0+65WKwinN7trbxHLdxNEnQeCDpK6eycMoLpT1QTb1patlVYlyRP+WKnbli9nOuuvYcRWIvulGSsZaT1BWPhGYYvgw+myFRcv1KfKSBAhmLk8llXmKeR4d9YIGo2jaIxkw18YrAD0GzvcbK5CHpSCYlqlhmUL7l2VySneUSBHI9PCuTospHSSLtKXer+hiKJOohWaacxc1TfwkksrENmoHAzS1mt+u4ICa+hwJW3XRVXp4h0zKcagHxR10Z38irUa6Br8uZhCdMvqZUGcu9vyEw7n30XQ3DWT73UJsRLMrClf06BSU6xDWYdFOhH8MA3d41bQziQ5Ep04pQtpehdhAd8Y6BTP85SNLDv6Y6/IwjJ15jK4XQ1ODsGRucRNsLmeXdUBQPVC3Hr2MpVXgNiobDPpOkitgn3lwaLkAx0zke6ofyp5INMlU8IGpKfOHtQmhkaruTMC7gcWfpQQwgdGOmSI2rSYAMkdmcDPzCojyQUkhxZH8QXuzxXk/FrUEvtC7PMqahRBKXZIAjPLGiC1K+srkjJY/9SwXdbiw8EccNzYR3ZM64ccyP9WVy6JTCVXycajLWzzMdODwSC3tk/LhBmzWqjZnnsQ1bQvyPvKfZ0ON5UqvDZpjJuW12mUSf61q5CnkspBdpWypdrJYEjKwK3X7ZanYjAaIo4L1UmEgqLv5P8k3GKDkjQ0Fe0jbGbDcvGqs1EEKTB9eTvkT/ZsnpiZ4Izp5YEfh8sjSXotXrE6d2GBF7tbp+e8Vp9wmXzJ4fIy9qk5Cc2NrNM3n7dIGLOrZYs1pnoK6rDLquD6NltTMrqR00iRjsVR6xZ0zyhB6wEYboNuNfXOhESlibm02RZQ+wyyY641qIpyaBMCwMBgIQyKoljZFogNeXyoAcOFIVtbu77mZyjK7kqltvHlx4FpBZ3ikDm60Cphpu6EMf26Ps+N/SYVfpy2DkmEwJx9vttsCQXqk0kk31RX+AC0vY9soc8Dsgp05VC9MzAQfa4SyCeyEeQIDOkCHyL2ZOYQCiQq0kP5iB6xDabQ9c/ZjAW+raaBa06pTAvKyPcU6iEZ+jR2ol+fmQatsfh7BmjO0xXCxYX6CD5F4yH9Dye8RFsEsCPWgvBS92iUd7Q84vm1sSGH1okwRxlPC4pUNJD2bZwEwzwd4dkbhMJaYYIbD9W2EyMxnp8BTZGMq1z7Pbi9bgYF2XaEJjvyYhFKWBxRHZuXSEmZxemyKm2f4sAyStAyKQr67qXutE11TfDvZJq+OzTk3UrQ8rWcLqWQCcIhU21QWXEtazl18N5p7IzkQZNQdSgL2BQELveSwRlOVBvxsHI0bmKPlioCYAiDDxA0jNiKxR43ZYLBEI51wqIiXK5JnevaxKOc5DtEaWbWeWkd7tRX3iSGzMinwUCUZX9+NvfnHgzotYrvykZQjMkbvFEKaiDorBLBhPa429dkDk8sqGTas9e+2IfCgJYe1gjko47PQXI6kmT13UNTv+9cFXiyEC6Y/k9fGZ8y++YYigsbSDkkVtyraImbyL2f0C9tdg71A/jOA/5K6/Z7XVw1bNlKIdcyLKaFZLtnsScr2jm6r8Epa4VgSOvK/tBsCUex7TFGXzDXazqFWbduPoHZM8xvMm/rjllPiRtMYzv1M4mbRyr1Vdk87EjrGkCmq571UZ50RWA+a3RZU0HrXaZSNLsQm5BDF3b9WKVerXfWKRXx7HswZfuIqYDWJ5qw0vLEkPrsthb5DxajQuXeOL2NPEmqQKpfyQSyTDgHcXUw4zvkW+3D6T4CCpPRJIZCOStZ3ze8lrfW+Hb5E8mRbD3FHEfPExn9GNHW1PXlj3/qSvpOk5iL/hgdMbpBYK1hE4VNzUm/qZ3wJw1xqMEVJxxGc4XtIhIfWOX8QQlfBWK7uKXyh7L7nPKxVbzpXsGn1DYW9neWF3Dk4d3aGeowbag+tWTOxtdK9qLY9dCZzjKbIgmNpUhJGRgZRv345AUnFQ03xBWkhD47i+Iu2LbmbhYeVFsTmvm8bi8EQSRoCvt/rxAt9qhrAYYVExcXlJBSlpf7areSI2HKJCUEFAY5P4EdoAA8tbTXHLodtEHDHgs7OA0AaExFMpbLQA9PQELkQS3mSeiji9GrOjRqC9L6BN6fhJ6/FABJu3RmC4DhmEAEK4RmGY3iTaYhabsUWcfjxnpWixSUcdx8rnL+AE9OAfH8yJFoJtNNNmtu7i+vBQipl3S0ZQj3SeYJI/eGyWYqatKtJVpaGCQy6r3MumX1COw1ktFr33B9TELSqLiigpmhIzZ07PnzdJtoIAfuhi1Q3XBqRJquJ0u7R8FOJJZOiIOsMoeksZGIc1cpNhMmpRRvTfnZzcPKq8xtHaAEAEuAAyQQkm7RQ21rLpYOlVc9I8Qb4MrINSAEGiDSCoU1orrVAHQSowYofxI7QBFE+KNhwtMt30BGrHFfqOqekJRsBBoeMRUod9Nnr3UMFRBhCEp4bxJKduUXHPWM1znxpeWnRLQzvqeDqNsPlrogf/+GBLSYFgkhOtWIfY2LWewyEL/EE1M9GicHnubCKIl6k5FcoyQNCZPjjcebPzsXDDRgLfc2VGwCABYoUboD/UkyLfch+z2e3mXjNZUx8l2T7Cal6k9vkVMtO6miH95X9GXFgZ/9oECBUZpHFmJCMbD56jQsqIPk5tpPZdtT8SZayFKCax0UL2SzKb+qUa2OqJUCLUCC1CjzAishC5iGJEKaIcsQSxClEN7gOPgKfAC4gGRBOSdw0kRVD/9qsAUfg94hBiCAsl7SW9N+mcToMKPiutrqb7xgsqqCH/OmYwHm1CZ5hDlO7sUOjr9YiOamWroe/T+jZ2VudCP6tLoV/WS3pVV3dNb4f+FPQXuqGbuqVPd2tfg/5N6N+H/lPov4b+x27vjkkFPDBmAMZswwHGQsNrBIyBY/gIgbHZjJmqqZnJ0wDjqGma+XMWjItgXAHjOhi3wLgLxgMwHoPxDIyXYLwB4715fJ6F8RUYX4XxbRg/hPFzGL+F8WcY/5ydi20E9+4DAAgIMBCgMMEMDDgIkKBAgwELDvyFi5AgQ4EKDRZYYbv9OhxwwoALbnjuve8E8RVwQinokIVH+EX/GBqjIyKiKKlp6RllyVWsVLlshcrVatahzwgqukVr7nscj+KfeBZvoj06hDMyjmyeL6vPiKlRyZrt0dgRo6NUY6A21ldi6LF+pIxd48A4NtLGWQk5Fa3ZPBgPx49OUhfNbuje/sDg0PDI6FduTgobn5icmp6ZnZtfWFxaXlld27IVbWhHHR3oRANdu/dMaz5/J+ffAuaMVqYXD504d+XmylErV69dv/Gsc3PxpZeffeHl1+btd+T6R6bmlhdfy9d+/LP8z+//ktvvEGD3TGxdP4lPsEl6UpiUJvVJdzKeLEIbU5dL7aeMmIpzWdVN2/XTnWlj2p6eTAfT4fRx+jr9nJrRH9rrB4KhcCTa1ByLJ5KpdCabyxeKpXKlWmtpbWuvd3Q2urp7evu6kozh3Ye/LGaIz1vOilb9atDvNLe10XY1xv4OdaTjnGyis13octe62a4We5CqmhVIc9XrnLnbMFatCzmxF3eI00YfVulA4nCWyxB/tyeWvbPabsuretVtnpu6Xxu8GZIKlFFQBf26zV0yMxMc3EHylA49G6K93h5o9vRwFhZIvYiyWYMDmDcM2zxcCUuT9kuqzk2Hw34HhwvOKf0K7Q1SNv0mh0u7eq9qEz5ZzRFh1SV66tkJxamGU489rswd2Jv49DfWCzDRAKyZRW8W6MBu27KbkH/7qaezYDMbBYK3AUttq/OwdWmYGoIaE3hgnIHoMAPGm+m1AFiRZqHweA8SHqFzjNdUlQhWSKmIwZ6ZB5YMr0c6dNspeEgQMdsNsFU1VHcDZTGHHJUx/5A+2TeAQXokjRHS0ezFzJnHAiZ69Q1f9o16MJvFz9h3Q2qi9bYivfmSA5oicO8C9w2oRHd2HpyNMsp2mzCh01OepYCrSul1am2HRpbnHhMF7oWXhafrBv1vXV1EXUgYdzyVz1C3NEBtt108GDTzgH5uqLA4Ka0l37TY2DrNNqPTz+mcvmFow+L32Dl6EYPJplvnqy7KT1XtOoy3CUtr2LJU33oH6eAZ2uRCVmClFwztmy/22GLQF+u39Zu9wcWJfFNp6KaCCDMojpVb291NCEOxTNt87m3P1P1p33gqgG0WD08jYnGChImoo7PrJBaDHDV5pPjWI/LvR6AfK66OZrCs8dQBqLzJfDXbx90Izo3GVMKgAJdgL1a1YqtqLEk36gAobM0X9wyrYmbbME1VaVV/Gt/bBGDmgTX60BP0BJKgBETtly34FrsFVW5x7HmGYKl/30YEGIA1yGBCQ40kMtpotkKEklBQkIoSo5c449hTGc/BBIkcTZTMmc4Unspt4K3GNiFq/ULuoCZqzY7ROuENvXc+WKE93bA61kRiZ6QJ91P0yXA/02PybzFUhKclpt7et82LAAAAAAAAAIIgCEB8NsTlJ51/HEK8INJLgIGGCyEXQ0UjmUE6k3yzzFNpmTXW2awWSVkD6YZwd1Mjva+Ne1GDU2aWfuvHSKPhjM94s+JtPxPoZYBo4yWa5Lqbvunwv05dDCAhlLjGPZ4JiyHTELQsdRAF04CZEJl+yHXoZzDT9eqJiDhw4ZWC/UirmNXZbs9N8hLZ8Hvqz4WIRBsnEfEH6qnnmVpi2oPalC2CJAUBUyBh2KmReMTsUf38xVCjRYiipKalZ5QlV7FS5ZZYpVqN7fao16BJi9NaETUNrV+cJtWvh12MdOH7/dbrvYmE3Qk03AcCTHjSDWysiTW4klQfVuVU3nqkJzDRzOBUSiGWmkM5YtIblVLiZ576vR6c8Tp0BqTINN8BnVmC/6Bst4YSaQ+IpLvmjkf+8cwb7TpCdxPkeFh8REhRoEabfgawEHGYUB4BgUmKZliOh4BDwSIgo2GC0ow+UZ9fIBSJJVInZ5lcoVSpNVqd3mA0mS1Wm4urm7vdw9Ph5e3j6+fl2wwwUzAiRtLsm6x5NL/Wvw1to5EhBen1IFkK0raCtDaQJgYk2SD1FWwVnuBJDI9HlkIwMezSti6IH49kPx71NTmkIP1O9npQAX6DURbPVoHlUmZMwZjWV8WjG6XUpJ9PynqVLnbV/i+yzG5QNzXSDIVZMRZQmqOdHCvlFuMtU0Vsk63s1NrLQZ1fuDiihY+TzglwywMDPfLYCC98NCpeGWBspifL+EqeCRxCSmvydL1gR3byuSPYWhqzzfPEL4Y/YE+VaC4t8MbFauyiFUp/2WYiYjIe/PRn8DuSd0yfgmf92688ROH3iENIaliQdLOJO510Qkfmwy+b9ytlefRL59XjYINDDW2jnbQHin8atR84BBwFTgCngXPAReAKcB24RaTwYuTCYRqvauAX2AfDAlL8nno8/dJzwc9RbUn0JD3UXSez6bVqF8jvjI9zQf598eMeP93BsuNeI8lfu9ZtAbsQ9/YOjQYZvlrL/UaO8gOlvr64cFCNDQ0KAG1YfBgO9Py/EegDQ/9Z2Bs8DA3zDQV7MO8L/A1cJHgbFllIgc/h/6wDHEUF4f3B76goAtt/AIGFBhIuNIiIQoOJZPwQYv+/GXALItNm9HmcdnCzxA8EUHHBCkxeRz2CoCSETzuBmWI50/t+F95POAQ4IsPZDvrbVZDdBNidnz342BPoQ9+hbLj8GYD896WANCAdA6TKUmyBZb5Xo1adQ/7zSrvOcERM7CKLV4IyNCFRRBlNdDHGlMKUpjKrsi5bsycH0piWnM2V3MkfeZZ3+VqUCqmkHDAgOYpjg0757IAIMAWoqdymisKBmlp7cB4KMnUNAjK1BQcy9UksyNRvcKCm+XzYCwdmP6w9/OJI6VG2+5JjrLj02Ivj2uPNJ2Q2+bbzY7XV2WtO3iuUbCBJdSzBgsxyFQ5k1nMWHpNv29nm4xj5lJ19GbnPzjFPcE1zrgPyXTvXNUPvIPyWv8p/7dxzlQvBg5p7qT5xm3iEkk/ZefbhMvnz1LwHgY133LK/t/A78x1HhumHEDb6EkSG+BbwEZ/ic3xJfv0X558BpB/3a/JTnDlZkMosyYqsSXVqsicNaUlr7uSfvElH8VRa9uVYLuVVfqLryeEVUhGV/JmHogId6h6Y0MAIDY2OuLiTEhmRHVoc5aH10RxZl44FNXQ2FkM34n7ceRIH8Sr0Y3wJ/RwdoSJDL4RCJYCFyqIQByqoxz8GfYwxxwoUaJxxBwOWQEIJJwYCyaSRQTb5FFNONfU000YXfYwwAQ0689xhjXts85g9DnjFWz7yhQ98pkOQlDp0SUhikhBM5yUrBSlKRerSlr6MZS4roYSWs9wPUWeChVf0lNKUoaWqjObV1CjKVPVo4H9HnhCt7xCYyCq0sSM5QgMXFRFULN+1PEdWK59mHE6ur6IXLocz61V2RzFc2Kyqe1fCFWrV083Dje1qZliEO7vVzrQMD/arm2UVntCrn20dXhzWMMemqI+aqCskISif0xm9FHKFh7GQJyJ2Fp11BnQHYiCJnuklHMIpfYYpZkdO1MbUWFhYgYlFsTLmxLwojB0xP7ZFWVlpAvlGURhiffCABRwQAStgDewLG1jhFrJwCdfoBgRACGyiB5BG77CLXtEn+oZjFpyFZKFZWHiHRziHV7iHZ/wSDXEwbCMzpkdq/BDFUVJYio4lsSyWR2UsiH3xY9TFT7EutkdNbI0thWpmjAl5jA1FREZUREdMxEZEDI8RMTJGxegIjpAIjbAIj/rYHwfi59RMLdRKbdROHdRJXdRNPUiP/CgIc1ab9uiAytm2Ylvp2fZsR9F+RelQ7GHtqY7dpM+i/+vTALtHg9TPHrD7dMvu0gVt04Io2Zt+y1cuVam6muo01Fqn/YRva7ce/e6g4TN1/xNx1px5C7alEGmcBBOoTaSVQm8qg2m+Y5QmXYZM2XLMkKvALLOVMduo1k677LbHXgcddsRRv2txyhnnPPV8oKIKSsoqmr284PNH48l0Nr9+/Ub5UNaycvMam5pbKK2LOEGqpmU7rucHYRQnaZYXXT+M07ys236cV8dD3AKIMKGMexEpSpIMHJ5AJJEpVBqXxxcIRWKJVCZXKFVqjbZsGRA1SG1SBnFJK/8ZIRLG9quuuq6sgCRi2VRkvVQs0i8bOZ1NGn4WHst23C4pef99+U9YWzt7B0cnZxc0BovDE4gkMoVKozOYLDaHy+MLhGKJVCZXKP1hCBQGRyBRaAwWhycQSWQKlUZn8NWR737645+hT1ZeUVKlRp3D5aFZXvQFQpFYIpXJFUqVqtxodbYrtcZtinZQs9Nb0jF50MasQB0EtEgTduekMlQs5fNDMh5B00WBIsYmOCEJTRiCpfFCCB4hziyZzTjGIAOoDsFy4IVCCJZ9/3eyItXfSOtsd88LDJ4NuzRjSLiHRSGH2ZhQ9rH1B4qQHRc++hsujEKcBEk5iiVxmHMUs2ybuaRUawLjEdKCCp80Cs+tM7epNCcSpCH04ymOOGKyTmcivzvaY5ZtM5eUsiM+9CMNR4zYC0S4RRuXsOKmua7CjSl5IzvEAYIzjztZPkOkoCxcK4NXpqFkNpY944MMtiYkT2DpvX7vNNZ8DDSagopWKlNjcAjhBjpMOilfGIQxUJYbpo0PjSvkRcx/DJdTSmKQpdA8hAvc+JSU4YJjY0GwYd14CDJchDgaepnyEaN5nbyxl5SFntxBGd9s39pQYWKo6aQ356ZxssVYwjHcZAy0Pisu/AwWIkqCZN4pwC33sRR1CDF5vNdyZEyx1gh79DzmIvZ+c+1xSMCxeGsIO5T+Yyuw85UbL2mWQ0HBGtH4hSFP6u6nY5ph38vKkwRVCxWXuChbMyoRxhE23sU+HRs7GQtRXS5/hdDfvZ6xIuWiUo1mZz1CsPkNkxXspcuDR1FJos+PkY+MnV7ZZ+PK0rA0O2Vvs2MszX1T3+xgXnOf1DXbm9/aO42oTXUy++2S+clsiqu0fQ76dQ74aVxgYHR+3lJn55CV/gvra9R/JU4pqhcpmK8X52Ro4QqpOSpjngXwPRjHZbI3v2EpxGipCewZ+TIMBce0HYZhZO/qXobssdyrflf3WONAULlU7v57h7Rz0kDBf24D1ZGxEmjK99wHHe+CryRr0WjG3X8E9dx0q89rJdece+7R1PdwxCYJo7X80qt77pFNNKIiW59rXntzV0c58ZiqxuO56Z0fd3XE3g194WErkbM2vralVHMt0690nqvBiWUxgG1NYfMtvNfffNQhbWUv3Llf4YyZs2bPsV+acAgfZiLDiK69R9GIZfP4CVs4Jlwz3P27yS1qz4Hyti3vr91h+w73VN3O+uy/gd/eBvXHR8Wu2+24sG1BKsoK0lzGp5VUa2sKsHuvjWXz9EN+KZJo1JbqGU2l6Km5ErHTNszylW7lV8ZNwx3Mcuv6lkMLtjuSgxduEWf1CrkOIc3FdyGG8pSlHBVRK2pNu1EBFUKp5c4l7VZ+akeTOiulYiph4yZwqeBRphyFpFIsJweAwwvw8eqikh+dOnuo8BP/2QkV9EC53qfzQMCMBkjqR35kkiAYVMJBI909PL2Y3j6+fnSGTu8G39ipSsNmzdt36sqT/wnL+6bxp11QV6IeQb3qaovGNdWPMROmzJi7xoIlQ+pa9CLqTdJHSF8GRbFHe8sqyO/TzhphQPBYQi6Gisr/hMZTi6M2iU6iGO7pIBRJIUmMBAoTqbinE288tSgqWonc8w0viYbWrMUY5UhcP2rCTCHBuYhH6qVsmdggAUY10sD+3QYKFmCtjqtUObgFwqkbDj+OZ7ebdrYP/k6mnC622X82fuAn2hc2PqFsJXiC9Us5cuNTfhixxpfvMqwsf/QiAT1ryAd1CQJM4rY4wVYgatLeTVFC1PuEI7eEeA7Jn9iPhDV54RKz32EvB4T0xD4qHFlnRWlqYiXVpNLW5EqulNLVFBQhJQOL90fpK67GlbLiS1XjK6EmlLoSUZRmAcRId3MfJqUPAON4YMMU1Nh+L6sIYKzaL0JWXe4EbRo0VjLUtBxDp8+s7Fb4w3Wo9k2wFLDx9S4uaIHJqZX/E8CUj5QRBOgEl4OFdAcDNLAc6FB/RIAp/otB9poZwptj6yR4yjyc//fe9Erjn5AkprT61rA6XGfq4YHpq5Kezb35tGGtJfzLpCBqEBKkHjIN+QbjhNnChGDiMAgMAZOGKcKUYZowY1g4LB6WBaPAemBU2DTsFlwUjoBLwy/BveBZ8Cp4F3wYPg6fgi/CjxGMCA7RAyFBiCMgCHmEOQKD8EMsnA88//78abhJalXqrkyyDFmmWJ7/gOkP7ew6/ecUAOXNwUAjwyViwJDEaH9xF+njM3dE2ENImrnaeh6iCklZHw3yFQZgfDBBmBhMAga7NCvBNGYUDUshqEcshHfCB+BjcCoRhNsSrI4JNUqt3FqMTIpMljzPAflDLv9nUsyp7rV5s+hmTv2nxm/hSdIJ7sTyxOLk2onxydUT5ROZf5dqZpdeu+9frL3o335hhRRcQP755ZNLztlnETQ+p38de3twePD6IF8HsMeFomocJzsGisj+vf2N/bX9+f25fdr+5H7vftE+YT92X+xp8t6/vXd71/bge5AncU88Abj1Dv6bpZOh1NYCEFPLDDCB/PxAqp9IbdunC999z9He6R+6hVxgnIeuLBsOg6zQG4A/Qja2u9jLBfccUHPNvMP61rSmjb3rXZv4jM/a1Dd9rzeHBlq3rSlMZSfTmM6uZjGrPSxqUXtZwlL2tro17bcfQeRAgE12fqSAoUqNjxQkWPXqBaOZFuKrb40DwAUAuHAKw4dfAkFCkogRd5MEiDQwCCTSpGVSpCiLEmXZNGjKZcxYvnDhCkSLVyhFlnIUFI169GhCRdVs2rSWvQVJKAC4ioIHrRAQ2kiT1u6SSzqgeOmUJcukQlWoOnWZN2DYojHjVlBNWbNo0cYeQ5K7AG6M4ME9zFhs4sVrCz8B28SJewgC4hF58h4zZ24HBsYTWH52dwGC3fI9WOyReQbfd9FFv7Db+5ew+Lew+Hd+5We/+M3+AZHfwZKv/O8A+T3e86nv+9znfu6L/cr8LXvM+iSQf8AP0w3kP/CfnCJ6WybA/++vAkz+3UcVyJ8OsyMYv1i4EgIEmr+vFtTj34WEeY6wLP4qFtNpZy6Ceo178DxExvMDKbmxziKH6LgxYj++AVkDd5JgqYNonl6SSbQmS5ZCZ8opA4Zj6A/+Usv9YIOtdqq1yx677fWjn9Spt9/P38HxhfGgXx3SqMlvjjridzcEPVLR+RdQCHKEWkSG01ZcoZ6UrbZH3bBrr6Di3bNti5fH4UsOYB+adH6Fexggwv3CuikzbERkVQkICsMNSZPuppSm+tBcqvlg2nZW4b3bRUGuMDvzU57FKq1QYaVlB+ls1SG6C3ccoP8yYJP3GZNoeRkbRSLNSUyiIgeZdEWBehsYp8BYGba6DDj2ewB7AZqwmt/mDAEGyacLoSEGja50GmAEKkC7SqiJ94eg5FgKOAKUsEIAHWIxYElnwgZpHrPw5mJkN59cddZcybgSRqRBCWbOEh8OWQsAE+iVymLsFldeV0L5WDC4AJmcB9S4J+UqoBduVfMuTlOc3GUmWd/jGFY0564i8uOG5hlftgDwCnNA8BZBsYhOswIQwhWF6dt8OALaYSwedKH7ODOW3cHE8IN+0E6nfF5xJfRNCE86capKMYhKsFEI3cRbBu1TKtGVrpDcceKfMJ4EBDz5VqvSlNEcgZU0Q/md2J4sBIi/OSuuRUiEeZqejHxEAabquj14d3ZCXWknVh0SBfQc/xJD0hMm2uUpMNfQBydaWoaaHrVoDJbLlPFWXvjkc7Wd1IPvAEfG1c6s2uRxV7mVjbzAxfU9vsjzwRrwV4A4Ot6873uQJcEILvfYBkDN+l7hnSLW07szHQYINAavQA2BE1DXZWI4ZMDEyGwTRAMEqQrbklKBrgoKYWB6uoCLINAYvGpq/iE+YwdBIFJdkjXpKXfNDBgEKQMZU1XrTI2YfBygIN8IzbjIvsebn2DGicziVGOSaoi8GrtJMe+yyMZ2o7DL+KUcvIXcM19CRxAT7YoNTQcEp9IrYLaD4pIR67lELxDHGlifUAER6tFtYs+phQwZ31TKbsO5SUUKVNEzySPu8Ch337aiQvNaYi1NJyDZUuPrgfjlZQjCJmOGA5ExiFi2XaniIpKhFn0eKA2ZKaOQRsVESFodpNZvmaIjP/01266JYZx/nxRjtcNKScAA8dhU8O5sdV1oa0JED/fhukPe+8t2nE5TYphEQy/WtFe19cAymvH7FXcWTt1nD4Z3Wkg3/QyoF8rSfWKmnXm6mtilee+apxT3tJYb5vn83NP23KeE6wEDbClbr6+rQuFl1AYWuPd6V8az0Mp4iEZVF0oTI9j3yijllD6kLBDKAqGMhDK2QpVBylR27vdVnLQ9KnCWe7y6msGEF3g02EWCoUYLa7RoIYFWK6ro0bZylTBCssCuwzRv6jurXd3gCvVe7NVR5nZ/Lyw0nKGxxH14F2exhmiFrkkHVRkWdh+ADs4Ca9yiUWBouV+pjZyFceDFlLRVkhcXqoXrtf9rfW998zlFsA1DST4M+snX29OUFjnYtcjD+7ZPz+31tioL3AUhPioWfFFUVXg558jr6/5aQbUejIEJO1A+d9wt5eWFVG4e+mE0QDA/P4gLzprIoA54jwWvFztN6hKJLtzs4jtsnFBLFzc05DUJ9Jf/y4xFyBBQaR/VXvanlgkl+FCUeekryLdbnJ0uIK1GOJO8EFDycBF9v1AFUJJ9xVku500rusFrT9AyZqyT6iyTbJFviRInXD2LxoOVeLDOtjj2/xFPHjKvv+AVh1IE6kHjulPayttxNgonYXwu6ra52QsOW367pzsodNYEOForJl1ozRglsFtLoDj7L+O2a+V2SW6d8z8tpbrkDVUcylydDrHHOWPa6liftrZ3glbgH4KEaWUWx89jCRG6JWyxCNbMn1jqLiphMZB2RZg0rISoOFQeuE3essXR3IKgEEl4sdzicHQ/A+vah1u6PFbooidTGW6QsoTy6qC9gyqKHJ1FQllTDPE1zN3KT3syUUa0AmD5UBI0LFbCmWJjIB1/tnyFqtAVXILLnW4FnBvhVbyCuZZW5xG967u1PyxX+LevfHthAe0/Na+0zUHAdL8epNilHrYtEHGSk72IkY2yc5y8Diut3tucMg5WY1xG5NR2mx1xQLNfzrlxr8YBmnLS0UzxMpycfF36/ZzGHJRrkIh45UpqeiAmv0eCBEL1GisPGiXB1TzU4QaMwe92I1EHZfmKrNiQJudkugYXzp+GFwU1rHOtBCIFfCqOjp0TQtGahAmIk5i0TplTUC1MX2o59XUkzhWensTqnvuWe9IKZx2KI55yDuQYhRDp6wyKeF/QByer1ebuEMoMw3iRLKV+dqKkctIejQctap+V1FC6Q4NheBhbZnapibToTUHwCCxSybqDu5za9CzoNlu7RnBnMXei4JwVZ0QTFKfWkYwnYzHiCQ9HzpiGQi9Yzs40RoWNHQWgtt4aQJkJ02oDVO5gmLBTmSPCLMjfUYUi6B6VMduod9gIywWtXAL6RIoyf3sgBvqTNj1eFtDC43sf/hoZc3KjhdNGtDQ6eVcwlSgfRyvgzcQGhSqBawnm6Mm5tKAxV8geHMvqNtuEXC3MAlbzKQMwkNVCuRiijnWqJNap45HQx5LUrq+HKQIGmWJZMLjOtQIZmtjI+wiDQrEKFqfcH9GANAl3TRNwb0vL70oz+w61y+M/mp+7qWlqieSrGTNIVdCCRI2zdTVw3OPyaJR7A3N8LUQZvtE0aPuk+0m+qaQ3EvmXCm7ogk1C1lljIKOsMMM0HmSjUdHdf3CsstIBtziejYltarbw8ajuS6Jik6xWxHj6XLYegYSkRn32bAuOtEV5SCvhzfDrNSrIMLQU52qGhABmgGGRwwp6+G34m68OvUhV9L2v/0HTb1Zu5BR9ZEoj3/O6708zMs0flqpMclIxEE7xB0f5ZUq1ZWyPmKCQMZhBxgpTLYeE/PinUCa/JnHXrqYYCHBelC0hCqPNtR5eYEAvj1XUGuHqXTPuGXpNuMBJ0EEes8ZJx5OZjtYx2chAuzwrSqH/Rs9LXElbfXf+2opglvwHzE1P/wJh6qd9fTYyuAbef20xw61zfs99S3u7Fb8U6pa56FXLLumMBZOqUBztxx0eq8cwJZDRuGwXk6pByv3EvctSeiNee/TA6W7aN+8gR4S6J84LAgo/kyaIxEs4+4ophRL+Pwwk7uPQp5wcPVcCh6Mr7MEAX5hi+yBg8otaHjsFBIgn9YnlBtjFqEj4LbV9dWtVK14vgbWp6cJvhWWRk6I81oWWxNxUJvkYsfVvhkiWnMJi0jgdcNLnu0DMQh9/Bpx56OCEDQaCgdCpWb//xFlsKuluyldPj1r9t3+r/NuRk4ym7Mi9f3jNu7ZbXPc+R41mW8+ctfQWJ6UUnUvMLQp/F1f0nRuqEG36cfnvWPMixWtYkeWVV/JR/f8fnNl4CYsWtzarHpSEGKldP443V0NjOM2JMAkanKIfczMQOGURiuDt1iPhX0j1fxx737DP8PIAD8hpwYEG8/fUlAvt7wMgsbU4Bg46jcskoIEZmKSZJZkIqdeT4Hnpn4/Dv6hBP0wHUZIG/SSvsE/RBthg7vZwoYkcDhdf4mw9LovKTCagCBOeqGH6E0iLkcTeo1bA4jN4VRMg7JqWFn/QupgY/AAW2TOmcw2A3wlhDANfkEGZCakZ0vSQzneKuNO8TlGCT+f0OGL7uleP8ia+10EUFQK1kHZcURuaBZfEu8FBDEEa9DE/1RD4pUksRnek0V/xHvZxcjKAkA55QDFICoSdkXjSg4j/9ybe4MMw2oTR+h29wF/f+jcNCzstcBouomHJOv6nkP6n8fTa9M9JRDp6wJ+Pfp8OrUV1Yi5+h9JRhf3e4vuR/ro9kyYCTC4SNaAEEkpiR3EgOoADIRpRiL1gEpMk6F1Ny+GV0tlNqtkwtcrgHVvZuYyQP121Bp7CKyU8fbY8lodukc+RSIl8BWBt7wL8rEC01uAsl2Qje96JRAWfDIsgp6PQoMKL204CU5ISXjVkuIAGlXJ2mwNfZvNESeLshKPE5NNTS/3ZIh9IcLwQ7sLaqgdUk+ERxiyPBNOUlnBklrJZC/63WcRcPBGFuc66xM0MQ2PrQUqW3xDB9cQuN7ivwdUY89bf9mMq1mcwPQDfKU6vCNN6xGpZIXM1+ZADMClVZfIT54NkbgerD3r1keGXYYVVy1Q/IqYR8dWdKWKf4UjNhJ3iYxJ0fyFCduRmBp4DbIlu3UkLcEAMALiU0wF/KlVPgXu/BDI8sMTeRRJiD9tY2gZr/RuyubYhYUIpl87wUhBkCk0HXiTP+HBHieZ5Yk4IP/BZxtj+RPMHRdGPLXXWaDYSUxJ4MD7Ej0ST+d6zyRS5WQBRA3ObPkYmGz041CS8OXEEvpGqgDohwIBKjgr7JsK0nsemHRQj6VOskHPEy8iLFuLLJomavW8JdHmKo0x5xGtZGWqJy7IlhDqRNBU+Xi+F4nyjagJXFoddRj16yNj9Oy/L7rGG+ecPjA0ZGETn+SKgshQ7V0246IgZetQ7PGb2zBLCgMQcdAElMSX5lbeGTnzJSQKbT3JNK+8Tpv/9wpCA+HICNr9KHEUfTiZt9CsAaEl4fBtJQzKlF+OGQjMTQqeD4MQ2ygYd2eCGAasoPpexzoKgXIpJpG4ClCAKNQI23hMLOPgmkaB3SivgF5AFKqJ6LRBEjTfhUJENX/2S+wFT0Y14VrNn9t3cxFJVmDMx33knNwIqM97hvhiC/nN5fHjLk6ZHBk9RuvU47LPloMGLP9ikja5/04UKEWXi3PkxVZM1R4/DHdMI8h4AAi5BPoRdBxvx4IcUcIk6CIjc4cVsRY62PkroGG5KuwNAxXTIJpCLqTPUEgdcORx1ew4W8vrQVo8fvAr5NN2/Y5FNuOsBB63WBotLqKShinMJbJGmp8jqJ6Rc+RLSoo7M3JCymzXFXux9gSm6FapRfcbY0wdeKMX5aYhMWYjnJVIezYlVVtMC8YZ3A4QsQ77Tz8QbUFADDQBArPXNvFJI9o0cS4xGd6BbV6UM1rr6bzw3Ptspzdh8sCSrxRwpfIeUSNntozq8ZxBmPdkRVZ6cI1KcTfC9pBz2pKGTj5vOiz827EhwfP4iPzeiZDX+2Cdmks5X7fM2JLd8nbgShuoujeX9Rv8l8Waodi4GM2+fTTMr7HREX+KkRCklv41dTpIWpyUHKtmSAdHDNEmKJadKknxpl8iZga1Oki770+LMVK3uM+6geBWZYMLn2PvfD+ZV8KR9xFqw7e342fQ4jy9992OonFNxh5djiymPhXCfOms9OISUtpCpPe1R7iFGQiNhitQwksIOgDmaZYrzAvNShO8Y31KEBE7PS1zzrCLxdEDRCeYdn5q8zx02yKQ9OiDD9U0oYT9GgXMHthQMQfnv7+JWGtUimMiz5eRiz8kdp6MFq3sKT88HTr3oyPLjLkciLxuehPm7nGlN9iDtXWNL46FkTPU9uuHtGIjqe4mUCWq9cngqdw1JfXhEQg2fljC9GmwleeiCbKq3bpVcBOdXMHzEfjIEH/NNTFhsqmfP99g6O83G/5RmI4U+0xe4gg1vMzQk/slp0AdpUz88PfYHZHU8HETHR2GKDV7SpMHRSZTwRS+Nu9cTO5LL1xrrt7Aa02OhTmifbM8FOI7CUzyP3qIOqWM+YKuRKZ6o4AguQmPjPe4N0sAHmagmQtXIdC4EKozQbfNCDMARQ+J+8sSzHQj8G5KWIPsd6zPu7Ci23OuGUNr3EnNtleF0AI6C/kACzEZTFgmyf5VcF73JQhJaYSdheeaLFGJqkSkhBCW0fo+jdi3z30UaFBMGStvMW4HTT5OQsWtHMBKjO9lNSvquTX6YJhIlKwsrbrPFXYlQPuOuPC699mSUljyqwrlQNLnAZzqOuFMce95rhSwoUYQKKCfl5i2cjHFXw2gIng56kgNCsT/8S/Qqei2cKPo8fkHY+lxGGn02PfOtVxyFlCkfLZl9q8gPpFRDNVRANxCcqUOiKm56mBtFhIJrbEwajuL4AlwfgPq+Og9TrRHvYbyIFzDXMvSk8r468F86rbl8dbiwWsLOfb18Wtwb3S+q3soLQTPKUcizoPjSVE+uF/NW9o79QWk8KN8u2VLz1KhciCZ7U48QYWjqY2Pl4PwYhagGk7z/rIX1Ao7t88el3Xrad3PfmdJaXo71n9HMqOjj3bBV560dHppOD6VuQk3SdmbiXYRESIR8mYYYT8RoGPJkTLkmiF5w4fRqvsC2vIjORQR8qdei27yoWOSqUmvF2Oo0KkqxWSdF5PykQLFv9Ro3R3lWb3Mc02WUZpdwgALXuD5k757oK9ZhSFGl7FnG+xJWmaaa0kSfVlpwka9cnOLR0+4K8goTOEqAENi55IAAv1gurQ9/YT99BpRpvkBPBBks58t8sHw4ON6cBVUHmoh1JhGjLpK0iX3ioZ6ySJt7d1nbae2SoOVtC3XYCYssL9ZDSJlcD1+NrHKnJxUnEDqJnWXUvPJ4KHFWwUD+lcI7ECApRbUnStANoSbvEZWmIzPOC4HgUcWzrCrX1tRPAPdmoQLQqmKwIWLQIvu8wJIjc3aeOGaeel5Lt5BbfDxF7J2cqgxgF5SSBpS+0KBSTfF7kwsrRGWOfEgVElWQZuEw2x/twehokNrhb4wxnmNiIuwZt6Jo60bbIsiSfGldKCu0K7iPyoWOtArE/pxz9CyOCkTiQjtTqC223x8lXNZHKUbIsorGibLFmfCmYXFyZcrDsz0qItomoK+yLXdo15hzhEauTMjybjuf20dvopwMJObw+pPTapzTxwsCiuusVXoZwSjs19WuCXhWNDdN72FTFw+eg8kR+O+Y08kHgd52cpY3li+W901elrebiiXCVbe8/ZiWt52flsivuiU97OcrUN07Vqasu2zFyvrwqZJlA/CucFk8tcpX8adOCbL+kSpk3f2lEBUy6tRSTle453C5l8dlOyJd0V8xUUaVdLmdI9Dl5jqZwhzBLq+VHCnnSlfSQNxp7Nf6J6EAvaKUf6+u9grsTMt0Wlw4agFipWqlVm1HF/JYWCsPy3B746Xgs1GCEG+8gu5S/PhNZmXdtZWK6yqdYAlwdPkvKAR7FZne3H9v7s9W+JV23bn1g/nxErr89MLnZeryBzsYHZnLLaPxuwC16INVBghGoUTMZAcza3OtgiIgcwDR+OgIPwhADvRwgh+/5/1jeygkVoPVldogNTUdwdbH5sYCQ0uE8uvtEAvZD42qxMUFmjY73HinqqI5q7FcIKMsbH2Gpn6QWy1nJlpnmTdRRpZ76NuJFZU+5E7J9yeU8NqhkhXediXcbHsD02DRQMVS7tSN7QQ1sqFsVm2hr/ra3RGe7sSxlPxMXT0oFmsaknOVL3zHIkLTa7YAX5OFy0u324kSc9O3dc3lyCXLk7BaWdyiLey5ggx7yL25o99XtqZR7XUeChfD1gFR1du1PucsU7Ep4I92Rj7+d1lH3iWUBjLBL5mE83gfqwoOfuEGHiL5SnRTj+hmH5yMhZO9eK6UniRSH7q0W51UdGMIm3spyBoO8Xqoh11UPiizgCKtTazeG1wtbfBTeJD7VORDsAevVQYoKypulqKogKQiHiZ4IahuBEGHrab+HM5gCScGuhtv0F+hGBg4T8MuMsr/QiE/GAhE1JqqDK/QrsOtprsxi+6XAMxnHS06XUGWCZgRP+INmgCW9xvaDBUHhvuOABapBjhRdFozTUw+kRkTY4tMw8yyg/kmRsG/fzK8//tJ08nfTrBFxXNbXxZzHszXdrk7J0B8NLoczTqayW0Hk5EKy3mEbaJoADQ96B/F4vEyj64VQxuqoMG/yQa60PuHQk3rwu4pQe68NzMineXqnj8c52smUfr5NxYkapevdDVKzqwY8GbJBhiaouXirnX+d7DAWSdsvGLvjQ2F1GO4snHCRov+nLOjHV2D/OIQoOWwfZpx7SKNoaNtEmysTTK2Vri4thcUuba5uLu1FRXKgj4my5tEjMpLRaiEC7XTGNic7dvE0Fr+EgQ2kKIXmHRaMpDOhhqZmmfalj9Y6B6Ym88KJzYWm0pKnJcJmlxl41b3QhD8Gdmdnaeb6T4EAjHoij/R1a8pK/heyMXAUGMLVzdLC2/Pa6q62DG719BiYhJ1ho4N3+2YqV5+/6n6Tgcd8PpRjCOZGHnYbkRq6VUtROWnqqpnzHXujZHPeG1ddUaNEoW8Zvi9TZI1h+1dnwlW4mfOg7cVOeQhctZ0FmmIlAPCRVJEElgoN08EBMzT7eggiYVykOiWZkHNcv8hAaUUqN0xLd6IEm94PGV3NBVnSIkzUmdQ3Sjxo0n/XR45sKZO8vg7nKOQrBXrJtM0wOwPgh9Qk/MJ0T3egWlJ2JDym1x5+4ILIv8tz/95e0sPFqXm7RXs62qhLfAa0nwbuEG2IPfObbwRi6wPioquTArBZ0fFpfeEhBOCvX1T4/ywxcFCfgcSVP5Hc3d+bvZu3bdB3BDN6SDfzJx65g6+a1EOpc6YSBEeDD7QGvtw2AKfTwG+kHWWbZfB52JO+Th8YjUl+WZJcyo+K0r0+kNWxioN09lSwRaYvFmLU/jcR46Nm+f4QBwkfNgyLtV2FLkWbS+X85t2SD/XtiNoEeXuWXKbnfGj+wXsAC6KuJ6E205bFxV6OBNT00ZIqm6Mja9pTCLUtYG7SJV0+NZs1yP4dgEIgHwRftafUkiJRyJ9YQmVEU0nT/fwozoxgfrZ1yMIlVgYMhZe2JbSL/zs8wypKTUA20wipjeSsIENKekxNwoSaYXJ0VH5ybT8RHD+NSl82CIuFdUvyO32+jbn4XTjNlYhJvhwOqbWXdPkrm6C2oybLJQjXz4WiHdjbMr5FzvT8EuldpEPE/y9X//B7P7pDCJfDC8Oa3unDi0OgbSKjeMz7h+ZL46O8GFCON3frtBRC9vzkiBqIu+bFhvgXxbO77d/dkLoYGnh98G46floY4fv3cZWKhrutjt8DSe/O6H+ZWvgYtjuauKlseE0jaePLyZ2VLPYTueTbhnsxcYYzOISsgyv2flacsrhcKMca9eejd9ThMCN0Vi8faLRBMyHEuZobhM/1pDh8LKx8zemNvc4qH8cC0rudF6Ub7i9W+djFE2NOyceQq4j3MioCQxJqYkl3KwBAhASSU9ylPQy0s/1ht8wZP9xixQYAswkzOqnid43e5ZwdjXp6K/lZc7p8PQbgVhSJL5x1C8Knx62SAzDRQElPuiS8RTV9n4dToA2yxJWdjrzrNK7Q7n8z73Nj7guP6uMPXqal9/wvvEy+a3GQTCP2tvCSOHwHxz3OqlcazEymtmRph/z9H3zHyfbZ8qS2vk8K5zdRe8aQ869fqwfzZ5kl8+Wx4IrX6BlLLgpeih/Q32oAG2WDV/5y41t2F9vLpEf19Y+5r38rDLuaD+vYO54h7NnfKI86fbohat14vaO413HXWfsLu4u7p0AiwDC8z+VZhQD92jeYTjvqkW4Sym4sSwZbr93VtVLCvMxNPuqF/nxIkx9SBFsH47aS30yIkQAY72vIRICn/fZKrn5wfCjPqk+oBQOrWQPm74dKlC3RUWZ0lYr2PHTdJxAfR3RE3p6HZCL4vsF8Uflh3zKPfzKh+XxRyqefqkLP3YJv17MdVgBI64NYemR2KD0uLBqoDbo7oz1cSFzndeUIurxAtN0dnx5GRv+Fh0vUA+1LWGXHmdlWd3jcOZ6T9VX5YTj/Tyx/byE4/IyCu4XKP0nd3P+Db336IUlPFTE5wZjGnfLffYKRizWPaDWFRgJkSLSov380yPDSSAZ8p/8c+jUU0QUNTQlrTnOE5PmXwBtl7bkS9IIddHOchwUfD/EfM9rclf37vuUkmgX53jPLGirrD5PpkyggZm9PMGCKvEJsMw9nx2a/TgHHkJYLw7i8dm1Hul50t3VuztsvevD4zcIvJQgkT6IqszKiJbOvpR4QAKBAsyklzzRszK8lFlrPuysFA96dk/AgeTFx9R1nhfbBbj+XToYZXHhh3vw/3zW++Mha5giMk4RfD9yTi/66dWLdOt9B7UvOgLWX5WiRpDctJOvA42GkMozjrjK9a6/gLn8bxdItNc956VFjgGXolRONKoJeH80/hCsMqu6s6rCYZuURQLi50m/TvnaT6HDkOrVjgJ73dhoU5KUM1s/FzWXmIAQ30RHAetlgbIPU9OL+7MjR5F1TGsSNFLOgmLx28gK7+RMamrDO36QSOFOuQ5WIP4dDgpOiIJNwEzalEQouPS7B22zKTz7JKTxm5rdt1xd1b+SRR5Y1ExWDtwg+5cUXj0G+1Psax79dyFuhb5BGUO3GlsG6eTgkkCI5yZigGsLcpAt1otPaxL/PsvPCmx3vugME1M8XRHsskO/iwpV0cuYnN2zrNK7DFwgnyQUjj7DL72qepV/46gGeZm5ZHCIvKpf+EC+kHHkfaYrd1F9YVxsZy54iaE2Uh85eHqieWr7pJVka382fseAb8QeNV0jLXmkgtegZ8gjdvg/hxKKO9gmJwUXZMl8dVRcbAzPyEXDtxWHb2Xm9s2WVYgFaofySLAhAm2qbL0aaMu9HfcCw3CZ4fjMIv9AUAs2AbfKrv0H+8Ce2Eaxsi7aXHfyxjgx7JKPS2KL0EEUjP989Ok//pOmacQMEgAv7st0hIJ1pZ03tsJB1kYqqHWzc2G9v3kThw8ihoVkZ2JiNwPxIVlhwRn5PmG0u2cAad6Qw4vKD0fv4evLKtsre0XLHl5U9Wbn9S+on2ngIho6wSqS9qxZ/hGsBRs0pDSGGkrgfcxcXtbX3vQZcEN+/9krUnZX2DrbyssjydpI30/HlydfsE6sMzs9/3nvSPdBFbRw+XLGoCveMsbxqi9vnpAlZ54cxkQJZ17+YRhksqKcXO2p9MZ5oSWhv42/E6T5ZAfagBFk/cO7TewmJiomPwIfnR+F2cTef/MWRAgbg6d8SDSc7wz6kTARAE+eeWxxItVIzm9qPWBIuso1XhUYcp6geNkAoZjTkNP//gHwzwGv/H8QWN92hSP/hQMDYkefZq8bzE2MIrrHh2RE2JQw7sjO7yA8oq+HAutH1zzgql3IB9e8oN49gGhi7uJuibQwc6Q7mplLWTm5WVxpmzA1XTHQcafD6DpuRstV/kQbGCQCVo77aCxEWin0xNxlPmDSxHTV4bYyd6M7piaTT5RaUQ8qWs24g1+yCnbNxgfNJ0IRlGjtm8i1u6F+NbPHRPaymQ3GXlCwTUyktXcChHowMn9/Yvgbfv+JEZ9smBc7DVFPffNiDaS6Vr7DO7DGu+LWERhbzmY77gLfs7ab0Kb3dzv46iKnstPGgsVHgs6mjwIsVRCXGRKkxHJ2wrMBygnED5WaOrvsdeP2ySOhuR3B4LRIbwW0xDV1BV99Q2FzEZOEAWMbfv2rBCd9eDkVPGkICMjN9E1G+SbnZgYEZufedGtozsAUFgUGlhS6JjY3uSaWFAUGFBYSvSgNN90gLkmdgyedg0mJHYMnHYPgo7wKSSVHJfNtXPOnK7YwDdunic3vMpVzlEnK8mDwgLJL4R7xt16VQIk4ftQr0bSk2LTuFe9qaepjnyQTLV3sKu2mrW0mhdXx9i5yFYcbSlkQ3UpezI72v2qXbKJfqplzD3exMvFGJ8rGSDc7S7traZpJBejO0w2gJbYTZe9mozauR7tY24Y7pV4g7cCvxzra2kc6pF1wYIcURbeZOZQFyl+gtYIR83MR/CpszM9ON7/2Lpo+Z1s7Z4emJ+BdJSkt0L50zJvW1kNMaq9kSzPUHW+ZLcjg16/NU0df95c+pkCzetSKu4Pzqj/n1QS36eZ3QEiPKEB3zTsV5zH2S5guAFU01NJWM7vSXcPpW5OYlFqaFKNjlcy2yVRUzWV5W27/ipWbh558OrcFW6Q8UDwIhPfBm1/JNsv2ZT/dAqBmK9DFPbXkB0Ln6bZ0IMuw1J3z1GkujrMQPn2Ka85Pqdl6UFd/f7sWPXz1dfcf8BesPTe20NWysxARMOKk4WcWBTIUyGv6DrEFiX84K/pBPAjwoGcoVhQAK9H5OzKafHNk+C/P92ay0jl9N1c9fVdXAz0XV300HxA7tDikL4YmDZFQNJTwKkQDppfCDtbHyZYoP00dMzMNbXtzlvBhPvJkFTm9vfqmG64o2rOKIFJaDMqOjW9AMfq6eJboSfG0PEO0qbaWtYGpy01zAzMdvLmRuoatXu2YYNp4YQa5lYzLTFcSMeOd6I9OnskDfERS+yn94xRsJNqrt3hgWFAmLoRU7Be4KSoHk9dqi7F3NGWLRiha1rq5xRup1QOxtZMn3J8PT3N9vP8csNhlAeZHlwHzIyQ/Y2Hk4EYcFG+zFQfc34RHRNoxtfcTq24AvRXZpYXyisVFucXFivJOhVovnIOTZ1i9Z5iTA7APkOuTa36JaEQMzD1lgl9/mkXbvcp+xatv+P6RN4kYkZeKgM51tcZyXQ/MJGXODZsJpov+CWXZ588Jc6OvbcMQX+aqREuLQPthvYHO+ifW57w+u1Vk4shpSqLgd/Jb+TyH/SFxPJlEnhs5tBbdKEBbK5wHnf440dRZ5/UA466wP0fY4TrPfAjKPQg7CcZw7H4jf5wKKX+NMRvZ7pEPdxgeFVdFVbFuPW3+kQrpyBgUDVEyuySPCspiNZSOCrS6fslMUsnikhwqkMxqKBUVYCXx8qVQP9TRMVtmMBGHMRfpAwMTfj4UG9YVGzEUE9F1DKy+SEn/b8Xg5cm+bWD8di/y8muSxeyjbDwdP/ZmjhbxcSFcVjarWiqaSHZMW2MeKUMSOTZlXlVJqbbR8kJ7KI9N0kkVVUVX1c86u/gpMWZIcrZJxnc29xJoNKKjnGtje0I+jjtIM2v6GTLkEPNvZPAZ10xvdma8HzbYorZW6cVy4DYHjpICnf06AbpAT0yxgjCW+fI77rhO88/f/3XK33bK5/LeuHbmfqMahtp7U+S36J7QkZWR0OQ2kexvc87Nf5ulW9Hg67K1RdmmpKDuevpUcoo1XR9Q+gJ9PZbsEfRp4UXnxrlo7AbY8GUfRpLdgj4vbptWJetA9vdaZYt5BwUJx2WDrgVygkzxTtbioy7ZckjGRKfK3P08wnFidA0J+1/4dcrffkpyRR0vjLkUqpHKkJlWKYo0p7/FWXqnT9Vct/Rkzo5UR0w6JFN2+OPnmyfBP+a6pJSKzPibGSkxhc0BiTF4TwwhJpSc093YvDKRZEEnRnVoYJc+3q3DReW5SiDj4eTxXH+L+nTfXqXAZMo9U07Zd/Vcgpi4ymc1LnM+5dONsYgRqhGkNNvZtcs+p5P2pZAjv/aSBQR+7fKFPb52Id+cu0iz5C+YtrXLZZ+q6KmwsrOHYsK6YsKHYsO7vlt87f+6nHO31T4Ta5C2e+2FRhcCTIwDL+PPGrMECTtHBwRjEj4dlb+jTiV3OUqjkKrWI87hJU/y8Uc1SB7mHzoH0qk6hQ9kCv6OduRsxV4MQCoFrsdoG2Zxx1QURUQ15QomdBtb4Z0c0xracY5vJRJb8iOJdg67EZX42OXDUnblQFI8TlaidwXQFD0doQxUAyM2792VMy0mkmbBLmjzwKFWaaTXLmcpacjGq5240aS2xh8150rTuzE+DDBEh+q/OhoAqf2en/GjMj/h215Rhi1ZFQt3JlamCbpJx93SddKylN5RuX6pi9lBOpqm21y2dOP2qZTum4lc6nJ13eRKXv70am319HLSvUpiKkmbfAebwEyVxHyfM1ttPy2CCo3L8K1tt6ugA7nsX+/qsQrbWuXf2u/5HO5tfpy/aSIRQ4tDbb3RKJSmBsom2tpGQ8u6/c0dg6zOYXzR/AcF5cORDJ9r11f1a+EKFz5c1EbXbXo9rTVn+E5NiJz1wqGV6mNf9xpafGWhHpQzdCfmTwow2VIpUlLwyD5KoWoEk82TopjFJmRfFDIDB7Dt4miLPm6CleOSE1LBZdA9KOey7ychjftHKcdACl2F5fRmTrQ+rU9eXlwIbnmFpguztstbLFvgWKlA1F8jd9X4jp5SLCnIqCqT5hlafweB9FW6t5IhuS3BxtzEzM7MncKQjFQJ7a4+R3mupLpSyOed36gFvC8kMzwwJcUz3I139npz86O2YZf2r8j8yOlWjlr/16dmy3RUnC+pykPAWvpIBJ+y5Cwt5X7H/kL364TdfxfaT6nvp+Y5KZnfiv52Ue3RHgj50VK1K5P59fmszpvT5s+fPv9hzTH668dYW/ZWvIfYza+Mq3z0mGGLnmjEV5LF1FiPNXv0Uch8Hbh8ButAnM8gznNEZL808HCt5ErYTKguqE4g7jVL678ifT8r9Y3Hk9x+SrGiuNj3i14EMsKkr9J9DYygdFslcrWM6Fx83W65omuIp6QyLmyz4nDhAuaeP3veovH0RTfa7AvNDPI2QGGrkHBicDc23b0i+42QAJ70hmYFeevouS1CX4NzsntBaxf1/vU8EndOKUTLYS6jfbUV6bd88bHki/HEN+THxHZmCybF1ZVmYSt/PVYpwfnbNSuvc8SSC7ldNWyxwfqudKjh8l3vx3MRgzqM5fwVq7X4noz6/FvjrDsX8ekXKGcrvscgxfDyVaVchPnluMrboGn/g90Dv+lwv7gZz1x+7DcTFTzjty+P7WeoFr5od0mxvKxoiXNjfJU73eLKGcpZ2lm6u7S7lDeUx0Xma8flu0/vglr/ysLKgs0CnkKedy/Ik5nFGCNMKdOGgwAD4rmMpUmXLAd6HcqyC54OPB8ZcJ3gUcS+G7dYtfhJiL0S+d6oeG8oORRLzMYA5qTcD0Q6/7ht2MUDRSm1nG7wpzc0C+ebWeb+cxOMda1wT45jP4QWOSW4Y1oNCA4vkw+Z5dfaLsFnqdFmcOa7P6/qruVV8BTi3k7Etg5WbU3DVPNJ57BQJZ4cY6UCzV+kmssEsWZOB9AIvCucsEdlelJrjGOGkrwkt+PQD13jOkHg0dqJ0igR43iyr4ADcSGD+Ggz/4fMH3R0ocl+a7y3rB0xWOnWgz96OQc+Xmx32hom3TvX7uyUruSvJfmkhR6yExaXTU1yFvsdOLXcI5LHOLHwxMdq3jaGK/v+2mH9YN5l2MurjMPZYG61VUiL//7dff8W8IdI/an2XDlQntgjFd68zohvNCnaOmDZ324YPgB4E7uK5VTkv91YuBnkeX3DxcvTWaCWYkrkugwqM6EUOwV2TfwmXB+6TWXQShO3pb+82xr7nqV5vr/ffortXX12tUrWrqxlfN+0n1o9aiiw4G+MBeNpqt3m/Sk7k6mlwkOshRuyueO9+n/bkNaeH/1SFzU6DucBeamg/HD84eR16v1gHS+Ehtfd4JSX3FdeIi8zFw8OZ6zrFz6QKzwzMkDeClXxQGh4boXcTMiXscJVN57ipoKY+E5wiMvBCQfpVdhjLRGh1NplEKrAUSJVzV5Zu1ck41uAs0rThxR/E3YYdFNcUZYL929ulexJwRHOzmRIUo2UqcxwJbcxq4a/mr9MhsQlX/mJyHKarFcUk35D4q224lVZlSHDBHNrVAupDGIRxOQEqTMlYBWJg0QXxKzhUeUpVgZ/nezzJgfSQgYJnMN63Pao/1hqoQ/17rfdsaAOdz6BucY5tttbF/CN/Gn8xfZp648taVBFipufZo2BK0ME4xNEMiKaFWQSEjdLRZlCPPS92aWI9kOjeSVyyV26I//USYrIMs684oBIkUxzPIT6safgBNFSZF1WdALuWxE+FBPedSyX3WOUX2g/xTY2LpftPhVKgSn7V8/Azb6QzGCMuj76O+Irp3QAY5CLPLwl2as0YI0f/bndIHMu98Wgbuj4HTYocOc1PejFGjMfJF/otgue+alB56qZ/Md0auCeGtYbZpmot2qo+hyLbFlBADfAXBmmKJAB8F256qmzl5RR7XC8dIaScHT/IsBlIqNjL6tPhZIgsHrLO5+6j3cYvMdH+ppN4vFDv8vbkezpu3fgP32cJf923IhsJv5snCxzGnA4HZDyw/wbAKJlpBThBFZqZU8I2LHp1dkvzlQAgTz3wgiu0RW0NtAE91GxuvLb7o3GU+UzCOJ6+YuHtf0XEKM4pTmgGyga8/tlZ1vjeIQqGhYCMFFHhY+pOjkTfCOdDg6kJJUh73jxRTTI+6piitsUNIOdhwVrFdriv7+xOX4LsLx2sHUAVuYFqB0jUTw/nIuMN5IbAQv2e0FsAfDb3oKJbwGNAzY7J1f7ClOdTR3K3OW5Fncpfhnr5pk0Ow1HegZt57ri9Mm+eoYndg8ptSOGBgThV2IgSTZ1qakRS7Ifzv3UUJIl9d5XQwPCi4J/peMcAeO2FuiHX01WmmFKASEqIv9GqnBXXCiSww4dtjPhFYzz9Pxgbwm/6lZ7JdbLqNon+FpzGrZHOUB4WOEiOENNmEhlv0I+A6IBPgHemjc7TXL8p5+iwJKTHJXVR5eymF8xWT7ozsTqxMX5wcAEECExhjGsUYFLIZqjRX41X15wDv5Ns/a5AI8eiAa1zeDPDY08xnUE+QdSPjQf0g7Jl+YrBbYPSD4zPi8uaCQ0mKkBGBV7paXNpKV6eaakzqSkAVI51gkRVSPA36ZFSWO0Giucl6cyrLdSwU0tfBJwRTMD5rmSOM6Lqzl/GMOxdpdVnCAgADxYAmQLgq2wvVcjQOcxMHqmQAesc4zewiKXVlfSOot2ABHkmNvXFsepR9YwbCaQLvInoOI4qz9fILpn315X19zR3czc3uOaro3BXgubeA+ZqkbOT/bTfsoGyWXd6Tmj/aD12DXLzC5ZtsFrd+lP282qNH5cx4qh0lV0VCkjWXQpRNs4vaErhTQ5+KA4083D2NzFzdjUzd3MGLApC53WhGklwSXXn4OK44aR/AiUU5CFiMh3C2/T4I7ckoLuvCBzK+8jEUtRxyCbiOH82mwL5+s6Wi7W1yzcbDR13a1YK9NszENRFvoGqGtqqiD5OKUqVQDf1YWGO0aVgEyoTxCpQ7lx7JV0obFc+ZyZq7uZsYuHqZFkG5s7uoFOs5xSqkmpUsWYrg08U6KJtHvBCi/vulIH6+MUSxssPJIP6pmL1tzU045ycr6uC/XbusxM6thgmF+DpqRv0Ew+OFCa7WqL47oeRCaRZ4dNBYgVM8WsA53XYhW3kSkNfmzIbTTTG0PJ1el1z3kGmXcbelCimxG33dOU+N6FaKXBpdcPgmaaKMGQPC3/MEuMvpAoasjRNTu11szC0wi5vVYgucP5b7QsqiCOHBIkfO4qWfBi1msyVdjBKDV19o6ec1jqTWsLmueTfeWy1MlnRQUOWtmnGS069AgvqfVuKWNAREFcZ4i0rPMGJ/n/b6OAyqtd+bwPvU3NXwdVKkIVic46YqI6MkqkRyplX4eaG9/UXyI9VXuCZYOyxYZl3sjKvx4udB0RnpEPrex3c/PCyY+2/3CwFy4zFPp+He3lwlDAyUl1V3lB+UD5zS8LP3enaT/3F+BZoV2hJ59FIlIi/ILT4sJEwBBg9me6aF7PZFmv2M2VbBgghYRVBiOQN8VyWtJKbs3XiD8gr+euk9Zh0+HpEf7exOAwFAWNDCOGeGNIwXgkUIEI3/vmVkPd5oMzH/cvDBys9E3dzS2DB9jw4n+U/ojjweKHqv/jxAVjxd9XJYgLEc4uJZ8VEFeS2E+yTtqXABE0CclsVD5X1zLNyHK0Er+ynzFa7ixgz0VLQmkJd4fPH0Dn9s5d6BO/sDe/LzF6fhNchUEr+aJm5yP5Kqsi+ebmeCMV+SLn5yL5qoREmjucHN54ptf9jXMINdXyIcAzZez582ucnT/6koiHHk4OerR5A3RX6odTrVK4UBMnkbqI3hDPa4sKFhFx1ZyEpOJlTXqFjASZtURsrkqhkHvxVf80dow+78U0MzDXVVU7aCIxDQi63+sPE1nECoXV0DE3V4cMI5pXEYI2sDU3rq/UgyVF/WE1jcpfba9IHIgND7kuHH+jSLslTLimnM3qD3Jyz0d7sm3dmpCz99HA9bHPNNYqR9rYyHgnVWuyHQIHhEilvSI5pZvA0ZiX6u8gRXrm6/CenU7y1Z9WNhRIzqBdYFp4zrWoV5pyY9LFxTukQhfqekrd6SEDwTtMDD4MOF/qoOwwc6AgWi13P4FDeYeoSKF5D4iRsEcmrhIJTyoKMf9tAy1JO+lpsNKsGgKn1mVbuBBX4trgpqGILbHJdalCMjQ+fbgjiwbL1WxWrn3KSY6OKF8eELcO3W+34Y/TmtB0aUjp9QOGwm2nX2DZvwqRFBpg/dOOYckNgdbDYY3kcLXXoRUTrueAIyK5N2LMw/n+8vrCKGYm5WlGQrYVg4cGQ6pktzmPpFHMw/L0Jjy4MZUZl8eZoRLm61v6Yfh4sFXMdah5pkoUU4GvYnr8DzChc7oHqjqTVc4N5HNKavi2QJ3LuCnmibXLuKeM4g3t6IKRsArL00dJWz9XwgDYTU5DTVdqUz05xNPUDO7YFuXTaBDHlqHKyepe8PanZiRNd0bU/tnV+9thII/EPyuYmoKyPWtVT1Z68Q/yqai7v7s3OW58GHqZUFXxsaqSsLA4t83HdeccH/t2IGR8EBinSCYmjg9CLm/zsJ87y8t1/cTiHKG68mN1BeEydHw4Ma63F+QgJ6Djg8mJAamEOA8o6Q3ArrwhQScGEwm9fbg/MRHp0CmgPiqwfqJK/ggnx3XTPPuTE8aHJCaAiIkAYhIyMbSU/HITNVi0oG6WtBASKijJD6D9o4Tk3hwjMTnWBt15wMZ57So71w31OsCtordZua5eDxl3Jc+FPLW7bz82eWhU4kFyOSUhvpQCCHhY6GoDg6r00boL2c6EuiCDsJ20DQGh1WVewcsvajKRZxANrn497xgkW6bP0vtUrw4AFX3oLUenh5kucYt27j1DD9Z1iAHhWk1+eZdb8MIKn9BGGm4n0IBQl+1cd2GUPqiqNgCYZdeUFhclJjbUiLPc5iS3VD47yLx11edY6MamKsynqAz40yQGhwmE/t7uXittWJKm/EVypsfp/aPitHWapHtWERKBGWSbW+xuRsjjzdSchOEgWQxSiMlzjDxwg1Cpd5K6/CgicSyhqTsnt6knIa6uJzenrhuowKCHw4m5DcTwwpbueYl1qoXJxOKbi5WTIgua2hfO3ixL48mFxdxnWfGfS/pdsmu+xdtacza4ZdYcx9pXH90z2YT/gAXkKgkFuUHSC7/9VESI7zyQIwIW0+V5B30wvwJYTJ8A4Xk4QDjx02HVYdknPpoU8r+W/9qRUjTgixhaGgL/iN+Om7tQrz7IQE0dV5BqHODen4qVfUMuWzEfPaWPtIubpJWvrSluXrlfqYuutzXM2gBb6OjUjrNNVHVRdUKl4a1DkkcS/+dvhjVut6xqThou1xOBPbGxUUZIFjCHObp7oJm2LDgpcJsBqAvU2karKS9L5Lwd5/raR6s5UFzrkZX/2OM8wZ2g/B+vhyzjNuaH5fO/j4zhN8PXKbw4dPEoDxjd+67tfUEM0leOdhBHD+dQeREkHq8fP0Qc76xoRyRbkdAimYfT/1o2KG11FCraGqWuTecKdDFQxbEkiZgnf1VlJN/8fJtAP7ytXXp4BGXhrf3E994dHT6fycOrbESb38K0WOvKL6jYiwg0xy2s4jp+5mbqa9/2KuJVpgaNo6He+rp41k5QLxi9gS04mvqmyGNmpNaZNpLGRSHjMlPQYMqbFGC/V0XYvLcwz1eWjO1VQS24dzCzL18ouu+enY6emaOHqdnoKmFjONUqIFjh+3rOj3akEib2spxqO5jPak2pShPEDfo3XLWpsHiAHzAe8O9VITYhFqYfYLMXEbD6Bzt0h+25iOgLW/gINIgVCXugLS1dW1yt2DW70boadXXl4Bypa1FNS3/KNJcWE2f3HIWYdhy05jk9Q+3U0+M/72AX946CQrc2Vzf3tsKC+ZhgCqLIFzVPtGl+jq+JN3Kuge/UzM5b1t96J4METW191UZVLX3NAk2tn5r2yQGO18Jr8wZKqChbK6s4Ktue/N7B76rZqtuMPdVXUCXDMrI8st1l/LhTqZIKlbcB1yE2pYK14glDrEiFwNgM1LMbFaLL2BxiKSreV1ZzPdtQS1VOWIPaGzZ/FayxptQ3cRXyY5NX34zfL8wLkgtUaP9wXGJ3b39vYmLvMOS7J0AvuX+TPJidmDygZ3fHJce9oFRg+cpddD8yAv0aZObETwKJDi/nHZb85g7UdHQyxj6SrmXr/jEbMHNmGjyC2bsrtegU4OwmD4DvjHTposMBop8+wwHlAeiCY5lULAACEmCUCrJptHTbAHLvP/FrMb4uKu/Lzqrsf1/aLV7abap4WLnWnW+vFRdmnibtwBYg0zAOtPVwDjaV/C5Q8f/04vJ7+tiSgd/yj92VztsSi+hxBZUBygfiwZzTjA113U0twm/PngwLV/y1ide3sQ7QU1NxveTBO52/6VxnIbHs3QB16GUdtPC7TFD5dU8txcsW8s7c0/mtuYoVfMyV8eaN/41HfIJe+PG/t/ybd9xX317kYptdU4zvUg1n8V7DPmFRwuObH+0TUBbJ71c0Y6IPsqYFztAoyK5ZYiRFCqflc+24WyvOUvwlBrO6X8uRrMEmhmGsSku8lYuTJfFbEFT5bFoKDVgyfarLbt+4aL2i8s2rRNr7c0o2gda+NhG4c9pV1/SueHTPDH+Q9vp3Q33BrS04iX8313D4voMr+OcrzUvhUjj6d3KZWz5I4vyzBlm3PaTZg3rwPljxvhml7jleSgX6zgIaj9WKWUVMzGc/KxH3sWJWrOSlbJOqot+bJDE7J1eHRgcnV7vwYVl+aTZpW9n2Svsv2j+UkxsadY9JBjJ5Vvrehf6WEJPXIRc6smwF+ALsvigHR1c7SgzuFLXJJG0rE2+1aRUvyy/NdM/hoe2d3G0u2Di7268GkZVfTfZS0VuQ9BVXgQrIuVdLt2Epcsd4om6x3Gk1PYWSSuB4bsSuYnkV+QIfWWQOlXTx9nQuHDd75KyT53nS2lhL2tNuCeEryPJc/YMBe+cgNad5UfeYpG1ljWUZXpS3eTXpR8xFKbel+4Q2fDm86v70la9yGHtMb72j5VyT1sSmK2UlHhEhYDv1t52WyGH0/TV9mkHnS8u4iIY2vlnIF662yo8dfC+H7ilKywWzbL1bI5XDHQhIpAUp8IygA7Gj/iD2SRlEb3IyK5gIjBc9dSpvbb/0TVqBTUw8ZhVzE6MtpHPhB0FnoZ/KXScncCko0JFiUNjUM5CFAfmQ9k/j0YaPd6INPo52tEuPf8Z2rvEu/jlTXnzuZ7P22wyyX0XJuR8/MRd8prmOb+f5KMbT010mNDBG0hvLiHBnf8ML+95WkIasUHB4QiDtTd2XmOJ72MSn1XbjSBMk4dHgI63RD29aEF9azRTWUFhiFSl+fdnRolYaPNCsiXdrS9BRm2/MbywIEvQbU+OrsFBS0E6INJFGEh0seJLKlIlnpfuqYkWswSKCySzx6IpHRgbNeOTs3FCrFLvWOYtl3G2ImAvnhGKfdRRGROaCBD0tUGJi7qV5xjlg4bVdksTeauW3ReZ+mgOoXkSIVGjjErFfslRkzkcqPbU+EBGXoKNEYGnIPKNKZnlsDuK8Mo5E5njEuUsuYrL15YgisBUSvAsblMUeq6Eo+JsClQMYgp85pEdl3NUXFDykTmUya0fa9zetKpOeQDbqkHKVb1pTUum/6Vg9nWNi9Juqld80MaRx9dSNdctvileOZO2cV/5N/xV2gjby9nW3iljvbtdwrX0mPVUuiBBxyHm+PxuvVVexIIQAUXcI5qfrbTUKdhKIknKtVsEaJUFAnYrcGVDwTwuw/IOwEhmkHypVihiVeqbpwYEBlI1pdIiVAij8T/cfkkPBe2U0XnT45T8B+Lok93LB367IUcu3+zhY1FhBCKPxar9uP8OAhXK4fuCVmjaTqjF7JJitNAtqbr9jO/lnwzxL2aWRNeDeVKT3bbvbIMZvcnXy6y35wcAkaBk0iTpDNtGfcmcLf7UCFpMsJYiDO7I+4DUzx9uOZmbNE6YmDL6JKzHZB4i0qXkKISzMp5g/5qQJbN2aGRwELO/2ZCZl4+DSan9yiXLXTczd3C0Bc7Wls8u50jVmbg6YWdKisS4gckwxd72+HitnNwulrnEz02y8hHPQVQVmXVgju35Xc1WJCNHcFZ+fg/fCW17Jtsj2Zv+cO7ARl+uVa3mJaEL0zz0cNwgQdz0FUP8Ssa/7sJ1Lie3rf+q02ggbJ/5thFylhdRUh2/pJj0ThX5Pa7xJPakm1Xm1YHAWsHLehyQ4kbVbv5KAXAAbV9U20ADMoMULRRVNB6oz2hrVbfn5IWl2wgZwhEmutXN0b4zzPGHqFXOHbaLRBNKnSSM/XlP3msVzZeUQZeUiFWU7PtCgOAtCsusIMZnVQXvJf9MBD8ih5Mf7ZZOrZNGW63bmZOey/r5qcmljCyli2dHIxFrP0dTc0lhByv6hULdDXr1sSN8KG1tCj4SsYFqm1fUDl661lOaikkksIaXUWyCcCC6t/eXIjIzF5eMibwR/2GFUg/dT+1LQd6WpRV65onOlZ8rWDVI+3zjw/9fmqa9f95c9pkCyelSK+zaMTaGjLc4ZPd+n4JMsRAj+AMoAfa5r8MRAV9uJezH3Ta7F3FFnRW6Kns3Erz03ttTVsrMUETDe0NURBD7OwHggoP933QbKebjVF4MK/4sJ+6Iq8ekKAzCHwnfab5SNnfe15LmK2EulSJlr9NQTbvhK++kTSOW19Q4CPhduk6cZsqbIkwxBjDNMRpLDKVpeU5+2BGd3+AJjwtyVHSDmBtIxDCqGxAJy3pmsLDKZxxLpBoX/pgI31YEpphXiTUeSwlsdT/q6KTtOeuZQ6UAhYyn2Yn5Rlak8tj5BwOfMfjAHnd3YZJLTCQo2LkQUAVy2XIaTjTwB+6HYs6h7jggSpIq5wwGebZpsFBXNay8udCFQWlwIxYcnoAjt72t/LYXr25TvXIYhH5Q7Q0z3M7i5I7rvyeIcem3UVvk5oX6Nqk+KxF1YM3SpzqtZC/XNqb2cGgfNVAFcJqh6qwUU1pe2Mg0hyzyyT381sti+2elEQxiEQdhGhHU6l/Xfwq+9uF9mT1wXziV60omCgv2sF3hBXpmknKOc+Sau+bOiLVx9Q+q692NBApWHVnvSyTQPlTyhUB35WLezOxFEu6lndtuHgoaUDBQwcL+d3sHHv3q9SoihO0MeDn9/dnz6ZJaBG4wpLD4xqi4qSYQNhMX9hLgKts//hhESouqjCCkET1F7bELY9WKbGhO0SY3NWcs9Y7TxnqV5xF+b7ljfbhux0Tr3CnT+7AIMUw6hKcU/Et13PPouqt8rCX3U8v8xWj3E5pBA8V/b6J1wKE13t1NiK38VEbNBktvY571aNpvRERsB9uXHeSHofjG8NKwdkUpGP9VEAivHwspGC76/HbaGJSjY5/i/S5loiqnUTvUCXKn178zu7WfQq5MUM/3y/YwqdeWQFsbDuX1kCXRJfoOdsp3TR0xNSbfKYVPXtmd5/NADmnCBLq6pRT+gdmVrea37r0q4Au0I9QcRPTCvdl5COrWqOm0yITF9srpqrpSQi126g/W+s8TpHctRSR9PTEgbV7kr3sucX12eXwbctRU6+y8PeSpBleV6rXJxtpdHu7ig0uPXkQta3t7FGaWZcsVf/qlCwBWeS0UKT+ViL50XvOGl5768v6mokTrkqAjUh3alBGQioOODiYm9/b29iTqS2lP1SJbaKvBfU1PHVNuFTgwmE7p7u/uToZLJCBkG6ddLoYZ2drPd1ZmkF4s4jQJfVSm4TARkYigxgZxr4l1YARevCji4O6EEZOKfQo8Mn4zwIkAvCUnzyXYpxg0B1FvdQTlOLwh/6XsK4mEYOthDQQmoyWfskuWTFloCXNubxCzAL5SeTwcsWC6LCx0MrbR017h8b/r53i69DTZq8pPHu3oyROSRF+/oj2zWPP4fRuWdYP797K3HmnoRXnbIsaL8++62AjDXNR/uL4tjgphWWW/3/yx61zNC+d7jV742tH14KZk3jGqz4O2G0LlTUlqU1Hq6Wq9v2wvt5Qx5bebwkJ5v5g4dp/7GWP8KbDN1H6DsfyV0vZw+zdhi9OsrDH2aoYALS4iytjB2nby2MLeM58YjaQaSzCSWJaGd11imEJY+yrJ8aGcbSwWz1GuS/sTSi1m2QSzzIcsaRzvdFtDdK32bvNv0nXttn1J9N4uo6UXUj+6LPktZJ1nwCkRCO7qWO4RmPLans1jHBO7rpZSVduq1VHWUb38b6dvUFI8NSnTVtQ9Q3NsI3Ev0SUoX98R9OGRqxv9Cq41rV1jaYjitfCPakbQpJKONsl5TVGgcqRHTS0naO7KIqt5E06elTqm83sHb/JpoLV0P0LZKJY1+kjuSok9KH4GyO566W/077CV1g6IhxIjhZsi4HZ69raYtBuR/Zd2c5KJwHUlUHUm95hu1WozadKLaxoiU79Yjua3ewzxwQgVu85kKnni29Oz3mGI6xOUgqn7rObKXXlQexgD4bQaztEVNypPq4BaIIgdjapZLXU3eWzdssPd/dyuligP0uvOSbx7aCrA8VzROQkUX4iZ0J2X0vDOHKvY7wE5UXeVaDZWhUweVV3ptR7ft3FwUD7EVPB4V31VNr97z+CDvQ+B6lrImhbeF2FAWj4vt2lMa0NMe5WJzvW7Jqobm3eetEqqOPGekLapzNeve5JA0RpeDB/UHt/uUG5R3VZSUHvTvpChLKw1Xv02JfgNYlRLkZSqKkqasAGBQ2pRXdImGJUXw16NuVa0jp8b7M93qceR+qlQU7Bb+BE9BpgLckXr1M/BpP7jlLyC3gh9t/d8Rthv+ImQ/yOWmwZyWI9TYbjIit0peGmti2NVl/GxQRxclvqkBUwHlrqdJrSJ7wJhvQf+BAHsA8DM+VtZbZG5ey5D79DmvKB8VjBlyhmHUjzn6J95elryqYFgs5h4eIDQPJY8xNrC2Udwydc7uJvEUY5hhw1HcGEBRBziPfuSmyfeRYxQO2j02j2A/p11baPpPqf239P7G0un0a4RBa7WZa6O89daoddeIgz5GrEYjth/ErdOZv5NyWy9ia/iC+6vYdohZD1n9ynaOVb42ql+KuWUR8y3djCef76XOCRTbJ8lzMf0ErlfDAdNHdsOeFSmhYWa/pg9sWOx1y04BK2xfBgUpvbx1tK7kG5fZ7Fkv5iti6D/PIiulzu0rV7KcMZZ6DjGfdyJNirT9mFsHXFxb5LRfsJ6zrMfq+yP9luw+gFsgb9pLniKok8SlR833vp6Wxn1qwn1BY2X9A9/eUQRM/SVDOGuPwmq6RU3vBdbaufc0m5vq3gGBKlCgRz1vTN/ucWj4wnc9hMc+rOYMxeOoYgWvbGWWaZfVDlk8y08KjYQFdnG9L5RGm2Yew6xRNuwgZgwirD7po8xaZ8vIS4yFtV72yOVq7zPnYjEf/v8IM0xeNyraQhXJrn3qLYVcAOkS8dbQaravN3jZu8dQ0KqqjRS2Sk5FUcuHWi3d5qif9bR9XBSl9h2Hzc2Uiz5J7+eSp6MTqFZksYXymFVYKdXsKxeUxd2u/zrGtoP2UBttv9hmHzTNulen0Wb1zZ6tvKYa1BVJJ5d4f2rs13Sl6K3px/rWBlq3gC/LdYS79U9g3oN/gUC9bR0eUCAI2AgAc8ULAbCYmDcfVAFfiDl8E+ge39GI+aF7AodPwSYpawjMUNF80Lt68gVxbpBWt7t6B595GKR3A+KSgSdYOTxFFfMMrVKexYbnBRxiO5zjklFrIMB85c8TBOVvnsIxhwhTt7h2FjYxSWTyojIpZxjnIXIhhW3oCbt9B1LefcM/DAU5BWWDLj4dFS/KXAwWGoThHdLC6GQxUN7mCZHxRWRAWk46KBErrVTOIStnGcHjUx+lADnYnOeJFbOfJTkqIZBnmbmgKq0iLZsGzmypFOaONJQyOV+daXLDHlpZs02FeGuhmq6khWsrlL54JGIFz4wZ8qLgrwB47wtfyeS4EYIp6w0zNVEfLuvMTA4GbCdHGhTmKzHDd6AiW1Tcmw3samYlXGNbmYmOymaQww8mXWXO3G4YTXk8T8l5ObKcjehz4ZZBgJWlZ9mZKcsdFeR9aEi5pLd7sveY9uTWDEIXk8EkTVaNLP8Fs0ronlOBX1iDH7zMVKD8fNMmYRZK1tufwr9DhxIGDJbcz75hsYNu7kMeUe2JSiv+/rzJXrURYIl7zKrCESssD49FTniUbthsn48+aLfdT845o57BNKukuuA7Z513WauLLnnK6LorrtovzRur3XLDTemee2mxTBmmy5bFZKscM82QK0+BfIWKPFNslhKzzTVHo23KlJpnvhdeafoIDWMd1+tfnYKdg7MfQ+XmQfhoDBaHJxBJfPwCHX1xKSQsIiomLiEpJS0jK9fVbaigqKSsoqpGVtfQ1CrK/lhEj6JPP2GgvQ0bET56xozHlnaZNGXajFlz5u/T98dfr7zOgSMnWvKOG8G1z3xeMLz58IXlx1+AQEGCmypEKBx8h94UJlyESFGie+y5XXueOrBjvxtixIoTjyBBIimizE0pUqkRrZ+IJANZZjVlyZazGZevgAzfN4lyFSpVqVajVp16DYSPDYJHZOxz77wRoxakmUXWbbE27c24hVaHTl269ejVp9+AQUOGjRg1ZtyESVRTaKbNlNstdLfNmjNvgRbd9w0rVq1Zt+Guezbdt2XbAw898phucl+VwvfMd1Wr8p9WxWq1K1CqrPc++OgTHeVkk5uPQbfH6zM5AFGSFVXTjfCmmJb99R8YhPRu3sXNw4vGYCnohQTiEX38AoISCX/JRsXEJSSlpGn5CQneLcONCp6QNpyQcNx6PABEmGRT1GYeFTugbZeKJS+WEaoDSnZurSFod3O9wWgyW+jupdKkv0qT6DiDcWkWK1GqjJozJcYXJc2Ha900DlHE+3Njxk2YRDWFZtqMW+g+f7qfc/yci0+Wxt4RBFjS2yQYvVHba6TtmT0MT2CGWmu3B7h0NxsJz34tgTeuVhfa2bGiBWe1qnCerixYGhQz8mJLLC9hSVheaf1fDjm+gYbx2iDhhmoVXko7ufdBBCEHX1lJ/+vVtUB5J7dudxqtPkEi61uevxXMuU8WbhBVwVXehdvSCy0Cb5PYreziuXWQS7yf5m4/cp5fvasw5/sGE5t15IuAI7+gAZi/EfAAIjUE4TLExzTWuhvfYhNW8JQtHyfRxZqRN0y8Vn1QMPDn4uuJS3keO3mSxJ5Fj/IlkGcjz+vPbnrv/v0ijUJMTV16Knhr1CgH34hRFbyHlPp/vfp+BJbUycg65iY/8HOWR4tdwz/qrUcSyDFBPJZWAnM8bgZXRrvm8b+rIpB80XGyg5cqHr+b89HXp06+lcsrq905U9So/fZaojghbITFohKSPezfZ5ZnpNAzJGS0KVdYmI3oNc42pt3+IhDFwnAKQUpnke7xghOjpMHPSoxUEgQlViMkGb5xPJBAtEADR978daOC3UPz+0iZ3Y/lb/Zo5uXsl3c7X6Sqw5PNxfESfnOX/w9FRMGlYliAEIygGE6hEpIWocKGAcQmqMHQIzkAQTE8NICnAgAhGEExnPJ0vQo9hQWlT/tAygC9GYcR/YxsqppEj6QAEIIRFMMp1HsxlTEpNHHPrSkN0TsLump727KmLMWwCkWClG+VOoVcyR3XhyU7HKVJZb2h0vqYQg2IflGwiBjLaSorzh+reFQqdTMsCZsAQjCGE5KxSzoadcLA4pEms9omODzkxLDR2MCJGFggBCMohkvpGeJ4HMsMOB5t5D5wQwMbXTrxd83uiEZ/M+J45t4iSDp6M/QmyGgRWjHyjyAcDr+24qsVHF8uAS/f2sLld2UOfYA7DNjChs1d32q+6yvoGzwbPYBQL05R3KXh23B5Bv2+p6bHFC43+P84NW4xncptt3AzzpuvXgxmSltF/7O4mo+wKtKeRhWj6TUUZ+z10CDBLZrIfpmZ5dV85JSjJ8XtrbLKjfAsXYA2P6dpVSlbwGbajXkuWjhyuFo4TrNKxVsiv7q0LbsIV/68zaUw71X59WXD5jnGZ9/PIGNaHjWNLEsDQC4XjFFIFgwCJB3T3t527K03IHYWlrvsV6U3c3HwLqfxS3JoOBFCM1GUp0bjZnGUIfGARIkqkS8OkzYRZrInSqUjcSzadAtfvW5T8KozAYu2LVH+0IXgc/FDcZc8IAgdAkHeUIKLGlBOpeSbmRiW+qc9coGyIpCZZVkSOyCCstC0wWqVbY0pFfUYVD3f7wTQHgAHpsBBAEBZBODgEQhlQ9M02rp3srA5pxUvYzSOoIlKTVvxlCFQdXmtrIU6M23TVHXnxpybFR2q0n0oGtxUtrZLDQrx9VX8xWL2MQ1TqQ/dLnEbObO+tMox40BUNWblCpOi7bKmbV0AFHbZirNFCzOtBwGZTd32dTB53RcxFFjyCLV2PEsIu915+ZmaNkSyxlHXLzOkKfTNxHHI38JVhtawdFurteI9E7eSVO9nK4gSUgx3msEz1qCOpAhB0ZjbF6w5z7RVvThX0nYhtKQon2eZu1hmrcOB8RrPzrLotXhZc9RU2dTMaVVWSycJnKNhUUqOPNeC2PX6ployg2P53yvWtdRW18JNkgT08wtzVXM2OBXqyg9VnhwPGOw07JshDKrapPfl/JZ9U1UQv8muyogzfjq3zcXfBk5dUaandemo1Lpu+gfxRS0quGhm0MTixgxyGUTXdZZIb8fSeJ5iIbyL6xxlDU1z1Ondoq5WK/TiBmGFViZDOT9TXHjq9J/1n/df9F/2X2XX2eLqMYT6Bda7m7tPU7tesjePu86yzG/3v77fxWK6k+sviyhq2vJhA9bGk3/X5eN/AAAA")
    format("woff2");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}
`,P4e="BaseSans-Regular";function cDt(){if(document.head.querySelector(`style[base-sdk-font="${P4e}"]`))return;const e=document.createElement("style");e.setAttribute("base-sdk-font",P4e),e.textContent=aDt,document.head.appendChild(e)}var lDt=0;function wi(t,e,n,r,i,s){e||(e={});var o,a,c=e;"ref"in e&&(o=e.ref,delete e.ref);var l={type:t,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--lDt,__i:-1,__u:0,__source:i,__self:s};if(typeof t=="function"&&(o=t.defaultProps))for(a in o)c[a]===void 0&&(c[a]=o[a]);return xr.vnode&&xr.vnode(l),l}async function uDt(t){return dDt(t)}function dDt(t,e=4){return`${t.slice(0,2+e)}...${t.slice(-e)}`}const hDt="#FFF",fDt="#0000FF",pDt=({fill:t})=>wi("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:wi("path",{d:"M0 2.014C0 1.58105 0 1.36457 0.0815779 1.19805C0.159686 1.03861 0.288611 0.909686 0.448049 0.831578C0.61457 0.75 0.831047 0.75 1.264 0.75H14.736C15.169 0.75 15.3854 0.75 15.552 0.831578C15.7114 0.909686 15.8403 1.03861 15.9184 1.19805C16 1.36457 16 1.58105 16 2.014V15.486C16 15.919 16 16.1354 15.9184 16.302C15.8403 16.4614 15.7114 16.5903 15.552 16.6684C15.3854 16.75 15.169 16.75 14.736 16.75H1.264C0.831047 16.75 0.61457 16.75 0.448049 16.6684C0.288611 16.5903 0.159686 16.4614 0.0815779 16.302C0 16.1354 0 15.919 0 15.486V2.014Z",fill:t==="blue"?fDt:hDt})}),gDt='.-base-acc-sdk-css-reset{-webkit-font-smoothing:antialiased;pointer-events:auto !important}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-container{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2147483647}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-container *{user-select:none;box-sizing:border-box}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;padding:20px}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-backdrop{align-items:flex-end;justify-content:stretch;padding:0}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog{position:relative;z-index:2147483648}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog{width:100%}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance{background:#fff;border-radius:12px;box-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 10px 10px -5px rgba(0,0,0,.04);width:380px;max-height:90vh;overflow:hidden;transform:scale(0.95);opacity:0;transition:all .2s ease-in-out}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance{touch-action:pan-y;user-select:none}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-hidden{transform:scale(0.9);opacity:0}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-hidden{transform:translateY(100%)}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance:not(.-base-acc-sdk-dialog-instance-hidden){transform:scale(1);opacity:1}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance:not(.-base-acc-sdk-dialog-instance-hidden){transform:translateY(0)}}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance{width:100%;max-width:100%;border-radius:20px 20px 0 0;box-shadow:0 -10px 25px rgba(0,0,0,.15);max-height:80vh;transform:translateY(0)}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-hidden{transform:translateY(100%);opacity:1}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance:not(.-base-acc-sdk-dialog-instance-hidden){transform:translateY(0);opacity:1}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px 0 20px}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header{padding:16px 20px 12px 20px}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-icon-and-title{display:flex;align-items:center;gap:8px}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-icon-and-title-title{font-family:"BaseSans-Regular",sans-serif;font-size:14px;font-weight:400;color:#5b616e}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-cblogo{width:32px;height:32px}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-close{display:flex;align-items:center;justify-content:center;width:32px;height:32px;cursor:pointer;border-radius:6px;transition:background-color .2s}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-close:hover{background-color:#f5f7f8}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-close-icon{width:14px;height:14px}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-close-icon{display:none}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-content{padding:20px 20px 16px 20px;font-family:"BaseSans-Regular",sans-serif}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-content{padding:8px 20px 12px 20px}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-content-title{font-size:20px;font-weight:600;line-height:28px;color:#0a0b0d;margin-bottom:10px}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-content-message{font-size:16px;font-weight:400;line-height:24px;color:#5b616e;margin-bottom:0}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-actions{display:flex;padding:16px 20px 20px 20px;flex-direction:column}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-actions{padding:16px 20px calc(20px + env(safe-area-inset-bottom)) 20px;gap:6px}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button{font-family:"BaseSans-Regular",sans-serif;font-size:16px;font-weight:500;line-height:24px;border:none;border-radius:12px;padding:16px 24px;cursor:pointer;transition:all .2s ease-in-out;width:100%;margin:4px 0}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button:disabled{opacity:.5;cursor:not-allowed}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-primary{background-color:#0a0b0d;color:#fff}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-primary:hover:not(:disabled){background-color:#1c1e20}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-primary:active:not(:disabled){background-color:#2a2d31}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-secondary{background-color:#eef0f3;color:#0a0b0d}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-secondary:hover:not(:disabled){background-color:#e1e4e8}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-secondary:active:not(:disabled){background-color:#d4d8dd}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-handle-bar{position:absolute;top:-16px;left:50%;transform:translateX(-50%);width:64px;height:4px;background-color:#d1d5db;border-radius:2px;opacity:0;animation:handleBarFadeIn .2s ease-in-out .2s forwards}@keyframes handleBarFadeIn{from{opacity:0}to{opacity:1}}',mDt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEzIDFMMSAxM20wLTEyTDEzIDEzIiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+";function N4e(){return window.innerWidth<=600&&window.innerHeight>window.innerWidth}const yDt=()=>{const[t,e]=Tf(!1);return m_(()=>{const n=()=>{e(N4e())};return n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[]),t?wi("div",{class:"-base-acc-sdk-dialog-handle-bar"}):null};class wDt{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null}attach(e){this.root=document.createElement("div"),this.root.className="-base-acc-sdk-dialog-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;this.items.set(n,e),this.render()}clear(){this.items.clear(),this.root&&r4(null,this.root)}render(){this.root&&r4(wi("div",{children:wi(vDt,{children:Array.from(this.items.entries()).map(([e,n])=>or(bDt,Object.assign({},n,{key:e,handleClose:()=>{var r;this.clear(),(r=n.onClose)===null||r===void 0||r.call(n)}})))})}),this.root)}}const vDt=t=>{const[e,n]=Tf(0),[r,i]=Tf(!1),[s,o]=Tf(0),a=u=>{if(!N4e())return;const d=u.touches[0];o(d.clientY),i(!0)},c=u=>{if(!r)return;const h=u.touches[0].clientY-s;h>0&&(n(h),u.preventDefault())},l=()=>{if(r)if(i(!1),e>100){const u=document.querySelector(".-base-acc-sdk-dialog-instance-header-close");u&&u.click()}else n(0)};return wi("div",{class:T0("-base-acc-sdk-dialog-container"),children:[wi("style",{children:gDt}),wi("div",{class:"-base-acc-sdk-dialog-backdrop",onTouchStart:a,onTouchMove:c,onTouchEnd:l,children:wi("div",{class:"-base-acc-sdk-dialog",style:{transform:`translateY(${e}px)`,transition:r?"none":"transform 0.2s ease-out"},children:[wi(yDt,{}),t.children]})})]})},bDt=({title:t,message:e,actionItems:n,handleClose:r})=>{const[i,s]=Tf(!0),[o,a]=Tf(!0),[c,l]=Tf(null);m_(()=>{const h=window.setTimeout(()=>{s(!1)},1);return()=>{window.clearTimeout(h)}},[]),m_(()=>{(async()=>{var f;const g=(f=Qe.account.get().accounts)===null||f===void 0?void 0:f[0];if(g){const m=await uDt(g);l(m)}a(!1)})()},[]);const u=EHe(()=>c?`Signed in as ${c}`:"Base Account",[c]),d=!o;return wi("div",{class:T0("-base-acc-sdk-dialog-instance",i&&"-base-acc-sdk-dialog-instance-hidden"),children:[wi("div",{class:"-base-acc-sdk-dialog-instance-header",children:[wi("div",{class:"-base-acc-sdk-dialog-instance-header-icon-and-title",children:[wi(pDt,{fill:"blue"}),d&&wi("div",{class:"-base-acc-sdk-dialog-instance-header-icon-and-title-title",children:u})]}),wi("div",{class:"-base-acc-sdk-dialog-instance-header-close",onClick:r,children:wi("img",{src:mDt,class:"-base-acc-sdk-dialog-instance-header-close-icon"})})]}),wi("div",{class:"-base-acc-sdk-dialog-instance-content",children:[wi("div",{class:"-base-acc-sdk-dialog-instance-content-title",children:t}),wi("div",{class:"-base-acc-sdk-dialog-instance-content-message",children:e})]}),n&&n.length>0&&wi("div",{class:"-base-acc-sdk-dialog-instance-actions",children:n.map((h,f)=>wi("button",{class:T0("-base-acc-sdk-dialog-instance-button",h.variant==="primary"&&"-base-acc-sdk-dialog-instance-button-primary",h.variant==="secondary"&&"-base-acc-sdk-dialog-instance-button-secondary"),onClick:h.onClick,children:h.text},f))})]})};let l$=null;function LH(){if(!l$){const t=document.createElement("div");t.className="-base-acc-sdk-css-reset",document.body.appendChild(t),l$=new wDt,l$.attach(t)}return cDt(),l$}const O4e=420,R4e=700,xDt="{app} wants to continue in Base Account",EDt="This action requires your permission to open a new window.";function CDt(t){const e=(window.innerWidth-O4e)/2+window.screenX,n=(window.innerHeight-R4e)/2+window.screenY;ADt(t);function r(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${O4e}, height=${R4e}, left=${e}, top=${n}`);return o==null||o.focus(),o||null}const i=r();return i?Promise.resolve(i):SDt(r)}function _Dt(t){t&&!t.closed&&t.close()}function ADt(t){const e={sdkName:c$,sdkVersion:p3,origin:window.location.origin,coop:nDt()};for(const[n,r]of Object.entries(e))t.searchParams.has(n)||t.searchParams.append(n,r.toString())}function SDt(t){var e,n;const r=(n=(e=Qe.config.get().metadata)===null||e===void 0?void 0:e.appName)!==null&&n!==void 0?n:"App",i=LH();return new Promise((s,o)=>{DH({dialogContext:"popup_blocked"}),i.presentItem({title:xDt.replace("{app}",r),message:EDt,onClose:()=>{Cy({dialogContext:"popup_blocked",dialogAction:"cancel"}),o(at.rpc.internal("Popup window was blocked"))},actionItems:[{text:"Try again",variant:"primary",onClick:()=>{Cy({dialogContext:"popup_blocked",dialogAction:"confirm"});const a=t();a?s(a):o(at.rpc.internal("Popup window was blocked")),i.clear()}},{text:"Cancel",variant:"secondary",onClick:()=>{Cy({dialogContext:"popup_blocked",dialogAction:"cancel"}),o(at.rpc.internal("Popup window was blocked")),i.clear()}}]})})}class IDt{constructor({url:e=kjt,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=c=>{if(c.origin!==this.url.origin)return;const l=c.data;i(l)&&(s(l),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{_Dt(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(at.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(iDt(),this.popup=await CDt(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(()=>{this.disconnect(),oDt()}).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:p3,sdkName:c$,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw at.rpc.internal();return sDt(),this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function kDt(t){const e=Yjt(TDt(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",p3),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function $Dt(t){return t.errorMessage!==void 0}function TDt(t){var e;if(typeof t=="string")return{message:t,code:Mi.rpc.internal};if($Dt(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?Mi.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class PDt extends C0{}const NDt=({method:t,correlationId:e})=>{rr("provider.request.started",{action:Gn.unknown,componentType:Kn.unknown,method:t,signerType:"base-account",correlationId:e},Zn.high)},ODt=({method:t,correlationId:e,errorMessage:n})=>{rr("provider.request.error",{action:Gn.error,componentType:Kn.unknown,method:t,signerType:"base-account",correlationId:e,errorMessage:n},Zn.high)},RDt=({method:t,correlationId:e})=>{rr("provider.request.responded",{action:Gn.unknown,componentType:Kn.unknown,method:t,signerType:"base-account",correlationId:e},Zn.high)};function MDt(){return t=>t}const u$=MDt();function BH(t){return Math.floor(t)}const jDt=/^[0-9]*$/,M4e=/^[a-f0-9]*$/;function DDt(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function LDt(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function j4e(t){return u$(`0x${BigInt(t).toString(16)}`)}function BDt(t){return t.startsWith("0x")||t.startsWith("0X")}function D4e(t){return BDt(t)?t.slice(2):t}function UDt(t){if(typeof t!="string")return!1;const e=D4e(t).toLowerCase();return M4e.test(e)}function UH(t,e=!1){if(typeof t=="string"){const n=D4e(t).toLowerCase();if(M4e.test(n))return u$(e?`0x${n}`:n)}throw at.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function FDt(t,e=!1){let n=UH(t,!1);return n.length%2===1&&(n=u$(`0${n}`)),e?u$(`0x${n}`):n}function zDt(t){if(typeof t=="number"&&Number.isInteger(t))return BH(t);if(typeof t=="string"){if(jDt.test(t))return BH(Number(t));if(UDt(t))return BH(Number(BigInt(FDt(t,!0))))}throw at.rpc.invalidParams(`Not an integer: ${String(t)}`)}const WDt=({method:t,correlationId:e})=>{var n;rr("scw_signer.handshake.started",{action:Gn.unknown,componentType:Kn.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=Qe.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},Zn.high)},qDt=({method:t,correlationId:e,errorMessage:n})=>{var r;rr("scw_signer.handshake.error",{action:Gn.error,componentType:Kn.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=Qe.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},Zn.high)},HDt=({method:t,correlationId:e})=>{var n;rr("scw_signer.handshake.completed",{action:Gn.unknown,componentType:Kn.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=Qe.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},Zn.high)},VDt=({method:t,correlationId:e})=>{var n;rr("scw_signer.request.started",{action:Gn.unknown,componentType:Kn.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=Qe.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},Zn.high)},KDt=({method:t,correlationId:e,errorMessage:n})=>{var r;rr("scw_signer.request.error",{action:Gn.error,componentType:Kn.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=Qe.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},Zn.high)},GDt=({method:t,correlationId:e})=>{var n;rr("scw_signer.request.completed",{action:Gn.unknown,componentType:Kn.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=Qe.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},Zn.high)},ZDt=({method:t,correlationId:e})=>{var n;rr("scw_sub_account.request.started",{action:Gn.unknown,componentType:Kn.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=Qe.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},Zn.high)},YDt=({method:t,correlationId:e})=>{var n;rr("scw_sub_account.request.completed",{action:Gn.unknown,componentType:Kn.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=Qe.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},Zn.high)},JDt=({method:t,correlationId:e,errorMessage:n})=>{var r;rr("scw_sub_account.request.error",{action:Gn.error,componentType:Kn.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=Qe.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},Zn.high)},QDt=({method:t,correlationId:e})=>{var n;rr("scw_sub_account.add_owner.started",{action:Gn.unknown,componentType:Kn.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=Qe.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},Zn.high)},XDt=({method:t,correlationId:e})=>{var n;rr("scw_sub_account.add_owner.completed",{action:Gn.unknown,componentType:Kn.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=Qe.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},Zn.high)},eLt=({method:t,correlationId:e,errorMessage:n})=>{var r;rr("scw_sub_account.add_owner.error",{action:Gn.error,componentType:Kn.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=Qe.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},Zn.high)},tLt=({method:t,correlationId:e})=>{var n;rr("scw_sub_account.insufficient_balance.error_handling.started",{action:Gn.unknown,componentType:Kn.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=Qe.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},Zn.high)},nLt=({method:t,correlationId:e})=>{var n;rr("scw_sub_account.insufficient_balance.error_handling.completed",{action:Gn.unknown,componentType:Kn.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=Qe.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},Zn.high)},rLt=({method:t,correlationId:e,errorMessage:n})=>{var r;rr("scw_sub_account.insufficient_balance.error_handling.error",{action:Gn.error,componentType:Kn.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=Qe.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},Zn.high)},EE=t=>"message"in t&&typeof t.message=="string"?t.message:"",iLt=[{inputs:[{name:"preOpGas",type:"uint256"},{name:"paid",type:"uint256"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"targetSuccess",type:"bool"},{name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"},{components:[{name:"aggregator",type:"address"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"stakeInfo",type:"tuple"}],name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"},{name:"sender",type:"address"},{name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"op",type:"tuple"},{name:"target",type:"address"},{name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],sLt="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789";function L4e(t,e={}){const{forHash:n}=e,{authorization:r,factory:i,factoryData:s}=t;return n&&(i==="0x7702"||i==="0x7702000000000000000000000000000000000000")?r?Xi([r.address,s??"0x"]):"0x7702000000000000000000000000000000000000":i?Xi([i,s??"0x"]):"0x"}const B4e="0x22e325a297439656";function U4e(t,e={}){const{callGasLimit:n,callData:r,maxPriorityFeePerGas:i,maxFeePerGas:s,paymaster:o,paymasterData:a,paymasterPostOpGasLimit:c,paymasterSignature:l,paymasterVerificationGasLimit:u,sender:d,signature:h="0x",verificationGasLimit:f}=t,g=Xi([Di(Te(f||0n),{size:16}),Di(Te(n||0n),{size:16})]),m=L4e(t,e),y=Xi([Di(Te(i||0n),{size:16}),Di(Te(s||0n),{size:16})]),w=t.nonce??0n,b=o?Xi([o,Di(Te(u||0n),{size:16}),Di(Te(c||0n),{size:16}),a||"0x",...l?e.forHash?[B4e]:[l,Di(Te(Yr(l)),{size:2}),B4e]:[]]):"0x",v=t.preVerificationGas??0n;return{accountGasLimits:g,callData:r,initCode:m,gasFees:y,nonce:w,paymasterAndData:b,preVerificationGas:v,sender:d,signature:h}}const oLt={PackedUserOperation:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"bytes32",name:"accountGasLimits"},{type:"uint256",name:"preVerificationGas"},{type:"bytes32",name:"gasFees"},{type:"bytes",name:"paymasterAndData"}]};function aLt(t){const{chainId:e,entryPointAddress:n,userOperation:r}=t,i=U4e(r,{forHash:!0});return{types:oLt,primaryType:"PackedUserOperation",domain:{name:"ERC4337",version:"1",chainId:e,verifyingContract:n},message:i}}function cLt(t){const{chainId:e,entryPointAddress:n,entryPointVersion:r}=t,i=t.userOperation,{authorization:s,callData:o="0x",callGasLimit:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,paymasterAndData:d="0x",preVerificationGas:h,sender:f,verificationGasLimit:g}=i;if(r==="0.8"||r==="0.9")return a6(aLt({chainId:e,entryPointAddress:n,userOperation:i}));const m=(()=>{var y,w;if(r==="0.6"){const b=(y=i.initCode)==null?void 0:y.slice(0,42),v=(w=i.initCode)==null?void 0:w.slice(42),E=L4e({authorization:s,factory:b,factoryData:v},{forHash:!0});return Pa([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[f,u,Pr(E),Pr(o),a,g,h,c,l,Pr(d)])}if(r==="0.7"){const b=U4e(i,{forHash:!0});return Pa([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"}],[b.sender,b.nonce,Pr(b.initCode),Pr(b.callData),b.accountGasLimits,b.preVerificationGas,b.gasFees,Pr(b.paymasterAndData)])}throw new Error(`entryPointVersion "${r}" not supported.`)})();return Pr(Pa([{type:"bytes32"},{type:"address"},{type:"uint256"}],[Pr(m),n,BigInt(e)]))}async function lLt(t){const{extend:e,nonceKeyManager:n=Pke({source:{get(){return Date.now()},set(){}}}),...r}=t;let i=!1;const s=await t.getAddress();return{...e,...r,address:s,async getFactoryArgs(){return"isDeployed"in this&&await this.isDeployed()?{factory:void 0,factoryData:void 0}:t.getFactoryArgs()},async getNonce(o){const a=(o==null?void 0:o.key)??BigInt(await n.consume({address:s,chainId:t.client.chain.id,client:t.client}));return t.getNonce?await t.getNonce({...o,key:a}):await Ma(t.client,{abi:YN(["function getNonce(address, uint192) pure returns (uint256)"]),address:t.entryPoint.address,functionName:"getNonce",args:[s,a]})},async isDeployed(){return i?!0:(i=!!await Je(t.client,S6,"getCode")({address:s}),i)},...t.sign?{async sign(o){const[{factory:a,factoryData:c},l]=await Promise.all([this.getFactoryArgs(),t.sign(o)]);return a&&c?wR({address:a,data:c,signature:l}):l}}:{},async signMessage(o){const[{factory:a,factoryData:c},l]=await Promise.all([this.getFactoryArgs(),t.signMessage(o)]);return a&&c&&a!=="0x7702"?wR({address:a,data:c,signature:l}):l},async signTypedData(o){const[{factory:a,factoryData:c},l]=await Promise.all([this.getFactoryArgs(),t.signTypedData(o)]);return a&&c&&a!=="0x7702"?wR({address:a,data:c,signature:l}):l},type:"smart"}}class FH extends pe{constructor({cause:e}){super("Smart Account is not deployed.",{cause:e,metaMessages:["This could arise when:","- No `factory`/`factoryData` or `initCode` properties are provided for Smart Account deployment.","- An incorrect `sender` address is provided."],name:"AccountNotDeployedError"})}}Object.defineProperty(FH,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa20/});class m3 extends pe{constructor({cause:e,data:n,message:r}={}){var s;const i=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${i?`with reason: ${i}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n}}Object.defineProperty(m3,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32521}),Object.defineProperty(m3,"message",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class zH extends pe{constructor({cause:e}){super("Failed to send funds to beneficiary.",{cause:e,name:"FailedToSendToBeneficiaryError"})}}Object.defineProperty(zH,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa91/});class WH extends pe{constructor({cause:e}){super("Gas value overflowed.",{cause:e,metaMessages:["This could arise when:","- one of the gas values exceeded 2**120 (uint120)"].filter(Boolean),name:"GasValuesOverflowError"})}}Object.defineProperty(WH,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa94/});class qH extends pe{constructor({cause:e}){super("The `handleOps` function was called by the Bundler with a gas limit too low.",{cause:e,name:"HandleOpsOutOfGasError"})}}Object.defineProperty(qH,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa95/});class HH extends pe{constructor({cause:e,factory:n,factoryData:r,initCode:i}){super("Failed to simulate deployment for Smart Account.",{cause:e,metaMessages:["This could arise when:","- Invalid `factory`/`factoryData` or `initCode` properties are present","- Smart Account deployment execution ran out of gas (low `verificationGasLimit` value)",`- Smart Account deployment execution reverted with an error
`,n&&`factory: ${n}`,r&&`factoryData: ${r}`,i&&`initCode: ${i}`].filter(Boolean),name:"InitCodeFailedError"})}}Object.defineProperty(HH,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa13/});class VH extends pe{constructor({cause:e,factory:n,factoryData:r,initCode:i}){super("Smart Account initialization implementation did not create an account.",{cause:e,metaMessages:["This could arise when:","- `factory`/`factoryData` or `initCode` properties are invalid",`- Smart Account initialization implementation is incorrect
`,n&&`factory: ${n}`,r&&`factoryData: ${r}`,i&&`initCode: ${i}`].filter(Boolean),name:"InitCodeMustCreateSenderError"})}}Object.defineProperty(VH,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa15/});class KH extends pe{constructor({cause:e,factory:n,factoryData:r,initCode:i,sender:s}){super("Smart Account initialization implementation does not return the expected sender.",{cause:e,metaMessages:["This could arise when:",`Smart Account initialization implementation does not return a sender address
`,n&&`factory: ${n}`,r&&`factoryData: ${r}`,i&&`initCode: ${i}`,s&&`sender: ${s}`].filter(Boolean),name:"InitCodeMustReturnSenderError"})}}Object.defineProperty(KH,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa14/});class GH extends pe{constructor({cause:e}){super("Smart Account does not have sufficient funds to execute the User Operation.",{cause:e,metaMessages:["This could arise when:","- the Smart Account does not have sufficient funds to cover the required prefund, or","- a Paymaster was not provided"].filter(Boolean),name:"InsufficientPrefundError"})}}Object.defineProperty(GH,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa21/});class ZH extends pe{constructor({cause:e}){super("Bundler attempted to call an invalid function on the EntryPoint.",{cause:e,name:"InternalCallOnlyError"})}}Object.defineProperty(ZH,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa92/});class YH extends pe{constructor({cause:e}){super("Bundler used an invalid aggregator for handling aggregated User Operations.",{cause:e,name:"InvalidAggregatorError"})}}Object.defineProperty(YH,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa96/});class JH extends pe{constructor({cause:e,nonce:n}){super("Invalid Smart Account nonce used for User Operation.",{cause:e,metaMessages:[n&&`nonce: ${n}`].filter(Boolean),name:"InvalidAccountNonceError"})}}Object.defineProperty(JH,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa25/});class QH extends pe{constructor({cause:e}){super("Bundler has not set a beneficiary address.",{cause:e,name:"InvalidBeneficiaryError"})}}Object.defineProperty(QH,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa90/});class d$ extends pe{constructor({cause:e}){super("Invalid fields set on User Operation.",{cause:e,name:"InvalidFieldsError"})}}Object.defineProperty(d$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class XH extends pe{constructor({cause:e,paymasterAndData:n}){super("Paymaster properties provided are invalid.",{cause:e,metaMessages:["This could arise when:","- the `paymasterAndData` property is of an incorrect length\n",n&&`paymasterAndData: ${n}`].filter(Boolean),name:"InvalidPaymasterAndDataError"})}}Object.defineProperty(XH,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa93/});class _y extends pe{constructor({cause:e}){super("Paymaster deposit for the User Operation is too low.",{cause:e,metaMessages:["This could arise when:","- the Paymaster has deposited less than the expected amount via the `deposit` function"].filter(Boolean),name:"PaymasterDepositTooLowError"})}}Object.defineProperty(_y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32508}),Object.defineProperty(_y,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa31/});class eV extends pe{constructor({cause:e}){super("The `validatePaymasterUserOp` function on the Paymaster reverted.",{cause:e,name:"PaymasterFunctionRevertedError"})}}Object.defineProperty(eV,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa33/});class tV extends pe{constructor({cause:e}){super("The Paymaster contract has not been deployed.",{cause:e,name:"PaymasterNotDeployedError"})}}Object.defineProperty(tV,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa30/});class h$ extends pe{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterRateLimitError"})}}Object.defineProperty(h$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32504});class f$ extends pe{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterStakeTooLowError"})}}Object.defineProperty(f$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32505});class nV extends pe{constructor({cause:e}){super("Paymaster `postOp` function reverted.",{cause:e,name:"PaymasterPostOpFunctionRevertedError"})}}Object.defineProperty(nV,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa50/});class rV extends pe{constructor({cause:e,factory:n,factoryData:r,initCode:i}){super("Smart Account has already been deployed.",{cause:e,metaMessages:["Remove the following properties and try again:",n&&"`factory`",r&&"`factoryData`",i&&"`initCode`"].filter(Boolean),name:"SenderAlreadyConstructedError"})}}Object.defineProperty(rV,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa10/});class p$ extends pe{constructor({cause:e}){super("UserOperation rejected because account signature check failed (or paymaster signature, if the paymaster uses its data as signature).",{cause:e,name:"SignatureCheckFailedError"})}}Object.defineProperty(p$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32507});class iV extends pe{constructor({cause:e}){super("The `validateUserOp` function on the Smart Account reverted.",{cause:e,name:"SmartAccountFunctionRevertedError"})}}Object.defineProperty(iV,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa23/});class g$ extends pe{constructor({cause:e}){super("UserOperation rejected because account specified unsupported signature aggregator.",{cause:e,name:"UnsupportedSignatureAggregatorError"})}}Object.defineProperty(g$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32506});class sV extends pe{constructor({cause:e}){super("User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validateUserOp` on the Smart Account are not satisfied"].filter(Boolean),name:"UserOperationExpiredError"})}}Object.defineProperty(sV,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa22/});class oV extends pe{constructor({cause:e}){super("Paymaster for User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validatePaymasterUserOp` on the Paymaster are not satisfied"].filter(Boolean),name:"UserOperationPaymasterExpiredError"})}}Object.defineProperty(oV,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa32/});class aV extends pe{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Smart Account"].filter(Boolean),name:"UserOperationSignatureError"})}}Object.defineProperty(aV,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa24/});class cV extends pe{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Paymaster"].filter(Boolean),name:"UserOperationPaymasterSignatureError"})}}Object.defineProperty(cV,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa34/});class m$ extends pe{constructor({cause:e}){super("User Operation rejected by EntryPoint's `simulateValidation` during account creation or validation.",{cause:e,name:"UserOperationRejectedByEntryPointError"})}}Object.defineProperty(m$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32500});class y$ extends pe{constructor({cause:e}){super("User Operation rejected by Paymaster's `validatePaymasterUserOp`.",{cause:e,name:"UserOperationRejectedByPaymasterError"})}}Object.defineProperty(y$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32501});class w$ extends pe{constructor({cause:e}){super("User Operation rejected with op code validation error.",{cause:e,name:"UserOperationRejectedByOpCodeError"})}}Object.defineProperty(w$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32502});class v$ extends pe{constructor({cause:e}){super("UserOperation out of time-range: either wallet or paymaster returned a time-range, and it is already expired (or will expire soon).",{cause:e,name:"UserOperationOutOfTimeRangeError"})}}Object.defineProperty(v$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32503});class uLt extends pe{constructor({cause:e}){super(`An error occurred while executing user operation: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownBundlerError"})}}class lV extends pe{constructor({cause:e}){super("User Operation verification gas limit exceeded.",{cause:e,metaMessages:["This could arise when:","- the gas used for verification exceeded the `verificationGasLimit`"].filter(Boolean),name:"VerificationGasLimitExceededError"})}}Object.defineProperty(lV,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa40/});class uV extends pe{constructor({cause:e}){super("User Operation verification gas limit is too low.",{cause:e,metaMessages:["This could arise when:","- the `verificationGasLimit` is too low to verify the User Operation"].filter(Boolean),name:"VerificationGasLimitTooLowError"})}}Object.defineProperty(uV,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa41/});class dLt extends pe{constructor(e,{callData:n,callGasLimit:r,docsPath:i,factory:s,factoryData:o,initCode:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,paymaster:d,paymasterAndData:h,paymasterData:f,paymasterPostOpGasLimit:g,paymasterVerificationGasLimit:m,preVerificationGas:y,sender:w,signature:b,verificationGasLimit:v}){const E=$w({callData:n,callGasLimit:r,factory:s,factoryData:o,initCode:a,maxFeePerGas:typeof c<"u"&&`${xo(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${xo(l)} gwei`,nonce:u,paymaster:d,paymasterAndData:h,paymasterData:f,paymasterPostOpGasLimit:g,paymasterVerificationGasLimit:m,preVerificationGas:y,sender:w,signature:b,verificationGasLimit:v});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",E].filter(Boolean),name:"UserOperationExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class hLt extends pe{constructor({hash:e}){super(`User Operation receipt with hash "${e}" could not be found. The User Operation may not have been processed yet.`,{name:"UserOperationReceiptNotFoundError"})}}class fLt extends pe{constructor({hash:e}){super(`User Operation with hash "${e}" could not be found.`,{name:"UserOperationNotFoundError"})}}class F4e extends pe{constructor({hash:e}){super(`Timed out while waiting for User Operation with hash "${e}" to be confirmed.`,{name:"WaitForUserOperationReceiptTimeoutError"})}}const pLt=[m3,d$,_y,h$,f$,p$,g$,v$,m$,y$,w$];function gLt(t,e){const n=(t.details||"").toLowerCase();if(FH.message.test(n))return new FH({cause:t});if(zH.message.test(n))return new zH({cause:t});if(WH.message.test(n))return new WH({cause:t});if(qH.message.test(n))return new qH({cause:t});if(HH.message.test(n))return new HH({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(VH.message.test(n))return new VH({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(KH.message.test(n))return new KH({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode,sender:e.sender});if(GH.message.test(n))return new GH({cause:t});if(ZH.message.test(n))return new ZH({cause:t});if(JH.message.test(n))return new JH({cause:t,nonce:e.nonce});if(YH.message.test(n))return new YH({cause:t});if(QH.message.test(n))return new QH({cause:t});if(XH.message.test(n))return new XH({cause:t});if(_y.message.test(n))return new _y({cause:t});if(eV.message.test(n))return new eV({cause:t});if(tV.message.test(n))return new tV({cause:t});if(nV.message.test(n))return new nV({cause:t});if(iV.message.test(n))return new iV({cause:t});if(rV.message.test(n))return new rV({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(sV.message.test(n))return new sV({cause:t});if(oV.message.test(n))return new oV({cause:t});if(cV.message.test(n))return new cV({cause:t});if(aV.message.test(n))return new aV({cause:t});if(lV.message.test(n))return new lV({cause:t});if(uV.message.test(n))return new uV({cause:t});const r=t.walk(i=>pLt.some(s=>s.code===i.code));if(r){if(r.code===m3.code)return new m3({cause:t,data:r.data,message:r.details});if(r.code===d$.code)return new d$({cause:t});if(r.code===_y.code)return new _y({cause:t});if(r.code===h$.code)return new h$({cause:t});if(r.code===f$.code)return new f$({cause:t});if(r.code===p$.code)return new p$({cause:t});if(r.code===g$.code)return new g$({cause:t});if(r.code===v$.code)return new v$({cause:t});if(r.code===m$.code)return new m$({cause:t});if(r.code===y$.code)return new y$({cause:t});if(r.code===w$.code)return new w$({cause:t})}return new uLt({cause:t})}function z4e(t,{calls:e,docsPath:n,...r}){const i=(()=>{const s=gLt(t,r);if(e&&s instanceof m3){const o=mLt(s),a=e==null?void 0:e.filter(c=>c.abi);if(o&&a.length>0)return yLt({calls:a,revertData:o})}return s})();return new dLt(i,{docsPath:n,...r})}function mLt(t){let e;return t.walk(n=>{var i,s,o,a;const r=n;if(typeof r.data=="string"||typeof((i=r.data)==null?void 0:i.revertData)=="string"||!(r instanceof pe)&&typeof r.message=="string"){const c=(a=(o=((s=r.data)==null?void 0:s.revertData)||r.data||r.message).match)==null?void 0:a.call(o,/(0x[A-Za-z0-9]*)/);if(c)return e=c[1],!0}return!1}),e}function yLt(t){const{calls:e,revertData:n}=t,{abi:r,functionName:i,args:s,to:o}=(()=>{const c=e==null?void 0:e.filter(u=>!!u.abi);if(c.length===1)return c[0];const l=c.filter(u=>{try{return!!fO({abi:u.abi,data:n})}catch{return!1}});return l.length===1?l[0]:{abi:[],functionName:c.reduce((u,d)=>`${u?`${u} | `:""}${d.functionName}`,""),args:void 0,to:void 0}})(),a=n==="0x"?new XX({functionName:i}):new qC({abi:r,data:n,functionName:i});return new FO(a,{abi:r,args:s,contractAddress:o,functionName:i})}function wLt(t){const e={};return t.callGasLimit&&(e.callGasLimit=BigInt(t.callGasLimit)),t.preVerificationGas&&(e.preVerificationGas=BigInt(t.preVerificationGas)),t.verificationGasLimit&&(e.verificationGasLimit=BigInt(t.verificationGasLimit)),t.paymasterPostOpGasLimit&&(e.paymasterPostOpGasLimit=BigInt(t.paymasterPostOpGasLimit)),t.paymasterVerificationGasLimit&&(e.paymasterVerificationGasLimit=BigInt(t.paymasterVerificationGasLimit)),e}function b$(t){const e={};return typeof t.callData<"u"&&(e.callData=t.callData),typeof t.callGasLimit<"u"&&(e.callGasLimit=Te(t.callGasLimit)),typeof t.factory<"u"&&(e.factory=t.factory),typeof t.factoryData<"u"&&(e.factoryData=t.factoryData),typeof t.initCode<"u"&&(e.initCode=t.initCode),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Te(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Te(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Te(t.nonce)),typeof t.paymaster<"u"&&(e.paymaster=t.paymaster),typeof t.paymasterAndData<"u"&&(e.paymasterAndData=t.paymasterAndData||"0x"),typeof t.paymasterData<"u"&&(e.paymasterData=t.paymasterData),typeof t.paymasterPostOpGasLimit<"u"&&(e.paymasterPostOpGasLimit=Te(t.paymasterPostOpGasLimit)),typeof t.paymasterSignature<"u"&&(e.paymasterSignature=t.paymasterSignature),typeof t.paymasterVerificationGasLimit<"u"&&(e.paymasterVerificationGasLimit=Te(t.paymasterVerificationGasLimit)),typeof t.preVerificationGas<"u"&&(e.preVerificationGas=Te(t.preVerificationGas)),typeof t.sender<"u"&&(e.sender=t.sender),typeof t.signature<"u"&&(e.signature=t.signature),typeof t.verificationGasLimit<"u"&&(e.verificationGasLimit=Te(t.verificationGasLimit)),typeof t.authorization<"u"&&(e.eip7702Auth=vLt(t.authorization)),e}function vLt(t){return{address:t.address,chainId:Te(t.chainId),nonce:Te(t.nonce),r:t.r?Te(BigInt(t.r),{size:32}):Di("0x",{size:32}),s:t.s?Te(BigInt(t.s),{size:32}):Di("0x",{size:32}),yParity:t.yParity?Te(t.yParity,{size:1}):Di("0x",{size:32})}}async function bLt(t,e){const{chainId:n,entryPointAddress:r,context:i,...s}=e,o=b$(s),{paymasterPostOpGasLimit:a,paymasterVerificationGasLimit:c,...l}=await t.request({method:"pm_getPaymasterData",params:[{...o,callGasLimit:o.callGasLimit??"0x0",verificationGasLimit:o.verificationGasLimit??"0x0",preVerificationGas:o.preVerificationGas??"0x0"},r,Te(n),i]});return{...l,...a&&{paymasterPostOpGasLimit:xi(a)},...c&&{paymasterVerificationGasLimit:xi(c)}}}async function xLt(t,e){const{chainId:n,entryPointAddress:r,context:i,...s}=e,o=b$(s),{paymasterPostOpGasLimit:a,paymasterVerificationGasLimit:c,...l}=await t.request({method:"pm_getPaymasterStubData",params:[{...o,callGasLimit:o.callGasLimit??"0x0",verificationGasLimit:o.verificationGasLimit??"0x0",preVerificationGas:o.preVerificationGas??"0x0"},r,Te(n),i]});return{...l,...a&&{paymasterPostOpGasLimit:xi(a)},...c&&{paymasterVerificationGasLimit:xi(c)}}}const ELt=["factory","fees","gas","paymaster","nonce","signature","authorization"];async function dV(t,e){var O;const n=e,{account:r=t.account,parameters:i=ELt,stateOverride:s}=n;if(!r)throw new Ou;const o=wr(r),a=t,c=n.paymaster??(a==null?void 0:a.paymaster),l=typeof c=="string"?c:void 0,{getPaymasterStubData:u,getPaymasterData:d}=(()=>{if(c===!0)return{getPaymasterStubData:S=>Je(a,xLt,"getPaymasterStubData")(S),getPaymasterData:S=>Je(a,bLt,"getPaymasterData")(S)};if(typeof c=="object"){const{getPaymasterStubData:S,getPaymasterData:R}=c;return{getPaymasterStubData:R&&S?S:R,getPaymasterData:R&&S?R:void 0}}return{getPaymasterStubData:void 0,getPaymasterData:void 0}})(),h=n.paymasterContext?n.paymasterContext:a==null?void 0:a.paymasterContext;let f={...n,paymaster:l,sender:o.address};const[g,m,y,w,b]=await Promise.all([(async()=>n.calls?o.encodeCalls(n.calls.map(S=>{const R=S;return R.abi?{data:Jr(R),to:R.to,value:R.value}:R})):n.callData)(),(async()=>{if(!i.includes("factory"))return;if(n.initCode)return{initCode:n.initCode};if(n.factory&&n.factoryData)return{factory:n.factory,factoryData:n.factoryData};const{factory:S,factoryData:R}=await o.getFactoryArgs();return o.entryPoint.version==="0.6"?{initCode:S&&R?Xi([S,R]):void 0}:{factory:S,factoryData:R}})(),(async()=>{var S;if(i.includes("fees")){if(typeof n.maxFeePerGas=="bigint"&&typeof n.maxPriorityFeePerGas=="bigint")return f;if((S=a==null?void 0:a.userOperation)!=null&&S.estimateFeesPerGas){const R=await a.userOperation.estimateFeesPerGas({account:o,bundlerClient:a,userOperation:f});return{...f,...R}}try{const R=a.client??t,I=await Je(R,Qte,"estimateFeesPerGas")({chain:R.chain,type:"eip1559"});return{maxFeePerGas:typeof n.maxFeePerGas=="bigint"?n.maxFeePerGas:BigInt(2n*I.maxFeePerGas),maxPriorityFeePerGas:typeof n.maxPriorityFeePerGas=="bigint"?n.maxPriorityFeePerGas:BigInt(2n*I.maxPriorityFeePerGas)}}catch{return}}})(),(async()=>{if(i.includes("nonce"))return typeof n.nonce=="bigint"?n.nonce:o.getNonce()})(),(async()=>{if(i.includes("authorization")){if(typeof n.authorization=="object")return n.authorization;if(o.authorization&&!await o.isDeployed())return{...await cM(o.client,o.authorization),r:"0xfffffffffffffffffffffffffffffff000000000000000000000000000000000",s:"0x7aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",yParity:1}}})()]);typeof g<"u"&&(f.callData=g),typeof m<"u"&&(f={...f,...m}),typeof y<"u"&&(f={...f,...y}),typeof w<"u"&&(f.nonce=w),typeof b<"u"&&(f.authorization=b),i.includes("signature")&&(typeof n.signature<"u"?f.signature=n.signature:f.signature=await o.getStubSignature(f)),o.entryPoint.version==="0.6"&&!f.initCode&&(f.initCode="0x");let v;async function E(){return v||(t.chain?t.chain.id:(v=await Je(t,Ld,"getChainId")({}),v))}let _=!1;if(i.includes("paymaster")&&u&&!l&&!n.paymasterAndData){const{isFinal:S=!1,sponsor:R,...I}=await u({chainId:await E(),entryPointAddress:o.entryPoint.address,context:h,...f});_=S,f={...f,...I}}if(o.entryPoint.version==="0.6"&&!f.paymasterAndData&&(f.paymasterAndData="0x"),i.includes("gas")){if((O=o.userOperation)!=null&&O.estimateGas){const S=await o.userOperation.estimateGas(f);f={...f,...S}}if(typeof f.callGasLimit>"u"||typeof f.preVerificationGas>"u"||typeof f.verificationGasLimit>"u"||f.paymaster&&typeof f.paymasterPostOpGasLimit>"u"||f.paymaster&&typeof f.paymasterVerificationGasLimit>"u"){const S=await Je(a,W4e,"estimateUserOperationGas")({account:o,callGasLimit:0n,preVerificationGas:0n,verificationGasLimit:0n,stateOverride:s,...f.paymaster?{paymasterPostOpGasLimit:0n,paymasterVerificationGasLimit:0n}:{},...f});f={...f,callGasLimit:f.callGasLimit??S.callGasLimit,preVerificationGas:f.preVerificationGas??S.preVerificationGas,verificationGasLimit:f.verificationGasLimit??S.verificationGasLimit,paymasterPostOpGasLimit:f.paymasterPostOpGasLimit??S.paymasterPostOpGasLimit,paymasterVerificationGasLimit:f.paymasterVerificationGasLimit??S.paymasterVerificationGasLimit}}}if(i.includes("paymaster")&&d&&!l&&!n.paymasterAndData&&!_){const S=await d({chainId:await E(),entryPointAddress:o.entryPoint.address,context:h,...f});f={...f,...S}}return delete f.calls,delete f.parameters,delete f.paymasterContext,typeof f.paymaster!="string"&&delete f.paymaster,f}async function W4e(t,e){var c;const{account:n=t.account,entryPointAddress:r,stateOverride:i}=e;if(!n&&!e.sender)throw new Ou;const s=n?wr(n):void 0,o=KC(i),a=s?await Je(t,dV,"prepareUserOperation")({...e,parameters:["authorization","factory","nonce","paymaster","signature"]}):e;try{const l=[b$(a),r??((c=s==null?void 0:s.entryPoint)==null?void 0:c.address)],u=await t.request({method:"eth_estimateUserOperationGas",params:o?[...l,o]:[...l]});return wLt(u)}catch(l){const u=e.calls;throw z4e(l,{...a,...u?{calls:u}:{}})}}function CLt(t){return t.request({method:"eth_supportedEntryPoints"})}function _Lt(t){const e={...t};return t.callGasLimit&&(e.callGasLimit=BigInt(t.callGasLimit)),t.maxFeePerGas&&(e.maxFeePerGas=BigInt(t.maxFeePerGas)),t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=BigInt(t.maxPriorityFeePerGas)),t.nonce&&(e.nonce=BigInt(t.nonce)),t.paymasterPostOpGasLimit&&(e.paymasterPostOpGasLimit=BigInt(t.paymasterPostOpGasLimit)),t.paymasterVerificationGasLimit&&(e.paymasterVerificationGasLimit=BigInt(t.paymasterVerificationGasLimit)),t.preVerificationGas&&(e.preVerificationGas=BigInt(t.preVerificationGas)),t.verificationGasLimit&&(e.verificationGasLimit=BigInt(t.verificationGasLimit)),e}async function ALt(t,{hash:e}){const n=await t.request({method:"eth_getUserOperationByHash",params:[e]},{dedupe:!0});if(!n)throw new fLt({hash:e});const{blockHash:r,blockNumber:i,entryPoint:s,transactionHash:o,userOperation:a}=n;return{blockHash:r,blockNumber:BigInt(i),entryPoint:s,transactionHash:o,userOperation:_Lt(a)}}function SLt(t){const e={...t};return t.actualGasCost&&(e.actualGasCost=BigInt(t.actualGasCost)),t.actualGasUsed&&(e.actualGasUsed=BigInt(t.actualGasUsed)),t.logs&&(e.logs=t.logs.map(n=>Dd(n))),t.receipt&&(e.receipt=VO(e.receipt)),e}async function q4e(t,{hash:e}){const n=await t.request({method:"eth_getUserOperationReceipt",params:[e]},{dedupe:!0});if(!n)throw new hLt({hash:e});return SLt(n)}async function ILt(t,e){var c,l;const{account:n=t.account,entryPointAddress:r}=e;if(!n&&!e.sender)throw new Ou;const i=n?wr(n):void 0,s=i?await Je(t,dV,"prepareUserOperation")(e):e,o=e.signature||await((c=i==null?void 0:i.signUserOperation)==null?void 0:c.call(i,s)),a=b$({...s,signature:o});try{return await t.request({method:"eth_sendUserOperation",params:[a,r??((l=i==null?void 0:i.entryPoint)==null?void 0:l.address)]},{retryCount:0})}catch(u){const d=e.calls;throw z4e(u,{...s,...d?{calls:d}:{},signature:o})}}function kLt(t,e){const{hash:n,pollingInterval:r=t.pollingInterval,retryCount:i,timeout:s=12e4}=e;let o=0;const a=di(["waitForUserOperationReceipt",t.uid,n]);return new Promise((c,l)=>{const u=Bd(a,{resolve:c,reject:l},d=>{const h=m=>{g(),m(),u()},f=s?setTimeout(()=>h(()=>d.reject(new F4e({hash:n}))),s):void 0,g=Pm(async()=>{i&&o>=i&&(clearTimeout(f),h(()=>d.reject(new F4e({hash:n}))));try{const m=await Je(t,q4e,"getUserOperationReceipt")({hash:n});clearTimeout(f),h(()=>d.resolve(m))}catch(m){const y=m;y.name!=="UserOperationReceiptNotFoundError"&&(clearTimeout(f),h(()=>d.reject(y)))}o++},{emitOnBegin:!0,interval:r});return g})})}function $Lt(t){return{estimateUserOperationGas:e=>W4e(t,e),getChainId:()=>Ld(t),getSupportedEntryPoints:()=>CLt(t),getUserOperation:e=>ALt(t,e),getUserOperationReceipt:e=>q4e(t,e),prepareUserOperation:e=>dV(t,e),sendUserOperation:e=>ILt(t,e),waitForUserOperationReceipt:e=>kLt(t,e)}}function TLt(t){const{client:e,key:n="bundler",name:r="Bundler Client",paymaster:i,paymasterContext:s,transport:o,userOperation:a}=t;return Object.assign(YR({...t,chain:t.chain??(e==null?void 0:e.chain),key:n,name:r,transport:o,type:"bundlerClient"}),{client:e,paymaster:i,paymasterContext:s,userOperation:a}).extend($Lt)}const H4e=NH(()=>({}));function V4e(t){t.forEach(e=>{var n,r,i,s,o,a,c,l;if(!e.rpcUrl)return;const u=Ske({id:e.id,rpcUrls:{default:{http:[e.rpcUrl]}},name:(r=(n=e.nativeCurrency)===null||n===void 0?void 0:n.name)!==null&&r!==void 0?r:"",nativeCurrency:{name:(s=(i=e.nativeCurrency)===null||i===void 0?void 0:i.name)!==null&&s!==void 0?s:"",symbol:(a=(o=e.nativeCurrency)===null||o===void 0?void 0:o.symbol)!==null&&a!==void 0?a:"",decimals:(l=(c=e.nativeCurrency)===null||c===void 0?void 0:c.decimal)!==null&&l!==void 0?l:18}}),d=Fd({chain:u,transport:ta(e.rpcUrl)}),h=TLt({client:d,transport:ta(e.rpcUrl)});H4e.setState({[e.id]:{client:d,bundlerClient:h}})})}function K4e(t){var e;return(e=H4e.getState()[t])===null||e===void 0?void 0:e.client}const x$=NH(()=>({correlationIds:new Map})),Ap={get:t=>x$.getState().correlationIds.get(t),set:(t,e)=>{x$.setState(n=>{const r=new Map(n.correlationIds);return r.set(t,e),{correlationIds:r}})},delete:t=>{x$.setState(e=>{const n=new Map(e.correlationIds);return n.delete(t),{correlationIds:n}})},clear:()=>{x$.setState({correlationIds:new Map})}};function E$(t){if(typeof t!="object"||t===null)throw at.rpc.internal("sub account info is not an object");if(!("address"in t))throw at.rpc.internal("sub account is invalid");if("address"in t&&typeof t.address=="string"&&!Li(t.address))throw at.rpc.internal("sub account address is invalid");if("factory"in t&&typeof t.factory=="string"&&!Li(t.factory))throw at.rpc.internal("sub account factory address is invalid");if("factoryData"in t&&typeof t.factoryData=="string"&&!si(t.factoryData))throw at.rpc.internal("sub account factory data is invalid")}async function PLt(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function NLt(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function OLt(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function RLt(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function G4e(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function Z4e(t,e){const n=G4e(t),r=await crypto.subtle.exportKey(n,e);return DDt(new Uint8Array(r))}async function Y4e(t,e){const n=G4e(t),r=LDt(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function MLt(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return OLt(e,n)}async function jLt(t,e){return JSON.parse(await RLt(e,t))}async function C$(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":p3,"X-Cbw-Sdk-Platform":c$}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function DLt(t){if(!t||typeof t!="object"||Array.isArray(t))throw at.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw at.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw at.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw at.provider.unsupportedMethod()}}const LLt="0.1.1";function BLt(){return LLt}class ti extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof ti){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof ti&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${BLt()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return J4e(this,e)}}function J4e(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?J4e(t.cause,e):e?null:t}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hV=BigInt(0),fV=BigInt(1);function _$(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Ay(t,e,n=""){const r=bC(t),i=t==null?void 0:t.length,s=e!==void 0;if(!r||s&&i!==e){const o=n&&`"${n}" `,a=s?` of length ${e}`:"",c=r?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function A$(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Q4e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?hV:BigInt("0x"+t)}function S$(t){return Q4e(fm(t))}function X4e(t){return lf(t),Q4e(fm(Uint8Array.from(t).reverse()))}function pV(t,e){return xC(t.toString(16).padStart(e*2,"0"))}function e8e(t,e){return pV(t,e).reverse()}function Ec(t,e,n){let r;if(typeof e=="string")try{r=xC(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(bC(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");return r.length,r}const gV=t=>typeof t=="bigint"&&hV<=t;function ULt(t,e,n){return gV(t)&&gV(e)&&gV(n)&&e<=t&&t<n}function FLt(t,e,n,r){if(!ULt(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function t8e(t){let e;for(e=0;t>hV;t>>=fV,e+=1);return e}const CE=t=>(fV<<BigInt(t))-fV;function zLt(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),i=f=>Uint8Array.of(f);let s=r(t),o=r(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...f)=>n(o,s,...f),u=(f=r(0))=>{o=l(i(0),f),s=l(),f.length!==0&&(o=l(i(1),f),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const g=[];for(;f<e;){s=l();const m=s.slice();g.push(m),f+=s.length}return Md(...g)};return(f,g)=>{c(),u(f);let m;for(;!(m=g(d()));)u();return c(),m}}function mV(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function n8e(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const WLt="#__bigint";function I$(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+WLt:i,n)}function qLt(t,e){if(w3(t)>e)throw new oBt({givenSize:w3(t),maxSize:e})}function HLt(t,e){if(typeof e=="number"&&e>0&&e>w3(t)-1)throw new m8e({offset:e,position:"start",size:w3(t)})}function VLt(t,e,n){if(typeof e=="number"&&typeof n=="number"&&w3(t)!==n-e)throw new m8e({offset:n,position:"end",size:w3(t)})}const Sp={zero:48,nine:57,A:65,F:70,a:97,f:102};function r8e(t){if(t>=Sp.zero&&t<=Sp.nine)return t-Sp.zero;if(t>=Sp.A&&t<=Sp.F)return t-(Sp.A-10);if(t>=Sp.a&&t<=Sp.f)return t-(Sp.a-10)}function yV(t,e){if(Hg(t)>e)throw new nBt({givenSize:Hg(t),maxSize:e})}function KLt(t,e){if(typeof e=="number"&&e>0&&e>Hg(t)-1)throw new u8e({offset:e,position:"start",size:Hg(t)})}function GLt(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Hg(t)!==n-e)throw new u8e({offset:n,position:"end",size:Hg(t)})}function i8e(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new rBt({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const ZLt=new TextEncoder,YLt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function JLt(t,e={}){const{strict:n=!1}=e;if(!t)throw new c8e(t);if(typeof t!="string")throw new c8e(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new l8e(t);if(!t.startsWith("0x"))throw new l8e(t)}function k$(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function s8e(t){return t instanceof Uint8Array?y3(t):Array.isArray(t)?y3(new Uint8Array(t)):t}function y3(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=YLt[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(yV(r,e.size),a8e(r,e.size)):r}function qg(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new tBt({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?QLt(c,r):c}function o8e(t,e={}){return y3(ZLt.encode(t),e)}function QLt(t,e){return i8e(t,{dir:"left",size:e})}function a8e(t,e){return i8e(t,{dir:"right",size:e})}function fl(t,e,n,r={}){const{strict:i}=r;KLt(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&GLt(s,e,n),s}function Hg(t){return Math.ceil((t.length-2)/2)}function XLt(t,e={}){const{signed:n}=e;e.size&&yV(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function eBt(t,e={}){const{strict:n=!1}=e;try{return JLt(t,{strict:n}),!0}catch{return!1}}class tBt extends ti{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class c8e extends ti{constructor(e){super(`Value \`${typeof e=="object"?I$(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class l8e extends ti{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let nBt=class extends ti{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},u8e=class extends ti{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}};class rBt extends ti{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function iBt(t){if(!(t instanceof Uint8Array)){if(!t)throw new $$(t);if(typeof t!="object")throw new $$(t);if(!("BYTES_PER_ELEMENT"in t))throw new $$(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new $$(t)}}function d8e(t){return t instanceof Uint8Array?t:typeof t=="string"?f8e(t):h8e(t)}function h8e(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function f8e(t,e={}){const{size:n}=e;let r=t;n&&(yV(t,n),r=a8e(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=r8e(i.charCodeAt(c++)),u=r8e(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new ti(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=l*16+u}return o}function w3(t){return t.length}function p8e(t,e,n,r={}){const{strict:i}=r;HLt(t,e);const s=t.slice(e,n);return i&&VLt(s,e,n),s}function g8e(t,e={}){const{size:n}=e;typeof n<"u"&&qLt(t,n);const r=y3(t,e);return XLt(r,e)}function sBt(t){try{return iBt(t),!0}catch{return!1}}class $$ extends ti{constructor(e){super(`Value \`${typeof e=="object"?I$(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class oBt extends ti{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class m8e extends ti{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}function y8e(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=bO(d8e(t));return n==="Bytes"?r:y3(r)}function w8e(t,e={}){const{compressed:n}=e,{prefix:r,x:i,y:s}=t;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new b8e({prefix:r,cause:new dBt});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new b8e({prefix:r,cause:new uBt});return}throw new lBt({publicKey:t})}function aBt(t){const e=(()=>{if(eBt(t))return v8e(t);if(sBt(t))return cBt(t);const{prefix:n,x:r,y:i}=t;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return w8e(e),e}function cBt(t){return v8e(y3(t))}function v8e(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new hBt({publicKey:t});if(t.length===130){const r=BigInt(fl(t,0,32)),i=BigInt(fl(t,32,64));return{prefix:4,x:r,y:i}}if(t.length===132){const r=Number(fl(t,0,1)),i=BigInt(fl(t,1,33)),s=BigInt(fl(t,33,65));return{prefix:r,x:i,y:s}}const e=Number(fl(t,0,1)),n=BigInt(fl(t,1,33));return{prefix:e,x:n}}function T$(t,e={}){w8e(t);const{prefix:n,x:r,y:i}=t,{includePrefix:s=!0}=e;return k$(s?qg(n,{size:1}):"0x",qg(r,{size:32}),typeof i=="bigint"?qg(i,{size:32}):"0x")}class lBt extends ti{constructor({publicKey:e}){super(`Value \`${I$(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class b8e extends ti{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class uBt extends ti{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class dBt extends ti{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let hBt=class extends ti{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Hg(s8e(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const x8e=2n**256n-1n;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pl=BigInt(0),va=BigInt(1),Sy=BigInt(2),E8e=BigInt(3),C8e=BigInt(4),_8e=BigInt(5),fBt=BigInt(7),A8e=BigInt(8),pBt=BigInt(9),S8e=BigInt(16);function Ed(t,e){const n=t%e;return n>=pl?n:e+n}function I8e(t,e){if(t===pl)throw new Error("invert: expected non-zero number");if(e<=pl)throw new Error("invert: expected positive modulus, got "+e);let n=Ed(t,e),r=e,i=pl,s=va;for(;n!==pl;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==va)throw new Error("invert: does not exist");return Ed(i,e)}function wV(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function k8e(t,e){const n=(t.ORDER+va)/C8e,r=t.pow(e,n);return wV(t,r,e),r}function gBt(t,e){const n=(t.ORDER-_8e)/A8e,r=t.mul(e,Sy),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Sy),i),a=t.mul(s,t.sub(o,t.ONE));return wV(t,a,e),a}function mBt(t){const e=Iy(t),n=$8e(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),o=(t+fBt)/S8e;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,r);const d=a.mul(l,i),h=a.mul(l,s),f=a.eql(a.sqr(u),c),g=a.eql(a.sqr(d),c);l=a.cmov(l,u,f),u=a.cmov(h,d,g);const m=a.eql(a.sqr(u),c),y=a.cmov(l,u,m);return wV(a,y,c),y}}function $8e(t){if(t<E8e)throw new Error("sqrt is not defined for small field");let e=t-va,n=0;for(;e%Sy===pl;)e/=Sy,n++;let r=Sy;const i=Iy(t);for(;P8e(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return k8e;let s=i.pow(r,e);const o=(e+va)/Sy;return function(c,l){if(c.is0(l))return l;if(P8e(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let g=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(g++,m=c.sqr(m),g===u)throw new Error("Cannot find square root");const y=va<<BigInt(u-g-1),w=c.pow(d,y);u=g,d=c.sqr(w),h=c.mul(h,d),f=c.mul(f,w)}return f}}function yBt(t){return t%C8e===E8e?k8e:t%A8e===_8e?gBt:t%S8e===pBt?mBt(t):$8e(t)}const wBt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function vBt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=wBt.reduce((r,i)=>(r[i]="function",r),e);return mV(t,n),t}function bBt(t,e,n){if(n<pl)throw new Error("invalid exponent, negatives unsupported");if(n===pl)return t.ONE;if(n===va)return e;let r=t.ONE,i=e;for(;n>pl;)n&va&&(r=t.mul(r,i)),i=t.sqr(i),n>>=va;return r}function T8e(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function P8e(t,e){const n=(t.ORDER-va)/Sy,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function N8e(t,e){e!==void 0&&hm(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Iy(t,e,n=!1,r={}){if(t<=pl)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(i=h.BITS),h.sqrt&&(s=h.sqrt),typeof h.isLE=="boolean"&&(n=h.isLE),typeof h.modFromBytes=="boolean"&&(o=h.modFromBytes),a=h.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=N8e(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:CE(c),ZERO:pl,ONE:va,allowedLengths:a,create:h=>Ed(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return pl<=h&&h<t},is0:h=>h===pl,isValidNot0:h=>!d.is0(h)&&d.isValid(h),isOdd:h=>(h&va)===va,neg:h=>Ed(-h,t),eql:(h,f)=>h===f,sqr:h=>Ed(h*h,t),add:(h,f)=>Ed(h+f,t),sub:(h,f)=>Ed(h-f,t),mul:(h,f)=>Ed(h*f,t),pow:(h,f)=>bBt(d,h,f),div:(h,f)=>Ed(h*I8e(f,t),t),sqrN:h=>h*h,addN:(h,f)=>h+f,subN:(h,f)=>h-f,mulN:(h,f)=>h*f,inv:h=>I8e(h,t),sqrt:s||(h=>(u||(u=yBt(t)),u(d,h))),toBytes:h=>n?e8e(h,l):pV(h,l),fromBytes:(h,f=!0)=>{if(a){if(!a.includes(h.length)||h.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+h.length);const m=new Uint8Array(l);m.set(h,n?0:m.length-h.length),h=m}if(h.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+h.length);let g=n?X4e(h):S$(h);if(o&&(g=Ed(g,t)),!f&&!d.isValid(g))throw new Error("invalid field element: outside of range 0..ORDER");return g},invertBatch:h=>T8e(d,h),cmov:(h,f,g)=>g?f:h});return Object.freeze(d)}function O8e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function R8e(t){const e=O8e(t);return e+Math.ceil(e/2)}function xBt(t,e,n=!1){const r=t.length,i=O8e(e),s=R8e(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?X4e(t):S$(t),a=Ed(o,e-va)+va;return n?e8e(a,i):pV(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v3=BigInt(0),ky=BigInt(1);function P$(t,e){const n=e.negate();return t?n:e}function vV(t,e){const n=T8e(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function M8e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function bV(t,e){M8e(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=CE(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function j8e(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=ky);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function EBt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function CBt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const xV=new WeakMap,D8e=new WeakMap;function EV(t){return D8e.get(t)||1}function L8e(t){if(t!==v3)throw new Error("invalid wNAF")}class _Bt{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>v3;)n&ky&&(r=r.add(i)),i=i.double(),n>>=ky;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=bV(n,this.bits),s=[];let o=e,a=o;for(let c=0;c<r;c++){a=o,s.push(a);for(let l=1;l<i;l++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=bV(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:h,offsetF:f}=j8e(r,a,o);r=c,u?s=s.add(P$(h,n[f])):i=i.add(P$(d,n[l]))}return L8e(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=bV(e,this.bits);for(let o=0;o<s.windows&&r!==v3;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=j8e(r,o,s);if(r=a,!l){const d=n[c];i=i.add(u?d.negate():d)}}return L8e(r),i}getPrecomputes(e,n,r){let i=xV.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),xV.set(n,i))),i}cached(e,n,r){const i=EV(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=EV(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){M8e(n,this.bits),D8e.set(e,n),xV.delete(e)}hasCache(e){return EV(e)!==1}}function ABt(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>v3||r>v3;)n&ky&&(s=s.add(i)),r&ky&&(o=o.add(i)),i=i.double(),n>>=ky,r>>=ky;return{p1:s,p2:o}}function SBt(t,e,n,r){EBt(n,t),CBt(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=t8e(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=CE(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const y=r[m],w=Number(y>>BigInt(f)&l);u[w]=u[w].add(n[m])}let g=o;for(let m=u.length-1,y=o;m>0;m--)y=y.add(u[m]),g=g.add(y);if(h=h.add(g),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function B8e(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return vBt(e),e}else return Iy(t,{isLE:n})}function IBt(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const l=e[c];if(!(typeof l=="bigint"&&l>v3))throw new Error(`CURVE.${c} must be positive bigint`)}const i=B8e(e.p,n.Fp,r),s=B8e(e.n,n.Fn,r),a=["Gx","Gy","a","b"];for(const c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const U8e=(t,e)=>(t+(t>=0?e:-e)/F8e)/e;function kBt(t,e,n){const[[r,i],[s,o]]=e,a=U8e(o*t,n),c=U8e(-i*t,n);let l=t-a*r-c*s,u=-a*i-c*o;const d=l<kp,h=u<kp;d&&(l=-l),h&&(u=-u);const f=CE(Math.ceil(t8e(n)/2))+b3;if(l<kp||l>=f||u<kp||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}function CV(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function _V(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return _$(n.lowS,"lowS"),_$(n.prehash,"prehash"),n.format!==void 0&&CV(n.format),n}class $Bt extends Error{constructor(e=""){super(e)}}const Ip={Err:$Bt,_tlv:{encode:(t,e)=>{const{Err:n}=Ip;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=A$(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?A$(i.length/2|128):"";return A$(t)+s+i+e},decode(t,e){const{Err:n}=Ip;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Ip;if(t<kp)throw new e("integer: negative integers are not allowed");let n=A$(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ip;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return S$(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ip,i=Ec("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Ip,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},kp=BigInt(0),b3=BigInt(1),F8e=BigInt(2),N$=BigInt(3),TBt=BigInt(4);function x3(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=Ec("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function PBt(t,e={}){const n=IBt("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;mV(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!r.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=W8e(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(F,M,C){const{x,y:A}=M.toAffine(),P=r.toBytes(x);if(_$(C,"isCompressed"),C){u();const N=!r.isOdd(A);return Md(z8e(N),P)}else return Md(Uint8Array.of(4),P,r.toBytes(A))}function h(F){Ay(F,void 0,"Point");const{publicKey:M,publicKeyUncompressed:C}=l,x=F.length,A=F[0],P=F.subarray(1);if(x===M&&(A===2||A===3)){const N=r.fromBytes(P);if(!r.isValid(N))throw new Error("bad point: is not on curve, wrong x");const $=m(N);let L;try{L=r.sqrt($)}catch(z){const q=z instanceof Error?": "+z.message:"";throw new Error("bad point: is not on curve, sqrt error"+q)}u();const B=r.isOdd(L);return(A&1)===1!==B&&(L=r.neg(L)),{x:N,y:L}}else if(x===C&&A===4){const N=r.BYTES,$=r.fromBytes(P.subarray(0,N)),L=r.fromBytes(P.subarray(N,N*2));if(!y($,L))throw new Error("bad point: is not on curve");return{x:$,y:L}}else throw new Error(`bad point: got length ${x}, expected compressed=${M} or uncompressed=${C}`)}const f=e.toBytes||d,g=e.fromBytes||h;function m(F){const M=r.sqr(F),C=r.mul(M,F);return r.add(r.add(C,r.mul(F,s.a)),s.b)}function y(F,M){const C=r.sqr(M),x=m(F);return r.eql(C,x)}if(!y(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const w=r.mul(r.pow(s.a,N$),TBt),b=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(w,b)))throw new Error("bad curve params: a or b");function v(F,M,C=!1){if(!r.isValid(M)||C&&r.is0(M))throw new Error(`bad point coordinate ${F}`);return M}function E(F){if(!(F instanceof I))throw new Error("ProjectivePoint expected")}function _(F){if(!c||!c.basises)throw new Error("no endo");return kBt(F,c.basises,i.ORDER)}const O=n8e((F,M)=>{const{X:C,Y:x,Z:A}=F;if(r.eql(A,r.ONE))return{x:C,y:x};const P=F.is0();M==null&&(M=P?r.ONE:r.inv(A));const N=r.mul(C,M),$=r.mul(x,M),L=r.mul(A,M);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(L,r.ONE))throw new Error("invZ was invalid");return{x:N,y:$}}),S=n8e(F=>{if(F.is0()){if(e.allowInfinityPoint&&!r.is0(F.Y))return;throw new Error("bad point: ZERO")}const{x:M,y:C}=F.toAffine();if(!r.isValid(M)||!r.isValid(C))throw new Error("bad point: x or y not field elements");if(!y(M,C))throw new Error("bad point: equation left != right");if(!F.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(F,M,C,x,A){return C=new I(r.mul(C.X,F),C.Y,C.Z),M=P$(x,M),C=P$(A,C),M.add(C)}class I{constructor(M,C,x){this.X=v("x",M),this.Y=v("y",C,!0),this.Z=v("z",x),Object.freeze(this)}static CURVE(){return s}static fromAffine(M){const{x:C,y:x}=M||{};if(!M||!r.isValid(C)||!r.isValid(x))throw new Error("invalid affine point");if(M instanceof I)throw new Error("projective point not allowed");return r.is0(C)&&r.is0(x)?I.ZERO:new I(C,x,r.ONE)}static fromBytes(M){const C=I.fromAffine(g(Ay(M,void 0,"point")));return C.assertValidity(),C}static fromHex(M){return I.fromBytes(Ec("pointHex",M))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(M=8,C=!0){return j.createCache(this,M),C||this.multiply(N$),this}assertValidity(){S(this)}hasEvenY(){const{y:M}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(M)}equals(M){E(M);const{X:C,Y:x,Z:A}=this,{X:P,Y:N,Z:$}=M,L=r.eql(r.mul(C,$),r.mul(P,A)),B=r.eql(r.mul(x,$),r.mul(N,A));return L&&B}negate(){return new I(this.X,r.neg(this.Y),this.Z)}double(){const{a:M,b:C}=s,x=r.mul(C,N$),{X:A,Y:P,Z:N}=this;let $=r.ZERO,L=r.ZERO,B=r.ZERO,T=r.mul(A,A),z=r.mul(P,P),q=r.mul(N,N),U=r.mul(A,P);return U=r.add(U,U),B=r.mul(A,N),B=r.add(B,B),$=r.mul(M,B),L=r.mul(x,q),L=r.add($,L),$=r.sub(z,L),L=r.add(z,L),L=r.mul($,L),$=r.mul(U,$),B=r.mul(x,B),q=r.mul(M,q),U=r.sub(T,q),U=r.mul(M,U),U=r.add(U,B),B=r.add(T,T),T=r.add(B,T),T=r.add(T,q),T=r.mul(T,U),L=r.add(L,T),q=r.mul(P,N),q=r.add(q,q),T=r.mul(q,U),$=r.sub($,T),B=r.mul(q,z),B=r.add(B,B),B=r.add(B,B),new I($,L,B)}add(M){E(M);const{X:C,Y:x,Z:A}=this,{X:P,Y:N,Z:$}=M;let L=r.ZERO,B=r.ZERO,T=r.ZERO;const z=s.a,q=r.mul(s.b,N$);let U=r.mul(C,P),V=r.mul(x,N),Z=r.mul(A,$),K=r.add(C,x),J=r.add(P,N);K=r.mul(K,J),J=r.add(U,V),K=r.sub(K,J),J=r.add(C,A);let oe=r.add(P,$);return J=r.mul(J,oe),oe=r.add(U,Z),J=r.sub(J,oe),oe=r.add(x,A),L=r.add(N,$),oe=r.mul(oe,L),L=r.add(V,Z),oe=r.sub(oe,L),T=r.mul(z,J),L=r.mul(q,Z),T=r.add(L,T),L=r.sub(V,T),T=r.add(V,T),B=r.mul(L,T),V=r.add(U,U),V=r.add(V,U),Z=r.mul(z,Z),J=r.mul(q,J),V=r.add(V,Z),Z=r.sub(U,Z),Z=r.mul(z,Z),J=r.add(J,Z),U=r.mul(V,J),B=r.add(B,U),U=r.mul(oe,J),L=r.mul(K,L),L=r.sub(L,U),U=r.mul(K,V),T=r.mul(oe,T),T=r.add(T,U),new I(L,B,T)}subtract(M){return this.add(M.negate())}is0(){return this.equals(I.ZERO)}multiply(M){const{endo:C}=e;if(!i.isValidNot0(M))throw new Error("invalid scalar: out of range");let x,A;const P=N=>j.cached(this,N,$=>vV(I,$));if(C){const{k1neg:N,k1:$,k2neg:L,k2:B}=_(M),{p:T,f:z}=P($),{p:q,f:U}=P(B);A=z.add(U),x=R(C.beta,T,q,N,L)}else{const{p:N,f:$}=P(M);x=N,A=$}return vV(I,[x,A])[0]}multiplyUnsafe(M){const{endo:C}=e,x=this;if(!i.isValid(M))throw new Error("invalid scalar: out of range");if(M===kp||x.is0())return I.ZERO;if(M===b3)return x;if(j.hasCache(this))return this.multiply(M);if(C){const{k1neg:A,k1:P,k2neg:N,k2:$}=_(M),{p1:L,p2:B}=ABt(I,x,P,$);return R(C.beta,L,B,A,N)}else return j.unsafe(x,M)}multiplyAndAddUnsafe(M,C,x){const A=this.multiplyUnsafe(C).add(M.multiplyUnsafe(x));return A.is0()?void 0:A}toAffine(M){return O(this,M)}isTorsionFree(){const{isTorsionFree:M}=e;return o===b3?!0:M?M(I,this):j.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:M}=e;return o===b3?this:M?M(I,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(M=!0){return _$(M,"isCompressed"),this.assertValidity(),f(I,this,M)}toHex(M=!0){return fm(this.toBytes(M))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(M=!0){return this.toBytes(M)}_setWindowSize(M){this.precompute(M)}static normalizeZ(M){return vV(I,M)}static msm(M,C){return SBt(I,i,M,C)}static fromPrivateKey(M){return I.BASE.multiply(x3(i,M))}}I.BASE=new I(s.Gx,s.Gy,r.ONE),I.ZERO=new I(r.ZERO,r.ONE,r.ZERO),I.Fp=r,I.Fn=i;const D=i.BITS,j=new _Bt(I,e.endo?Math.ceil(D/2):D);return I.BASE.precompute(8),I}function z8e(t){return Uint8Array.of(t?2:3)}function W8e(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function NBt(t,e={}){const{Fn:n}=t,r=e.randomBytes||CC,i=Object.assign(W8e(t.Fp,n),{seed:R8e(n.ORDER)});function s(f){try{return!!x3(n,f)}catch{return!1}}function o(f,g){const{publicKey:m,publicKeyUncompressed:y}=i;try{const w=f.length;return g===!0&&w!==m||g===!1&&w!==y?!1:!!t.fromBytes(f)}catch{return!1}}function a(f=r(i.seed)){return xBt(Ay(f,i.seed,"seed"),n.ORDER)}function c(f,g=!0){return t.BASE.multiply(x3(n,f)).toBytes(g)}function l(f){const g=a(f);return{secretKey:g,publicKey:c(g)}}function u(f){if(typeof f=="bigint")return!1;if(f instanceof t)return!0;const{secretKey:g,publicKey:m,publicKeyUncompressed:y}=i;if(n.allowedLengths||g===m)return;const w=Ec("key",f).length;return w===m||w===y}function d(f,g,m=!0){if(u(f)===!0)throw new Error("first arg must be private key");if(u(g)===!1)throw new Error("second arg must be public key");const y=x3(n,f);return t.fromHex(g).multiply(y).toBytes(m)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:f=>x3(n,f),precompute(f=8,g=t.BASE){return g.precompute(f,!1)}},lengths:i})}function OBt(t,e,n={}){wQ(e),mV(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||CC,i=n.hmac||((C,...x)=>JC(e,C,Md(...x))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f}=NBt(t,n),g={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function y(C){const x=a>>b3;return C>x}function w(C,x){if(!o.isValidNot0(x))throw new Error(`invalid signature ${C}: out of range 1..Point.Fn.ORDER`);return x}function b(C,x){CV(x);const A=f.signature,P=x==="compact"?A:x==="recovered"?A+1:void 0;return Ay(C,P,`${x} signature`)}class v{constructor(x,A,P){this.r=w("r",x),this.s=w("s",A),P!=null&&(this.recovery=P),Object.freeze(this)}static fromBytes(x,A=m){b(x,A);let P;if(A==="der"){const{r:B,s:T}=Ip.toSig(Ay(x));return new v(B,T)}A==="recovered"&&(P=x[0],A="compact",x=x.subarray(1));const N=o.BYTES,$=x.subarray(0,N),L=x.subarray(N,N*2);return new v(o.fromBytes($),o.fromBytes(L),P)}static fromHex(x,A){return this.fromBytes(xC(x),A)}addRecoveryBit(x){return new v(this.r,this.s,x)}recoverPublicKey(x){const A=s.ORDER,{r:P,s:N,recovery:$}=this;if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");if(a*F8e<A&&$>1)throw new Error("recovery id is ambiguous for h>1 curve");const B=$===2||$===3?P+a:P;if(!s.isValid(B))throw new Error("recovery id 2 or 3 invalid");const T=s.toBytes(B),z=t.fromBytes(Md(z8e(($&1)===0),T)),q=o.inv(B),U=_(Ec("msgHash",x)),V=o.create(-U*q),Z=o.create(N*q),K=t.BASE.multiplyUnsafe(V).add(z.multiplyUnsafe(Z));if(K.is0())throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return y(this.s)}toBytes(x=m){if(CV(x),x==="der")return xC(Ip.hexFromSig(this));const A=o.toBytes(this.r),P=o.toBytes(this.s);if(x==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Md(Uint8Array.of(this.recovery),A,P)}return Md(A,P)}toHex(x){return fm(this.toBytes(x))}assertValidity(){}static fromCompact(x){return v.fromBytes(Ec("sig",x),"compact")}static fromDER(x){return v.fromBytes(Ec("sig",x),"der")}normalizeS(){return this.hasHighS()?new v(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return fm(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return fm(this.toBytes("compact"))}}const E=n.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const A=S$(x),P=x.length*8-c;return P>0?A>>BigInt(P):A},_=n.bits2int_modN||function(x){return o.create(E(x))},O=CE(c);function S(C){return FLt("num < 2^"+c,C,kp,O),o.toBytes(C)}function R(C,x){return Ay(C,void 0,"message"),x?Ay(e(C),void 0,"prehashed message"):C}function I(C,x,A){if(["recovered","canonical"].some(V=>V in A))throw new Error("sign() legacy options not supported");const{lowS:P,prehash:N,extraEntropy:$}=_V(A,g);C=R(C,N);const L=_(C),B=x3(o,x),T=[S(B),S(L)];if($!=null&&$!==!1){const V=$===!0?r(f.secretKey):$;T.push(Ec("extraEntropy",V))}const z=Md(...T),q=L;function U(V){const Z=E(V);if(!o.isValidNot0(Z))return;const K=o.inv(Z),J=t.BASE.multiply(Z).toAffine(),oe=o.create(J.x);if(oe===kp)return;const se=o.create(K*o.create(q+oe*B));if(se===kp)return;let ae=(J.x===oe?0:2)|Number(J.y&b3),fe=se;return P&&y(se)&&(fe=o.neg(se),ae^=1),new v(oe,fe,ae)}return{seed:z,k2sig:U}}function D(C,x,A={}){C=Ec("message",C);const{seed:P,k2sig:N}=I(C,x,A);return zLt(e.outputLen,o.BYTES,i)(P,N)}function j(C){let x;const A=typeof C=="string"||bC(C),P=!A&&C!==null&&typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!A&&!P)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(P)x=new v(C.r,C.s);else if(A){try{x=v.fromBytes(Ec("sig",C),"der")}catch(N){if(!(N instanceof Ip.Err))throw N}if(!x)try{x=v.fromBytes(Ec("sig",C),"compact")}catch{return!1}}return x||!1}function F(C,x,A,P={}){const{lowS:N,prehash:$,format:L}=_V(P,g);if(A=Ec("publicKey",A),x=R(Ec("message",x),$),"strict"in P)throw new Error("options.strict was renamed to lowS");const B=L===void 0?j(C):v.fromBytes(Ec("sig",C),L);if(B===!1)return!1;try{const T=t.fromBytes(A);if(N&&B.hasHighS())return!1;const{r:z,s:q}=B,U=_(x),V=o.inv(q),Z=o.create(U*V),K=o.create(z*V),J=t.BASE.multiplyUnsafe(Z).add(T.multiplyUnsafe(K));return J.is0()?!1:o.create(J.x)===z}catch{return!1}}function M(C,x,A={}){const{prehash:P}=_V(A,g);return x=R(x,P),v.fromBytes(C,"recovered").recoverPublicKey(x).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f,Point:t,sign:D,verify:F,recoverPublicKey:M,Signature:v,hash:e})}function RBt(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=Iy(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function MBt(t){const{CURVE:e,curveOpts:n}=RBt(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function jBt(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,N8e(n.Fn.ORDER,n.Fn.BITS))})}function DBt(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=MBt(t),s=PBt(e,n),o=OBt(s,r,i);return jBt(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function AV(t,e){const n=r=>DBt({...t,hash:r});return{...n(e),create:n}}function LBt(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new SV({signature:t});if(typeof t.s>"u")throw new SV({signature:t});if(n&&typeof t.yParity>"u")throw new SV({signature:t});if(t.r<0n||t.r>x8e)throw new WBt({value:t.r});if(t.s<0n||t.s>x8e)throw new qBt({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new IV({value:t.yParity})}function q8e(t){if(t.length!==130&&t.length!==132)throw new zBt({signature:t});const e=BigInt(fl(t,0,32)),n=BigInt(fl(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return UBt(i)}catch{throw new IV({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function BBt(t){LBt(t);const e=t.r,n=t.s;return k$(qg(e,{size:32}),qg(n,{size:32}),typeof t.yParity=="number"?qg(FBt(t.yParity),{size:1}):"0x")}function UBt(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new HBt({value:t})}function FBt(t){if(t===0)return 27;if(t===1)return 28;throw new IV({value:t})}class zBt extends ti{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Hg(s8e(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class SV extends ti{constructor({signature:e}){super(`Signature \`${I$(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class WBt extends ti{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class qBt extends ti{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class IV extends ti{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class HBt extends ti{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}const VBt=new TextDecoder,O$=Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[e,t.charCodeAt(0)]));({...Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[t.charCodeAt(0),e]))});function KBt(t,e={}){const{pad:n=!0,url:r=!1}=e,i=new Uint8Array(Math.ceil(t.length/3)*4);for(let c=0,l=0;l<t.length;c+=4,l+=3){const u=(t[l]<<16)+(t[l+1]<<8)+(t[l+2]|0);i[c]=O$[u>>18],i[c+1]=O$[u>>12&63],i[c+2]=O$[u>>6&63],i[c+3]=O$[u&63]}const s=t.length%3,o=Math.floor(t.length/3)*4+(s&&s+1);let a=VBt.decode(new Uint8Array(i.buffer,0,o));return n&&s===1&&(a+="=="),n&&s===2&&(a+="="),r&&(a=a.replaceAll("+","-").replaceAll("/","_")),a}function GBt(t,e={}){return KBt(f8e(t),e)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const H8e={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},V8e={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},K8e={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},ZBt=Iy(H8e.p),YBt=Iy(V8e.p),JBt=Iy(K8e.p),QBt=AV({...H8e,Fp:ZBt,lowS:!1},PC);AV({...V8e,Fp:YBt,lowS:!1},oIe),AV({...K8e,Fp:JBt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},sIe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const G8e=QBt;Uint8Array.from([105,171,180,181,160,222,75,198,42,42,32,31,141,37,186,233]);function XBt(t={}){const{flag:e=5,rpId:n=window.location.hostname,signCount:r=0}=t,i=y8e(o8e(n)),s=qg(e,{size:1}),o=qg(r,{size:4});return k$(i,s,o)}function eUt(t){const{challenge:e,crossOrigin:n=!1,extraClientData:r,origin:i=window.location.origin}=t;return JSON.stringify({type:"webauthn.get",challenge:GBt(e,{url:!0,pad:!1}),origin:i,crossOrigin:n,...r})}function tUt(t){const{challenge:e,crossOrigin:n,extraClientData:r,flag:i,origin:s,rpId:o,signCount:a,userVerification:c="required"}=t,l=XBt({flag:i,rpId:o,signCount:a}),u=eUt({challenge:e,crossOrigin:n,extraClientData:r,origin:s}),d=y8e(o8e(u)),h=u.indexOf('"challenge"'),f=u.indexOf('"type"'),g={authenticatorData:l,clientDataJSON:u,challengeIndex:h,typeIndex:f,userVerificationRequired:c==="required"},m=k$(l,d);return{metadata:g,payload:m}}async function nUt(t={}){const{extractable:e=!1}=t,n=await globalThis.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},e,["sign","verify"]),r=await globalThis.crypto.subtle.exportKey("raw",n.publicKey),i=aBt(new Uint8Array(r));return{privateKey:n.privateKey,publicKey:i}}async function rUt(t){const{payload:e,privateKey:n}=t,r=await globalThis.crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},n,d8e(e)),i=h8e(new Uint8Array(r)),s=g8e(p8e(i,0,32));let o=g8e(p8e(i,32,64));return o>G8e.CURVE.n/2n&&(o=G8e.CURVE.n-o),{r:s,s:o}}function iUt(t,e){const n=typeof indexedDB<"u"?_S(t,e):void 0;return{getItem:async r=>{const i=await f8(r,n);return i||null},removeItem:async r=>rU(r,n),setItem:async(r,i)=>nU(r,i,n)}}const sUt="base-acc-sdk",oUt="keys",R$="activeId",Vg=iUt(sUt,oUt);async function aUt(){const t=await nUt({extractable:!1}),e=fl(T$(t.publicKey),1);return await Vg.setItem(e,t),await Vg.setItem(R$,e),t}async function Z8e(){const t=await Vg.getItem(R$);if(!t)return null;const e=await Vg.getItem(t);return e||null}async function cUt(){const t=await Z8e();if(!t){const e=await aUt(),n=fl(T$(e.publicKey),1);return await Vg.setItem(n,e),await Vg.setItem(R$,n),e}return t}async function lUt(){const t=await cUt(),e=fl(T$(t.publicKey),1),n=async r=>{const{payload:i,metadata:s}=tUt({challenge:r,origin:"https://keys.coinbase.com",userVerification:"preferred"}),o=await rUt({payload:i,privateKey:t.privateKey});return{signature:BBt(o),raw:{},webauthn:s}};return{id:e,publicKey:e,async sign({hash:r}){return n(r)},async signMessage({message:r}){return n(ZC(r))},async signTypedData(r){return n(a6(r))},type:"webAuthn"}}async function M$(){return{account:await lUt()}}async function uUt(){const t=await Z8e();t&&(await Vg.removeItem(fl(T$(t.publicKey),1)),await Vg.removeItem(R$))}const Y8e={storageKey:"ownPrivateKey",keyType:"private"},J8e={storageKey:"ownPublicKey",keyType:"public"},Q8e={storageKey:"peerPublicKey",keyType:"public"};class dUt{constructor(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(Q8e,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,Qe.keys.clear()}async generateKeyPair(){const e=await PLt();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(Y8e,e.privateKey),await this.storeKey(J8e,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(Y8e)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(J8e)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(Q8e)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await NLt(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=Qe.keys.get(e.storageKey);return n?Y4e(e.keyType,n):null}async storeKey(e,n){const r=await Z4e(e.keyType,n);Qe.keys.set(e.storageKey,r)}}function _E(t,e){if(!(typeof t!="object"||t===null))return e.split(/[.[\]]+/).filter(Boolean).reduce((n,r)=>{if(typeof n=="object"&&n!==null)return n[r]},t)}function X8e(t){var e;if(!Array.isArray(t.params))return null;switch(t.method){case"personal_sign":return t.params[1];case"eth_signTypedData_v4":return t.params[0];case"eth_signTransaction":case"eth_sendTransaction":case"wallet_sendCalls":return(e=t.params[0])===null||e===void 0?void 0:e.from;default:return null}}function hUt(t,e){if(!Array.isArray(t.params))throw at.rpc.invalidParams();const n=[...t.params];switch(t.method){case"eth_signTransaction":case"eth_sendTransaction":case"wallet_sendCalls":n[0].from=e;break;case"eth_signTypedData_v4":n[0]=e;break;case"personal_sign":n[1]=e;break}return Object.assign(Object.assign({},t),{params:n})}function exe(t){var e;if(!t||!Array.isArray(t)||!(!((e=t[0])===null||e===void 0)&&e.chainId)||typeof t[0].chainId!="string"&&typeof t[0].chainId!="number")throw at.rpc.invalidParams()}function fUt(t){if(!t||!Array.isArray(t)||t.length!==1&&t.length!==2||typeof t[0]!="string"||!Li(t[0]))throw at.rpc.invalidParams();if(t.length===2){if(!Array.isArray(t[1]))throw at.rpc.invalidParams();for(const e of t[1])if(typeof e!="string"||!e.startsWith("0x"))throw at.rpc.invalidParams()}}function j$(t,e){const n=Object.assign({},t);if(e&&t.method.startsWith("wallet_")){let r=_E(n,"params.0.capabilities");if(typeof r>"u"&&(r={}),typeof r!="object")throw at.rpc.invalidParams();r=Object.assign(Object.assign({},e),r),n.params&&Array.isArray(n.params)&&(n.params[0]=Object.assign(Object.assign({},n.params[0]),{capabilities:r}))}return n}async function kV(){var t;const e=(t=Qe.subAccountsConfig.get())!==null&&t!==void 0?t:{},n={};if(e.enableAutoSubAccounts){const{account:r}=e.toOwnerAccount?await e.toOwnerAccount():await M$();if(!r)throw at.provider.unauthorized("No owner account found");n.addSubAccount={account:{type:"create",keys:[{type:r.address?"address":"webauthn-p256",publicKey:r.address||r.publicKey}]}}}Qe.subAccountsConfig.set({capabilities:n})}function pUt(t){if(!(t.method==="coinbase_fetchPermissions"&&t.params===void 0)){if(t.method==="coinbase_fetchPermissions"&&Array.isArray(t.params)&&t.params.length===1&&typeof t.params[0]=="object"){if(typeof t.params[0].account!="string"||!t.params[0].chainId.startsWith("0x"))throw at.rpc.invalidParams("FetchPermissions - Invalid params: params[0].account must be a hex string");if(typeof t.params[0].chainId!="string"||!t.params[0].chainId.startsWith("0x"))throw at.rpc.invalidParams("FetchPermissions - Invalid params: params[0].chainId must be a hex string");if(typeof t.params[0].spender!="string"||!t.params[0].spender.startsWith("0x"))throw at.rpc.invalidParams("FetchPermissions - Invalid params: params[0].spender must be a hex string");return}throw at.rpc.invalidParams()}}function gUt(t){var e,n,r;if(t.params!==void 0)return t;const i=(e=Qe.getState().account.accounts)===null||e===void 0?void 0:e[0],s=(n=Qe.getState().account.chain)===null||n===void 0?void 0:n.id,o=(r=Qe.getState().subAccount)===null||r===void 0?void 0:r.address;if(!i||!o||!s)throw at.rpc.invalidParams("FetchPermissions - one or more of account, sub account, or chain id is missing, connect to sub account via wallet_connect first");return{method:"coinbase_fetchPermissions",params:[{account:i,chainId:Te(s),spender:o}]}}function mUt({spendPermission:t,chainId:e}){return{domain:{name:"Spend Permission Manager",version:"1",chainId:e,verifyingContract:v4e},types:{SpendPermission:[{name:"account",type:"address"},{name:"spender",type:"address"},{name:"token",type:"address"},{name:"allowance",type:"uint160"},{name:"period",type:"uint48"},{name:"start",type:"uint48"},{name:"end",type:"uint48"},{name:"salt",type:"uint256"},{name:"extraData",type:"bytes"}]},primaryType:"SpendPermission",message:{account:t.account,spender:t.spender,token:t.token,allowance:t.allowance,period:t.period,start:t.start,end:t.end,salt:t.salt,extraData:t.extraData}}}function yUt({spendPermissionBatch:t,chainId:e}){return{domain:{name:"Spend Permission Manager",version:"1",chainId:e,verifyingContract:v4e},types:{SpendPermissionBatch:[{name:"account",type:"address"},{name:"period",type:"uint48"},{name:"start",type:"uint48"},{name:"end",type:"uint48"},{name:"permissions",type:"PermissionDetails[]"}],PermissionDetails:[{name:"spender",type:"address"},{name:"token",type:"address"},{name:"allowance",type:"uint160"},{name:"salt",type:"uint256"},{name:"extraData",type:"bytes"}]},primaryType:"SpendPermissionBatch",message:{account:t.account,period:t.period,start:t.start,end:t.end,permissions:t.permissions.map(n=>({spender:n.spender,token:n.token,allowance:n.allowance,salt:n.salt,extraData:n.extraData}))}}}async function txe({client:t,id:e}){var n;const r=await u7(t,{id:e});if(r.status==="success")return(n=r.receipts)===null||n===void 0?void 0:n[0].transactionHash;throw at.rpc.internal("failed to send transaction")}function nxe({calls:t,from:e,chainId:n,capabilities:r}){const i=w4e.get().paymasterUrls;let s={method:"wallet_sendCalls",params:[{version:"1.0",calls:t,chainId:Te(n),from:e,atomicRequired:!0,capabilities:r}]};return i!=null&&i[n]&&(s=j$(s,{paymasterService:{url:i==null?void 0:i[n]}})),s}async function wUt(){const t=LH();return await new Promise(n=>{DH({dialogContext:"sub_account_insufficient_balance"}),t.presentItem({title:"Insufficient spend permission",message:"Your spend permission's remaining balance cannot cover this transaction. Please choose how to proceed:",onClose:()=>{T4e({dialogContext:"sub_account_insufficient_balance"}),t.clear()},actionItems:[{text:"Edit spend permission",variant:"primary",onClick:()=>{Cy({dialogContext:"sub_account_insufficient_balance",dialogAction:"create_permission"}),t.clear(),n("update_permission")}},{text:"Use primary account",variant:"secondary",onClick:()=>{Cy({dialogContext:"sub_account_insufficient_balance",dialogAction:"continue_in_popup"}),t.clear(),n("continue_popup")}}]})})}function vUt({errorData:t,sourceAddress:e}){var n;const r=[];for(const[i,{amount:s,sources:o}]of Object.entries((n=t==null?void 0:t.required)!==null&&n!==void 0?n:{})){if(o.filter(c=>xi(c.balance)>=xi(s)&&c.address.toLowerCase()===(e==null?void 0:e.toLowerCase())).length===0)throw new Error("Source address has insufficient balance for a token");r.push({token:i,requiredAmount:xi(s)})}return r}function bUt(t){return typeof t=="object"&&t!==null&&"calls"in t}function xUt(t){return Array.isArray(t)&&t.length===1&&typeof t[0]=="object"&&t[0]!==null&&"to"in t[0]}function EUt(t){return gm(Pr(sr(t)),0,16)}function CUt({attribution:t,dappOrigin:e}){if(t){if("auto"in t&&t.auto&&e)return EUt(e);if("dataSuffix"in t)return t.dataSuffix}}function _Ut(t,e){var n;if(!Array.isArray(t==null?void 0:t.params))return!1;const r=(n=t.params[0])===null||n===void 0?void 0:n.capabilities;return!r||typeof r!="object"?!1:e in r}function D$(t,e){const n=t.filter(r=>r!==e);return[e,...n]}function L$(t,e){return[...t.filter(r=>r!==e),e]}async function AUt(){const t=Qe.spendPermissions.get(),e=Qe.subAccounts.get(),n=Qe.account.get().accounts;return n?{accounts:n==null?void 0:n.map(i=>({address:i,capabilities:{subAccounts:e?[e]:void 0,spendPermissions:t.length>0?{permissions:t}:void 0}}))}:null}function SUt(t){return t.replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}function B$(t){const e=btoa(String.fromCharCode(...new Uint8Array(t)));return SUt(e)}function IUt({webauthn:t,signature:e,id:n}){const r=q8e(e);return{id:n,rawId:B$(af(n)),response:{authenticatorData:B$(Jo(t.authenticatorData)),clientDataJSON:B$(af(t.clientDataJSON)),signature:B$(kUt(r.r,r.s))},type:JSON.parse(t.clientDataJSON).type}}function kUt(t,e){const n=Jo(Su(Te(t))),r=Jo(Su(Te(e))),i=n.length,s=r.length,o=i+s+4,a=new Uint8Array(o+2);return a[0]=48,a[1]=o,a[2]=2,a[3]=i,a.set(n,4),a[i+4]=2,a[i+5]=s,a.set(r,i+6),a}var $Ut=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};async function TUt(t){const{owner:e,ownerIndex:n,address:r,client:i,factoryData:s}=t,o={abi:iLt,address:sLt,version:"0.6"},a={abi:b4e,address:Kjt};return lLt({client:i,entryPoint:o,extend:{abi:xd,factory:a},async decodeCalls(c){const l=kC({abi:xd,data:c});if(l.functionName==="execute")return[{to:l.args[0],value:l.args[1],data:l.args[2]}];if(l.functionName==="executeBatch")return l.args[0].map(u=>({to:u.target,value:u.value,data:u.data}));throw new pe(`unable to decode calls for "${l.functionName}"`)},async encodeCalls(c){var l,u;return c.length===1?Jr({abi:xd,functionName:"execute",args:[c[0].to,(l=c[0].value)!==null&&l!==void 0?l:BigInt(0),(u=c[0].data)!==null&&u!==void 0?u:"0x"]}):Jr({abi:xd,functionName:"executeBatch",args:[c.map(d=>{var h,f;return{data:(h=d.data)!==null&&h!==void 0?h:"0x",target:d.to,value:(f=d.value)!==null&&f!==void 0?f:BigInt(0)}})]})},async getAddress(){return r},async getFactoryArgs(){return s?{factory:a.address,factoryData:s}:{factory:a.address,factoryData:s}},async getStubSignature(){return e.type==="webAuthn"?"0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000170000000000000000000000000000000000000000000000000000000000000001949fc7c88032b9fcb5f6efc7a7b8c63668eae9871b765e23123bb473ff57aa831a7c0d9276168ebcc29f2875a0239cffdf2a9cd1c2007c5c77c071db9264df1d000000000000000000000000000000000000000000000000000000000000002549960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97630500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008a7b2274797065223a22776562617574686e2e676574222c226368616c6c656e6765223a2273496a396e6164474850596759334b7156384f7a4a666c726275504b474f716d59576f4d57516869467773222c226f726967696e223a2268747470733a2f2f7369676e2e636f696e626173652e636f6d222c2263726f73734f726967696e223a66616c73657d00000000000000000000000000000000000000000000":AE({ownerIndex:n,signature:"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"})},async sign(c){const l=await this.getAddress(),u=$V({address:l,chainId:i.chain.id,hash:c.hash}),d=await U$({hash:u,owner:e});return AE({ownerIndex:n,signature:d})},async signMessage(c){const{message:l}=c,u=await this.getAddress(),d=$V({address:u,chainId:i.chain.id,hash:ZC(l)}),h=await U$({hash:d,owner:e});return AE({ownerIndex:n,signature:h})},async signTypedData(c){const{domain:l,types:u,primaryType:d,message:h}=c,f=await this.getAddress(),g=$V({address:f,chainId:i.chain.id,hash:a6({domain:l,message:h,primaryType:d,types:u})}),m=await U$({hash:g,owner:e});return AE({ownerIndex:n,signature:m})},async signUserOperation(c){const{chainId:l=i.chain.id}=c,u=$Ut(c,["chainId"]),d=await this.getAddress(),h=cLt({chainId:l,entryPointAddress:o.address,entryPointVersion:o.version,userOperation:Object.assign(Object.assign({},u),{sender:d})}),f=await U$({hash:h,owner:e});return AE({ownerIndex:n,signature:f})},userOperation:{async estimateGas(c){var l;if(e.type==="webAuthn")return{verificationGasLimit:BigInt(Math.max(Number((l=c.verificationGasLimit)!==null&&l!==void 0?l:BigInt(0)),8e5))}}}})}async function U$({hash:t,owner:e}){if(e.type==="webAuthn"){const{signature:n,webauthn:r}=await e.sign({hash:t});return PUt({signature:n,webauthn:r})}if(e.sign)return e.sign({hash:t});throw new pe("`owner` does not support raw sign.")}function $V({address:t,chainId:e,hash:n}){return a6({domain:{chainId:e,name:"Coinbase Smart Wallet",verifyingContract:t,version:"1"},types:{CoinbaseSmartWalletMessage:[{name:"hash",type:"bytes32"}]},primaryType:"CoinbaseSmartWalletMessage",message:{hash:n}})}function PUt({webauthn:t,signature:e}){const{r:n,s:r}=q8e(e);return Pa([{components:[{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"bytes"},{name:"challengeIndex",type:"uint256"},{name:"typeIndex",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"}],type:"tuple"}],[{authenticatorData:t.authenticatorData,clientDataJSON:o0(t.clientDataJSON),challengeIndex:BigInt(t.challengeIndex),typeIndex:BigInt(t.typeIndex),r:n,s:r}])}function AE(t){const{ownerIndex:e=0}=t,n=(()=>{if(Yr(t.signature)!==65)return t.signature;const r=Cje(t.signature);return USe(["bytes32","bytes32","uint8"],[r.r,r.s,r.yParity===0?27:28])})();return Pa([{components:[{name:"ownerIndex",type:"uint8"},{name:"signatureData",type:"bytes"}],type:"tuple"}],[{ownerIndex:e,signatureData:n}])}async function NUt({address:t,client:e,factory:n,factoryData:r,owner:i,ownerIndex:s,parentAddress:o,attribution:a}){var c;const l={address:t,factory:n,factoryData:r},u=(c=e.chain)===null||c===void 0?void 0:c.id;if(!u)throw at.rpc.internal("chainId not found");const d=await TUt({owner:i,ownerIndex:s??1,address:t,client:e,factoryData:r}),h=async f=>{var g,m,y,w,b,v;try{switch(f.method){case"wallet_addSubAccount":return l;case"eth_accounts":return[l.address];case"eth_coinbase":return l.address;case"net_version":return u.toString();case"eth_chainId":return Te(u);case"eth_sendTransaction":{Wg(f.params);const E=f.params[0];gu(E.to,at.rpc.invalidParams("to is required"));const _={to:E.to,data:UH((g=E.data)!==null&&g!==void 0?g:"0x",!0),value:UH((m=E.value)!==null&&m!==void 0?m:"0x",!0),from:(y=E.from)!==null&&y!==void 0?y:l.address},O=nxe({calls:[_],chainId:u,from:_.from}),S=await h(O);return txe({client:e,id:S})}case"wallet_sendCalls":{Wg(f.params);const E=_E(f.params[0],"chainId");if(!E)throw at.rpc.invalidParams("chainId is required");if(!si(E))throw at.rpc.invalidParams("chainId must be a hex encoded integer");if(!f.params[0])throw at.rpc.invalidParams("params are required");if(!("calls"in f.params[0]))throw at.rpc.invalidParams("calls are required");let _={method:"wallet_prepareCalls",params:[{version:"1.0",calls:f.params[0].calls,chainId:E,from:l.address,capabilities:"capabilities"in f.params[0]?f.params[0].capabilities:{}}]};o&&(_=j$(_,{funding:[{type:"spendPermission",data:{autoApply:!0,sources:[o],preference:"PREFER_DIRECT_BALANCE"}}]}));let O=await h(_);const S=await((b=(w=i).sign)===null||b===void 0?void 0:b.call(w,{hash:QN(O.signatureRequest.hash)}));let R;if(!S)throw at.rpc.internal("signature not found");return si(S)?R={type:"secp256k1",data:{address:i.address,signature:S}}:R={type:"webauthn",data:{signature:JSON.stringify(IUt(Object.assign({id:(v=i.id)!==null&&v!==void 0?v:"1"},S))),publicKey:i.publicKey}},(await h({method:"wallet_sendPreparedCalls",params:[{version:"1.0",type:O.type,data:O.userOp,chainId:O.chainId,signature:R}]}))[0]}case"wallet_sendPreparedCalls":{Wg(f.params);const E=_E(f.params[0],"chainId");if(!E)throw at.rpc.invalidParams("chainId is required");if(!si(E))throw at.rpc.invalidParams("chainId must be a hex encoded integer");return await e.request({method:"wallet_sendPreparedCalls",params:f.params})}case"wallet_prepareCalls":{Wg(f.params);const E=_E(f.params[0],"chainId");if(!E)throw at.rpc.invalidParams("chainId is required");if(!si(E))throw at.rpc.invalidParams("chainId must be a hex encoded integer");if(!f.params[0])throw at.rpc.invalidParams("params are required");if(!_E(f.params[0],"calls"))throw at.rpc.invalidParams("calls are required");const _=f.params[0];return a&&_.capabilities&&!("attribution"in _.capabilities)&&(_.capabilities.attribution=a),await e.request({method:"wallet_prepareCalls",params:[Object.assign(Object.assign({},f.params[0]),{chainId:E})]})}case"personal_sign":{if(Wg(f.params),!si(f.params[0]))throw at.rpc.invalidParams("message must be a hex encoded string");const E=QN(f.params[0]);return d.signMessage({message:E})}case"eth_signTypedData_v4":{Wg(f.params);const E=typeof f.params[1]=="string"?JSON.parse(f.params[1]):f.params[1];return d.signTypedData(E)}case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"wallet_addEthereumChain":case"wallet_switchEthereumChain":default:throw at.rpc.methodNotSupported()}}catch(E){if(k4e(E)){const _=Qjt(E);if(_)throw _}throw E}};return{request:h}}async function rxe({address:t,client:e,publicKey:n,factory:r,factoryData:i}){if(!await S6(e,{address:t})&&r&&i){const a=kC({abi:b4e,data:i});if(a.functionName!=="createAccount")throw at.rpc.internal("unknown factory function");const[c]=a.args;return c.findIndex(l=>l.toLowerCase()===ixe(n).toLowerCase())}const o=await Ma(e,{address:t,abi:xd,functionName:"ownerCount"});for(let a=Number(o)-1;a>=0;a--){const c=await Ma(e,{address:t,abi:xd,functionName:"ownerAtIndex",args:[BigInt(a)]}),l=ixe(n);if(c.toLowerCase()===l.toLowerCase())return a}return-1}function ixe(t){return Li(t)?Di(t):t}async function OUt(){var t,e;const n=(e=(t=Qe.config.get().metadata)===null||t===void 0?void 0:t.appName)!==null&&e!==void 0?e:"App",r=LH();return new Promise(i=>{DH({dialogContext:"sub_account_add_owner"}),r.presentItem({title:`Re-authorize ${n}`,message:`${n} has lost access to your account. Please sign at the next step to re-authorize ${n}`,onClose:()=>{T4e({dialogContext:"sub_account_add_owner"}),i("cancel")},actionItems:[{text:"Continue",variant:"primary",onClick:()=>{Cy({dialogContext:"sub_account_add_owner",dialogAction:"confirm"}),r.clear(),i("authenticate")}},{text:"Not now",variant:"secondary",onClick:()=>{Cy({dialogContext:"sub_account_add_owner",dialogAction:"cancel"}),r.clear(),i("cancel")}}]})})}async function RUt({ownerAccount:t,globalAccountRequest:e}){var n,r;const i=Qe.account.get(),s=Qe.subAccounts.get(),o=(n=i.accounts)===null||n===void 0?void 0:n.find(g=>g.toLowerCase()!==(s==null?void 0:s.address.toLowerCase()));gu(o,at.provider.unauthorized("no global account")),gu((r=i.chain)===null||r===void 0?void 0:r.id,at.provider.unauthorized("no chain id")),gu(s==null?void 0:s.address,at.provider.unauthorized("no sub account"));const a=[];if(t.type==="local"&&t.address&&a.push({to:s.address,data:Jr({abi:xd,functionName:"addOwnerAddress",args:[t.address]}),value:sr(0)}),t.publicKey){const[g,m]=l0([{type:"bytes32"},{type:"bytes32"}],t.publicKey);a.push({to:s.address,data:Jr({abi:xd,functionName:"addOwnerPublicKey",args:[g,m]}),value:sr(0)})}const c={method:"wallet_sendCalls",params:[{version:"1",calls:a,chainId:Te(84532),from:o}]};if(await OUt()==="cancel")throw at.provider.unauthorized("user cancelled");const u=await e(c),d=K4e(i.chain.id);if(gu(d,at.rpc.internal(`client not found for chainId ${i.chain.id}`)),(await u7(d,{id:u})).status!=="success")throw at.rpc.internal("add owner call failed");const f=await rxe({address:s.address,publicKey:t.type==="local"&&t.address?t.address:t.publicKey,client:d});if(f===-1)throw at.rpc.internal("failed to find owner index");return f}async function MUt({errorData:t,globalAccountAddress:e,subAccountAddress:n,client:r,request:i,subAccountRequest:s,globalAccountRequest:o}){var a;const c=(a=r.chain)===null||a===void 0?void 0:a.id;gu(c,at.rpc.internal("invalid chainId"));const l=vUt({errorData:t,sourceAddress:e}),u=await wUt();if(u==="cancel")throw new Error("User cancelled funding");let d;const h=60*60*24,f=3;if(u==="update_permission"){if(l.length===1){const v=l[0],E=mUt({spendPermission:{token:v.token,allowance:Te(v.requiredAmount*BigInt(f)),period:h,account:e,spender:n,start:0,end:0xffffffffffff,salt:Te(BigInt(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),extraData:"0x"},chainId:c});d={method:"eth_signTypedData_v4",params:[e,E]}}else{const v=yUt({spendPermissionBatch:{account:e,period:h,start:0,end:0xffffffffffff,permissions:l.map(E=>({token:E.token,allowance:Te(E.requiredAmount*BigInt(f)),period:h,account:e,spender:n,salt:"0x0",extraData:"0x"}))},chainId:c});d={method:"eth_signTypedData_v4",params:[e,v]}}try{await o(d)}catch(v){throw console.error(v),new Error("User denied spend permission request")}return s(i)}const g=l.map(v=>v.token.toLowerCase()==="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE".toLowerCase()?{to:n,value:Te(v.requiredAmount),data:"0x"}:{to:v.token,value:"0x0",data:Jr({abi:ike,functionName:"transfer",args:[n,v.requiredAmount]})});let m;if(i.method==="wallet_sendCalls"&&bUt(i.params))m=i.params[0];else if(i.method==="eth_sendTransaction"&&xUt(i.params))m=nxe({calls:[i.params[0]],chainId:c,from:i.params[0].from}).params[0];else throw new Error("Could not get original call");const y=Jr({abi:xd,functionName:"executeBatch",args:[m.calls.map(v=>{var E,_;return{target:v.to,value:xi((E=v.value)!==null&&E!==void 0?E:"0x0"),data:(_=v.data)!==null&&_!==void 0?_:"0x"}})]}),w=[...g,{data:y,to:n,value:"0x0"}],b=await o({method:"wallet_sendCalls",params:[Object.assign(Object.assign({},m),{calls:w,from:e})]});return i.method==="eth_sendTransaction"?txe({client:r,id:b}):b}class jUt{constructor(e){var n,r,i,s;this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new dUt;const{account:o,chains:a}=Qe.getState();this.accounts=(n=o.accounts)!==null&&n!==void 0?n:[],this.chain=(r=o.chain)!==null&&r!==void 0?r:{id:(s=(i=e.metadata.appChainIds)===null||i===void 0?void 0:i[0])!==null&&s!==void 0?s:1},a&&V4e(a)}get isConnected(){return this.accounts.length>0}async handshake(e){var n,r,i;const s=Ap.get(e);WDt({method:e.method,correlationId:s});try{await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const o=await this.createRequestMessage({handshake:{method:e.method,params:(i=e.params)!==null&&i!==void 0?i:[]}},s),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const c=await Y4e("public",a.sender);await this.keyManager.setPeerPublicKey(c);const l=await this.decryptResponseMessage(a);this.handleResponse(e,l),HDt({method:e.method,correlationId:s})}catch(o){throw qDt({method:e.method,correlationId:s,errorMessage:EE(o)}),o}}async request(e){const n=Ap.get(e);VDt({method:e.method,correlationId:n});try{const r=await this._request(e);return GDt({method:e.method,correlationId:n}),r}catch(r){throw KDt({method:e.method,correlationId:n,errorMessage:EE(r)}),r}}async _request(e){var n,r,i,s,o,a,c,l,u,d;if(this.accounts.length===0)switch(e.method){case"wallet_switchEthereumChain":{exe(e.params),this.chain.id=Number(e.params[0].chainId);return}case"wallet_connect":{await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n)),await kV();let h={};_Ut(e,"addSubAccount")&&(h=(s=(i=Qe.subAccountsConfig.get())===null||i===void 0?void 0:i.capabilities)!==null&&s!==void 0?s:{});const f=j$(e,h);return this.sendRequestToPopup(f)}case"wallet_sendCalls":case"wallet_sign":return this.sendRequestToPopup(e);default:throw at.provider.unauthorized()}if(this.shouldRequestUseSubAccountSigner(e)){const h=Ap.get(e);ZDt({method:e.method,correlationId:h});try{const f=await this.sendRequestToSubAccountSigner(e);return YDt({method:e.method,correlationId:h}),f}catch(f){throw JDt({method:e.method,correlationId:h,errorMessage:EE(f)}),f}}switch(e.method){case"eth_requestAccounts":case"eth_accounts":{const h=Qe.subAccounts.get(),f=Qe.subAccountsConfig.get();return h!=null&&h.address&&(this.accounts=f!=null&&f.enableAutoSubAccounts?D$(this.accounts,h.address):L$(this.accounts,h.address)),(o=this.callback)===null||o===void 0||o.call(this,"connect",{chainId:Te(this.chain.id)}),this.accounts}case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Te(this.chain.id);case"wallet_getCapabilities":return this.handleGetCapabilitiesRequest(e);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);case"wallet_connect":{const h=await AUt();if(h)return h;await((c=(a=this.communicator).waitForPopupLoaded)===null||c===void 0?void 0:c.call(a)),await kV();const f=Qe.subAccountsConfig.get(),g=j$(e,(l=f==null?void 0:f.capabilities)!==null&&l!==void 0?l:{}),m=await this.sendRequestToPopup(g);return(u=this.callback)===null||u===void 0||u.call(this,"connect",{chainId:Te(this.chain.id)}),m}case"wallet_getSubAccounts":{const h=Qe.subAccounts.get();if(h!=null&&h.address)return{subAccounts:[h]};if(!this.chain.rpcUrl)throw at.rpc.internal("No RPC URL set for chain");const f=await C$(e,this.chain.rpcUrl);if(Wg(f.subAccounts,"subAccounts"),f.subAccounts.length>0){E$(f.subAccounts[0]);const g=f.subAccounts[0];Qe.subAccounts.set({address:g.address,factory:g.factory,factoryData:g.factoryData})}return f}case"wallet_addSubAccount":return this.addSubAccount(e);case"coinbase_fetchPermissions":{pUt(e);const h=gUt(e),f=await C$(h,g4e),g=Ta((d=h.params)===null||d===void 0?void 0:d[0].chainId);return Qe.spendPermissions.set(f.permissions.map(m=>Object.assign(Object.assign({},m),{chainId:g}))),f}default:if(!this.chain.rpcUrl)throw at.rpc.internal("No RPC URL set for chain");return C$(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),s=await this.decryptResponseMessage(i);return this.handleResponse(e,s)}async handleResponse(e,n){var r,i,s,o,a;const c=n.result;if("error"in c)throw c.error;switch(e.method){case"eth_requestAccounts":{const l=c.value;this.accounts=l,Qe.account.set({accounts:l,chain:this.chain}),(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",l);break}case"wallet_connect":{const l=c.value,u=l.accounts.map(w=>w.address);this.accounts=u,Qe.account.set({accounts:u});const d=l.accounts.at(0),h=d==null?void 0:d.capabilities;if(h!=null&&h.subAccounts){const w=h==null?void 0:h.subAccounts;Wg(w,"subAccounts"),E$(w[0]),Qe.subAccounts.set({address:w[0].address,factory:w[0].factory,factoryData:w[0].factoryData})}let f=[this.accounts[0]];const g=Qe.subAccounts.get(),m=Qe.subAccountsConfig.get();g!=null&&g.address&&(this.accounts=m!=null&&m.enableAutoSubAccounts?D$(this.accounts,g.address):L$(this.accounts,g.address));const y=(s=(i=l==null?void 0:l.accounts)===null||i===void 0?void 0:i[0].capabilities)===null||s===void 0?void 0:s.spendPermissions;y&&"permissions"in y&&Qe.spendPermissions.set(y==null?void 0:y.permissions),(o=this.callback)===null||o===void 0||o.call(this,"accountsChanged",f);break}case"wallet_addSubAccount":{E$(c.value);const l=c.value;Qe.subAccounts.set(l);const u=Qe.subAccountsConfig.get();this.accounts=u!=null&&u.enableAutoSubAccounts?D$(this.accounts,l.address):L$(this.accounts,l.address),(a=this.callback)===null||a===void 0||a.call(this,"accountsChanged",this.accounts);break}}return c.value}async cleanup(){var e,n;const r=Qe.config.get().metadata;await this.keyManager.clear(),Qe.account.clear(),Qe.subAccounts.clear(),Qe.spendPermissions.clear(),Qe.chains.clear(),this.accounts=[],this.chain={id:(n=(e=r==null?void 0:r.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){exe(e.params);const n=zDt(e.params[0].chainId);if(this.updateChain(n))return null;const i=await this.sendRequestToPopup(e);return i===null&&this.updateChain(n),i}async handleGetCapabilitiesRequest(e){fUt(e.params);const n=e.params[0],r=e.params[1];if(!this.accounts.some(a=>wm(a,n)))throw at.provider.unauthorized("no active account found when getting capabilities");const i=Qe.getState().account.capabilities;if(!i)return{};if(!r||r.length===0)return i;const s=new Set(r.map(a=>Ta(a)));return Object.fromEntries(Object.entries(i).filter(([a])=>{try{const c=Ta(a);return s.has(c)}catch{return!1}}))}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw at.provider.unauthorized("No shared secret found when encrypting request");const r=await MLt({action:e,chainId:this.chain.id},n),i=Ap.get(e),s=await this.createRequestMessage({encrypted:r},i);return this.communicator.postRequestAndWaitForResponse(s)}async createRequestMessage(e,n){const r=await Z4e("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),correlationId:n,sender:r,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r,i;const s=e.content;if("failure"in s)throw s.failure;const o=await this.keyManager.getSharedSecret();if(!o)throw at.provider.unauthorized("Invalid session: no shared secret found when decrypting response");const a=await jLt(s.encrypted,o),c=(n=a.data)===null||n===void 0?void 0:n.chains;if(c){const u=(r=a.data)===null||r===void 0?void 0:r.nativeCurrencies,d=Object.entries(c).map(([h,f])=>{const g=u==null?void 0:u[Number(h)];return Object.assign({id:Number(h),rpcUrl:f},g?{nativeCurrency:g}:{})});Qe.chains.set(d),this.updateChain(this.chain.id,d),V4e(d)}const l=(i=a.data)===null||i===void 0?void 0:i.capabilities;return l&&Qe.account.set({capabilities:l}),a}updateChain(e,n){var r;const i=Qe.getState(),s=n??i.chains,o=s==null?void 0:s.find(a=>a.id===e);return o?(o!==this.chain&&(this.chain=o,Qe.account.set({chain:o}),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",j4e(o.id))),!0):!1}async addSubAccount(e){var n,r,i,s;const a=Qe.getState().subAccount,c=Qe.subAccountsConfig.get();if(a!=null&&a.address)return this.accounts=c!=null&&c.enableAutoSubAccounts?D$(this.accounts,a.address):L$(this.accounts,a.address),(n=this.callback)===null||n===void 0||n.call(this,"accountsChanged",this.accounts),a;if(await((i=(r=this.communicator).waitForPopupLoaded)===null||i===void 0?void 0:i.call(r)),Array.isArray(e.params)&&e.params.length>0&&e.params[0].account&&e.params[0].account.type==="create"){let u;if(e.params[0].account.keys&&e.params[0].account.keys.length>0)u=e.params[0].account.keys;else{const d=(s=Qe.subAccountsConfig.get())!==null&&s!==void 0?s:{},{account:h}=d.toOwnerAccount?await d.toOwnerAccount():await M$();if(!h)throw at.provider.unauthorized("could not get subaccount owner account when adding sub account");u=[{type:h.address?"address":"webauthn-p256",publicKey:h.address||h.publicKey}]}e.params[0].account.keys=u}const l=await this.sendRequestToPopup(e);return E$(l),l}shouldRequestUseSubAccountSigner(e){const n=X8e(e),r=Qe.subAccounts.get();return n?n.toLowerCase()===(r==null?void 0:r.address.toLowerCase()):!1}async sendRequestToSubAccountSigner(e){var n;const r=Qe.subAccounts.get(),i=Qe.subAccountsConfig.get(),s=Qe.config.get();gu(r==null?void 0:r.address,at.provider.unauthorized("no active sub account when sending request to sub account signer"));const o=i!=null&&i.toOwnerAccount?await i.toOwnerAccount():await M$();gu(o==null?void 0:o.account,at.provider.unauthorized("no active sub account owner when sending request to sub account signer")),X8e(e)===void 0&&(e=hUt(e,r.address));const c=K4e(this.chain.id);gu(c,at.rpc.internal(`client not found for chainId ${this.chain.id} when sending request to sub account signer`));const l=this.accounts.find(g=>g.toLowerCase()!==r.address.toLowerCase());gu(l,at.provider.unauthorized("no global account found when sending request to sub account signer"));const u=CUt({attribution:(n=s.preference)===null||n===void 0?void 0:n.attribution,dappOrigin:window.location.origin}),d=o.account.type==="local"?o.account.address:o.account.publicKey;let h=await rxe({address:r.address,factory:r.factory,factoryData:r.factoryData,publicKey:d,client:c});if(h===-1){const g=Ap.get(e);QDt({method:e.method,correlationId:g});try{h=await RUt({ownerAccount:o.account,globalAccountRequest:this.sendRequestToPopup.bind(this)}),XDt({method:e.method,correlationId:g})}catch(m){return eLt({method:e.method,correlationId:g,errorMessage:EE(m)}),at.provider.unauthorized("failed to add sub account owner when sending request to sub account signer")}}const{request:f}=await NUt({address:r.address,owner:o.account,client:c,factory:r.factory,factoryData:r.factoryData,parentAddress:l,attribution:u?{suffix:u}:void 0,ownerIndex:h});try{return await f(e)}catch(g){let m;if(k4e(g))m=JSON.parse(g.details);else if(I4e(g))m=g;else throw g;if(!(I4e(m)&&m.data)||!m.data)throw g;const y=Ap.get(e);tLt({method:e.method,correlationId:y});try{const w=await MUt({errorData:m.data,globalAccountAddress:l,subAccountAddress:r.address,client:c,request:e,subAccountRequest:f,globalAccountRequest:this.request.bind(this)});return nLt({method:e.method,correlationId:y}),w}catch(w){throw console.error(w),rLt({method:e.method,correlationId:y,errorMessage:EE(w)}),g}}}}var DUt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class LUt extends PDt{constructor(e){var{metadata:n}=e,r=e.preference,{walletUrl:i}=r,s=DUt(r,["walletUrl"]);super(),this.isBaseAccount=!0,this.communicator=new IDt({url:i,metadata:n,preference:s}),this.signer=new jUt({metadata:n,communicator:this.communicator,callback:this.emit.bind(this)})}async request(e){const n=crypto.randomUUID();Ap.set(e,n),NDt({method:e.method,correlationId:n});try{const r=await this._request(e);return RDt({method:e.method,correlationId:n}),r}catch(r){throw ODt({method:e.method,correlationId:n,errorMessage:r instanceof Error?r.message:""}),r}finally{Ap.delete(e)}}async _request(e){var n,r;try{if(DLt(e),!this.signer.isConnected)switch(e.method){case"eth_requestAccounts":{await this.signer.handshake({method:"handshake"}),await kV(),await this.signer.request({method:"wallet_connect",params:[{version:"1",capabilities:Object.assign({},(r=(n=Qe.subAccountsConfig.get())===null||n===void 0?void 0:n.capabilities)!==null&&r!==void 0?r:{})}]});break}case"wallet_connect":return await this.signer.handshake({method:"handshake"}),await this.signer.request(e);case"wallet_sendCalls":case"wallet_sign":try{return await this.signer.handshake({method:"handshake"}),await this.signer.request(e)}finally{await this.signer.cleanup()}case"wallet_getCallsStatus":return await C$(e,g4e);case"eth_accounts":return[];case"net_version":return 1;case"eth_chainId":return j4e(1);default:throw at.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(i){const{code:s}=i;return s===Mi.provider.unauthorized&&await this.disconnect(),Promise.reject(kDt(i))}}async disconnect(){await this.signer.cleanup(),Ap.clear(),this.emit("disconnect",at.provider.disconnected("User initiated disconnection"))}}const BUt="isCoinbaseBrowser";function UUt(){var t,e;const n=(t=window.ethereum)!==null&&t!==void 0?t:(e=window.top)===null||e===void 0?void 0:e.ethereum;return n!=null&&n[BUt]?n:null}function sxe(t){var e,n,r,i;const s={metadata:{appName:t.appName||"App",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:(e=t.preference)!==null&&e!==void 0?e:{},paymasterUrls:t.paymasterUrls};!((n=t.subAccounts)===null||n===void 0)&&n.toOwnerAccount&&$4e(t.subAccounts.toOwnerAccount),Qe.subAccountsConfig.set({toOwnerAccount:(r=t.subAccounts)===null||r===void 0?void 0:r.toOwnerAccount,enableAutoSubAccounts:(i=t.subAccounts)===null||i===void 0?void 0:i.enableAutoSubAccounts}),Qe.config.set(s),Qe.persist.rehydrate(),tDt(),rDt(s.preference),s.preference.telemetry!==!1&&Hjt();let o=null;const a={getProvider:()=>{var c;return o||(o=(c=UUt())!==null&&c!==void 0?c:new LUt(s)),o},subAccount:{async create(c){var l;return await((l=a.getProvider())===null||l===void 0?void 0:l.request({method:"wallet_addSubAccount",params:[{version:"1",account:c}]}))},async get(){var c,l;const u=Qe.subAccounts.get();if(u!=null&&u.address)return u;const h=(l=(await((c=a.getProvider())===null||c===void 0?void 0:c.request({method:"wallet_connect",params:[{version:"1",capabilities:{}}]}))).accounts[0].capabilities)===null||l===void 0?void 0:l.subAccounts;return Array.isArray(h)?h[0]:null},addOwner:async({address:c,publicKey:l,chainId:u})=>{var d,h;const f=Qe.subAccounts.get(),g=Qe.account.get();gu(g,new Error("account does not exist")),gu(f==null?void 0:f.address,new Error("subaccount does not exist"));const m=[];if(l){const[y,w]=l0([{type:"bytes32"},{type:"bytes32"}],l);m.push({to:f.address,data:Jr({abi:xd,functionName:"addOwnerPublicKey",args:[y,w]}),value:sr(0)})}return c&&m.push({to:f.address,data:Jr({abi:xd,functionName:"addOwnerAddress",args:[c]}),value:sr(0)}),await((d=a.getProvider())===null||d===void 0?void 0:d.request({method:"wallet_sendCalls",params:[{calls:m,chainId:sr(u),from:(h=g.accounts)===null||h===void 0?void 0:h[0],version:"1"}]}))},setToOwnerAccount(c){$4e(c),Qe.subAccountsConfig.set({toOwnerAccount:c})}}};return a}const F$={USDC:{decimals:6,addresses:{base:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",baseSepolia:"0x036CbD53842c5426634e7929541eC2318f3dCF7e"}}},TV={base:8453,baseSepolia:84532},oxe=[{name:"transfer",type:"function",stateMutability:"nonpayable",inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{name:"Transfer",type:"event",anonymous:!1,inputs:[{name:"from",type:"address",indexed:!0},{name:"to",type:"address",indexed:!0},{name:"value",type:"uint256",indexed:!1}]}],FUt=({amount:t,testnet:e,correlationId:n})=>{rr("payment.pay.started",{action:Gn.process,componentType:Kn.unknown,method:"pay",correlationId:n,signerType:"base-account",amount:t,testnet:e},Zn.high)},zUt=({amount:t,testnet:e,correlationId:n,errorMessage:r})=>{rr("payment.pay.error",{action:Gn.error,componentType:Kn.unknown,method:"pay",correlationId:n,signerType:"base-account",amount:t,testnet:e,errorMessage:r},Zn.high)},WUt=({amount:t,testnet:e,correlationId:n})=>{rr("payment.pay.completed",{action:Gn.process,componentType:Kn.unknown,method:"pay",correlationId:n,signerType:"base-account",amount:t,testnet:e},Zn.high)},qUt=({testnet:t,correlationId:e})=>{rr("payment.status_check.started",{action:Gn.process,componentType:Kn.unknown,method:"getPaymentStatus",correlationId:e,signerType:"base-account",testnet:t},Zn.low)},z$=({testnet:t,status:e,correlationId:n})=>{rr("payment.status_check.completed",{action:Gn.process,componentType:Kn.unknown,method:"getPaymentStatus",correlationId:n,signerType:"base-account",testnet:t,status:e},Zn.low)},axe=({testnet:t,correlationId:e,errorMessage:n})=>{rr("payment.status_check.error",{action:Gn.error,componentType:Kn.unknown,method:"getPaymentStatus",correlationId:e,errorMessage:n,signerType:"base-account",testnet:t},Zn.low)};async function cxe(t){var e;const{id:n,testnet:r=!1,telemetry:i=!0}=t,s=crypto.randomUUID();i&&qUt({testnet:r,correlationId:s});try{const o=r?"https://api.developer.coinbase.com/rpc/v1/base-sepolia/S-fOd2n2Oi4fl4e1Crm83XeDXZ7tkg8O":"https://api.developer.coinbase.com/rpc/v1/base/S-fOd2n2Oi4fl4e1Crm83XeDXZ7tkg8O",a=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"eth_getUserOperationReceipt",params:[n]})}).then(d=>d.json());if(a.error){console.error("[getPaymentStatus] RPC error:",a.error);const d=a.error.message||"Network error";return i&&axe({testnet:r,correlationId:s,errorMessage:d}),{status:"failed",id:n,message:"Unable to check payment status. Please try again later.",error:d}}if(!a.result){const d=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:2,method:"eth_getUserOperationByHash",params:[n]})}).then(f=>f.json());return d.result?(i&&z$({testnet:r,status:"pending",correlationId:s}),{status:"pending",id:n,message:"Your payment is being processed. This usually takes a few seconds.",sender:d.result.sender}):(i&&z$({testnet:r,status:"not_found",correlationId:s}),{status:"not_found",id:n,message:"Payment not found. Please check your transaction ID."})}const{success:c,receipt:l,reason:u}=a.result;if(c){let d,h;if(l!=null&&l.logs){const g=r?"baseSepolia":"base",m=F$.USDC.addresses[g].toLowerCase();for(const y of l.logs)if(((e=y.address)===null||e===void 0?void 0:e.toLowerCase())===m)try{const w=O5({abi:oxe,data:y.data,topics:y.topics});if(w.eventName==="Transfer"&&w.args){const b=w.args;if(b.value&&b.to){d=es(b.value,6),h=b.to;break}}}catch(w){console.error("[getPaymentStatus] Error parsing log:",w)}}return i&&z$({testnet:r,status:"completed",correlationId:s}),{status:"completed",id:n,message:"Payment completed successfully",sender:a.result.sender,amount:d,recipient:h}}else{let d="Payment could not be completed";return u&&(u.toLowerCase().includes("insufficient")?d="Insufficient USDC balance":u.toLowerCase().includes("revert")?d="Payment was rejected":d=u),i&&z$({testnet:r,status:"failed",correlationId:s}),{status:"failed",id:n,message:"Payment failed",sender:a.result.sender,error:d}}}catch(o){console.error("[getPaymentStatus] Error checking status:",o);const a=o instanceof Error?o.message:"Connection error";return i&&axe({testnet:r,correlationId:s,errorMessage:a}),{status:"failed",id:n,message:"Unable to check payment status",error:a}}}function HUt(t,e,n=!0){const r=typeof window<"u"?window.location.origin:"Base Pay SDK";return sxe({appName:r,appChainIds:[t],preference:{telemetry:n,walletUrl:e}})}async function VUt(t,e){var n;const i=await t.getProvider().request({method:"wallet_sendCalls",params:[e]});let s,o;if(typeof i=="string"&&i.length>=66)s=i.slice(0,66);else if(typeof i=="object"&&i!==null){const a=i;if(typeof a.id=="string"&&a.id.length>=66)s=a.id.slice(0,66),!((n=a.capabilities)===null||n===void 0)&&n.dataCallback&&(o=a.capabilities.dataCallback);else throw new Error(`Could not extract transaction hash from object response. Available fields: ${Object.keys(a).join(", ")}`)}else throw new Error(`Unexpected response format from wallet_sendCalls: expected string with length > 66 or object with id, got ${typeof i}`);return{transactionHash:s,payerInfoResponses:o}}async function KUt(t,e,n,r=!0){const s=TV[e?"baseSepolia":"base"],o=HUt(s,n,r),a=o.getProvider();try{return await VUt(o,t)}finally{await a.disconnect()}}function GUt(t,e){const n=Zee(e,F$.USDC.decimals);return Jr({abi:oxe,functionName:"transfer",args:[t,n]})}function ZUt(t,e,n){const r=e?"baseSepolia":"base",i=TV[r],o={to:F$.USDC.addresses[r],data:t,value:"0x0"},a={};return n&&n.requests.length>0&&(a.dataCallback={requests:n.requests.map(l=>{var u;return{type:l.type,optional:(u=l.optional)!==null&&u!==void 0?u:!1}}),callbackURL:n.callbackURL}),{version:"2.0.0",chainId:i,calls:[o],capabilities:a}}function YUt(t,e,n,r){const i=GUt(t,e);return ZUt(i,n,r)}function JUt(t,e){if(typeof t!="string")throw new Error("Invalid amount: must be a string");const n=parseFloat(t);if(isNaN(n))throw new Error("Invalid amount: must be a valid number");if(n<=0)throw new Error("Invalid amount: must be greater than 0");const r=t.indexOf(".");if(r!==-1&&t.length-r-1>e)throw new Error(`Invalid amount: pay only supports up to ${e} decimal places`)}function QUt(t){if(!t)throw new Error("Invalid address: address is required");if(!Li(t))throw new Error("Invalid address: must be a valid Ethereum address")}async function lxe(t){var e;const{amount:n,to:r,testnet:i=!1,payerInfo:s,walletUrl:o,telemetry:a=!0}=t,c=crypto.randomUUID();a&&FUt({amount:n,testnet:i,correlationId:c});try{JUt(n,2),QUt(r);const l=YUt(r,n,i,s),u=await KUt(l,i,o,a);return a&&WUt({amount:n,testnet:i,correlationId:c}),{success:!0,id:u.transactionHash,amount:n,to:r,payerInfoResponses:u.payerInfoResponses}}catch(l){let u="Unknown error occurred";if(l instanceof Error)u=l.message;else if(typeof l=="string")u=l;else if(l&&typeof l=="object"){const d=l;typeof(d==null?void 0:d.message)=="string"?u=d.message:typeof((e=d==null?void 0:d.error)===null||e===void 0?void 0:e.message)=="string"?u=d.error.message:typeof(d==null?void 0:d.reason)=="string"&&(u=d.reason)}return a&&zUt({amount:n,testnet:i,correlationId:c,errorMessage:u}),{success:!1,error:u,amount:n,to:r}}}const XUt=Object.freeze(Object.defineProperty({__proto__:null,base:{pay:lxe,getPaymentStatus:cxe,constants:{CHAIN_IDS:TV,TOKENS:F$},types:{}},createBaseAccountSDK:sxe,getCryptoKeyAccount:M$,getPaymentStatus:cxe,pay:lxe,removeCryptoKey:uUt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const eFt={attribute:!0,type:String,converter:t$,reflect:!1,hasChanged:_H},tFt=(t=eFt,e,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),r==="setter"&&((t=Object.create(t)).wrapped=!0),s.set(n.name,t),r==="accessor"){const{name:o}=n;return{set(a){const c=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,c,t,!0,a)},init(a){return a!==void 0&&this.C(o,void 0,t,a),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];e.call(this,a),this.requestUpdate(o,c,t,!0,a)}}throw Error("Unsupported decorator location: "+r)};function ue(t){return(e,n)=>typeof n=="object"?tFt(t,e,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(t,e,n)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ct(t){return ue({...t,state:!0,attribute:!1})}const nFt=Bt`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
  }
`;var gl=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ba=class extends vt{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&Ms.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&Ms.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&Ms.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&Ms.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&Ms.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&Ms.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&Ms.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&Ms.getSpacingStyles(this.margin,3)};
    `,re`<slot></slot>`}};ba.styles=[Qn,nFt],gl([ue()],ba.prototype,"flexDirection",void 0),gl([ue()],ba.prototype,"flexWrap",void 0),gl([ue()],ba.prototype,"flexBasis",void 0),gl([ue()],ba.prototype,"flexGrow",void 0),gl([ue()],ba.prototype,"flexShrink",void 0),gl([ue()],ba.prototype,"alignItems",void 0),gl([ue()],ba.prototype,"justifyContent",void 0),gl([ue()],ba.prototype,"columnGap",void 0),gl([ue()],ba.prototype,"rowGap",void 0),gl([ue()],ba.prototype,"gap",void 0),gl([ue()],ba.prototype,"padding",void 0),gl([ue()],ba.prototype,"margin",void 0),ba=gl([mt("wui-flex")],ba);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ut=t=>t??Oi;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const rFt=t=>t===null||typeof t!="object"&&typeof t!="function",iFt=t=>t.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const uxe={ATTRIBUTE:1,CHILD:2},PV=t=>(...e)=>({_$litDirective$:t,values:e});let dxe=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const SE=(t,e)=>{var r;const n=t._$AN;if(n===void 0)return!1;for(const i of n)(r=i._$AO)==null||r.call(i,e,!1),SE(i,e);return!0},W$=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while((n==null?void 0:n.size)===0)},hxe=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),aFt(e)}};function sFt(t){this._$AN!==void 0?(W$(this),this._$AM=t,hxe(this)):this._$AM=t}function oFt(t,e=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(r))for(let s=n;s<r.length;s++)SE(r[s],!1),W$(r[s]);else r!=null&&(SE(r,!1),W$(r));else SE(this,t)}const aFt=t=>{t.type==uxe.CHILD&&(t._$AP??(t._$AP=oFt),t._$AQ??(t._$AQ=sFt))};class fxe extends dxe{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,n,r){super._$AT(e,n,r),hxe(this),this.isConnected=e._$AU}_$AO(e,n=!0){var r,i;e!==this.isConnected&&(this.isConnected=e,e?(r=this.reconnected)==null||r.call(this):(i=this.disconnected)==null||i.call(this)),n&&(SE(this,e),W$(this))}setValue(e){if(iFt(this._$Ct))this._$Ct._$AI(e,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=e,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class cFt{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class lFt{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??(this.Y=new Promise(e=>this.Z=e))}resume(){var e;(e=this.Z)==null||e.call(this),this.Y=this.Z=void 0}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pxe=t=>!rFt(t)&&typeof t.then=="function",gxe=1073741823;class uFt extends fxe{constructor(){super(...arguments),this._$Cwt=gxe,this._$Cbt=[],this._$CK=new cFt(this),this._$CX=new lFt}render(...e){return e.find(n=>!pxe(n))??_p}update(e,n){const r=this._$Cbt;let i=r.length;this._$Cbt=n;const s=this._$CK,o=this._$CX;this.isConnected||this.disconnected();for(let a=0;a<n.length&&!(a>this._$Cwt);a++){const c=n[a];if(!pxe(c))return this._$Cwt=a,c;a<i&&c===r[a]||(this._$Cwt=gxe,i=0,Promise.resolve(c).then(async l=>{for(;o.get();)await o.get();const u=s.deref();if(u!==void 0){const d=u._$Cbt.indexOf(c);d>-1&&d<u._$Cwt&&(u._$Cwt=d,u.setValue(l))}}))}return _p}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const dFt=PV(uFt);class hFt{constructor(){this.cache=new Map}set(e,n){this.cache.set(e,n)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}}const NV=new hFt,fFt=Bt`
  :host {
    display: flex;
    aspect-ratio: var(--local-aspect-ratio);
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    width: inherit;
    height: inherit;
    object-fit: contain;
    object-position: center;
  }

  .fallback {
    width: var(--local-width);
    height: var(--local-height);
  }
`;var IE=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const mxe={add:async()=>(await De(async()=>{const{addSvg:t}=await Promise.resolve().then(()=>gWt);return{addSvg:t}},void 0)).addSvg,allWallets:async()=>(await De(async()=>{const{allWalletsSvg:t}=await Promise.resolve().then(()=>yWt);return{allWalletsSvg:t}},void 0)).allWalletsSvg,arrowBottomCircle:async()=>(await De(async()=>{const{arrowBottomCircleSvg:t}=await Promise.resolve().then(()=>vWt);return{arrowBottomCircleSvg:t}},void 0)).arrowBottomCircleSvg,appStore:async()=>(await De(async()=>{const{appStoreSvg:t}=await Promise.resolve().then(()=>xWt);return{appStoreSvg:t}},void 0)).appStoreSvg,apple:async()=>(await De(async()=>{const{appleSvg:t}=await Promise.resolve().then(()=>CWt);return{appleSvg:t}},void 0)).appleSvg,arrowBottom:async()=>(await De(async()=>{const{arrowBottomSvg:t}=await Promise.resolve().then(()=>AWt);return{arrowBottomSvg:t}},void 0)).arrowBottomSvg,arrowLeft:async()=>(await De(async()=>{const{arrowLeftSvg:t}=await Promise.resolve().then(()=>IWt);return{arrowLeftSvg:t}},void 0)).arrowLeftSvg,arrowRight:async()=>(await De(async()=>{const{arrowRightSvg:t}=await Promise.resolve().then(()=>$Wt);return{arrowRightSvg:t}},void 0)).arrowRightSvg,arrowTop:async()=>(await De(async()=>{const{arrowTopSvg:t}=await Promise.resolve().then(()=>PWt);return{arrowTopSvg:t}},void 0)).arrowTopSvg,bank:async()=>(await De(async()=>{const{bankSvg:t}=await Promise.resolve().then(()=>OWt);return{bankSvg:t}},void 0)).bankSvg,browser:async()=>(await De(async()=>{const{browserSvg:t}=await Promise.resolve().then(()=>MWt);return{browserSvg:t}},void 0)).browserSvg,card:async()=>(await De(async()=>{const{cardSvg:t}=await Promise.resolve().then(()=>DWt);return{cardSvg:t}},void 0)).cardSvg,checkmark:async()=>(await De(async()=>{const{checkmarkSvg:t}=await Promise.resolve().then(()=>BWt);return{checkmarkSvg:t}},void 0)).checkmarkSvg,checkmarkBold:async()=>(await De(async()=>{const{checkmarkBoldSvg:t}=await Promise.resolve().then(()=>FWt);return{checkmarkBoldSvg:t}},void 0)).checkmarkBoldSvg,chevronBottom:async()=>(await De(async()=>{const{chevronBottomSvg:t}=await Promise.resolve().then(()=>WWt);return{chevronBottomSvg:t}},void 0)).chevronBottomSvg,chevronLeft:async()=>(await De(async()=>{const{chevronLeftSvg:t}=await Promise.resolve().then(()=>HWt);return{chevronLeftSvg:t}},void 0)).chevronLeftSvg,chevronRight:async()=>(await De(async()=>{const{chevronRightSvg:t}=await Promise.resolve().then(()=>KWt);return{chevronRightSvg:t}},void 0)).chevronRightSvg,chevronTop:async()=>(await De(async()=>{const{chevronTopSvg:t}=await Promise.resolve().then(()=>ZWt);return{chevronTopSvg:t}},void 0)).chevronTopSvg,chromeStore:async()=>(await De(async()=>{const{chromeStoreSvg:t}=await Promise.resolve().then(()=>JWt);return{chromeStoreSvg:t}},void 0)).chromeStoreSvg,clock:async()=>(await De(async()=>{const{clockSvg:t}=await Promise.resolve().then(()=>XWt);return{clockSvg:t}},void 0)).clockSvg,close:async()=>(await De(async()=>{const{closeSvg:t}=await Promise.resolve().then(()=>tqt);return{closeSvg:t}},void 0)).closeSvg,compass:async()=>(await De(async()=>{const{compassSvg:t}=await Promise.resolve().then(()=>rqt);return{compassSvg:t}},void 0)).compassSvg,coinPlaceholder:async()=>(await De(async()=>{const{coinPlaceholderSvg:t}=await Promise.resolve().then(()=>sqt);return{coinPlaceholderSvg:t}},void 0)).coinPlaceholderSvg,copy:async()=>(await De(async()=>{const{copySvg:t}=await Promise.resolve().then(()=>aqt);return{copySvg:t}},void 0)).copySvg,cursor:async()=>(await De(async()=>{const{cursorSvg:t}=await Promise.resolve().then(()=>lqt);return{cursorSvg:t}},void 0)).cursorSvg,cursorTransparent:async()=>(await De(async()=>{const{cursorTransparentSvg:t}=await Promise.resolve().then(()=>dqt);return{cursorTransparentSvg:t}},void 0)).cursorTransparentSvg,desktop:async()=>(await De(async()=>{const{desktopSvg:t}=await Promise.resolve().then(()=>fqt);return{desktopSvg:t}},void 0)).desktopSvg,disconnect:async()=>(await De(async()=>{const{disconnectSvg:t}=await Promise.resolve().then(()=>gqt);return{disconnectSvg:t}},void 0)).disconnectSvg,discord:async()=>(await De(async()=>{const{discordSvg:t}=await Promise.resolve().then(()=>yqt);return{discordSvg:t}},void 0)).discordSvg,etherscan:async()=>(await De(async()=>{const{etherscanSvg:t}=await Promise.resolve().then(()=>vqt);return{etherscanSvg:t}},void 0)).etherscanSvg,extension:async()=>(await De(async()=>{const{extensionSvg:t}=await Promise.resolve().then(()=>xqt);return{extensionSvg:t}},void 0)).extensionSvg,externalLink:async()=>(await De(async()=>{const{externalLinkSvg:t}=await Promise.resolve().then(()=>Cqt);return{externalLinkSvg:t}},void 0)).externalLinkSvg,facebook:async()=>(await De(async()=>{const{facebookSvg:t}=await Promise.resolve().then(()=>Aqt);return{facebookSvg:t}},void 0)).facebookSvg,farcaster:async()=>(await De(async()=>{const{farcasterSvg:t}=await Promise.resolve().then(()=>Iqt);return{farcasterSvg:t}},void 0)).farcasterSvg,filters:async()=>(await De(async()=>{const{filtersSvg:t}=await Promise.resolve().then(()=>$qt);return{filtersSvg:t}},void 0)).filtersSvg,github:async()=>(await De(async()=>{const{githubSvg:t}=await Promise.resolve().then(()=>Pqt);return{githubSvg:t}},void 0)).githubSvg,google:async()=>(await De(async()=>{const{googleSvg:t}=await Promise.resolve().then(()=>Oqt);return{googleSvg:t}},void 0)).googleSvg,helpCircle:async()=>(await De(async()=>{const{helpCircleSvg:t}=await Promise.resolve().then(()=>Mqt);return{helpCircleSvg:t}},void 0)).helpCircleSvg,image:async()=>(await De(async()=>{const{imageSvg:t}=await Promise.resolve().then(()=>Dqt);return{imageSvg:t}},void 0)).imageSvg,id:async()=>(await De(async()=>{const{idSvg:t}=await Promise.resolve().then(()=>Bqt);return{idSvg:t}},void 0)).idSvg,infoCircle:async()=>(await De(async()=>{const{infoCircleSvg:t}=await Promise.resolve().then(()=>Fqt);return{infoCircleSvg:t}},void 0)).infoCircleSvg,lightbulb:async()=>(await De(async()=>{const{lightbulbSvg:t}=await Promise.resolve().then(()=>Wqt);return{lightbulbSvg:t}},void 0)).lightbulbSvg,mail:async()=>(await De(async()=>{const{mailSvg:t}=await Promise.resolve().then(()=>Hqt);return{mailSvg:t}},void 0)).mailSvg,mobile:async()=>(await De(async()=>{const{mobileSvg:t}=await Promise.resolve().then(()=>Kqt);return{mobileSvg:t}},void 0)).mobileSvg,more:async()=>(await De(async()=>{const{moreSvg:t}=await Promise.resolve().then(()=>Zqt);return{moreSvg:t}},void 0)).moreSvg,networkPlaceholder:async()=>(await De(async()=>{const{networkPlaceholderSvg:t}=await Promise.resolve().then(()=>Jqt);return{networkPlaceholderSvg:t}},void 0)).networkPlaceholderSvg,nftPlaceholder:async()=>(await De(async()=>{const{nftPlaceholderSvg:t}=await Promise.resolve().then(()=>Xqt);return{nftPlaceholderSvg:t}},void 0)).nftPlaceholderSvg,off:async()=>(await De(async()=>{const{offSvg:t}=await Promise.resolve().then(()=>tHt);return{offSvg:t}},void 0)).offSvg,playStore:async()=>(await De(async()=>{const{playStoreSvg:t}=await Promise.resolve().then(()=>rHt);return{playStoreSvg:t}},void 0)).playStoreSvg,plus:async()=>(await De(async()=>{const{plusSvg:t}=await Promise.resolve().then(()=>sHt);return{plusSvg:t}},void 0)).plusSvg,qrCode:async()=>(await De(async()=>{const{qrCodeIcon:t}=await Promise.resolve().then(()=>aHt);return{qrCodeIcon:t}},void 0)).qrCodeIcon,recycleHorizontal:async()=>(await De(async()=>{const{recycleHorizontalSvg:t}=await Promise.resolve().then(()=>lHt);return{recycleHorizontalSvg:t}},void 0)).recycleHorizontalSvg,refresh:async()=>(await De(async()=>{const{refreshSvg:t}=await Promise.resolve().then(()=>dHt);return{refreshSvg:t}},void 0)).refreshSvg,search:async()=>(await De(async()=>{const{searchSvg:t}=await Promise.resolve().then(()=>fHt);return{searchSvg:t}},void 0)).searchSvg,send:async()=>(await De(async()=>{const{sendSvg:t}=await Promise.resolve().then(()=>gHt);return{sendSvg:t}},void 0)).sendSvg,swapHorizontal:async()=>(await De(async()=>{const{swapHorizontalSvg:t}=await Promise.resolve().then(()=>yHt);return{swapHorizontalSvg:t}},void 0)).swapHorizontalSvg,swapHorizontalMedium:async()=>(await De(async()=>{const{swapHorizontalMediumSvg:t}=await Promise.resolve().then(()=>vHt);return{swapHorizontalMediumSvg:t}},void 0)).swapHorizontalMediumSvg,swapHorizontalBold:async()=>(await De(async()=>{const{swapHorizontalBoldSvg:t}=await Promise.resolve().then(()=>xHt);return{swapHorizontalBoldSvg:t}},void 0)).swapHorizontalBoldSvg,swapHorizontalRoundedBold:async()=>(await De(async()=>{const{swapHorizontalRoundedBoldSvg:t}=await Promise.resolve().then(()=>CHt);return{swapHorizontalRoundedBoldSvg:t}},void 0)).swapHorizontalRoundedBoldSvg,swapVertical:async()=>(await De(async()=>{const{swapVerticalSvg:t}=await Promise.resolve().then(()=>AHt);return{swapVerticalSvg:t}},void 0)).swapVerticalSvg,telegram:async()=>(await De(async()=>{const{telegramSvg:t}=await Promise.resolve().then(()=>IHt);return{telegramSvg:t}},void 0)).telegramSvg,threeDots:async()=>(await De(async()=>{const{threeDotsSvg:t}=await Promise.resolve().then(()=>$Ht);return{threeDotsSvg:t}},void 0)).threeDotsSvg,twitch:async()=>(await De(async()=>{const{twitchSvg:t}=await Promise.resolve().then(()=>PHt);return{twitchSvg:t}},void 0)).twitchSvg,twitter:async()=>(await De(async()=>{const{xSvg:t}=await Promise.resolve().then(()=>tEe);return{xSvg:t}},void 0)).xSvg,twitterIcon:async()=>(await De(async()=>{const{twitterIconSvg:t}=await Promise.resolve().then(()=>RHt);return{twitterIconSvg:t}},void 0)).twitterIconSvg,verify:async()=>(await De(async()=>{const{verifySvg:t}=await Promise.resolve().then(()=>jHt);return{verifySvg:t}},void 0)).verifySvg,verifyFilled:async()=>(await De(async()=>{const{verifyFilledSvg:t}=await Promise.resolve().then(()=>LHt);return{verifyFilledSvg:t}},void 0)).verifyFilledSvg,wallet:async()=>(await De(async()=>{const{walletSvg:t}=await Promise.resolve().then(()=>UHt);return{walletSvg:t}},void 0)).walletSvg,walletConnect:async()=>(await De(async()=>{const{walletConnectSvg:t}=await Promise.resolve().then(()=>yK);return{walletConnectSvg:t}},void 0)).walletConnectSvg,walletConnectLightBrown:async()=>(await De(async()=>{const{walletConnectLightBrownSvg:t}=await Promise.resolve().then(()=>yK);return{walletConnectLightBrownSvg:t}},void 0)).walletConnectLightBrownSvg,walletConnectBrown:async()=>(await De(async()=>{const{walletConnectBrownSvg:t}=await Promise.resolve().then(()=>yK);return{walletConnectBrownSvg:t}},void 0)).walletConnectBrownSvg,walletPlaceholder:async()=>(await De(async()=>{const{walletPlaceholderSvg:t}=await Promise.resolve().then(()=>HHt);return{walletPlaceholderSvg:t}},void 0)).walletPlaceholderSvg,warningCircle:async()=>(await De(async()=>{const{warningCircleSvg:t}=await Promise.resolve().then(()=>KHt);return{warningCircleSvg:t}},void 0)).warningCircleSvg,x:async()=>(await De(async()=>{const{xSvg:t}=await Promise.resolve().then(()=>tEe);return{xSvg:t}},void 0)).xSvg,info:async()=>(await De(async()=>{const{infoSvg:t}=await Promise.resolve().then(()=>ZHt);return{infoSvg:t}},void 0)).infoSvg,exclamationTriangle:async()=>(await De(async()=>{const{exclamationTriangleSvg:t}=await Promise.resolve().then(()=>JHt);return{exclamationTriangleSvg:t}},void 0)).exclamationTriangleSvg,reown:async()=>(await De(async()=>{const{reownSvg:t}=await Promise.resolve().then(()=>XHt);return{reownSvg:t}},void 0)).reownSvg};async function pFt(t){if(NV.has(t))return NV.get(t);const n=(mxe[t]??mxe.copy)();return NV.set(t,n),n}let $y=class extends vt{constructor(){super(...arguments),this.size="md",this.name="copy",this.color="fg-300",this.aspectRatio="1 / 1"}render(){return this.style.cssText=`
      --local-color: ${`var(--wui-color-${this.color});`}
      --local-width: ${`var(--wui-icon-size-${this.size});`}
      --local-aspect-ratio: ${this.aspectRatio}
    `,re`${dFt(pFt(this.name),re`<div class="fallback"></div>`)}`}};$y.styles=[Qn,wE,fFt],IE([ue()],$y.prototype,"size",void 0),IE([ue()],$y.prototype,"name",void 0),IE([ue()],$y.prototype,"color",void 0),IE([ue()],$y.prototype,"aspectRatio",void 0),$y=IE([mt("wui-icon")],$y);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const yxe=PV(class extends dxe{constructor(t){var e;if(super(t),t.type!==uxe.ATTRIBUTE||t.name!=="class"||((e=t.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,i;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in e)e[s]&&!((r=this.nt)!=null&&r.has(s))&&this.st.add(s);return this.render(e)}const n=t.element.classList;for(const s of this.st)s in e||(n.remove(s),this.st.delete(s));for(const s in e){const o=!!e[s];o===this.st.has(s)||(i=this.nt)!=null&&i.has(s)||(o?(n.add(s),this.st.add(s)):(n.remove(s),this.st.delete(s)))}return _p}}),gFt=Bt`
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    font-family: var(--wui-font-family);
    font-feature-settings:
      'tnum' on,
      'lnum' on,
      'case' on;
    line-height: 130%;
    font-weight: var(--wui-font-weight-regular);
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .wui-font-medium-400 {
    font-size: var(--wui-font-size-medium);
    font-weight: var(--wui-font-weight-light);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-medium-600 {
    font-size: var(--wui-font-size-medium);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-title-600 {
    font-size: var(--wui-font-size-title);
    letter-spacing: var(--wui-letter-spacing-title);
  }

  .wui-font-title-6-600 {
    font-size: var(--wui-font-size-title-6);
    letter-spacing: var(--wui-letter-spacing-title-6);
  }

  .wui-font-mini-700 {
    font-size: var(--wui-font-size-mini);
    letter-spacing: var(--wui-letter-spacing-mini);
    text-transform: uppercase;
  }

  .wui-font-large-500,
  .wui-font-large-600,
  .wui-font-large-700 {
    font-size: var(--wui-font-size-large);
    letter-spacing: var(--wui-letter-spacing-large);
  }

  .wui-font-2xl-500,
  .wui-font-2xl-600,
  .wui-font-2xl-700 {
    font-size: var(--wui-font-size-2xl);
    letter-spacing: var(--wui-letter-spacing-2xl);
  }

  .wui-font-paragraph-400,
  .wui-font-paragraph-500,
  .wui-font-paragraph-600,
  .wui-font-paragraph-700 {
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
  }

  .wui-font-small-400,
  .wui-font-small-500,
  .wui-font-small-600 {
    font-size: var(--wui-font-size-small);
    letter-spacing: var(--wui-letter-spacing-small);
  }

  .wui-font-tiny-400,
  .wui-font-tiny-500,
  .wui-font-tiny-600 {
    font-size: var(--wui-font-size-tiny);
    letter-spacing: var(--wui-letter-spacing-tiny);
  }

  .wui-font-micro-700,
  .wui-font-micro-600 {
    font-size: var(--wui-font-size-micro);
    letter-spacing: var(--wui-letter-spacing-micro);
    text-transform: uppercase;
  }

  .wui-font-tiny-400,
  .wui-font-small-400,
  .wui-font-medium-400,
  .wui-font-paragraph-400 {
    font-weight: var(--wui-font-weight-light);
  }

  .wui-font-large-700,
  .wui-font-paragraph-700,
  .wui-font-micro-700,
  .wui-font-mini-700 {
    font-weight: var(--wui-font-weight-bold);
  }

  .wui-font-medium-600,
  .wui-font-medium-title-600,
  .wui-font-title-6-600,
  .wui-font-large-600,
  .wui-font-paragraph-600,
  .wui-font-small-600,
  .wui-font-tiny-600,
  .wui-font-micro-600 {
    font-weight: var(--wui-font-weight-medium);
  }

  :host([disabled]) {
    opacity: 0.4;
  }
`;var kE=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ty=class extends vt{constructor(){super(...arguments),this.variant="paragraph-500",this.color="fg-300",this.align="left",this.lineClamp=void 0}render(){const e={[`wui-font-${this.variant}`]:!0,[`wui-color-${this.color}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: var(--wui-color-${this.color});
    `,re`<slot class=${yxe(e)}></slot>`}};Ty.styles=[Qn,gFt],kE([ue()],Ty.prototype,"variant",void 0),kE([ue()],Ty.prototype,"color",void 0),kE([ue()],Ty.prototype,"align",void 0),kE([ue()],Ty.prototype,"lineClamp",void 0),Ty=kE([mt("wui-text")],Ty);const mFt=Bt`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-color: var(--wui-color-gray-glass-020);
    border-radius: var(--local-border-radius);
    border: var(--local-border);
    box-sizing: content-box;
    width: var(--local-size);
    height: var(--local-size);
    min-height: var(--local-size);
    min-width: var(--local-size);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host {
      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);
    }
  }
`;var $p=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Cd=class extends vt{constructor(){super(...arguments),this.size="md",this.backgroundColor="accent-100",this.iconColor="accent-100",this.background="transparent",this.border=!1,this.borderColor="wui-color-bg-125",this.icon="copy"}render(){const e=this.iconSize||this.size,n=this.size==="lg",r=this.size==="xl",i=n?"12%":"16%",s=n?"xxs":r?"s":"3xl",o=this.background==="gray",a=this.background==="opaque",c=this.backgroundColor==="accent-100"&&a||this.backgroundColor==="success-100"&&a||this.backgroundColor==="error-100"&&a||this.backgroundColor==="inverse-100"&&a;let l=`var(--wui-color-${this.backgroundColor})`;return c?l=`var(--wui-icon-box-bg-${this.backgroundColor})`:o&&(l=`var(--wui-color-gray-${this.backgroundColor})`),this.style.cssText=`
       --local-bg-value: ${l};
       --local-bg-mix: ${c||o?"100%":i};
       --local-border-radius: var(--wui-border-radius-${s});
       --local-size: var(--wui-icon-box-size-${this.size});
       --local-border: ${this.borderColor==="wui-color-bg-125"?"2px":"1px"} solid ${this.border?`var(--${this.borderColor})`:"transparent"}
   `,re` <wui-icon color=${this.iconColor} size=${e} name=${this.icon}></wui-icon> `}};Cd.styles=[Qn,ho,mFt],$p([ue()],Cd.prototype,"size",void 0),$p([ue()],Cd.prototype,"backgroundColor",void 0),$p([ue()],Cd.prototype,"iconColor",void 0),$p([ue()],Cd.prototype,"iconSize",void 0),$p([ue()],Cd.prototype,"background",void 0),$p([ue({type:Boolean})],Cd.prototype,"border",void 0),$p([ue()],Cd.prototype,"borderColor",void 0),$p([ue()],Cd.prototype,"icon",void 0),Cd=$p([mt("wui-icon-box")],Cd);const yFt=Bt`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
  }
`;var q$=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let E3=class extends vt{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0}render(){return this.style.cssText=`
      --local-width: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      --local-height: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      `,re`<img src=${this.src} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};E3.styles=[Qn,wE,yFt],q$([ue()],E3.prototype,"src",void 0),q$([ue()],E3.prototype,"alt",void 0),q$([ue()],E3.prototype,"size",void 0),E3=q$([mt("wui-image")],E3);const wFt=Bt`
  :host {
    position: relative;
    background-color: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-size);
    height: var(--local-size);
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host([name='Extension'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  :host([data-wallet-icon='allWallets']) {
    background-color: var(--wui-all-wallets-bg-100);
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 18px;
    height: 18px;
  }

  wui-icon[data-parent-size='md'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='lg'] {
    width: 42px;
    height: 42px;
  }

  wui-icon[data-parent-size='full'] {
    width: 100%;
    height: 100%;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid var(--wui-color-bg-150, #1e1f1f);
    padding: 1px;
  }
`;var Py=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Tp=class extends vt{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let e="xxs";return this.size==="lg"?e="m":this.size==="md"?e="xs":e="xxs",this.style.cssText=`
       --local-border-radius: var(--wui-border-radius-${e});
       --local-size: var(--wui-wallet-image-size-${this.size});
   `,this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),re`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?re`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?re`<wui-icon
        data-parent-size="md"
        size="md"
        color="inherit"
        name=${this.walletIcon}
      ></wui-icon>`:re`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};Tp.styles=[ho,Qn,wFt],Py([ue()],Tp.prototype,"size",void 0),Py([ue()],Tp.prototype,"name",void 0),Py([ue()],Tp.prototype,"imageSrc",void 0),Py([ue()],Tp.prototype,"walletIcon",void 0),Py([ue({type:Boolean})],Tp.prototype,"installed",void 0),Py([ue()],Tp.prototype,"badgeSize",void 0),Tp=Py([mt("wui-wallet-image")],Tp);const vFt=Bt`
  :host {
    position: relative;
    border-radius: var(--wui-border-radius-xxs);
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--wui-spacing-4xs);
    padding: 3.75px !important;
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host > wui-flex {
    padding: 2px;
    position: fixed;
    overflow: hidden;
    left: 34px;
    bottom: 8px;
    background: var(--dark-background-150, #1e1f1f);
    border-radius: 50%;
    z-index: 2;
    display: flex;
  }
`;var wxe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const OV=4;let H$=class extends vt{constructor(){super(...arguments),this.walletImages=[]}render(){const e=this.walletImages.length<OV;return re`${this.walletImages.slice(0,OV).map(({src:n,walletName:r})=>re`
            <wui-wallet-image
              size="inherit"
              imageSrc=${n}
              name=${Ut(r)}
            ></wui-wallet-image>
          `)}
      ${e?[...Array(OV-this.walletImages.length)].map(()=>re` <wui-wallet-image size="inherit" name=""></wui-wallet-image>`):null}
      <wui-flex>
        <wui-icon-box
          size="xxs"
          iconSize="xxs"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>`}};H$.styles=[Qn,vFt],wxe([ue({type:Array})],H$.prototype,"walletImages",void 0),H$=wxe([mt("wui-all-wallets-image")],H$);const bFt=Bt`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    height: var(--wui-spacing-m);
    padding: 0 var(--wui-spacing-3xs) !important;
    border-radius: var(--wui-border-radius-5xs);
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host > wui-text {
    transform: translateY(5%);
  }

  :host([data-variant='main']) {
    background-color: var(--wui-color-accent-glass-015);
    color: var(--wui-color-accent-100);
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  :host([data-variant='success']) {
    background-color: var(--wui-icon-box-bg-success-100);
    color: var(--wui-color-success-100);
  }

  :host([data-variant='error']) {
    background-color: var(--wui-icon-box-bg-error-100);
    color: var(--wui-color-error-100);
  }

  :host([data-size='lg']) {
    padding: 11px 5px !important;
  }

  :host([data-size='lg']) > wui-text {
    transform: translateY(2%);
  }
`;var RV=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let $E=class extends vt{constructor(){super(...arguments),this.variant="main",this.size="lg"}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const e=this.size==="md"?"mini-700":"micro-700";return re`
      <wui-text data-variant=${this.variant} variant=${e} color="inherit">
        <slot></slot>
      </wui-text>
    `}};$E.styles=[Qn,bFt],RV([ue()],$E.prototype,"variant",void 0),RV([ue()],$E.prototype,"size",void 0),$E=RV([mt("wui-tag")],$E);const xFt=Bt`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }

  wui-icon {
    color: var(--wui-color-fg-200) !important;
  }
`;var Cc=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Wo=class extends vt{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.tabIdx=void 0,this.installed=!1,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return re`
      <button ?disabled=${this.disabled} tabindex=${Ut(this.tabIdx)}>
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?re` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?re` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?re`<wui-wallet-image
        size="sm"
        imageSrc=${this.imageSrc}
        name=${this.name}
        .installed=${this.installed}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?re`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?re`<wui-loading-spinner
        size="lg"
        color=${this.loadingSpinnerColor}
      ></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?re`<wui-tag variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:this.icon?re`<wui-icon color="inherit" size="sm" name=${this.icon}></wui-icon>`:null}};Wo.styles=[Qn,ho,xFt],Cc([ue({type:Array})],Wo.prototype,"walletImages",void 0),Cc([ue()],Wo.prototype,"imageSrc",void 0),Cc([ue()],Wo.prototype,"name",void 0),Cc([ue()],Wo.prototype,"tagLabel",void 0),Cc([ue()],Wo.prototype,"tagVariant",void 0),Cc([ue()],Wo.prototype,"icon",void 0),Cc([ue()],Wo.prototype,"walletIcon",void 0),Cc([ue()],Wo.prototype,"tabIdx",void 0),Cc([ue({type:Boolean})],Wo.prototype,"installed",void 0),Cc([ue({type:Boolean})],Wo.prototype,"disabled",void 0),Cc([ue({type:Boolean})],Wo.prototype,"showAllWallets",void 0),Cc([ue({type:Boolean})],Wo.prototype,"loading",void 0),Cc([ue({type:String})],Wo.prototype,"loadingSpinnerColor",void 0),Wo=Cc([mt("wui-list-wallet")],Wo);var C3=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ny=class extends vt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.count=We.state.count,this.filteredCount=We.state.filteredWallets.length,this.isFetchingRecommendedWallets=We.state.isFetchingRecommendedWallets,this.unsubscribe.push(Ne.subscribeKey("connectors",e=>this.connectors=e),We.subscribeKey("count",e=>this.count=e),We.subscribeKey("filteredWallets",e=>this.filteredCount=e.length),We.subscribeKey("isFetchingRecommendedWallets",e=>this.isFetchingRecommendedWallets=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.find(c=>c.id==="walletConnect"),{allWallets:n}=Ce.state;if(!e||n==="HIDE"||n==="ONLY_MOBILE"&&!Be.isMobile())return null;const r=We.state.featured.length,i=this.count+r,s=i<10?i:Math.floor(i/10)*10,o=this.filteredCount>0?this.filteredCount:s;let a=`${o}`;return this.filteredCount>0?a=`${this.filteredCount}`:o<i&&(a=`${o}+`),re`
      <wui-list-wallet
        name="All Wallets"
        walletIcon="allWallets"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${a}
        tagVariant="shade"
        data-testid="all-wallets"
        tabIdx=${Ut(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        loadingSpinnerColor=${this.isFetchingRecommendedWallets?"fg-300":"accent-100"}
      ></wui-list-wallet>
    `}onAllWallets(){En.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),ze.push("AllWallets")}};C3([ue()],Ny.prototype,"tabIdx",void 0),C3([ct()],Ny.prototype,"connectors",void 0),C3([ct()],Ny.prototype,"count",void 0),C3([ct()],Ny.prototype,"filteredCount",void 0),C3([ct()],Ny.prototype,"isFetchingRecommendedWallets",void 0),Ny=C3([mt("w3m-all-wallets-widget")],Ny);var MV=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let V$=class extends vt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.unsubscribe.push(Ne.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(n=>n.type==="ANNOUNCED");return e!=null&&e.length?re`
      <wui-flex flexDirection="column" gap="xs">
        ${e.filter(Cp.showConnector).map(n=>re`
              <wui-list-wallet
                imageSrc=${Ut(ds.getConnectorImage(n))}
                name=${n.name??"Unknown"}
                @click=${()=>this.onConnector(n)}
                tagVariant="success"
                tagLabel="installed"
                data-testid=${`wallet-selector-${n.id}`}
                .installed=${!0}
                tabIdx=${Ut(this.tabIdx)}
              >
              </wui-list-wallet>
            `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){e.id==="walletConnect"?Be.isMobile()?ze.push("AllWallets"):ze.push("ConnectingWalletConnect"):ze.push("ConnectingExternal",{connector:e})}};MV([ue()],V$.prototype,"tabIdx",void 0),MV([ct()],V$.prototype,"connectors",void 0),V$=MV([mt("w3m-connect-announced-widget")],V$);var K$=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let TE=class extends vt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.loading=!1,this.unsubscribe.push(Ne.subscribeKey("connectors",e=>this.connectors=e)),Be.isTelegram()&&Be.isIos()&&(this.loading=!Ge.state.wcUri,this.unsubscribe.push(Ge.subscribeKey("wcUri",e=>this.loading=!e)))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{customWallets:e}=Ce.state;if(!(e!=null&&e.length))return this.style.cssText="display: none",null;const n=this.filterOutDuplicateWallets(e);return re`<wui-flex flexDirection="column" gap="xs">
      ${n.map(r=>re`
          <wui-list-wallet
            imageSrc=${Ut(ds.getWalletImage(r))}
            name=${r.name??"Unknown"}
            @click=${()=>this.onConnectWallet(r)}
            data-testid=${`wallet-selector-${r.id}`}
            tabIdx=${Ut(this.tabIdx)}
            ?loading=${this.loading}
          >
          </wui-list-wallet>
        `)}
    </wui-flex>`}filterOutDuplicateWallets(e){const n=wt.getRecentWallets(),r=this.connectors.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&Be.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return e.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))}onConnectWallet(e){this.loading||ze.push("ConnectingWalletConnect",{wallet:e})}};K$([ue()],TE.prototype,"tabIdx",void 0),K$([ct()],TE.prototype,"connectors",void 0),K$([ct()],TE.prototype,"loading",void 0),TE=K$([mt("w3m-connect-custom-widget")],TE);var jV=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let G$=class extends vt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.unsubscribe.push(Ne.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const r=this.connectors.filter(i=>i.type==="EXTERNAL").filter(Cp.showConnector).filter(i=>i.id!==Pt.CONNECTOR_ID.COINBASE_SDK);return r!=null&&r.length?re`
      <wui-flex flexDirection="column" gap="xs">
        ${r.map(i=>re`
            <wui-list-wallet
              imageSrc=${Ut(ds.getConnectorImage(i))}
              .installed=${!0}
              name=${i.name??"Unknown"}
              data-testid=${`wallet-selector-external-${i.id}`}
              @click=${()=>this.onConnector(i)}
              tabIdx=${Ut(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){ze.push("ConnectingExternal",{connector:e})}};jV([ue()],G$.prototype,"tabIdx",void 0),jV([ct()],G$.prototype,"connectors",void 0),G$=jV([mt("w3m-connect-external-widget")],G$);var DV=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Z$=class extends vt{constructor(){super(...arguments),this.tabIdx=void 0,this.wallets=[]}render(){return this.wallets.length?re`
      <wui-flex flexDirection="column" gap="xs">
        ${this.wallets.map(e=>re`
            <wui-list-wallet
              data-testid=${`wallet-selector-featured-${e.id}`}
              imageSrc=${Ut(ds.getWalletImage(e))}
              name=${e.name??"Unknown"}
              @click=${()=>this.onConnectWallet(e)}
              tabIdx=${Ut(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){Ne.selectWalletConnector(e)}};DV([ue()],Z$.prototype,"tabIdx",void 0),DV([ue()],Z$.prototype,"wallets",void 0),Z$=DV([mt("w3m-connect-featured-widget")],Z$);var LV=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Y$=class extends vt{constructor(){super(...arguments),this.tabIdx=void 0,this.connectors=[]}render(){const e=this.connectors.filter(Cp.showConnector);return e.length===0?(this.style.cssText="display: none",null):re`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(n=>re`
            <wui-list-wallet
              imageSrc=${Ut(ds.getConnectorImage(n))}
              .installed=${!0}
              name=${n.name??"Unknown"}
              tagVariant="success"
              tagLabel="installed"
              data-testid=${`wallet-selector-${n.id}`}
              @click=${()=>this.onConnector(n)}
              tabIdx=${Ut(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnector(e){Ne.setActiveConnector(e),ze.push("ConnectingExternal",{connector:e})}};LV([ue()],Y$.prototype,"tabIdx",void 0),LV([ue()],Y$.prototype,"connectors",void 0),Y$=LV([mt("w3m-connect-injected-widget")],Y$);var BV=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let J$=class extends vt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.unsubscribe.push(Ne.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(n=>n.type==="MULTI_CHAIN"&&n.name!=="WalletConnect");return e!=null&&e.length?re`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(n=>re`
            <wui-list-wallet
              imageSrc=${Ut(ds.getConnectorImage(n))}
              .installed=${!0}
              name=${n.name??"Unknown"}
              tagVariant="shade"
              tagLabel="multichain"
              data-testid=${`wallet-selector-${n.id}`}
              @click=${()=>this.onConnector(n)}
              tabIdx=${Ut(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){Ne.setActiveConnector(e),ze.push("ConnectingMultiChain")}};BV([ue()],J$.prototype,"tabIdx",void 0),BV([ct()],J$.prototype,"connectors",void 0),J$=BV([mt("w3m-connect-multi-chain-widget")],J$);var Q$=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let PE=class extends vt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.loading=!1,this.unsubscribe.push(Ne.subscribeKey("connectors",e=>this.connectors=e)),Be.isTelegram()&&Be.isIos()&&(this.loading=!Ge.state.wcUri,this.unsubscribe.push(Ge.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const n=wt.getRecentWallets().filter(r=>!wy.isExcluded(r)).filter(r=>!this.hasWalletConnector(r)).filter(r=>this.isWalletCompatibleWithCurrentChain(r));return n.length?re`
      <wui-flex flexDirection="column" gap="xs">
        ${n.map(r=>re`
            <wui-list-wallet
              imageSrc=${Ut(ds.getWalletImage(r))}
              name=${r.name??"Unknown"}
              @click=${()=>this.onConnectWallet(r)}
              tagLabel="recent"
              tagVariant="shade"
              tabIdx=${Ut(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){this.loading||Ne.selectWalletConnector(e)}hasWalletConnector(e){return this.connectors.some(n=>n.id===e.id||n.name===e.name)}isWalletCompatibleWithCurrentChain(e){const n=X.state.activeChain;return n&&e.chains?e.chains.some(r=>{const i=r.split(":")[0];return n===i}):!0}};Q$([ue()],PE.prototype,"tabIdx",void 0),Q$([ct()],PE.prototype,"connectors",void 0),Q$([ct()],PE.prototype,"loading",void 0),PE=Q$([mt("w3m-connect-recent-widget")],PE);var X$=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let NE=class extends vt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.wallets=[],this.loading=!1,Be.isTelegram()&&Be.isIos()&&(this.loading=!Ge.state.wcUri,this.unsubscribe.push(Ge.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const{connectors:e}=Ne.state,{customWallets:n,featuredWalletIds:r}=Ce.state,i=wt.getRecentWallets(),s=e.find(d=>d.id==="walletConnect"),a=e.filter(d=>d.type==="INJECTED"||d.type==="ANNOUNCED"||d.type==="MULTI_CHAIN").filter(d=>d.name!=="Browser Wallet");if(!s)return null;if(r||n||!this.wallets.length)return this.style.cssText="display: none",null;const c=a.length+i.length,l=Math.max(0,2-c),u=wy.filterOutDuplicateWallets(this.wallets).slice(0,l);return u.length?re`
      <wui-flex flexDirection="column" gap="xs">
        ${u.map(d=>re`
            <wui-list-wallet
              imageSrc=${Ut(ds.getWalletImage(d))}
              name=${(d==null?void 0:d.name)??"Unknown"}
              @click=${()=>this.onConnectWallet(d)}
              tabIdx=${Ut(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){if(this.loading)return;const n=Ne.getConnector(e.id,e.rdns);n?ze.push("ConnectingExternal",{connector:n}):ze.push("ConnectingWalletConnect",{wallet:e})}};X$([ue()],NE.prototype,"tabIdx",void 0),X$([ue()],NE.prototype,"wallets",void 0),X$([ct()],NE.prototype,"loading",void 0),NE=X$([mt("w3m-connect-recommended-widget")],NE);var eT=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let OE=class extends vt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.connectorImages=lc.state.connectorImages,this.unsubscribe.push(Ne.subscribeKey("connectors",e=>this.connectors=e),lc.subscribeKey("connectorImages",e=>this.connectorImages=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(Be.isMobile())return this.style.cssText="display: none",null;const e=this.connectors.find(r=>r.id==="walletConnect");if(!e)return this.style.cssText="display: none",null;const n=e.imageUrl||this.connectorImages[(e==null?void 0:e.imageId)??""];return re`
      <wui-list-wallet
        imageSrc=${Ut(n)}
        name=${e.name??"Unknown"}
        @click=${()=>this.onConnector(e)}
        tagLabel="qr code"
        tagVariant="main"
        tabIdx=${Ut(this.tabIdx)}
        data-testid="wallet-selector-walletconnect"
      >
      </wui-list-wallet>
    `}onConnector(e){Ne.setActiveConnector(e),ze.push("ConnectingWalletConnect")}};eT([ue()],OE.prototype,"tabIdx",void 0),eT([ct()],OE.prototype,"connectors",void 0),eT([ct()],OE.prototype,"connectorImages",void 0),OE=eT([mt("w3m-connect-walletconnect-widget")],OE);const EFt=Bt`
  :host {
    margin-top: var(--wui-spacing-3xs);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var RE=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Oy=class extends vt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.recommended=We.state.recommended,this.featured=We.state.featured,this.unsubscribe.push(Ne.subscribeKey("connectors",e=>this.connectors=e),We.subscribeKey("recommended",e=>this.recommended=e),We.subscribeKey("featured",e=>this.featured=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return re`
      <wui-flex flexDirection="column" gap="xs"> ${this.connectorListTemplate()} </wui-flex>
    `}connectorListTemplate(){const{custom:e,recent:n,announced:r,injected:i,multiChain:s,recommended:o,featured:a,external:c}=Cp.getConnectorsByType(this.connectors,this.recommended,this.featured);return Cp.getConnectorTypeOrder({custom:e,recent:n,announced:r,injected:i,multiChain:s,recommended:o,featured:a,external:c}).map(u=>{switch(u){case"injected":return re`
            ${s.length?re`<w3m-connect-multi-chain-widget
                  tabIdx=${Ut(this.tabIdx)}
                ></w3m-connect-multi-chain-widget>`:null}
            ${r.length?re`<w3m-connect-announced-widget
                  tabIdx=${Ut(this.tabIdx)}
                ></w3m-connect-announced-widget>`:null}
            ${i.length?re`<w3m-connect-injected-widget
                  .connectors=${i}
                  tabIdx=${Ut(this.tabIdx)}
                ></w3m-connect-injected-widget>`:null}
          `;case"walletConnect":return re`<w3m-connect-walletconnect-widget
            tabIdx=${Ut(this.tabIdx)}
          ></w3m-connect-walletconnect-widget>`;case"recent":return re`<w3m-connect-recent-widget
            tabIdx=${Ut(this.tabIdx)}
          ></w3m-connect-recent-widget>`;case"featured":return re`<w3m-connect-featured-widget
            .wallets=${a}
            tabIdx=${Ut(this.tabIdx)}
          ></w3m-connect-featured-widget>`;case"custom":return re`<w3m-connect-custom-widget
            tabIdx=${Ut(this.tabIdx)}
          ></w3m-connect-custom-widget>`;case"external":return re`<w3m-connect-external-widget
            tabIdx=${Ut(this.tabIdx)}
          ></w3m-connect-external-widget>`;case"recommended":return re`<w3m-connect-recommended-widget
            .wallets=${o}
            tabIdx=${Ut(this.tabIdx)}
          ></w3m-connect-recommended-widget>`;default:return console.warn(`Unknown connector type: ${u}`),null}})}};Oy.styles=EFt,RE([ue()],Oy.prototype,"tabIdx",void 0),RE([ct()],Oy.prototype,"connectors",void 0),RE([ct()],Oy.prototype,"recommended",void 0),RE([ct()],Oy.prototype,"featured",void 0),Oy=RE([mt("w3m-connector-list")],Oy);const CFt=Bt`
  :host {
    display: inline-flex;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    padding: var(--wui-spacing-3xs);
    position: relative;
    height: 36px;
    min-height: 36px;
    overflow: hidden;
  }

  :host::before {
    content: '';
    position: absolute;
    pointer-events: none;
    top: 4px;
    left: 4px;
    display: block;
    width: var(--local-tab-width);
    height: 28px;
    border-radius: var(--wui-border-radius-3xl);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));
    transition: transform var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  :host([data-type='flex'])::before {
    left: 3px;
    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));
  }

  :host([data-type='flex']) {
    display: flex;
    padding: 0px 0px 0px 12px;
    gap: 4px;
  }

  :host([data-type='flex']) > button > wui-text {
    position: absolute;
    left: 18px;
    opacity: 0;
  }

  button[data-active='true'] > wui-icon,
  button[data-active='true'] > wui-text {
    color: var(--wui-color-fg-100);
  }

  button[data-active='false'] > wui-icon,
  button[data-active='false'] > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='true']:disabled,
  button[data-active='false']:disabled {
    background-color: transparent;
    opacity: 0.5;
    cursor: not-allowed;
  }

  button[data-active='true']:disabled > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='false']:disabled > wui-text {
    color: var(--wui-color-fg-300);
  }

  button > wui-icon,
  button > wui-text {
    pointer-events: none;
    transition: color var(--wui-e ase-out-power-1) var(--wui-duration-md);
    will-change: color;
  }

  button {
    width: var(--local-tab-width);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  :host([data-type='flex']) > button {
    width: 34px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  button:hover:enabled,
  button:active:enabled {
    background-color: transparent !important;
  }

  button:hover:enabled > wui-icon,
  button:active:enabled > wui-icon {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button:hover:enabled > wui-text,
  button:active:enabled > wui-text {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
  }
`;var Kg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Uh=class extends vt{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.buttons=[],this.disabled=!1,this.localTabWidth="100px",this.activeTab=0,this.isDense=!1}render(){return this.isDense=this.tabs.length>3,this.style.cssText=`
      --local-tab: ${this.activeTab};
      --local-tab-width: ${this.localTabWidth};
    `,this.dataset.type=this.isDense?"flex":"block",this.tabs.map((e,n)=>{var i;const r=n===this.activeTab;return re`
        <button
          ?disabled=${this.disabled}
          @click=${()=>this.onTabClick(n)}
          data-active=${r}
          data-testid="tab-${(i=e.label)==null?void 0:i.toLowerCase()}"
        >
          ${this.iconTemplate(e)}
          <wui-text variant="small-600" color="inherit"> ${e.label} </wui-text>
        </button>
      `})}firstUpdated(){this.shadowRoot&&this.isDense&&(this.buttons=[...this.shadowRoot.querySelectorAll("button")],setTimeout(()=>{this.animateTabs(0,!0)},0))}iconTemplate(e){return e.icon?re`<wui-icon size="xs" color="inherit" name=${e.icon}></wui-icon>`:null}onTabClick(e){this.buttons&&this.animateTabs(e,!1),this.activeTab=e,this.onTabChange(e)}animateTabs(e,n){const r=this.buttons[this.activeTab],i=this.buttons[e],s=r==null?void 0:r.querySelector("wui-text"),o=i==null?void 0:i.querySelector("wui-text"),a=i==null?void 0:i.getBoundingClientRect(),c=o==null?void 0:o.getBoundingClientRect();r&&s&&!n&&e!==this.activeTab&&(s.animate([{opacity:0}],{duration:50,easing:"ease",fill:"forwards"}),r.animate([{width:"34px"}],{duration:500,easing:"ease",fill:"forwards"})),i&&a&&c&&o&&(e!==this.activeTab||n)&&(this.localTabWidth=`${Math.round(a.width+c.width)+6}px`,i.animate([{width:`${a.width+c.width}px`}],{duration:n?0:500,fill:"forwards",easing:"ease"}),o.animate([{opacity:1}],{duration:n?0:125,delay:n?0:200,fill:"forwards",easing:"ease"}))}};Uh.styles=[Qn,ho,CFt],Kg([ue({type:Array})],Uh.prototype,"tabs",void 0),Kg([ue()],Uh.prototype,"onTabChange",void 0),Kg([ue({type:Array})],Uh.prototype,"buttons",void 0),Kg([ue({type:Boolean})],Uh.prototype,"disabled",void 0),Kg([ue()],Uh.prototype,"localTabWidth",void 0),Kg([ct()],Uh.prototype,"activeTab",void 0),Kg([ct()],Uh.prototype,"isDense",void 0),Uh=Kg([mt("wui-tabs")],Uh);var UV=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let tT=class extends vt{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.generateTabs();return re`
      <wui-flex justifyContent="center" .padding=${["0","0","l","0"]}>
        <wui-tabs .tabs=${e} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){const e=this.platforms.map(n=>n==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:n==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:n==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:n==="web"?{label:"Webapp",icon:"browser",platform:"web"}:n==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=e.map(({platform:n})=>n),e}onTabChange(e){var r;const n=this.platformTabs[e];n&&((r=this.onSelectPlatfrom)==null||r.call(this,n))}};UV([ue({type:Array})],tT.prototype,"platforms",void 0),UV([ue()],tT.prototype,"onSelectPlatfrom",void 0),tT=UV([mt("w3m-connecting-header")],tT);const _Ft=Bt`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 2s linear infinite;
  }

  circle {
    fill: none;
    stroke: var(--local-color);
    stroke-width: 4px;
    stroke-dasharray: 1, 124;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes dash {
    0% {
      stroke-dasharray: 1, 124;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 90, 124;
      stroke-dashoffset: -35;
    }

    100% {
      stroke-dashoffset: -125;
    }
  }
`;var FV=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ME=class extends vt{constructor(){super(...arguments),this.color="accent-100",this.size="lg"}render(){return this.style.cssText=`--local-color: ${this.color==="inherit"?"inherit":`var(--wui-color-${this.color})`}`,this.dataset.size=this.size,re`<svg viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>`}};ME.styles=[Qn,_Ft],FV([ue()],ME.prototype,"color",void 0),FV([ue()],ME.prototype,"size",void 0),ME=FV([mt("wui-loading-spinner")],ME);const AFt=Bt`
  :host {
    width: var(--local-width);
    position: relative;
  }

  button {
    border: none;
    border-radius: var(--local-border-radius);
    width: var(--local-width);
    white-space: nowrap;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='md'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);
    height: 36px;
  }

  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);
  }

  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {
    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);
  }

  button[data-size='lg'] {
    padding: var(--wui-spacing-m) var(--wui-spacing-2l);
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='inverse'] {
    background-color: var(--wui-color-inverse-100);
    color: var(--wui-color-inverse-000);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='accent-error'] {
    background: var(--wui-color-error-glass-015);
    color: var(--wui-color-error-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-error-glass-010);
  }

  button[data-variant='accent-success'] {
    background: var(--wui-color-success-glass-015);
    color: var(--wui-color-success-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-success-glass-010);
  }

  button[data-variant='neutral'] {
    background: transparent;
    color: var(--wui-color-fg-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-variant='main']:focus-visible:enabled {
    background-color: var(--wui-color-accent-090);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='inverse']:focus-visible:enabled {
    background-color: var(--wui-color-inverse-100);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent']:focus-visible:enabled {
    background-color: var(--wui-color-accent-glass-010);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent-error']:focus-visible:enabled {
    background: var(--wui-color-error-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-error-100),
      0 0 0 4px var(--wui-color-error-glass-020);
  }
  button[data-variant='accent-success']:focus-visible:enabled {
    background: var(--wui-color-success-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-success-100),
      0 0 0 4px var(--wui-color-success-glass-020);
  }
  button[data-variant='neutral']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='accent-error']:hover:enabled {
      background: var(--wui-color-error-glass-020);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-error']:active:enabled {
      background: var(--wui-color-error-glass-030);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-success']:hover:enabled {
      background: var(--wui-color-success-glass-020);
      color: var(--wui-color-success-100);
    }

    button[data-variant='accent-success']:active:enabled {
      background: var(--wui-color-success-glass-030);
      color: var(--wui-color-success-100);
    }

    button[data-variant='neutral']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='neutral']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }

    button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {
      padding-left: var(--wui-spacing-m);
    }

    button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {
      padding-right: var(--wui-spacing-m);
    }
  }

  /* -- Disabled state --------------------------------------------------- */
  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    color: var(--wui-color-gray-glass-020);
    cursor: not-allowed;
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  wui-loading-spinner {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: var(--local-opacity-000);
  }
`;var Fh=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const vxe={main:"inverse-100",inverse:"inverse-000",accent:"accent-100","accent-error":"error-100","accent-success":"success-100",neutral:"fg-100",disabled:"gray-glass-020"},SFt={lg:"paragraph-600",md:"small-600"},IFt={lg:"md",md:"md"};let mu=class extends vt{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="main",this.hasIconLeft=!1,this.hasIconRight=!1,this.borderRadius="m"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
    --local-opacity-100: ${this.loading?0:1};
    --local-opacity-000: ${this.loading?1:0};
    --local-border-radius: var(--wui-border-radius-${this.borderRadius});
    `;const e=this.textVariant??SFt[this.size];return re`
      <button
        data-variant=${this.variant}
        data-icon-left=${this.hasIconLeft}
        data-icon-right=${this.hasIconRight}
        data-size=${this.size}
        ?disabled=${this.disabled}
      >
        ${this.loadingTemplate()}
        <slot name="iconLeft" @slotchange=${()=>this.handleSlotLeftChange()}></slot>
        <wui-text variant=${e} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight" @slotchange=${()=>this.handleSlotRightChange()}></slot>
      </button>
    `}handleSlotLeftChange(){this.hasIconLeft=!0}handleSlotRightChange(){this.hasIconRight=!0}loadingTemplate(){if(this.loading){const e=IFt[this.size],n=this.disabled?vxe.disabled:vxe[this.variant];return re`<wui-loading-spinner color=${n} size=${e}></wui-loading-spinner>`}return re``}};mu.styles=[Qn,ho,AFt],Fh([ue()],mu.prototype,"size",void 0),Fh([ue({type:Boolean})],mu.prototype,"disabled",void 0),Fh([ue({type:Boolean})],mu.prototype,"fullWidth",void 0),Fh([ue({type:Boolean})],mu.prototype,"loading",void 0),Fh([ue()],mu.prototype,"variant",void 0),Fh([ue({type:Boolean})],mu.prototype,"hasIconLeft",void 0),Fh([ue({type:Boolean})],mu.prototype,"hasIconRight",void 0),Fh([ue()],mu.prototype,"borderRadius",void 0),Fh([ue()],mu.prototype,"textVariant",void 0),mu=Fh([mt("wui-button")],mu);const kFt=Bt`
  button {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
    border-radius: var(--wui-border-radius-3xs);
    background-color: transparent;
    color: var(--wui-color-accent-100);
  }

  button:disabled {
    background-color: transparent;
    color: var(--wui-color-gray-glass-015);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var nT=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let _3=class extends vt{constructor(){super(...arguments),this.tabIdx=void 0,this.disabled=!1,this.color="inherit"}render(){return re`
      <button ?disabled=${this.disabled} tabindex=${Ut(this.tabIdx)}>
        <slot name="iconLeft"></slot>
        <wui-text variant="small-600" color=${this.color}>
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}};_3.styles=[Qn,ho,kFt],nT([ue()],_3.prototype,"tabIdx",void 0),nT([ue({type:Boolean})],_3.prototype,"disabled",void 0),nT([ue()],_3.prototype,"color",void 0),_3=nT([mt("wui-link")],_3);const $Ft=Bt`
  :host {
    display: block;
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  svg {
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  rect {
    fill: none;
    stroke: var(--wui-color-accent-100);
    stroke-width: 4px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var bxe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let rT=class extends vt{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const e=this.radius>50?50:this.radius,r=36-e,i=116+r,s=245+r,o=360+r*1.75;return re`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${e}
          stroke-dasharray="${i} ${s}"
          stroke-dashoffset=${o}
        />
      </svg>
    `}};rT.styles=[Qn,$Ft],bxe([ue({type:Number})],rT.prototype,"radius",void 0),rT=bxe([mt("wui-loading-thumbnail")],rT);const TFt=Bt`
  button {
    border: none;
    border-radius: var(--wui-border-radius-3xl);
  }

  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='gray'] {
    background-color: transparent;
    color: var(--wui-color-fg-200);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='shade'] {
    background-color: transparent;
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-size='sm'] {
    height: 32px;
    padding: 0 var(--wui-spacing-s);
  }

  button[data-size='md'] {
    height: 40px;
    padding: 0 var(--wui-spacing-l);
  }

  button[data-size='sm'] > wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] > wui-icon {
    width: 14px;
    height: 14px;
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  button.disabled > wui-icon,
  button.disabled > wui-image {
    filter: grayscale(1);
  }

  button[data-variant='main'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  button[data-variant='shade'] > wui-image,
  button[data-variant='gray'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:focus-visible {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='shade']:focus-visible,
    button[data-variant='gray']:focus-visible,
    button[data-variant='shade']:hover,
    button[data-variant='gray']:hover {
      background-color: var(--wui-color-gray-glass-002);
    }

    button[data-variant='gray']:active,
    button[data-variant='shade']:active {
      background-color: var(--wui-color-gray-glass-005);
    }
  }

  button.disabled {
    color: var(--wui-color-gray-glass-020);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    pointer-events: none;
  }
`;var Ry=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Pp=class extends vt{constructor(){super(...arguments),this.variant="accent",this.imageSrc="",this.disabled=!1,this.icon="externalLink",this.size="md",this.text=""}render(){const e=this.size==="sm"?"small-600":"paragraph-600";return re`
      <button
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
        data-size=${this.size}
      >
        ${this.imageSrc?re`<wui-image src=${this.imageSrc}></wui-image>`:null}
        <wui-text variant=${e} color="inherit"> ${this.text} </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </button>
    `}};Pp.styles=[Qn,ho,TFt],Ry([ue()],Pp.prototype,"variant",void 0),Ry([ue()],Pp.prototype,"imageSrc",void 0),Ry([ue({type:Boolean})],Pp.prototype,"disabled",void 0),Ry([ue()],Pp.prototype,"icon",void 0),Ry([ue()],Pp.prototype,"size",void 0),Ry([ue()],Pp.prototype,"text",void 0),Pp=Ry([mt("wui-chip-button")],Pp);const PFt=Bt`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;var iT=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let A3=class extends vt{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return re`
      <wui-flex
        justifyContent="space-between"
        alignItems="center"
        .padding=${["1xs","2l","1xs","2l"]}
      >
        <wui-text variant="paragraph-500" color="fg-200">${this.label}</wui-text>
        <wui-chip-button size="sm" variant="shade" text=${this.buttonLabel} icon="chevronRight">
        </wui-chip-button>
      </wui-flex>
    `}};A3.styles=[Qn,ho,PFt],iT([ue({type:Boolean})],A3.prototype,"disabled",void 0),iT([ue()],A3.prototype,"label",void 0),iT([ue()],A3.prototype,"buttonLabel",void 0),A3=iT([mt("wui-cta-button")],A3);const NFt=Bt`
  :host {
    display: block;
    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);
  }
`;var xxe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let sT=class extends vt{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:e,app_store:n,play_store:r,chrome_store:i,homepage:s}=this.wallet,o=Be.isMobile(),a=Be.isIos(),c=Be.isAndroid(),l=[n,r,s,i].filter(Boolean).length>1,u=Ms.getTruncateString({string:e,charsStart:12,charsEnd:0,truncate:"end"});return l&&!o?re`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${()=>ze.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!l&&s?re`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:n&&a?re`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:r&&c?re`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){var e;(e=this.wallet)!=null&&e.app_store&&Be.openHref(this.wallet.app_store,"_blank")}onPlayStore(){var e;(e=this.wallet)!=null&&e.play_store&&Be.openHref(this.wallet.play_store,"_blank")}onHomePage(){var e;(e=this.wallet)!=null&&e.homepage&&Be.openHref(this.wallet.homepage,"_blank")}};sT.styles=[NFt],xxe([ue({type:Object})],sT.prototype,"wallet",void 0),sT=xxe([mt("w3m-mobile-download-links")],sT);const OFt=Bt`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: var(--wui-duration-lg);
    transition-timing-function: var(--wui-ease-out-power-2);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }
`;var zh=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class qo extends vt{constructor(){var e,n,r,i,s;super(),this.wallet=(e=ze.state.data)==null?void 0:e.wallet,this.connector=(n=ze.state.data)==null?void 0:n.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=ds.getWalletImage(this.wallet)??ds.getConnectorImage(this.connector),this.name=((r=this.wallet)==null?void 0:r.name)??((i=this.connector)==null?void 0:i.name)??"Wallet",this.isRetrying=!1,this.uri=Ge.state.wcUri,this.error=Ge.state.wcError,this.ready=!1,this.showRetry=!1,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(Ge.subscribeKey("wcUri",o=>{var a;this.uri=o,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,(a=this.onConnect)==null||a.call(this))}),Ge.subscribeKey("wcError",o=>this.error=o)),(Be.isTelegram()||Be.isSafari())&&Be.isIos()&&Ge.state.wcUri&&((s=this.onConnect)==null||s.call(this))}firstUpdated(){var e;(e=this.onAutoConnect)==null||e.call(this),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),Ge.setWcError(!1),clearTimeout(this.timeout)}render(){var r;(r=this.onRender)==null||r.call(this),this.onShowRetry();const e=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let n=`Continue in ${this.name}`;return this.error&&(n="Connection declined"),re`
      <wui-flex
        data-error=${Ut(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${Ut(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${n}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${e}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?re`
              <wui-button
                variant="accent"
                size="md"
                ?disabled=${this.isRetrying||this.isLoading}
                @click=${this.onTryAgain.bind(this)}
                data-testid="w3m-connecting-widget-secondary-button"
              >
                <wui-icon color="inherit" slot="iconLeft" name=${this.secondaryBtnIcon}></wui-icon>
                ${this.secondaryBtnLabel}
              </wui-button>
            `:null}
      </wui-flex>

      ${this.isWalletConnect?re`
            <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
              <wui-link @click=${this.onCopyUri} color="fg-200" data-testid="wui-link-copy">
                <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
                Copy link
              </wui-link>
            </wui-flex>
          `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onShowRetry(){var e;if(this.error&&!this.showRetry){this.showRetry=!0;const n=(e=this.shadowRoot)==null?void 0:e.querySelector("wui-button");n==null||n.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"})}}onTryAgain(){var e,n;Ge.setWcError(!1),this.onRetry?(this.isRetrying=!0,(e=this.onRetry)==null||e.call(this)):(n=this.onConnect)==null||n.call(this)}loaderTemplate(){const e=so.state.themeVariables["--w3m-border-radius-master"],n=e?parseInt(e.replace("px",""),10):4;return re`<wui-loading-thumbnail radius=${n*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(Be.copyToClopboard(this.uri),$i.showSuccess("Link copied"))}catch{$i.showError("Failed to copy")}}}qo.styles=OFt,zh([ct()],qo.prototype,"isRetrying",void 0),zh([ct()],qo.prototype,"uri",void 0),zh([ct()],qo.prototype,"error",void 0),zh([ct()],qo.prototype,"ready",void 0),zh([ct()],qo.prototype,"showRetry",void 0),zh([ct()],qo.prototype,"secondaryBtnLabel",void 0),zh([ct()],qo.prototype,"secondaryLabel",void 0),zh([ct()],qo.prototype,"isLoading",void 0),zh([ue({type:Boolean})],qo.prototype,"isMobile",void 0),zh([ue()],qo.prototype,"onRetry",void 0);var RFt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Exe=class extends qo{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),En.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}async onConnectProxy(){var e;try{this.error=!1;const{connectors:n}=Ne.state,r=n.find(i=>{var s,o,a;return i.type==="ANNOUNCED"&&((s=i.info)==null?void 0:s.rdns)===((o=this.wallet)==null?void 0:o.rdns)||i.type==="INJECTED"||i.name===((a=this.wallet)==null?void 0:a.name)});if(r)await Ge.connectExternal(r,r.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");tr.close(),En.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:((e=this.wallet)==null?void 0:e.name)||"Unknown"}})}catch(n){En.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(n==null?void 0:n.message)??"Unknown"}}),this.error=!0}}};Exe=RFt([mt("w3m-connecting-wc-browser")],Exe);var MFt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Cxe=class extends qo{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),En.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop"}})}onRenderProxy(){var e;!this.ready&&this.uri&&(this.ready=!0,(e=this.onConnect)==null||e.call(this))}onConnectProxy(){var e;if((e=this.wallet)!=null&&e.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:n,name:r}=this.wallet,{redirect:i,href:s}=Be.formatNativeUrl(n,this.uri);Ge.setWcLinking({name:r,href:s}),Ge.setRecentWallet(this.wallet),Be.openHref(i,"_blank")}catch{this.error=!0}}};Cxe=MFt([mt("w3m-connecting-wc-desktop")],Cxe);var S3=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let My=class extends qo{constructor(){if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=Ce.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{var e;if((e=this.wallet)!=null&&e.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:n,link_mode:r,name:i}=this.wallet,{redirect:s,redirectUniversalLink:o,href:a}=Be.formatNativeUrl(n,this.uri,r);this.redirectDeeplink=s,this.redirectUniversalLink=o,this.target=Be.isIframe()?"_top":"_self",Ge.setWcLinking({name:i,href:a}),Ge.setRecentWallet(this.wallet),this.preferUniversalLinks&&this.redirectUniversalLink?Be.openHref(this.redirectUniversalLink,this.target):Be.openHref(this.redirectDeeplink,this.target)}catch(n){En.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:n instanceof Error?n.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=dr.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(Ge.subscribeKey("wcUri",()=>{this.onHandleURI()})),En.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile"}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){var e;this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,(e=this.onConnect)==null||e.call(this))}onTryAgain(){var e;Ge.setWcError(!1),(e=this.onConnect)==null||e.call(this)}};S3([ct()],My.prototype,"redirectDeeplink",void 0),S3([ct()],My.prototype,"redirectUniversalLink",void 0),S3([ct()],My.prototype,"target",void 0),S3([ct()],My.prototype,"preferUniversalLinks",void 0),S3([ct()],My.prototype,"isLoading",void 0),My=S3([mt("w3m-connecting-wc-mobile")],My);var jE={},jFt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},_xe={},ml={};let zV;const DFt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ml.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},ml.getSymbolTotalCodewords=function(e){return DFt[e]},ml.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e},ml.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');zV=e},ml.isKanjiModeEnabled=function(){return typeof zV<"u"},ml.toSJIS=function(e){return zV(e)};var oT={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(oT);function Axe(){this.buffer=[],this.length=0}Axe.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var LFt=Axe;function DE(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}DE.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)},DE.prototype.get=function(t,e){return this.data[t*this.size+e]},DE.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},DE.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var BFt=DE,Sxe={};(function(t){const e=ml.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(Sxe);var Ixe={};const UFt=ml.getSymbolSize,kxe=7;Ixe.getPositions=function(e){const n=UFt(e);return[[0,0],[n-kxe,0],[0,n-kxe]]};var $xe={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,u=null;for(let d=0;d<s;d++){a=c=0,l=u=null;for(let h=0;h<s;h++){let f=i.get(d,h);f===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=f,a=1),f=i.get(h,d),f===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=f,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),u<c&&(c=u,a=l)}return a}})($xe);var aT={};const Gg=oT,cT=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],lT=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];aT.getBlocksCount=function(e,n){switch(n){case Gg.L:return cT[(e-1)*4+0];case Gg.M:return cT[(e-1)*4+1];case Gg.Q:return cT[(e-1)*4+2];case Gg.H:return cT[(e-1)*4+3];default:return}},aT.getTotalCodewordsCount=function(e,n){switch(n){case Gg.L:return lT[(e-1)*4+0];case Gg.M:return lT[(e-1)*4+1];case Gg.Q:return lT[(e-1)*4+2];case Gg.H:return lT[(e-1)*4+3];default:return}};var Txe={},uT={};const LE=new Uint8Array(512),dT=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)LE[n]=e,dT[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)LE[n]=LE[n-255]})(),uT.log=function(e){if(e<1)throw new Error("log("+e+")");return dT[e]},uT.exp=function(e){return LE[e]},uT.mul=function(e,n){return e===0||n===0?0:LE[dT[e]+dT[n]]},function(t){const e=uT;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}}(Txe);const Pxe=Txe;function WV(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}WV.prototype.initialize=function(e){this.degree=e,this.genPoly=Pxe.generateECPolynomial(this.degree)},WV.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=Pxe.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var FFt=WV,Nxe={},Zg={},qV={};qV.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Wh={};const Oxe="[0-9]+",zFt="[A-Z $%*+\\-./:]+";let BE="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";BE=BE.replace(/u/g,"\\u");const WFt="(?:(?![A-Z0-9 $%*+\\-./:]|"+BE+`)(?:.|[\r
]))+`;Wh.KANJI=new RegExp(BE,"g"),Wh.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Wh.BYTE=new RegExp(WFt,"g"),Wh.NUMERIC=new RegExp(Oxe,"g"),Wh.ALPHANUMERIC=new RegExp(zFt,"g");const qFt=new RegExp("^"+BE+"$"),HFt=new RegExp("^"+Oxe+"$"),VFt=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Wh.testKanji=function(e){return qFt.test(e)},Wh.testNumeric=function(e){return HFt.test(e)},Wh.testAlphanumeric=function(e){return VFt.test(e)},function(t){const e=qV,n=Wh;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}}(Zg),function(t){const e=ml,n=aT,r=oT,i=Zg,s=qV,o=7973,a=e.getBCHDigit(o);function c(h,f,g){for(let m=1;m<=40;m++)if(f<=t.getCapacity(m,g,h))return m}function l(h,f){return i.getCharCountIndicator(h,f)+4}function u(h,f){let g=0;return h.forEach(function(m){const y=l(m.mode,f);g+=y+m.getBitsLength()}),g}function d(h,f){for(let g=1;g<=40;g++)if(u(h,g)<=t.getCapacity(g,f,i.MIXED))return g}t.from=function(f,g){return s.isValid(f)?parseInt(f,10):g},t.getCapacity=function(f,g,m){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const y=e.getSymbolTotalCodewords(f),w=n.getTotalCodewordsCount(f,g),b=(y-w)*8;if(m===i.MIXED)return b;const v=b-l(m,f);switch(m){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(f,g){let m;const y=r.from(g,r.M);if(Array.isArray(f)){if(f.length>1)return d(f,y);if(f.length===0)return 1;m=f[0]}else m=f;return c(m.mode,m.getLength(),y)},t.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let g=f<<12;for(;e.getBCHDigit(g)-a>=0;)g^=o<<e.getBCHDigit(g)-a;return f<<12|g}}(Nxe);var Rxe={};const HV=ml,Mxe=1335,KFt=21522,jxe=HV.getBCHDigit(Mxe);Rxe.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;HV.getBCHDigit(i)-jxe>=0;)i^=Mxe<<HV.getBCHDigit(i)-jxe;return(r<<10|i)^KFt};var Dxe={};const GFt=Zg;function I3(t){this.mode=GFt.NUMERIC,this.data=t.toString()}I3.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},I3.prototype.getLength=function(){return this.data.length},I3.prototype.getBitsLength=function(){return I3.getBitsLength(this.data.length)},I3.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var ZFt=I3;const YFt=Zg,VV=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function k3(t){this.mode=YFt.ALPHANUMERIC,this.data=t}k3.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},k3.prototype.getLength=function(){return this.data.length},k3.prototype.getBitsLength=function(){return k3.getBitsLength(this.data.length)},k3.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=VV.indexOf(this.data[n])*45;r+=VV.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(VV.indexOf(this.data[n]),6)};var JFt=k3,QFt=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const XFt=QFt,ezt=Zg;function $3(t){this.mode=ezt.BYTE,typeof t=="string"&&(t=XFt(t)),this.data=new Uint8Array(t)}$3.getBitsLength=function(e){return e*8},$3.prototype.getLength=function(){return this.data.length},$3.prototype.getBitsLength=function(){return $3.getBitsLength(this.data.length)},$3.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var tzt=$3;const nzt=Zg,rzt=ml;function T3(t){this.mode=nzt.KANJI,this.data=t}T3.getBitsLength=function(e){return e*13},T3.prototype.getLength=function(){return this.data.length},T3.prototype.getBitsLength=function(){return T3.getBitsLength(this.data.length)},T3.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=rzt.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var izt=T3;(function(t){const e=Zg,n=ZFt,r=JFt,i=tzt,s=izt,o=Wh,a=ml,c=gme;function l(w){return unescape(encodeURIComponent(w)).length}function u(w,b,v){const E=[];let _;for(;(_=w.exec(v))!==null;)E.push({data:_[0],index:_.index,mode:b,length:_[0].length});return E}function d(w){const b=u(o.NUMERIC,e.NUMERIC,w),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,w);let E,_;return a.isKanjiModeEnabled()?(E=u(o.BYTE,e.BYTE,w),_=u(o.KANJI,e.KANJI,w)):(E=u(o.BYTE_KANJI,e.BYTE,w),_=[]),b.concat(v,E,_).sort(function(S,R){return S.index-R.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function h(w,b){switch(b){case e.NUMERIC:return n.getBitsLength(w);case e.ALPHANUMERIC:return r.getBitsLength(w);case e.KANJI:return s.getBitsLength(w);case e.BYTE:return i.getBitsLength(w)}}function f(w){return w.reduce(function(b,v){const E=b.length-1>=0?b[b.length-1]:null;return E&&E.mode===v.mode?(b[b.length-1].data+=v.data,b):(b.push(v),b)},[])}function g(w){const b=[];for(let v=0;v<w.length;v++){const E=w[v];switch(E.mode){case e.NUMERIC:b.push([E,{data:E.data,mode:e.ALPHANUMERIC,length:E.length},{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.ALPHANUMERIC:b.push([E,{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.KANJI:b.push([E,{data:E.data,mode:e.BYTE,length:l(E.data)}]);break;case e.BYTE:b.push([{data:E.data,mode:e.BYTE,length:l(E.data)}])}}return b}function m(w,b){const v={},E={start:{}};let _=["start"];for(let O=0;O<w.length;O++){const S=w[O],R=[];for(let I=0;I<S.length;I++){const D=S[I],j=""+O+I;R.push(j),v[j]={node:D,lastCount:0},E[j]={};for(let F=0;F<_.length;F++){const M=_[F];v[M]&&v[M].node.mode===D.mode?(E[M][j]=h(v[M].lastCount+D.length,D.mode)-h(v[M].lastCount,D.mode),v[M].lastCount+=D.length):(v[M]&&(v[M].lastCount=D.length),E[M][j]=h(D.length,D.mode)+4+e.getCharCountIndicator(D.mode,b))}}_=R}for(let O=0;O<_.length;O++)E[_[O]].end=0;return{map:E,table:v}}function y(w,b){let v;const E=e.getBestModeForData(w);if(v=e.from(b,E),v!==e.BYTE&&v.bit<E.bit)throw new Error('"'+w+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(E));switch(v===e.KANJI&&!a.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new n(w);case e.ALPHANUMERIC:return new r(w);case e.KANJI:return new s(w);case e.BYTE:return new i(w)}}t.fromArray=function(b){return b.reduce(function(v,E){return typeof E=="string"?v.push(y(E,null)):E.data&&v.push(y(E.data,E.mode)),v},[])},t.fromString=function(b,v){const E=d(b,a.isKanjiModeEnabled()),_=g(E),O=m(_,v),S=c.find_path(O.map,"start","end"),R=[];for(let I=1;I<S.length-1;I++)R.push(O.table[S[I]].node);return t.fromArray(f(R))},t.rawSplit=function(b){return t.fromArray(d(b,a.isKanjiModeEnabled()))}})(Dxe);const hT=ml,KV=oT,szt=LFt,ozt=BFt,azt=Sxe,czt=Ixe,GV=$xe,ZV=aT,lzt=FFt,fT=Nxe,uzt=Rxe,dzt=Zg,YV=Dxe;function hzt(t,e){const n=t.size,r=czt.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function fzt(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function pzt(t,e){const n=azt.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function gzt(t,e){const n=t.size,r=fT.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function JV(t,e,n){const r=t.size,i=uzt.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function mzt(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function yzt(t,e,n){const r=new szt;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),dzt.getCharCountIndicator(c.mode,t)),c.write(r)});const i=hT.getSymbolTotalCodewords(t),s=ZV.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return wzt(r,t,e)}function wzt(t,e,n){const r=hT.getSymbolTotalCodewords(e),i=ZV.getTotalCodewordsCount(e,n),s=r-i,o=ZV.getBlocksCount(e,n),a=r%o,c=o-a,l=Math.floor(r/o),u=Math.floor(s/o),d=u+1,h=l-u,f=new lzt(h);let g=0;const m=new Array(o),y=new Array(o);let w=0;const b=new Uint8Array(t.buffer);for(let S=0;S<o;S++){const R=S<c?u:d;m[S]=b.slice(g,g+R),y[S]=f.encode(m[S]),g+=R,w=Math.max(w,R)}const v=new Uint8Array(r);let E=0,_,O;for(_=0;_<w;_++)for(O=0;O<o;O++)_<m[O].length&&(v[E++]=m[O][_]);for(_=0;_<h;_++)for(O=0;O<o;O++)v[E++]=y[O][_];return v}function vzt(t,e,n,r){let i;if(Array.isArray(t))i=YV.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=YV.rawSplit(t);l=fT.getBestVersionForData(u,n)}i=YV.fromString(t,l||40)}else throw new Error("Invalid data");const s=fT.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=yzt(e,n,i),a=hT.getSymbolSize(e),c=new ozt(a);return hzt(c,e),fzt(c),pzt(c,e),JV(c,n,0),e>=7&&gzt(c,e),mzt(c,o),isNaN(r)&&(r=GV.getBestMask(c,JV.bind(null,c,n))),GV.applyMask(r,c),JV(c,n,r),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}_xe.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=KV.M,i,s;return typeof n<"u"&&(r=KV.from(n.errorCorrectionLevel,KV.M),i=fT.from(n.version),s=GV.from(n.maskPattern),n.toSJISFunc&&hT.setToSJISFunction(n.toSJISFunc)),vzt(e,i,r,s)};var Lxe={},QV={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,d=[s.color.light,s.color.dark];for(let h=0;h<l;h++)for(let f=0;f<l;f++){let g=(h*l+f)*4,m=s.color.light;if(h>=u&&f>=u&&h<l-u&&f<l-u){const y=Math.floor((h-u)/c),w=Math.floor((f-u)/c);m=d[a[y*o+w]?1:0]}r[g++]=m.r,r[g++]=m.g,r[g++]=m.b,r[g]=m.a}}})(QV),function(t){const e=QV;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=r()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),d=l.getContext("2d"),h=d.createImageData(u,u);return e.qrToImageData(h.data,s,c),n(d,l,u),d.putImageData(h,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),u=c.type||"image/png",d=c.rendererOpts||{};return l.toDataURL(u,d.quality)}}(Lxe);var Bxe={};const bzt=QV;function Uxe(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function XV(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function xzt(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(r+=s?XV("M",c+n,.5+l+n):XV("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(r+=XV("h",o),o=0)):i++}return r}Bxe.render=function(e,n,r){const i=bzt.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+Uxe(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+Uxe(i.color.dark,"stroke")+' d="'+xzt(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,h),h};const Ezt=jFt,eK=_xe,Fxe=Lxe,Czt=Bxe;function tK(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!Ezt())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(c,l){try{const u=eK.create(n,r);c(t(u,e,r))}catch(u){l(u)}})}try{const c=eK.create(n,r);i(null,t(c,e,r))}catch(c){i(c)}}jE.create=eK.create,jE.toCanvas=tK.bind(null,Fxe.render),jE.toDataURL=tK.bind(null,Fxe.renderToDataURL),jE.toString=tK.bind(null,function(t,e,n){return Czt.render(t,n)});const _zt=.1,zxe=2.5,Np=7;function nK(t,e,n){return t===e?!1:(t-e<0?e-t:t-e)<=n+_zt}function Azt(t,e){const n=Array.prototype.slice.call(jE.create(t,{errorCorrectionLevel:e}).modules.data,0),r=Math.sqrt(n.length);return n.reduce((i,s,o)=>(o%r===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const Szt={generate({uri:t,size:e,logoSize:n,dotColor:r="#141414"}){const i="transparent",o=[],a=Azt(t,"Q"),c=e/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:m,y})=>{const w=(a.length-Np)*c*m,b=(a.length-Np)*c*y,v=.45;for(let E=0;E<l.length;E+=1){const _=c*(Np-E*2);o.push(Ke`
            <rect
              fill=${E===2?r:i}
              width=${E===0?_-5:_}
              rx= ${E===0?(_-5)*v:_*v}
              ry= ${E===0?(_-5)*v:_*v}
              stroke=${r}
              stroke-width=${E===0?5:0}
              height=${E===0?_-5:_}
              x= ${E===0?b+c*E+5/2:b+c*E}
              y= ${E===0?w+c*E+5/2:w+c*E}
            />
          `)}});const u=Math.floor((n+25)/c),d=a.length/2-u/2,h=a.length/2+u/2-1,f=[];a.forEach((m,y)=>{m.forEach((w,b)=>{if(a[y][b]&&!(y<Np&&b<Np||y>a.length-(Np+1)&&b<Np||y<Np&&b>a.length-(Np+1))&&!(y>d&&y<h&&b>d&&b<h)){const v=y*c+c/2,E=b*c+c/2;f.push([v,E])}})});const g={};return f.forEach(([m,y])=>{var w;g[m]?(w=g[m])==null||w.push(y):g[m]=[y]}),Object.entries(g).map(([m,y])=>{const w=y.filter(b=>y.every(v=>!nK(b,v,c)));return[Number(m),w]}).forEach(([m,y])=>{y.forEach(w=>{o.push(Ke`<circle cx=${m} cy=${w} fill=${r} r=${c/zxe} />`)})}),Object.entries(g).filter(([m,y])=>y.length>1).map(([m,y])=>{const w=y.filter(b=>y.some(v=>nK(b,v,c)));return[Number(m),w]}).map(([m,y])=>{y.sort((b,v)=>b<v?-1:1);const w=[];for(const b of y){const v=w.find(E=>E.some(_=>nK(b,_,c)));v?v.push(b):w.push([b])}return[m,w.map(b=>[b[0],b[b.length-1]])]}).forEach(([m,y])=>{y.forEach(([w,b])=>{o.push(Ke`
              <line
                x1=${m}
                x2=${m}
                y1=${w}
                y2=${b}
                stroke=${r}
                stroke-width=${c/(zxe/2)}
                stroke-linecap="round"
              />
            `)})}),o}},Izt=Bt`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: var(--local-size);
  }

  :host([data-theme='dark']) {
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);
    background-color: var(--wui-color-inverse-100);
    padding: var(--wui-spacing-l);
  }

  :host([data-theme='light']) {
    box-shadow: 0 0 0 1px var(--wui-color-bg-125);
    background-color: var(--wui-color-bg-125);
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: var(--local-icon-color) !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }
`;var Op=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const kzt="#3396ff";let _d=class extends vt{constructor(){super(...arguments),this.uri="",this.size=0,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText=`
     --local-size: ${this.size}px;
     --local-icon-color: ${this.color??kzt}
    `,re`${this.templateVisual()} ${this.templateSvg()}`}templateSvg(){const e=this.theme==="light"?this.size:this.size-32;return Ke`
      <svg height=${e} width=${e}>
        ${Szt.generate({uri:this.uri,size:e,logoSize:this.arenaClear?0:e/4,dotColor:this.color})}
      </svg>
    `}templateVisual(){return this.imageSrc?re`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?re`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:re`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};_d.styles=[Qn,Izt],Op([ue()],_d.prototype,"uri",void 0),Op([ue({type:Number})],_d.prototype,"size",void 0),Op([ue()],_d.prototype,"theme",void 0),Op([ue()],_d.prototype,"imageSrc",void 0),Op([ue()],_d.prototype,"alt",void 0),Op([ue()],_d.prototype,"color",void 0),Op([ue({type:Boolean})],_d.prototype,"arenaClear",void 0),Op([ue({type:Boolean})],_d.prototype,"farcaster",void 0),_d=Op([mt("wui-qr-code")],_d);const $zt=Bt`
  :host {
    display: block;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-200) 5%,
      var(--wui-color-bg-200) 48%,
      var(--wui-color-bg-300) 55%,
      var(--wui-color-bg-300) 60%,
      var(--wui-color-bg-300) calc(60% + 10px),
      var(--wui-color-bg-200) calc(60% + 12px),
      var(--wui-color-bg-200) 100%
    );
    background-size: 250%;
    animation: shimmer 3s linear infinite reverse;
  }

  :host([variant='light']) {
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-150) 5%,
      var(--wui-color-bg-150) 48%,
      var(--wui-color-bg-200) 55%,
      var(--wui-color-bg-200) 60%,
      var(--wui-color-bg-200) calc(60% + 10px),
      var(--wui-color-bg-150) calc(60% + 12px),
      var(--wui-color-bg-150) 100%
    );
    background-size: 250%;
  }

  @keyframes shimmer {
    from {
      background-position: -250% 0;
    }
    to {
      background-position: 250% 0;
    }
  }
`;var UE=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let jy=class extends vt{constructor(){super(...arguments),this.width="",this.height="",this.borderRadius="m",this.variant="default"}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
      border-radius: ${`clamp(0px,var(--wui-border-radius-${this.borderRadius}), 40px)`};
    `,re`<slot></slot>`}};jy.styles=[$zt],UE([ue()],jy.prototype,"width",void 0),UE([ue()],jy.prototype,"height",void 0),UE([ue()],jy.prototype,"borderRadius",void 0),UE([ue()],jy.prototype,"variant",void 0),jy=UE([mt("wui-shimmer")],jy);const Tzt="https://reown.com",Pzt=Bt`
  .reown-logo {
    height: var(--wui-spacing-xxl);
  }

  a {
    text-decoration: none;
    cursor: pointer;
  }

  a:hover {
    opacity: 0.9;
  }
`;var Nzt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let rK=class extends vt{render(){return re`
      <a
        data-testid="ux-branding-reown"
        href=${Tzt}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="xs"
          .padding=${["0","0","l","0"]}
        >
          <wui-text variant="small-500" color="fg-100"> UX by </wui-text>
          <wui-icon name="reown" size="xxxl" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};rK.styles=[Qn,ho,Pzt],rK=Nzt([mt("wui-ux-by-reown")],rK);const Ozt=Bt`
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }
`;var Rzt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let iK=class extends qo{constructor(){var e;super(),this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener("resize",this.forceUpdate),En.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:((e=this.wallet)==null?void 0:e.name)??"WalletConnect",platform:"qrcode"}})}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.unsubscribe)==null||e.forEach(n=>n()),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),re`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","xl","xl","xl"]}
        gap="xl"
      >
        <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

        <wui-text variant="paragraph-500" color="fg-100">
          Scan this QR Code with your phone
        </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.getBoundingClientRect().width-40,n=this.wallet?this.wallet.name:void 0;return Ge.setWcLinking(void 0),Ge.setRecentWallet(this.wallet),re` <wui-qr-code
      size=${e}
      theme=${so.state.themeMode}
      uri=${this.uri}
      imageSrc=${Ut(ds.getWalletImage(this.wallet))}
      color=${Ut(so.state.themeVariables["--w3m-qr-color"])}
      alt=${Ut(n)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return re`<wui-link
      .disabled=${e}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`}};iK.styles=Ozt,iK=Rzt([mt("w3m-connecting-wc-qrcode")],iK);var Mzt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Wxe=class extends vt{constructor(){var e;if(super(),this.wallet=(e=ze.state.data)==null?void 0:e.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");En.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}render(){return re`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${Ut(ds.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="paragraph-500" color="fg-100">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};Wxe=Mzt([mt("w3m-connecting-wc-unsupported")],Wxe);var qxe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let sK=class extends qo{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=dr.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(Ge.subscribeKey("wcUri",()=>{this.updateLoadingState()})),En.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web"}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){var e;if((e=this.wallet)!=null&&e.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:n,name:r}=this.wallet,{redirect:i,href:s}=Be.formatUniversalUrl(n,this.uri);Ge.setWcLinking({name:r,href:s}),Ge.setRecentWallet(this.wallet),Be.openHref(i,"_blank")}catch{this.error=!0}}};qxe([ct()],sK.prototype,"isLoading",void 0),sK=qxe([mt("w3m-connecting-wc-web")],sK);var FE=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let P3=class extends vt{constructor(){var e;super(),this.wallet=(e=ze.state.data)==null?void 0:e.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!Ce.state.siwx,this.remoteFeatures=Ce.state.remoteFeatures,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(Ce.subscribeKey("remoteFeatures",n=>this.remoteFeatures=n))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return re`
      ${this.headerTemplate()}
      <div>${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){var e;return(e=this.remoteFeatures)!=null&&e.reownBranding?re`<wui-ux-by-reown></wui-ux-by-reown>`:null}async initializeConnection(e=!1){if(!(this.platform==="browser"||Ce.state.manualWCControl&&!e))try{const{wcPairingExpiry:n,status:r}=Ge.state;(e||Ce.state.enableEmbedded||Be.isPairingExpired(n)||r==="connecting")&&(await Ge.connectWalletConnect(),this.isSiwxEnabled||tr.close())}catch(n){En.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(n==null?void 0:n.message)??"Unknown"}}),Ge.setWcError(!0),$i.showError(n.message??"Connection error"),Ge.resetWcConnection(),ze.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:e,desktop_link:n,webapp_link:r,injected:i,rdns:s}=this.wallet,o=i==null?void 0:i.map(({injected_id:g})=>g).filter(Boolean),a=[...s?[s]:o??[]],c=Ce.state.isUniversalProvider?!1:a.length,l=e,u=r,d=Ge.checkInstalled(a),h=c&&d,f=n&&!Be.isMobile();h&&!X.state.noAdapters&&this.platforms.push("browser"),l&&this.platforms.push(Be.isMobile()?"mobile":"qrcode"),u&&this.platforms.push("web"),f&&this.platforms.push("desktop"),!h&&c&&!X.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return re`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return re`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return re`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return re`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return re`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;default:return re`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?re`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(e){var r;const n=(r=this.shadowRoot)==null?void 0:r.querySelector("div");n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=e,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};FE([ct()],P3.prototype,"platform",void 0),FE([ct()],P3.prototype,"platforms",void 0),FE([ct()],P3.prototype,"isSiwxEnabled",void 0),FE([ct()],P3.prototype,"remoteFeatures",void 0),P3=FE([mt("w3m-connecting-wc-view")],P3);var Hxe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let pT=class extends vt{constructor(){super(...arguments),this.isMobile=Be.isMobile()}render(){if(this.isMobile){const{featured:e,recommended:n}=We.state,{customWallets:r}=Ce.state,i=wt.getRecentWallets(),s=e.length||n.length||(r==null?void 0:r.length)||i.length;return re`<wui-flex
        flexDirection="column"
        gap="xs"
        .margin=${["3xs","s","s","s"]}
      >
        ${s?re`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return re`<wui-flex flexDirection="column" .padding=${["0","0","l","0"]}>
      <w3m-connecting-wc-view></w3m-connecting-wc-view>
      <wui-flex flexDirection="column" .padding=${["0","m","0","m"]}>
        <w3m-all-wallets-widget></w3m-all-wallets-widget> </wui-flex
    ></wui-flex>`}};Hxe([ct()],pT.prototype,"isMobile",void 0),pT=Hxe([mt("w3m-connecting-wc-basic-view")],pT);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const oK=()=>new jzt;class jzt{}const aK=new WeakMap,cK=PV(class extends fxe{render(t){return Oi}update(t,[e]){var r;const n=e!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=e,this.ht=(r=t.options)==null?void 0:r.host,this.rt(this.ct=t.element)),Oi}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let n=aK.get(e);n===void 0&&(n=new WeakMap,aK.set(e,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){var t,e;return typeof this.G=="function"?(t=aK.get(this.ht??globalThis))==null?void 0:t.get(this.G):(e=this.G)==null?void 0:e.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}}),Dzt=Bt`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    width: 32px;
    height: 22px;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--wui-color-blue-100);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-002);
    border-radius: 999px;
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color;
  }

  span:before {
    position: absolute;
    content: '';
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
    background-color: var(--wui-color-inverse-100);
    transition: transform var(--wui-ease-inout-power-1) var(--wui-duration-lg);
    will-change: transform;
    border-radius: 50%;
  }

  input:checked + span {
    border-color: var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-blue-100);
  }

  input:not(:checked) + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }
`;var Vxe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let gT=class extends vt{constructor(){super(...arguments),this.inputElementRef=oK(),this.checked=void 0}render(){return re`
      <label>
        <input
          ${cK(this.inputElementRef)}
          type="checkbox"
          ?checked=${Ut(this.checked)}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){var e;this.dispatchEvent(new CustomEvent("switchChange",{detail:(e=this.inputElementRef.value)==null?void 0:e.checked,bubbles:!0,composed:!0}))}};gT.styles=[Qn,ho,wE,Dzt],Vxe([ue({type:Boolean})],gT.prototype,"checked",void 0),gT=Vxe([mt("wui-switch")],gT);const Lzt=Bt`
  :host {
    height: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: var(--wui-spacing-1xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`;var Kxe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let mT=class extends vt{constructor(){super(...arguments),this.checked=void 0}render(){return re`
      <button>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-switch ?checked=${Ut(this.checked)}></wui-switch>
      </button>
    `}};mT.styles=[Qn,ho,Lzt],Kxe([ue({type:Boolean})],mT.prototype,"checked",void 0),mT=Kxe([mt("wui-certified-switch")],mT);const Bzt=Bt`
  button {
    background-color: var(--wui-color-fg-300);
    border-radius: var(--wui-border-radius-4xs);
    width: 16px;
    height: 16px;
  }

  button:disabled {
    background-color: var(--wui-color-bg-300);
  }

  wui-icon {
    color: var(--wui-color-bg-200) !important;
  }

  button:focus-visible {
    background-color: var(--wui-color-fg-250);
    border: 1px solid var(--wui-color-accent-100);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-fg-250);
    }

    button:active:enabled {
      background-color: var(--wui-color-fg-225);
    }
  }
`;var Gxe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let yT=class extends vt{constructor(){super(...arguments),this.icon="copy"}render(){return re`
      <button>
        <wui-icon color="inherit" size="xxs" name=${this.icon}></wui-icon>
      </button>
    `}};yT.styles=[Qn,ho,Bzt],Gxe([ue()],yT.prototype,"icon",void 0),yT=Gxe([mt("wui-input-element")],yT);const Uzt=Bt`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  input {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
    color: var(--wui-color-fg-100);
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color, box-shadow;
    caret-color: var(--wui-color-accent-100);
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  input:disabled::placeholder,
  input:disabled + wui-icon {
    color: var(--wui-color-fg-300);
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }

  input:focus:enabled {
    background-color: var(--wui-color-gray-glass-005);
    -webkit-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  input:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);
  }

  wui-icon + .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px 36px;
  }

  wui-icon[data-input='sm'] {
    left: var(--wui-spacing-s);
  }

  .wui-size-md {
    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);
  }

  wui-icon + .wui-size-md,
  wui-loading-spinner + .wui-size-md {
    padding: 10.5px var(--wui-spacing-3xl) 10.5px var(--wui-spacing-3xl);
  }

  wui-icon[data-input='md'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-lg {
    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);
    letter-spacing: var(--wui-letter-spacing-medium-title);
    font-size: var(--wui-font-size-medium-title);
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    color: var(--wui-color-fg-100);
    height: 64px;
  }

  .wui-padding-right-xs {
    padding-right: var(--wui-spacing-xs);
  }

  .wui-padding-right-s {
    padding-right: var(--wui-spacing-s);
  }

  .wui-padding-right-m {
    padding-right: var(--wui-spacing-m);
  }

  .wui-padding-right-l {
    padding-right: var(--wui-spacing-l);
  }

  .wui-padding-right-xl {
    padding-right: var(--wui-spacing-xl);
  }

  .wui-padding-right-2xl {
    padding-right: var(--wui-spacing-2xl);
  }

  .wui-padding-right-3xl {
    padding-right: var(--wui-spacing-3xl);
  }

  .wui-padding-right-4xl {
    padding-right: var(--wui-spacing-4xl);
  }

  .wui-padding-right-5xl {
    padding-right: var(--wui-spacing-5xl);
  }

  wui-icon + .wui-size-lg,
  wui-loading-spinner + .wui-size-lg {
    padding-left: 50px;
  }

  wui-icon[data-input='lg'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-m) 17.25px var(--wui-spacing-m);
  }
  wui-icon + .wui-size-mdl,
  wui-loading-spinner + .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-3xl) 17.25px 40px;
  }
  wui-icon[data-input='mdl'] {
    left: var(--wui-spacing-m);
  }

  input:placeholder-shown ~ ::slotted(wui-input-element),
  input:placeholder-shown ~ ::slotted(wui-icon) {
    opacity: 0;
    pointer-events: none;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  ::slotted(wui-input-element),
  ::slotted(wui-icon) {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  ::slotted(wui-input-element) {
    right: var(--wui-spacing-m);
  }

  ::slotted(wui-icon) {
    right: 0px;
  }
`;var qh=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let yu=class extends vt{constructor(){super(...arguments),this.inputElementRef=oK(),this.size="md",this.disabled=!1,this.placeholder="",this.type="text",this.value=""}render(){const e=`wui-padding-right-${this.inputRightPadding}`,r={[`wui-size-${this.size}`]:!0,[e]:!!this.inputRightPadding};return re`${this.templateIcon()}
      <input
        data-testid="wui-input-text"
        ${cK(this.inputElementRef)}
        class=${yxe(r)}
        type=${this.type}
        enterkeyhint=${Ut(this.enterKeyHint)}
        ?disabled=${this.disabled}
        placeholder=${this.placeholder}
        @input=${this.dispatchInputChangeEvent.bind(this)}
        .value=${this.value||""}
        tabindex=${Ut(this.tabIdx)}
      />
      <slot></slot>`}templateIcon(){return this.icon?re`<wui-icon
        data-input=${this.size}
        size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}dispatchInputChangeEvent(){var e;this.dispatchEvent(new CustomEvent("inputChange",{detail:(e=this.inputElementRef.value)==null?void 0:e.value,bubbles:!0,composed:!0}))}};yu.styles=[Qn,ho,Uzt],qh([ue()],yu.prototype,"size",void 0),qh([ue()],yu.prototype,"icon",void 0),qh([ue({type:Boolean})],yu.prototype,"disabled",void 0),qh([ue()],yu.prototype,"placeholder",void 0),qh([ue()],yu.prototype,"type",void 0),qh([ue()],yu.prototype,"keyHint",void 0),qh([ue()],yu.prototype,"value",void 0),qh([ue()],yu.prototype,"inputRightPadding",void 0),qh([ue()],yu.prototype,"tabIdx",void 0),yu=qh([mt("wui-input-text")],yu);const Fzt=Bt`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`;var zzt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let lK=class extends vt{constructor(){super(...arguments),this.inputComponentRef=oK()}render(){return re`
      <wui-input-text
        ${cK(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
      >
        <wui-input-element @click=${this.clearValue} icon="close"></wui-input-element>
      </wui-input-text>
    `}clearValue(){const e=this.inputComponentRef.value,n=e==null?void 0:e.inputElementRef.value;n&&(n.value="",n.focus(),n.dispatchEvent(new Event("input")))}};lK.styles=[Qn,Fzt],lK=zzt([mt("wui-search-bar")],lK);const Wzt=Ke`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`,qzt=Bt`
  :host {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) 10px;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--wui-path-network);
    clip-path: var(--wui-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: var(--wui-color-gray-glass-010);
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`;var Zxe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let wT=class extends vt{constructor(){super(...arguments),this.type="wallet"}render(){return re`
      ${this.shimmerTemplate()}
      <wui-shimmer width="56px" height="20px" borderRadius="xs"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?re` <wui-shimmer
          data-type=${this.type}
          width="48px"
          height="54px"
          borderRadius="xs"
        ></wui-shimmer>
        ${Wzt}`:re`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}};wT.styles=[Qn,ho,qzt],Zxe([ue()],wT.prototype,"type",void 0),wT=Zxe([mt("wui-card-select-loader")],wT);const Hzt=Bt`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`;var wu=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let _c=class extends vt{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&Ms.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&Ms.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&Ms.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&Ms.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&Ms.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&Ms.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&Ms.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&Ms.getSpacingStyles(this.margin,3)};
    `,re`<slot></slot>`}};_c.styles=[Qn,Hzt],wu([ue()],_c.prototype,"gridTemplateRows",void 0),wu([ue()],_c.prototype,"gridTemplateColumns",void 0),wu([ue()],_c.prototype,"justifyItems",void 0),wu([ue()],_c.prototype,"alignItems",void 0),wu([ue()],_c.prototype,"justifyContent",void 0),wu([ue()],_c.prototype,"alignContent",void 0),wu([ue()],_c.prototype,"columnGap",void 0),wu([ue()],_c.prototype,"rowGap",void 0),wu([ue()],_c.prototype,"gap",void 0),wu([ue()],_c.prototype,"padding",void 0),wu([ue()],_c.prototype,"margin",void 0),_c=wu([mt("wui-grid")],_c);const Vzt=Bt`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-s) var(--wui-spacing-0);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: var(--wui-color-fg-100);
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  button:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-color-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-color-accent-glass-010);
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`;var zE=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Dy=class extends vt{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.wallet=void 0,this.observer=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting?(this.visible=!0,this.fetchImageSrc()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){var n,r;const e=((n=this.wallet)==null?void 0:n.badge_type)==="certified";return re`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="3xs">
          <wui-text
            variant="tiny-500"
            color="inherit"
            class=${Ut(e?"certified":void 0)}
            >${(r=this.wallet)==null?void 0:r.name}</wui-text
          >
          ${e?re`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){var e,n;return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():re`
      <wui-wallet-image
        size="md"
        imageSrc=${Ut(this.imageSrc)}
        name=${(e=this.wallet)==null?void 0:e.name}
        .installed=${(n=this.wallet)==null?void 0:n.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return re`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=ds.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await ds.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}};Dy.styles=Vzt,zE([ct()],Dy.prototype,"visible",void 0),zE([ct()],Dy.prototype,"imageSrc",void 0),zE([ct()],Dy.prototype,"imageLoading",void 0),zE([ue()],Dy.prototype,"wallet",void 0),Dy=zE([mt("w3m-all-wallets-list-item")],Dy);const Kzt=Bt`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    justify-content: center;
    grid-column: 1 / span 4;
  }
`;var N3=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const Yxe="local-paginator";let Yg=class extends vt{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!We.state.wallets.length,this.wallets=We.state.wallets,this.recommended=We.state.recommended,this.featured=We.state.featured,this.filteredWallets=We.state.filteredWallets,this.unsubscribe.push(We.subscribeKey("wallets",e=>this.wallets=e),We.subscribeKey("recommended",e=>this.recommended=e),We.subscribeKey("featured",e=>this.featured=e),We.subscribeKey("filteredWallets",e=>this.filteredWallets=e))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){var e;this.unsubscribe.forEach(n=>n()),(e=this.paginationObserver)==null||e.disconnect()}render(){return re`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","s","s","s"]}
        columnGap="xxs"
        rowGap="l"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){var n;this.loading=!0;const e=(n=this.shadowRoot)==null?void 0:n.querySelector("wui-grid");e&&(await We.fetchWalletsByPage({page:1}),await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(e,n){return[...Array(e)].map(()=>re`
        <wui-card-select-loader type="wallet" id=${Ut(n)}></wui-card-select-loader>
      `)}walletsTemplate(){var r;const e=((r=this.filteredWallets)==null?void 0:r.length)>0?Be.uniqueBy([...this.featured,...this.recommended,...this.filteredWallets],"id"):Be.uniqueBy([...this.featured,...this.recommended,...this.wallets],"id");return wy.markWalletsAsInstalled(e).map(i=>re`
        <w3m-all-wallets-list-item
          @click=${()=>this.onConnectWallet(i)}
          .wallet=${i}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:e,recommended:n,featured:r,count:i}=We.state,s=window.innerWidth<352?3:4,o=e.length+n.length;let c=Math.ceil(o/s)*s-o+s;return c-=e.length?r.length%s:0,i===0&&r.length>0?null:i===0||[...r,...e,...n].length<i?this.shimmerTemplate(c,Yxe):null}createPaginationObserver(){var n;const e=(n=this.shadowRoot)==null?void 0:n.querySelector(`#${Yxe}`);e&&(this.paginationObserver=new IntersectionObserver(([r])=>{if(r!=null&&r.isIntersecting&&!this.loading){const{page:i,count:s,wallets:o}=We.state;o.length<s&&We.fetchWalletsByPage({page:i+1})}}),this.paginationObserver.observe(e))}onConnectWallet(e){Ne.selectWalletConnector(e)}};Yg.styles=Kzt,N3([ct()],Yg.prototype,"loading",void 0),N3([ct()],Yg.prototype,"wallets",void 0),N3([ct()],Yg.prototype,"recommended",void 0),N3([ct()],Yg.prototype,"featured",void 0),N3([ct()],Yg.prototype,"filteredWallets",void 0),Yg=N3([mt("w3m-all-wallets-list")],Yg);const Gzt=Bt`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`;var vT=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let O3=class extends vt{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.query=""}render(){return this.onSearch(),this.loading?re`<wui-loading-spinner color="accent-100"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await We.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:e}=We.state,n=wy.markWalletsAsInstalled(e);return e.length?re`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","s","s","s"]}
        rowGap="l"
        columnGap="xs"
        justifyContent="space-between"
      >
        ${n.map(r=>re`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(r)}
              .wallet=${r}
              data-testid="wallet-search-item-${r.id}"
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:re`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="s"
          flexDirection="column"
        >
          <wui-icon-box
            size="lg"
            iconColor="fg-200"
            backgroundColor="fg-300"
            icon="wallet"
            background="transparent"
          ></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="fg-200" variant="paragraph-500">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(e){Ne.selectWalletConnector(e)}};O3.styles=Gzt,vT([ct()],O3.prototype,"loading",void 0),vT([ue()],O3.prototype,"query",void 0),vT([ue()],O3.prototype,"badge",void 0),O3=vT([mt("w3m-all-wallets-search")],O3);var uK=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let WE=class extends vt{constructor(){super(...arguments),this.search="",this.onDebouncedSearch=Be.debounce(e=>{this.search=e})}render(){const e=this.search.length>=2;return re`
      <wui-flex .padding=${["0","s","s","s"]} gap="xs">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge}
          @click=${this.onClick.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${e||this.badge?re`<w3m-all-wallets-search
            query=${this.search}
            badge=${Ut(this.badge)}
          ></w3m-all-wallets-search>`:re`<w3m-all-wallets-list badge=${Ut(this.badge)}></w3m-all-wallets-list>`}
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onClick(){if(this.badge==="certified"){this.badge=void 0;return}this.badge="certified",$i.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})}qrButtonTemplate(){return Be.isMobile()?re`
        <wui-icon-box
          size="lg"
          iconSize="xl"
          iconColor="accent-100"
          backgroundColor="accent-100"
          icon="qrCode"
          background="transparent"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){ze.push("ConnectingWalletConnect")}};uK([ct()],WE.prototype,"search",void 0),uK([ct()],WE.prototype,"badge",void 0),WE=uK([mt("w3m-all-wallets-view")],WE);const Zzt=Bt`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 11px 18px 11px var(--wui-spacing-s);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
    transition:
      color var(--wui-ease-out-power-1) var(--wui-duration-md),
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: color, background-color;
  }

  button[data-iconvariant='square'],
  button[data-iconvariant='square-blue'] {
    padding: 6px 18px 6px 9px;
  }

  button > wui-flex {
    flex: 1;
  }

  button > wui-image {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }

  button > wui-icon {
    width: 36px;
    height: 36px;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  button > wui-icon-box[data-variant='blue'] {
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-005);
  }

  button > wui-icon-box[data-variant='overlay'] {
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }

  button > wui-icon-box[data-variant='square-blue']::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-accent-glass-010);
    pointer-events: none;
  }

  button > wui-icon:last-child {
    width: 14px;
    height: 14px;
  }

  button:disabled {
    color: var(--wui-color-gray-glass-020);
  }

  button[data-loading='true'] > wui-icon {
    opacity: 0;
  }

  wui-loading-spinner {
    position: absolute;
    right: 18px;
    top: 50%;
    transform: translateY(-50%);
  }
`;var Ad=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let yl=class extends vt{constructor(){super(...arguments),this.tabIdx=void 0,this.variant="icon",this.disabled=!1,this.imageSrc=void 0,this.alt=void 0,this.chevron=!1,this.loading=!1}render(){return re`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        data-iconvariant=${Ut(this.iconVariant)}
        tabindex=${Ut(this.tabIdx)}
      >
        ${this.loadingTemplate()} ${this.visualTemplate()}
        <wui-flex gap="3xs">
          <slot></slot>
        </wui-flex>
        ${this.chevronTemplate()}
      </button>
    `}visualTemplate(){if(this.variant==="image"&&this.imageSrc)return re`<wui-image src=${this.imageSrc} alt=${this.alt??"list item"}></wui-image>`;if(this.iconVariant==="square"&&this.icon&&this.variant==="icon")return re`<wui-icon name=${this.icon}></wui-icon>`;if(this.variant==="icon"&&this.icon&&this.iconVariant){const e=["blue","square-blue"].includes(this.iconVariant)?"accent-100":"fg-200",n=this.iconVariant==="square-blue"?"mdl":"md",r=this.iconSize?this.iconSize:n;return re`
        <wui-icon-box
          data-variant=${this.iconVariant}
          icon=${this.icon}
          iconSize=${r}
          background="transparent"
          iconColor=${e}
          backgroundColor=${e}
          size=${n}
        ></wui-icon-box>
      `}return null}loadingTemplate(){return this.loading?re`<wui-loading-spinner
        data-testid="wui-list-item-loading-spinner"
        color="fg-300"
      ></wui-loading-spinner>`:re``}chevronTemplate(){return this.chevron?re`<wui-icon size="inherit" color="fg-200" name="chevronRight"></wui-icon>`:null}};yl.styles=[Qn,ho,Zzt],Ad([ue()],yl.prototype,"icon",void 0),Ad([ue()],yl.prototype,"iconSize",void 0),Ad([ue()],yl.prototype,"tabIdx",void 0),Ad([ue()],yl.prototype,"variant",void 0),Ad([ue()],yl.prototype,"iconVariant",void 0),Ad([ue({type:Boolean})],yl.prototype,"disabled",void 0),Ad([ue()],yl.prototype,"imageSrc",void 0),Ad([ue()],yl.prototype,"alt",void 0),Ad([ue({type:Boolean})],yl.prototype,"chevron",void 0),Ad([ue({type:Boolean})],yl.prototype,"loading",void 0),yl=Ad([mt("wui-list-item")],yl);var Yzt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let dK=class extends vt{constructor(){var e;super(...arguments),this.wallet=(e=ze.state.data)==null?void 0:e.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return re`
      <wui-flex gap="xs" flexDirection="column" .padding=${["s","s","l","s"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){var e;return(e=this.wallet)!=null&&e.chrome_store?re`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){var e;return(e=this.wallet)!=null&&e.app_store?re`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){var e;return(e=this.wallet)!=null&&e.play_store?re`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){var e;return(e=this.wallet)!=null&&e.homepage?re`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="paragraph-500" color="fg-100">Website</wui-text>
      </wui-list-item>
    `:null}onChromeStore(){var e;(e=this.wallet)!=null&&e.chrome_store&&Be.openHref(this.wallet.chrome_store,"_blank")}onAppStore(){var e;(e=this.wallet)!=null&&e.app_store&&Be.openHref(this.wallet.app_store,"_blank")}onPlayStore(){var e;(e=this.wallet)!=null&&e.play_store&&Be.openHref(this.wallet.play_store,"_blank")}onHomePage(){var e;(e=this.wallet)!=null&&e.homepage&&Be.openHref(this.wallet.homepage,"_blank")}};dK=Yzt([mt("w3m-downloads-view")],dK);const Jzt=Object.freeze(Object.defineProperty({__proto__:null,get W3mAllWalletsView(){return WE},get W3mConnectingWcBasicView(){return pT},get W3mDownloadsView(){return dK}},Symbol.toStringTag,{value:"Module"})),Qzt=Bt`
  :host {
    display: block;
    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);
    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-modal-bg);
    overflow: hidden;
  }

  :host([data-embedded='true']) {
    box-shadow:
      0 0 0 1px var(--wui-color-gray-glass-005),
      0px 4px 12px 4px var(--w3m-card-embedded-shadow-color);
  }
`;var Xzt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let hK=class extends vt{render(){return re`<slot></slot>`}};hK.styles=[Qn,Qzt],hK=Xzt([mt("wui-card")],hK);const eWt=Bt`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-dark-glass-100);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-325);
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: var(--wui-border-radius-3xs);
    background-color: var(--local-icon-bg-value);
  }
`;var qE=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ly=class extends vt{constructor(){super(...arguments),this.message="",this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="info"}render(){return this.style.cssText=`
      --local-icon-bg-value: var(--wui-color-${this.backgroundColor});
   `,re`
      <wui-flex flexDirection="row" justifyContent="space-between" alignItems="center">
        <wui-flex columnGap="xs" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color=${this.iconColor} size="md" name=${this.icon}></wui-icon>
          </wui-flex>
          <wui-text variant="small-500" color="bg-350" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="bg-350"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){dd.close()}};Ly.styles=[Qn,eWt],qE([ue()],Ly.prototype,"message",void 0),qE([ue()],Ly.prototype,"backgroundColor",void 0),qE([ue()],Ly.prototype,"iconColor",void 0),qE([ue()],Ly.prototype,"icon",void 0),Ly=qE([mt("wui-alertbar")],Ly);const tWt=Bt`
  :host {
    display: block;
    position: absolute;
    top: var(--wui-spacing-s);
    left: var(--wui-spacing-l);
    right: var(--wui-spacing-l);
    opacity: 0;
    pointer-events: none;
  }
`;var Jxe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const nWt={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"exclamationTriangle"}};let bT=class extends vt{constructor(){super(),this.unsubscribe=[],this.open=dd.state.open,this.onOpen(!0),this.unsubscribe.push(dd.subscribeKey("open",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:n}=dd.state,r=nWt[n];return re`
      <wui-alertbar
        message=${e}
        backgroundColor=${r==null?void 0:r.backgroundColor}
        iconColor=${r==null?void 0:r.iconColor}
        icon=${r==null?void 0:r.icon}
      ></wui-alertbar>
    `}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};bT.styles=tWt,Jxe([ct()],bT.prototype,"open",void 0),bT=Jxe([mt("w3m-alertbar")],bT);const rWt=Bt`
  button {
    border-radius: var(--local-border-radius);
    color: var(--wui-color-fg-100);
    padding: var(--local-padding);
  }

  @media (max-width: 700px) {
    button {
      padding: var(--wui-spacing-s);
    }
  }

  button > wui-icon {
    pointer-events: none;
  }

  button:disabled > wui-icon {
    color: var(--wui-color-bg-300) !important;
  }

  button:disabled {
    background-color: transparent;
  }
`;var HE=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let By=class extends vt{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="inherit"}render(){const e=this.size==="lg"?"--wui-border-radius-xs":"--wui-border-radius-xxs",n=this.size==="lg"?"--wui-spacing-1xs":"--wui-spacing-2xs";return this.style.cssText=`
    --local-border-radius: var(${e});
    --local-padding: var(${n});
`,re`
      <button ?disabled=${this.disabled}>
        <wui-icon color=${this.iconColor} size=${this.size} name=${this.icon}></wui-icon>
      </button>
    `}};By.styles=[Qn,ho,wE,rWt],HE([ue()],By.prototype,"size",void 0),HE([ue({type:Boolean})],By.prototype,"disabled",void 0),HE([ue()],By.prototype,"icon",void 0),HE([ue()],By.prototype,"iconColor",void 0),By=HE([mt("wui-icon-link")],By);const iWt=Bt`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: var(--wui-spacing-xxs);
    gap: var(--wui-spacing-xxs);
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xxs);
  }

  wui-image {
    border-radius: 100%;
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  wui-icon-box {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var Qxe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xT=class extends vt{constructor(){super(...arguments),this.imageSrc=""}render(){return re`<button>
      ${this.imageTemplate()}
      <wui-icon size="xs" color="fg-200" name="chevronBottom"></wui-icon>
    </button>`}imageTemplate(){return this.imageSrc?re`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`:re`<wui-icon-box
      size="xxs"
      iconColor="fg-200"
      backgroundColor="fg-100"
      background="opaque"
      icon="networkPlaceholder"
    ></wui-icon-box>`}};xT.styles=[Qn,ho,wE,iWt],Qxe([ue()],xT.prototype,"imageSrc",void 0),xT=Qxe([mt("wui-select")],xT);const sWt=Bt`
  :host {
    height: 64px;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards var(--wui-ease-out-power-2),
      slide-down-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards var(--wui-ease-out-power-2),
      slide-up-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-icon-link[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`;var Rp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const oWt=["SmartSessionList"];function fK(){var o,a,c,l,u,d,h;const t=(a=(o=ze.state.data)==null?void 0:o.connector)==null?void 0:a.name,e=(l=(c=ze.state.data)==null?void 0:c.wallet)==null?void 0:l.name,n=(d=(u=ze.state.data)==null?void 0:u.network)==null?void 0:d.name,r=e??t,i=Ne.getConnectors();return{Connect:`Connect ${i.length===1&&((h=i[0])==null?void 0:h.id)==="w3m-email"?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:r??"Connect Wallet",ConnectingWalletConnect:r??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview convert",Downloads:r?`Get ${r}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",Profile:void 0,SwitchNetwork:n??"Switch Network",SwitchAddress:"Switch Address",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select token",SwapPreview:"Preview swap",WalletSend:"Send",WalletSendPreview:"Review send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a wallet?",ConnectWallets:"Connect wallet",ConnectSocials:"All socials",ConnectingSocial:_t.state.socialProvider?_t.state.socialProvider:"Connect Social",ConnectingMultiChain:"Select chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Payment in progress"}}let Sd=class extends vt{constructor(){super(),this.unsubscribe=[],this.heading=fK()[ze.state.view],this.network=X.state.activeCaipNetwork,this.networkImage=ds.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=ze.state.view,this.viewDirection="",this.headerText=fK()[ze.state.view],this.unsubscribe.push(lc.subscribeNetworkImages(()=>{this.networkImage=ds.getNetworkImage(this.network)}),ze.subscribeKey("view",e=>{setTimeout(()=>{this.view=e,this.headerText=fK()[e]},Lg.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),X.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=ds.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){return re`
      <wui-flex .padding=${this.getPadding()} justifyContent="space-between" alignItems="center">
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){En.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),ze.push("WhatIsAWallet")}async onClose(){await L3e.safeClose()}rightHeaderTemplate(){var n,r;const e=(r=(n=Ce==null?void 0:Ce.state)==null?void 0:n.features)==null?void 0:r.smartSessions;return ze.state.view!=="Account"||!e?this.closeButtonTemplate():re`<wui-flex>
      <wui-icon-link
        icon="clock"
        @click=${()=>ze.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-link>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return re`
      <wui-icon-link
        icon="close"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-link>
    `}titleTemplate(){const e=oWt.includes(this.view);return re`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="xs"
      >
        <wui-text variant="paragraph-700" color="fg-100" data-testid="w3m-header-text"
          >${this.headerText}</wui-text
        >
        ${e?re`<wui-tag variant="main">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){var l;const{view:e}=ze.state,n=e==="Connect",r=Ce.state.enableEmbedded,i=e==="ApproveTransaction",s=e==="ConnectingSiwe",o=e==="Account",a=Ce.state.enableNetworkSwitch,c=i||s||n&&r;return o&&a?re`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${Ut((l=this.network)==null?void 0:l.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${Ut(this.networkImage)}
      ></wui-select>`:this.showBack&&!c?re`<wui-icon-link
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-link>`:re`<wui-icon-link
      data-hidden=${!n}
      id="dynamic"
      icon="helpCircle"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-link>`}onNetworks(){this.isAllowedNetworkSwitch()&&(En.sendEvent({type:"track",event:"CLICK_NETWORKS"}),ze.push("Networks"))}isAllowedNetworkSwitch(){const e=X.getAllRequestedCaipNetworks(),n=e?e.length>1:!1,r=e==null?void 0:e.find(({id:i})=>{var s;return i===((s=this.network)==null?void 0:s.id)});return n||!r}getPadding(){return this.heading?["l","2l","l","2l"]:["0","2l","0","2l"]}onViewChange(){const{history:e}=ze.state;let n=Lg.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(n=Lg.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=n}async onHistoryChange(){var r;const{history:e}=ze.state,n=(r=this.shadowRoot)==null?void 0:r.querySelector("#dynamic");e.length>1&&!this.showBack&&n?(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):e.length<=1&&this.showBack&&n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){ze.goBack()}};Sd.styles=sWt,Rp([ct()],Sd.prototype,"heading",void 0),Rp([ct()],Sd.prototype,"network",void 0),Rp([ct()],Sd.prototype,"networkImage",void 0),Rp([ct()],Sd.prototype,"showBack",void 0),Rp([ct()],Sd.prototype,"prevHistoryLength",void 0),Rp([ct()],Sd.prototype,"view",void 0),Rp([ct()],Sd.prototype,"viewDirection",void 0),Rp([ct()],Sd.prototype,"headerText",void 0),Sd=Rp([mt("w3m-header")],Sd);const aWt=Bt`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    align-items: center;
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-005);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-175);
    box-shadow:
      0px 14px 64px -4px rgba(0, 0, 0, 0.15),
      0px 8px 22px -6px rgba(0, 0, 0, 0.15);

    max-width: 300px;
  }

  :host wui-loading-spinner {
    margin-left: var(--wui-spacing-3xs);
  }
`;var Uy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Mp=class extends vt{constructor(){super(...arguments),this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="checkmark",this.message="",this.loading=!1,this.iconType="default"}render(){return re`
      ${this.templateIcon()}
      <wui-text variant="paragraph-500" color="fg-100" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){return this.loading?re`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:this.iconType==="default"?re`<wui-icon size="xl" color=${this.iconColor} name=${this.icon}></wui-icon>`:re`<wui-icon-box
      size="sm"
      iconSize="xs"
      iconColor=${this.iconColor}
      backgroundColor=${this.backgroundColor}
      icon=${this.icon}
      background="opaque"
    ></wui-icon-box>`}};Mp.styles=[Qn,aWt],Uy([ue()],Mp.prototype,"backgroundColor",void 0),Uy([ue()],Mp.prototype,"iconColor",void 0),Uy([ue()],Mp.prototype,"icon",void 0),Uy([ue()],Mp.prototype,"message",void 0),Uy([ue()],Mp.prototype,"loading",void 0),Uy([ue()],Mp.prototype,"iconType",void 0),Mp=Uy([mt("wui-snackbar")],Mp);const cWt=Bt`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`;var Xxe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const lWt={loading:void 0,success:{backgroundColor:"success-100",iconColor:"success-100",icon:"checkmark"},error:{backgroundColor:"error-100",iconColor:"error-100",icon:"close"}};let ET=class extends vt{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=$i.state.open,this.unsubscribe.push($i.subscribeKey("open",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:n,svg:r}=$i.state,i=lWt[n],{icon:s,iconColor:o}=r??i??{};return re`
      <wui-snackbar
        message=${e}
        backgroundColor=${i==null?void 0:i.backgroundColor}
        iconColor=${o}
        icon=${s}
        .loading=${n==="loading"}
      ></wui-snackbar>
    `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),$i.state.autoClose&&(this.timeout=setTimeout(()=>$i.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};ET.styles=cWt,Xxe([ct()],ET.prototype,"open",void 0),ET=Xxe([mt("w3m-snackbar")],ET);const uWt=Bt`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    color: var(--wui-color-bg-100);
    position: fixed;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: var(--wui-color-bg-150);
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var VE=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Fy=class extends vt{constructor(){super(),this.unsubscribe=[],this.open=c2.state.open,this.message=c2.state.message,this.triggerRect=c2.state.triggerRect,this.variant=c2.state.variant,this.unsubscribe.push(c2.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,n=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${e}px;
    --w3m-tooltip-left: ${n}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,re`<wui-flex>
      <wui-icon data-placement="top" color="fg-100" size="inherit" name="cursor"></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>
    </wui-flex>`}};Fy.styles=[uWt],VE([ct()],Fy.prototype,"open",void 0),VE([ct()],Fy.prototype,"message",void 0),VE([ct()],Fy.prototype,"triggerRect",void 0),VE([ct()],Fy.prototype,"variant",void 0),Fy=VE([mt("w3m-tooltip"),mt("w3m-tooltip")],Fy);const dWt=Bt`
  :host {
    --prev-height: 0px;
    --new-height: 0px;
    display: block;
  }

  div.w3m-router-container {
    transform: translateY(0);
    opacity: 1;
  }

  div.w3m-router-container[view-direction='prev'] {
    animation:
      slide-left-out 150ms forwards ease,
      slide-left-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  div.w3m-router-container[view-direction='next'] {
    animation:
      slide-right-out 150ms forwards ease,
      slide-right-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(10px);
      opacity: 0;
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(-10px);
      opacity: 0;
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
`;var pK=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let KE=class extends vt{constructor(){super(),this.resizeObserver=void 0,this.prevHeight="0px",this.prevHistoryLength=1,this.unsubscribe=[],this.view=ze.state.view,this.viewDirection="",this.unsubscribe.push(ze.subscribeKey("view",e=>this.onViewChange(e)))}firstUpdated(){var e;this.resizeObserver=new ResizeObserver(([n])=>{const r=`${n==null?void 0:n.contentRect.height}px`;this.prevHeight!=="0px"&&(this.style.setProperty("--prev-height",this.prevHeight),this.style.setProperty("--new-height",r),this.style.animation="w3m-view-height 150ms forwards ease",this.style.height="auto"),setTimeout(()=>{this.prevHeight=r,this.style.animation="unset"},Lg.ANIMATION_DURATIONS.ModalHeight)}),(e=this.resizeObserver)==null||e.observe(this.getWrapper())}disconnectedCallback(){var e;(e=this.resizeObserver)==null||e.unobserve(this.getWrapper()),this.unsubscribe.forEach(n=>n())}render(){return re`<div class="w3m-router-container" view-direction="${this.viewDirection}">
      ${this.viewTemplate()}
    </div>`}viewTemplate(){switch(this.view){case"AccountSettings":return re`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return re`<w3m-account-view></w3m-account-view>`;case"AllWallets":return re`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return re`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return re`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return re`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return re`<w3m-connect-view></w3m-connect-view>`;case"Create":return re`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return re`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return re`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return re`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return re`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return re`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return re`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return re`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"Downloads":return re`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return re`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return re`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return re`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return re`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return re`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return re`<w3m-network-switch-view></w3m-network-switch-view>`;case"Profile":return re`<w3m-profile-view></w3m-profile-view>`;case"SwitchAddress":return re`<w3m-switch-address-view></w3m-switch-address-view>`;case"Transactions":return re`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return re`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampActivity":return re`<w3m-onramp-activity-view></w3m-onramp-activity-view>`;case"OnRampTokenSelect":return re`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return re`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return re`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return re`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return re`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return re`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return re`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return re`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return re`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return re`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return re`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return re`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return re`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WhatIsABuy":return re`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return re`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return re`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return re`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return re`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return re`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return re`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return re`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return re`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return re`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return re`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return re`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return re`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return re`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return re`<w3m-pay-loading-view></w3m-pay-loading-view>`;default:return re`<w3m-connect-view></w3m-connect-view>`}}onViewChange(e){c2.hide();let n=Lg.VIEW_DIRECTION.Next;const{history:r}=ze.state;r.length<this.prevHistoryLength&&(n=Lg.VIEW_DIRECTION.Prev),this.prevHistoryLength=r.length,this.viewDirection=n,setTimeout(()=>{this.view=e},Lg.ANIMATION_DURATIONS.ViewTransition)}getWrapper(){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector("div")}};KE.styles=dWt,pK([ct()],KE.prototype,"view",void 0),pK([ct()],KE.prototype,"viewDirection",void 0),KE=pK([mt("w3m-router")],KE);const hWt=Bt`
  :host {
    z-index: var(--w3m-z-index);
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: var(--wui-cover);
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--w3m-modal-width);
    width: 100%;
    position: relative;
    animation: zoom-in 0.2s var(--wui-ease-out-power-2);
    animation-fill-mode: backwards;
    outline: none;
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host(.appkit-modal) wui-card {
    max-width: 400px;
  }

  wui-card[shake='true'] {
    animation:
      zoom-in 0.2s var(--wui-ease-out-power-2),
      w3m-shake 0.5s var(--wui-ease-out-power-2);
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--wui-spacing-xxl) 0px;
    }
  }

  @media (max-width: 430px) {
    wui-flex {
      align-items: flex-end;
    }

    wui-card {
      max-width: 100%;
      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);
      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);
      border-bottom: none;
      animation: slide-in 0.2s var(--wui-ease-out-power-2);
    }

    wui-card[shake='true'] {
      animation:
        slide-in 0.2s var(--wui-ease-out-power-2),
        w3m-shake 0.5s var(--wui-ease-out-power-2);
    }
  }

  @keyframes zoom-in {
    0% {
      transform: scale(0.95) translateY(0);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes slide-in {
    0% {
      transform: scale(1) translateY(50px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes w3m-view-height {
    from {
      height: var(--prev-height);
    }
    to {
      height: var(--new-height);
    }
  }
`;var Jg=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const eEe="scroll-lock";class Hh extends vt{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=Ce.state.enableEmbedded,this.open=tr.state.open,this.caipAddress=X.state.activeCaipAddress,this.caipNetwork=X.state.activeCaipNetwork,this.shake=tr.state.shake,this.filterByNamespace=Ne.state.filterByNamespace,this.initializeTheming(),We.prefetchAnalyticsConfig(),this.unsubscribe.push(tr.subscribeKey("open",e=>e?this.onOpen():this.onClose()),tr.subscribeKey("shake",e=>this.shake=e),X.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),X.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e)),Ce.subscribeKey("enableEmbedded",e=>this.enableEmbedded=e),Ne.subscribeKey("filterByNamespace",e=>{var n;this.filterByNamespace!==e&&!((n=X.getAccountData(e))!=null&&n.caipAddress)&&(We.fetchRecommendedWallets(),this.filterByNamespace=e)}))}firstUpdated(){if(this.caipAddress){if(this.enableEmbedded){tr.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.cssText=`
      --local-border-bottom-mobile-radius: ${this.enableEmbedded?"clamp(0px, var(--wui-border-radius-l), 44px)":"0px"};
    `,this.enableEmbedded?re`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?re`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return re` <wui-card
      shake="${this.shake}"
      data-embedded="${Ut(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(e){e.target===e.currentTarget&&await this.handleClose()}async handleClose(){await L3e.safeClose()}initializeTheming(){const{themeVariables:e,themeMode:n}=so.state,r=Ms.getColorTheme(n);sjt(e,r)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),$i.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement("style");e.dataset.w3m=eEe,e.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector(`style[data-w3m="${eEe}"]`);e&&e.remove()}onAddKeyboardListener(){var n;this.abortController=new AbortController;const e=(n=this.shadowRoot)==null?void 0:n.querySelector("wui-card");e==null||e.focus(),window.addEventListener("keydown",r=>{if(r.key==="Escape")this.handleClose();else if(r.key==="Tab"){const{tagName:i}=r.target;i&&!i.includes("W3M-")&&!i.includes("WUI-")&&(e==null||e.focus())}},this.abortController)}onRemoveKeyboardListener(){var e;(e=this.abortController)==null||e.abort(),this.abortController=void 0}async onNewAddress(e){const n=X.state.isSwitchingNamespace,r=Be.getPlainAddress(e);!r&&!n?tr.close():n&&r&&ze.goBack(),await uy.initializeIfEnabled(),this.caipAddress=e,X.setIsSwitchingNamespace(!1)}onNewNetwork(e){var y,w,b;const n=this.caipNetwork,r=(y=n==null?void 0:n.caipNetworkId)==null?void 0:y.toString(),i=n==null?void 0:n.chainNamespace,s=(w=e==null?void 0:e.caipNetworkId)==null?void 0:w.toString(),o=e==null?void 0:e.chainNamespace,a=r!==s,l=a&&!(i!==o),u=(n==null?void 0:n.name)===Pt.UNSUPPORTED_NETWORK_NAME,d=ze.state.view==="ConnectingExternal",h=!((b=X.getAccountData(e==null?void 0:e.chainNamespace))!=null&&b.caipAddress),f=ze.state.view==="UnsupportedChain",g=tr.state.open;let m=!1;g&&!d&&(h?a&&(m=!0):(f||l&&!u)&&(m=!0)),m&&ze.state.view!=="SIWXSignMessage"&&ze.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(We.prefetch(),We.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}Hh.styles=hWt,Jg([ue({type:Boolean})],Hh.prototype,"enableEmbedded",void 0),Jg([ct()],Hh.prototype,"open",void 0),Jg([ct()],Hh.prototype,"caipAddress",void 0),Jg([ct()],Hh.prototype,"caipNetwork",void 0),Jg([ct()],Hh.prototype,"shake",void 0),Jg([ct()],Hh.prototype,"filterByNamespace",void 0);let gK=class extends Hh{};gK=Jg([mt("w3m-modal")],gK);let mK=class extends Hh{};mK=Jg([mt("appkit-modal")],mK);const fWt=Object.freeze(Object.defineProperty({__proto__:null,get AppKitModal(){return mK},get W3mModal(){return gK},W3mModalBase:Hh},Symbol.toStringTag,{value:"Module"})),pWt=Ke`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.0023 0.875C7.48571 0.875 7.8776 1.26675 7.8776 1.75V6.125H12.2541C12.7375 6.125 13.1294 6.51675 13.1294 7C13.1294 7.48325 12.7375 7.875 12.2541 7.875H7.8776V12.25C7.8776 12.7332 7.48571 13.125 7.0023 13.125C6.51889 13.125 6.12701 12.7332 6.12701 12.25V7.875H1.75054C1.26713 7.875 0.875244 7.48325 0.875244 7C0.875244 6.51675 1.26713 6.125 1.75054 6.125H6.12701V1.75C6.12701 1.26675 6.51889 0.875 7.0023 0.875Z"
    fill="#667dff"
  /></svg
>`,gWt=Object.freeze(Object.defineProperty({__proto__:null,addSvg:pWt},Symbol.toStringTag,{value:"Module"})),mWt=Ke`<svg fill="none" viewBox="0 0 24 24">
  <path
    style="fill: var(--wui-color-accent-100);"
    d="M10.2 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM10.2 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0Z"
  />
</svg>`,yWt=Object.freeze(Object.defineProperty({__proto__:null,allWalletsSvg:mWt},Symbol.toStringTag,{value:"Module"})),wWt=Ke`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10.5 2.42908C6.31875 2.42908 2.92859 5.81989 2.92859 10.0034C2.92859 14.1869 6.31875 17.5777 10.5 17.5777C14.6813 17.5777 18.0714 14.1869 18.0714 10.0034C18.0714 5.81989 14.6813 2.42908 10.5 2.42908ZM0.928589 10.0034C0.928589 4.71596 5.21355 0.429077 10.5 0.429077C15.7865 0.429077 20.0714 4.71596 20.0714 10.0034C20.0714 15.2908 15.7865 19.5777 10.5 19.5777C5.21355 19.5777 0.928589 15.2908 0.928589 10.0034ZM10.5 5.75003C11.0523 5.75003 11.5 6.19774 11.5 6.75003L11.5 10.8343L12.7929 9.54137C13.1834 9.15085 13.8166 9.15085 14.2071 9.54137C14.5976 9.9319 14.5976 10.5651 14.2071 10.9556L11.2071 13.9556C10.8166 14.3461 10.1834 14.3461 9.79291 13.9556L6.79291 10.9556C6.40239 10.5651 6.40239 9.9319 6.79291 9.54137C7.18343 9.15085 7.8166 9.15085 8.20712 9.54137L9.50002 10.8343L9.50002 6.75003C9.50002 6.19774 9.94773 5.75003 10.5 5.75003Z"
    clip-rule="evenodd"
  /></svg
>`,vWt=Object.freeze(Object.defineProperty({__proto__:null,arrowBottomCircleSvg:wWt},Symbol.toStringTag,{value:"Module"})),bWt=Ke`
<svg width="36" height="36">
  <path
    d="M28.724 0H7.271A7.269 7.269 0 0 0 0 7.272v21.46A7.268 7.268 0 0 0 7.271 36H28.73A7.272 7.272 0 0 0 36 28.728V7.272A7.275 7.275 0 0 0 28.724 0Z"
    fill="url(#a)"
  />
  <path
    d="m17.845 8.271.729-1.26a1.64 1.64 0 1 1 2.843 1.638l-7.023 12.159h5.08c1.646 0 2.569 1.935 1.853 3.276H6.434a1.632 1.632 0 0 1-1.638-1.638c0-.909.73-1.638 1.638-1.638h4.176l5.345-9.265-1.67-2.898a1.642 1.642 0 0 1 2.844-1.638l.716 1.264Zm-6.317 17.5-1.575 2.732a1.64 1.64 0 1 1-2.844-1.638l1.17-2.025c1.323-.41 2.398-.095 3.249.931Zm13.56-4.954h4.262c.909 0 1.638.729 1.638 1.638 0 .909-.73 1.638-1.638 1.638h-2.367l1.597 2.772c.45.788.185 1.782-.602 2.241a1.642 1.642 0 0 1-2.241-.603c-2.69-4.666-4.711-8.159-6.052-10.485-1.372-2.367-.391-4.743.576-5.549 1.075 1.846 2.682 4.631 4.828 8.348Z"
    fill="#fff"
  />
  <defs>
    <linearGradient id="a" x1="18" y1="0" x2="18" y2="36" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB" />
      <stop offset="1" stop-color="#2072F3" />
    </linearGradient>
  </defs>
</svg>`,xWt=Object.freeze(Object.defineProperty({__proto__:null,appStoreSvg:bWt},Symbol.toStringTag,{value:"Module"})),EWt=Ke`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,CWt=Object.freeze(Object.defineProperty({__proto__:null,appleSvg:EWt},Symbol.toStringTag,{value:"Module"})),_Wt=Ke`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 1.99a1 1 0 0 1 1 1v7.58l2.46-2.46a1 1 0 0 1 1.41 1.42L7.7 13.69a1 1 0 0 1-1.41 0L2.12 9.53A1 1 0 0 1 3.54 8.1L6 10.57V3a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,AWt=Object.freeze(Object.defineProperty({__proto__:null,arrowBottomSvg:_Wt},Symbol.toStringTag,{value:"Module"})),SWt=Ke`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13 7.99a1 1 0 0 1-1 1H4.4l2.46 2.46a1 1 0 1 1-1.41 1.41L1.29 8.7a1 1 0 0 1 0-1.41L5.46 3.1a1 1 0 0 1 1.41 1.42L4.41 6.99H12a1 1 0 0 1 1 1Z"
    clip-rule="evenodd"
  />
</svg>`,IWt=Object.freeze(Object.defineProperty({__proto__:null,arrowLeftSvg:SWt},Symbol.toStringTag,{value:"Module"})),kWt=Ke`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1 7.99a1 1 0 0 1 1-1h7.58L7.12 4.53A1 1 0 1 1 8.54 3.1l4.16 4.17a1 1 0 0 1 0 1.41l-4.16 4.17a1 1 0 1 1-1.42-1.41l2.46-2.46H2a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,$Wt=Object.freeze(Object.defineProperty({__proto__:null,arrowRightSvg:kWt},Symbol.toStringTag,{value:"Module"})),TWt=Ke`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 13.99a1 1 0 0 1-1-1V5.4L3.54 7.86a1 1 0 0 1-1.42-1.41L6.3 2.28a1 1 0 0 1 1.41 0l4.17 4.17a1 1 0 1 1-1.41 1.41L8 5.4v7.59a1 1 0 0 1-1 1Z"
    clip-rule="evenodd"
  />
</svg>`,PWt=Object.freeze(Object.defineProperty({__proto__:null,arrowTopSvg:TWt},Symbol.toStringTag,{value:"Module"})),NWt=Ke`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.61391 1.57124C5.85142 1.42873 6.14813 1.42873 6.38564 1.57124L11.0793 4.38749C11.9179 4.89067 11.5612 6.17864 10.5832 6.17864H9.96398V10.0358H10.2854C10.6996 10.0358 11.0354 10.3716 11.0354 10.7858C11.0354 11.2 10.6996 11.5358 10.2854 11.5358H1.71416C1.29995 11.5358 0.964172 11.2 0.964172 10.7858C0.964172 10.3716 1.29995 10.0358 1.71416 10.0358H2.03558L2.03558 6.17864H1.41637C0.438389 6.17864 0.0816547 4.89066 0.920263 4.38749L5.61391 1.57124ZM3.53554 6.17864V10.0358H5.24979V6.17864H3.53554ZM6.74976 6.17864V10.0358H8.46401V6.17864H6.74976ZM8.64913 4.67864H3.35043L5.99978 3.089L8.64913 4.67864Z"
    fill="currentColor"
  /></svg
>`,OWt=Object.freeze(Object.defineProperty({__proto__:null,bankSvg:NWt},Symbol.toStringTag,{value:"Module"})),RWt=Ke`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4 6.4a1 1 0 0 1-.46.89 6.98 6.98 0 0 0 .38 6.18A7 7 0 0 0 16.46 7.3a1 1 0 0 1-.47-.92 7 7 0 0 0-12 .03Zm-2.02-.5a9 9 0 1 1 16.03 8.2A9 9 0 0 1 1.98 5.9Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.03 8.63c-1.46-.3-2.72-.75-3.6-1.35l-.02-.01-.14-.11a1 1 0 0 1 1.2-1.6l.1.08c.6.4 1.52.74 2.69 1 .16-.99.39-1.88.67-2.65.3-.79.68-1.5 1.15-2.02A2.58 2.58 0 0 1 9.99 1c.8 0 1.45.44 1.92.97.47.52.84 1.23 1.14 2.02.29.77.52 1.66.68 2.64a8 8 0 0 0 2.7-1l.26-.18h.48a1 1 0 0 1 .12 2c-.86.51-2.01.91-3.34 1.18a22.24 22.24 0 0 1-.03 3.19c1.45.29 2.7.73 3.58 1.31a1 1 0 0 1-1.1 1.68c-.6-.4-1.56-.76-2.75-1-.15.8-.36 1.55-.6 2.2-.3.79-.67 1.5-1.14 2.02-.47.53-1.12.97-1.92.97-.8 0-1.45-.44-1.91-.97a6.51 6.51 0 0 1-1.15-2.02c-.24-.65-.44-1.4-.6-2.2-1.18.24-2.13.6-2.73.99a1 1 0 1 1-1.1-1.67c.88-.58 2.12-1.03 3.57-1.31a22.03 22.03 0 0 1-.04-3.2Zm2.2-1.7c.15-.86.34-1.61.58-2.24.24-.65.51-1.12.76-1.4.25-.28.4-.29.42-.29.03 0 .17.01.42.3.25.27.52.74.77 1.4.23.62.43 1.37.57 2.22a19.96 19.96 0 0 1-3.52 0Zm-.18 4.6a20.1 20.1 0 0 1-.03-2.62 21.95 21.95 0 0 0 3.94 0 20.4 20.4 0 0 1-.03 2.63 21.97 21.97 0 0 0-3.88 0Zm.27 2c.13.66.3 1.26.49 1.78.24.65.51 1.12.76 1.4.25.28.4.29.42.29.03 0 .17-.01.42-.3.25-.27.52-.74.77-1.4.19-.5.36-1.1.49-1.78a20.03 20.03 0 0 0-3.35 0Z"
    clip-rule="evenodd"
  />
</svg>`,MWt=Object.freeze(Object.defineProperty({__proto__:null,browserSvg:RWt},Symbol.toStringTag,{value:"Module"})),jWt=Ke`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.16072 2C4.17367 2 4.18665 2 4.19968 2L7.83857 2C8.36772 1.99998 8.82398 1.99996 9.19518 2.04018C9.5895 2.0829 9.97577 2.17811 10.3221 2.42971C10.5131 2.56849 10.6811 2.73647 10.8198 2.92749C11.0714 3.27379 11.1666 3.66007 11.2094 4.0544C11.2496 4.42561 11.2496 4.88188 11.2495 5.41105V7.58896C11.2496 8.11812 11.2496 8.57439 11.2094 8.94561C11.1666 9.33994 11.0714 9.72621 10.8198 10.0725C10.6811 10.2635 10.5131 10.4315 10.3221 10.5703C9.97577 10.8219 9.5895 10.9171 9.19518 10.9598C8.82398 11 8.36772 11 7.83856 11H4.16073C3.63157 11 3.17531 11 2.80411 10.9598C2.40979 10.9171 2.02352 10.8219 1.67722 10.5703C1.48621 10.4315 1.31824 10.2635 1.17946 10.0725C0.927858 9.72621 0.832652 9.33994 0.78993 8.94561C0.749713 8.5744 0.749733 8.11813 0.749757 7.58896L0.749758 5.45C0.749758 5.43697 0.749758 5.42399 0.749757 5.41104C0.749733 4.88188 0.749713 4.42561 0.78993 4.0544C0.832652 3.66007 0.927858 3.27379 1.17946 2.92749C1.31824 2.73647 1.48621 2.56849 1.67722 2.42971C2.02352 2.17811 2.40979 2.0829 2.80411 2.04018C3.17531 1.99996 3.63157 1.99998 4.16072 2ZM2.96567 3.53145C2.69897 3.56034 2.60687 3.60837 2.55888 3.64324C2.49521 3.6895 2.43922 3.74549 2.39296 3.80916C2.35809 3.85715 2.31007 3.94926 2.28117 4.21597C2.26629 4.35335 2.25844 4.51311 2.25431 4.70832H9.74498C9.74085 4.51311 9.733 4.35335 9.71812 4.21597C9.68922 3.94926 9.6412 3.85715 9.60633 3.80916C9.56007 3.74549 9.50408 3.6895 9.44041 3.64324C9.39242 3.60837 9.30031 3.56034 9.03362 3.53145C8.75288 3.50103 8.37876 3.5 7.79961 3.5H4.19968C3.62053 3.5 3.24641 3.50103 2.96567 3.53145ZM9.74956 6.20832H2.24973V7.55C2.24973 8.12917 2.25076 8.5033 2.28117 8.78404C2.31007 9.05074 2.35809 9.14285 2.39296 9.19084C2.43922 9.25451 2.49521 9.31051 2.55888 9.35677C2.60687 9.39163 2.69897 9.43966 2.96567 9.46856C3.24641 9.49897 3.62053 9.5 4.19968 9.5H7.79961C8.37876 9.5 8.75288 9.49897 9.03362 9.46856C9.30032 9.43966 9.39242 9.39163 9.44041 9.35677C9.50408 9.31051 9.56007 9.25451 9.60633 9.19084C9.6412 9.14285 9.68922 9.05075 9.71812 8.78404C9.74854 8.5033 9.74956 8.12917 9.74956 7.55V6.20832ZM6.74963 8C6.74963 7.58579 7.08541 7.25 7.49961 7.25H8.2496C8.6638 7.25 8.99958 7.58579 8.99958 8C8.99958 8.41422 8.6638 8.75 8.2496 8.75H7.49961C7.08541 8.75 6.74963 8.41422 6.74963 8Z"
    fill="currentColor"
  /></svg
>`,DWt=Object.freeze(Object.defineProperty({__proto__:null,cardSvg:jWt},Symbol.toStringTag,{value:"Module"})),LWt=Ke`<svg
  width="28"
  height="28"
  viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M25.5297 4.92733C26.1221 5.4242 26.1996 6.30724 25.7027 6.89966L12.2836 22.8997C12.0316 23.2001 11.6652 23.3811 11.2735 23.3986C10.8817 23.4161 10.5006 23.2686 10.2228 22.9919L2.38218 15.1815C1.83439 14.6358 1.83268 13.7494 2.37835 13.2016C2.92403 12.6538 3.81046 12.6521 4.35825 13.1978L11.1183 19.9317L23.5573 5.10036C24.0542 4.50794 24.9372 4.43047 25.5297 4.92733Z"
    fill="currentColor"/>
</svg>
`,BWt=Object.freeze(Object.defineProperty({__proto__:null,checkmarkSvg:LWt},Symbol.toStringTag,{value:"Module"})),UWt=Ke`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M12.9576 2.23383C13.3807 2.58873 13.4361 3.21947 13.0812 3.64263L6.37159 11.6426C6.19161 11.8572 5.92989 11.9865 5.65009 11.999C5.3703 12.0115 5.09808 11.9062 4.89965 11.7085L0.979321 7.80331C0.588042 7.41354 0.586817 6.78038 0.976585 6.3891C1.36635 5.99782 1.99952 5.99659 2.3908 6.38636L5.53928 9.52268L11.5488 2.35742C11.9037 1.93426 12.5344 1.87893 12.9576 2.23383Z"
    clip-rule="evenodd"
  />
</svg>`,FWt=Object.freeze(Object.defineProperty({__proto__:null,checkmarkBoldSvg:UWt},Symbol.toStringTag,{value:"Module"})),zWt=Ke`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1.46 4.96a1 1 0 0 1 1.41 0L8 10.09l5.13-5.13a1 1 0 1 1 1.41 1.41l-5.83 5.84a1 1 0 0 1-1.42 0L1.46 6.37a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,WWt=Object.freeze(Object.defineProperty({__proto__:null,chevronBottomSvg:zWt},Symbol.toStringTag,{value:"Module"})),qWt=Ke`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,HWt=Object.freeze(Object.defineProperty({__proto__:null,chevronLeftSvg:qWt},Symbol.toStringTag,{value:"Module"})),VWt=Ke`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.96 14.54a1 1 0 0 1 0-1.41L10.09 8 4.96 2.87a1 1 0 0 1 1.41-1.41l5.84 5.83a1 1 0 0 1 0 1.42l-5.84 5.83a1 1 0 0 1-1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,KWt=Object.freeze(Object.defineProperty({__proto__:null,chevronRightSvg:VWt},Symbol.toStringTag,{value:"Module"})),GWt=Ke`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.54 11.04a1 1 0 0 1-1.41 0L8 5.92l-5.13 5.12a1 1 0 1 1-1.41-1.41l5.83-5.84a1 1 0 0 1 1.42 0l5.83 5.84a1 1 0 0 1 0 1.41Z"
    clip-rule="evenodd"
  />
</svg>`,ZWt=Object.freeze(Object.defineProperty({__proto__:null,chevronTopSvg:GWt},Symbol.toStringTag,{value:"Module"})),YWt=Ke`<svg width="36" height="36" fill="none">
  <path
    fill="#fff"
    fill-opacity=".05"
    d="M0 14.94c0-5.55 0-8.326 1.182-10.4a9 9 0 0 1 3.359-3.358C6.614 0 9.389 0 14.94 0h6.12c5.55 0 8.326 0 10.4 1.182a9 9 0 0 1 3.358 3.359C36 6.614 36 9.389 36 14.94v6.12c0 5.55 0 8.326-1.182 10.4a9 9 0 0 1-3.359 3.358C29.386 36 26.611 36 21.06 36h-6.12c-5.55 0-8.326 0-10.4-1.182a9 9 0 0 1-3.358-3.359C0 29.386 0 26.611 0 21.06v-6.12Z"
  />
  <path
    stroke="#fff"
    stroke-opacity=".05"
    d="M14.94.5h6.12c2.785 0 4.84 0 6.46.146 1.612.144 2.743.43 3.691.97a8.5 8.5 0 0 1 3.172 3.173c.541.948.826 2.08.971 3.692.145 1.62.146 3.675.146 6.459v6.12c0 2.785 0 4.84-.146 6.46-.145 1.612-.43 2.743-.97 3.691a8.5 8.5 0 0 1-3.173 3.172c-.948.541-2.08.826-3.692.971-1.62.145-3.674.146-6.459.146h-6.12c-2.784 0-4.84 0-6.46-.146-1.612-.145-2.743-.43-3.691-.97a8.5 8.5 0 0 1-3.172-3.173c-.541-.948-.827-2.08-.971-3.692C.5 25.9.5 23.845.5 21.06v-6.12c0-2.784 0-4.84.146-6.46.144-1.612.43-2.743.97-3.691A8.5 8.5 0 0 1 4.79 1.617C5.737 1.076 6.869.79 8.48.646 10.1.5 12.156.5 14.94.5Z"
  />
  <path
    fill="url(#a)"
    d="M17.998 10.8h12.469a14.397 14.397 0 0 0-24.938.001l6.234 10.798.006-.001a7.19 7.19 0 0 1 6.23-10.799Z"
  />
  <path
    fill="url(#b)"
    d="m24.237 21.598-6.234 10.798A14.397 14.397 0 0 0 30.47 10.798H18.002l-.002.006a7.191 7.191 0 0 1 6.237 10.794Z"
  />
  <path
    fill="url(#c)"
    d="M11.765 21.601 5.531 10.803A14.396 14.396 0 0 0 18.001 32.4l6.235-10.798-.004-.004a7.19 7.19 0 0 1-12.466.004Z"
  />
  <path fill="#fff" d="M18 25.2a7.2 7.2 0 1 0 0-14.4 7.2 7.2 0 0 0 0 14.4Z" />
  <path fill="#1A73E8" d="M18 23.7a5.7 5.7 0 1 0 0-11.4 5.7 5.7 0 0 0 0 11.4Z" />
  <defs>
    <linearGradient
      id="a"
      x1="6.294"
      x2="41.1"
      y1="5.995"
      y2="5.995"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#D93025" />
      <stop offset="1" stop-color="#EA4335" />
    </linearGradient>
    <linearGradient
      id="b"
      x1="20.953"
      x2="37.194"
      y1="32.143"
      y2="2.701"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#FCC934" />
      <stop offset="1" stop-color="#FBBC04" />
    </linearGradient>
    <linearGradient
      id="c"
      x1="25.873"
      x2="9.632"
      y1="31.2"
      y2="1.759"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#1E8E3E" />
      <stop offset="1" stop-color="#34A853" />
    </linearGradient>
  </defs>
</svg>`,JWt=Object.freeze(Object.defineProperty({__proto__:null,chromeStoreSvg:YWt},Symbol.toStringTag,{value:"Module"})),QWt=Ke`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path 
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M7.00235 2C4.24 2 2.00067 4.23858 2.00067 7C2.00067 9.76142 4.24 12 7.00235 12C9.7647 12 12.004 9.76142 12.004 7C12.004 4.23858 9.7647 2 7.00235 2ZM0 7C0 3.13401 3.13506 0 7.00235 0C10.8696 0 14.0047 3.13401 14.0047 7C14.0047 10.866 10.8696 14 7.00235 14C3.13506 14 0 10.866 0 7ZM7.00235 3C7.55482 3 8.00269 3.44771 8.00269 4V6.58579L9.85327 8.43575C10.2439 8.82627 10.2439 9.45944 9.85327 9.84996C9.46262 10.2405 8.82924 10.2405 8.43858 9.84996L6.29501 7.70711C6.10741 7.51957 6.00201 7.26522 6.00201 7V4C6.00201 3.44771 6.44988 3 7.00235 3Z" 
    fill="currentColor"
  />
</svg>`,XWt=Object.freeze(Object.defineProperty({__proto__:null,clockSvg:QWt},Symbol.toStringTag,{value:"Module"})),eqt=Ke`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,tqt=Object.freeze(Object.defineProperty({__proto__:null,closeSvg:eqt},Symbol.toStringTag,{value:"Module"})),nqt=Ke`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm10.66-2.65a1 1 0 0 1 .23 1.06L9.83 9.24a1 1 0 0 1-.59.58l-2.83 1.06A1 1 0 0 1 5.13 9.6l1.06-2.82a1 1 0 0 1 .58-.59L9.6 5.12a1 1 0 0 1 1.06.23ZM7.9 7.89l-.13.35.35-.13.12-.35-.34.13Z"
    clip-rule="evenodd"
  />
</svg>`,rqt=Object.freeze(Object.defineProperty({__proto__:null,compassSvg:nqt},Symbol.toStringTag,{value:"Module"})),iqt=Ke`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 3a7 7 0 0 0-6.85 8.44l8.29-8.3C10.97 3.06 10.49 3 10 3Zm3.49.93-9.56 9.56c.32.55.71 1.06 1.16 1.5L15 5.1a7.03 7.03 0 0 0-1.5-1.16Zm2.7 2.8-9.46 9.46a7 7 0 0 0 9.46-9.46ZM1.99 5.9A9 9 0 1 1 18 14.09 9 9 0 0 1 1.98 5.91Z"
    clip-rule="evenodd"
  />
</svg>`,sqt=Object.freeze(Object.defineProperty({__proto__:null,coinPlaceholderSvg:iqt},Symbol.toStringTag,{value:"Module"})),oqt=Ke`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M9.21498 1.28565H10.5944C11.1458 1.28562 11.6246 1.2856 12.0182 1.32093C12.4353 1.35836 12.853 1.44155 13.2486 1.66724C13.7005 1.92498 14.0749 2.29935 14.3326 2.75122C14.5583 3.14689 14.6415 3.56456 14.6789 3.9817C14.7143 4.37531 14.7142 4.85403 14.7142 5.40545V6.78489C14.7142 7.33631 14.7143 7.81503 14.6789 8.20865C14.6415 8.62578 14.5583 9.04345 14.3326 9.43912C14.0749 9.89099 13.7005 10.2654 13.2486 10.5231C12.853 10.7488 12.4353 10.832 12.0182 10.8694C11.7003 10.8979 11.3269 10.9034 10.9045 10.9045C10.9034 11.3269 10.8979 11.7003 10.8694 12.0182C10.832 12.4353 10.7488 12.853 10.5231 13.2486C10.2654 13.7005 9.89099 14.0749 9.43912 14.3326C9.04345 14.5583 8.62578 14.6415 8.20865 14.6789C7.81503 14.7143 7.33631 14.7142 6.78489 14.7142H5.40545C4.85403 14.7142 4.37531 14.7143 3.9817 14.6789C3.56456 14.6415 3.14689 14.5583 2.75122 14.3326C2.29935 14.0749 1.92498 13.7005 1.66724 13.2486C1.44155 12.853 1.35836 12.4353 1.32093 12.0182C1.2856 11.6246 1.28562 11.1458 1.28565 10.5944V9.21498C1.28562 8.66356 1.2856 8.18484 1.32093 7.79122C1.35836 7.37409 1.44155 6.95642 1.66724 6.56074C1.92498 6.10887 2.29935 5.73451 2.75122 5.47677C3.14689 5.25108 3.56456 5.16789 3.9817 5.13045C4.2996 5.10192 4.67301 5.09645 5.09541 5.09541C5.09645 4.67302 5.10192 4.2996 5.13045 3.9817C5.16789 3.56456 5.25108 3.14689 5.47676 2.75122C5.73451 2.29935 6.10887 1.92498 6.56074 1.66724C6.95642 1.44155 7.37409 1.35836 7.79122 1.32093C8.18484 1.2856 8.66356 1.28562 9.21498 1.28565ZM5.09541 7.09552C4.68397 7.09667 4.39263 7.10161 4.16046 7.12245C3.88053 7.14757 3.78516 7.18949 3.74214 7.21403C3.60139 7.29431 3.48478 7.41091 3.4045 7.55166C3.37997 7.59468 3.33804 7.69005 3.31292 7.96999C3.28659 8.26345 3.28565 8.65147 3.28565 9.25708V10.5523C3.28565 11.1579 3.28659 11.5459 3.31292 11.8394C3.33804 12.1193 3.37997 12.2147 3.4045 12.2577C3.48478 12.3985 3.60139 12.5151 3.74214 12.5954C3.78516 12.6199 3.88053 12.6618 4.16046 12.6869C4.45393 12.7133 4.84195 12.7142 5.44755 12.7142H6.74279C7.3484 12.7142 7.73641 12.7133 8.02988 12.6869C8.30981 12.6618 8.40518 12.6199 8.44821 12.5954C8.58895 12.5151 8.70556 12.3985 8.78584 12.2577C8.81038 12.2147 8.8523 12.1193 8.87742 11.8394C8.89825 11.6072 8.90319 11.3159 8.90435 10.9045C8.48219 10.9034 8.10898 10.8979 7.79122 10.8694C7.37409 10.832 6.95641 10.7488 6.56074 10.5231C6.10887 10.2654 5.73451 9.89099 5.47676 9.43912C5.25108 9.04345 5.16789 8.62578 5.13045 8.20865C5.10194 7.89089 5.09645 7.51767 5.09541 7.09552ZM7.96999 3.31292C7.69005 3.33804 7.59468 3.37997 7.55166 3.4045C7.41091 3.48478 7.29431 3.60139 7.21403 3.74214C7.18949 3.78516 7.14757 3.88053 7.12245 4.16046C7.09611 4.45393 7.09517 4.84195 7.09517 5.44755V6.74279C7.09517 7.3484 7.09611 7.73641 7.12245 8.02988C7.14757 8.30981 7.18949 8.40518 7.21403 8.4482C7.29431 8.58895 7.41091 8.70556 7.55166 8.78584C7.59468 8.81038 7.69005 8.8523 7.96999 8.87742C8.26345 8.90376 8.65147 8.9047 9.25708 8.9047H10.5523C11.1579 8.9047 11.5459 8.90376 11.8394 8.87742C12.1193 8.8523 12.2147 8.81038 12.2577 8.78584C12.3985 8.70556 12.5151 8.58895 12.5954 8.4482C12.6199 8.40518 12.6618 8.30981 12.6869 8.02988C12.7133 7.73641 12.7142 7.3484 12.7142 6.74279V5.44755C12.7142 4.84195 12.7133 4.45393 12.6869 4.16046C12.6618 3.88053 12.6199 3.78516 12.5954 3.74214C12.5151 3.60139 12.3985 3.48478 12.2577 3.4045C12.2147 3.37997 12.1193 3.33804 11.8394 3.31292C11.5459 3.28659 11.1579 3.28565 10.5523 3.28565H9.25708C8.65147 3.28565 8.26345 3.28659 7.96999 3.31292Z"
    fill="#788181"
  /></svg
>`,aqt=Object.freeze(Object.defineProperty({__proto__:null,copySvg:oqt},Symbol.toStringTag,{value:"Module"})),cqt=Ke` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,lqt=Object.freeze(Object.defineProperty({__proto__:null,cursorSvg:cqt},Symbol.toStringTag,{value:"Module"})),uqt=Ke`<svg fill="none" viewBox="0 0 14 6">
  <path style="fill: var(--wui-color-bg-150);" d="M0 1h14L9.21 5.12a3.31 3.31 0 0 1-4.49 0L0 1Z" />
  <path
    style="stroke: var(--wui-color-inverse-100);"
    stroke-opacity=".05"
    d="M1.33 1.5h11.32L8.88 4.75l-.01.01a2.81 2.81 0 0 1-3.8 0l-.02-.01L1.33 1.5Z"
  />
  <path
    style="fill: var(--wui-color-bg-150);"
    d="M1.25.71h11.5L9.21 3.88a3.31 3.31 0 0 1-4.49 0L1.25.71Z"
  />
</svg> `,dqt=Object.freeze(Object.defineProperty({__proto__:null,cursorTransparentSvg:uqt},Symbol.toStringTag,{value:"Module"})),hqt=Ke`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13.66 2H6.34c-1.07 0-1.96 0-2.68.08-.74.08-1.42.25-2.01.68a4 4 0 0 0-.89.89c-.43.6-.6 1.27-.68 2.01C0 6.38 0 7.26 0 8.34v.89c0 1.07 0 1.96.08 2.68.08.74.25 1.42.68 2.01a4 4 0 0 0 .89.89c.6.43 1.27.6 2.01.68a27 27 0 0 0 2.68.08h7.32a27 27 0 0 0 2.68-.08 4.03 4.03 0 0 0 2.01-.68 4 4 0 0 0 .89-.89c.43-.6.6-1.27.68-2.01.08-.72.08-1.6.08-2.68v-.89c0-1.07 0-1.96-.08-2.68a4.04 4.04 0 0 0-.68-2.01 4 4 0 0 0-.89-.89c-.6-.43-1.27-.6-2.01-.68C15.62 2 14.74 2 13.66 2ZM2.82 4.38c.2-.14.48-.25 1.06-.31C4.48 4 5.25 4 6.4 4h7.2c1.15 0 1.93 0 2.52.07.58.06.86.17 1.06.31a2 2 0 0 1 .44.44c.14.2.25.48.31 1.06.07.6.07 1.37.07 2.52v.77c0 1.15 0 1.93-.07 2.52-.06.58-.17.86-.31 1.06a2 2 0 0 1-.44.44c-.2.14-.48.25-1.06.32-.6.06-1.37.06-2.52.06H6.4c-1.15 0-1.93 0-2.52-.06-.58-.07-.86-.18-1.06-.32a2 2 0 0 1-.44-.44c-.14-.2-.25-.48-.31-1.06C2 11.1 2 10.32 2 9.17V8.4c0-1.15 0-1.93.07-2.52.06-.58.17-.86.31-1.06a2 2 0 0 1 .44-.44Z"
    clip-rule="evenodd"
  />
  <path fill="currentColor" d="M6.14 17.57a1 1 0 1 0 0 2h7.72a1 1 0 1 0 0-2H6.14Z" />
</svg>`,fqt=Object.freeze(Object.defineProperty({__proto__:null,desktopSvg:hqt},Symbol.toStringTag,{value:"Module"})),pqt=Ke`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.07 1h.57a1 1 0 0 1 0 2h-.52c-.98 0-1.64 0-2.14.06-.48.05-.7.14-.84.24-.13.1-.25.22-.34.35-.1.14-.2.35-.25.83-.05.5-.05 1.16-.05 2.15v2.74c0 .99 0 1.65.05 2.15.05.48.14.7.25.83.1.14.2.25.34.35.14.1.36.2.84.25.5.05 1.16.05 2.14.05h.52a1 1 0 0 1 0 2h-.57c-.92 0-1.69 0-2.3-.07a3.6 3.6 0 0 1-1.8-.61c-.3-.22-.57-.49-.8-.8a3.6 3.6 0 0 1-.6-1.79C.5 11.11.5 10.35.5 9.43V6.58c0-.92 0-1.7.06-2.31a3.6 3.6 0 0 1 .62-1.8c.22-.3.48-.57.79-.79a3.6 3.6 0 0 1 1.8-.61C4.37 1 5.14 1 6.06 1ZM9.5 3a1 1 0 0 1 1.42 0l4.28 4.3a1 1 0 0 1 0 1.4L10.93 13a1 1 0 0 1-1.42-1.42L12.1 9H6.8a1 1 0 1 1 0-2h5.3L9.51 4.42a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,gqt=Object.freeze(Object.defineProperty({__proto__:null,disconnectSvg:pqt},Symbol.toStringTag,{value:"Module"})),mqt=Ke`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,yqt=Object.freeze(Object.defineProperty({__proto__:null,discordSvg:mqt},Symbol.toStringTag,{value:"Module"})),wqt=Ke`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,vqt=Object.freeze(Object.defineProperty({__proto__:null,etherscanSvg:wqt},Symbol.toStringTag,{value:"Module"})),bqt=Ke`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.71 2.99a.57.57 0 0 0-.57.57 1 1 0 0 1-1 1c-.58 0-.96 0-1.24.03-.27.03-.37.07-.42.1a.97.97 0 0 0-.36.35c-.04.08-.09.21-.11.67a2.57 2.57 0 0 1 0 5.13c.02.45.07.6.11.66.09.15.21.28.36.36.07.04.21.1.67.12a2.57 2.57 0 0 1 5.12 0c.46-.03.6-.08.67-.12a.97.97 0 0 0 .36-.36c.03-.04.07-.14.1-.41.02-.29.03-.66.03-1.24a1 1 0 0 1 1-1 .57.57 0 0 0 0-1.15 1 1 0 0 1-1-1c0-.58 0-.95-.03-1.24a1.04 1.04 0 0 0-.1-.42.97.97 0 0 0-.36-.36 1.04 1.04 0 0 0-.42-.1c-.28-.02-.65-.02-1.24-.02a1 1 0 0 1-1-1 .57.57 0 0 0-.57-.57ZM5.15 13.98a1 1 0 0 0 .99-1v-.78a.57.57 0 0 1 1.14 0v.78a1 1 0 0 0 .99 1H8.36a66.26 66.26 0 0 0 .73 0 3.78 3.78 0 0 0 1.84-.38c.46-.26.85-.64 1.1-1.1.23-.4.32-.8.36-1.22.02-.2.03-.4.03-.63a2.57 2.57 0 0 0 0-4.75c0-.23-.01-.44-.03-.63a2.96 2.96 0 0 0-.35-1.22 2.97 2.97 0 0 0-1.1-1.1c-.4-.22-.8-.31-1.22-.35a8.7 8.7 0 0 0-.64-.04 2.57 2.57 0 0 0-4.74 0c-.23 0-.44.02-.63.04-.42.04-.83.13-1.22.35-.46.26-.84.64-1.1 1.1-.33.57-.37 1.2-.39 1.84a21.39 21.39 0 0 0 0 .72v.1a1 1 0 0 0 1 .99h.78a.57.57 0 0 1 0 1.15h-.77a1 1 0 0 0-1 .98v.1a63.87 63.87 0 0 0 0 .73c0 .64.05 1.27.38 1.83.26.47.64.85 1.1 1.11.56.32 1.2.37 1.84.38a20.93 20.93 0 0 0 .72 0h.1Z"
    clip-rule="evenodd"
  />
</svg>`,xqt=Object.freeze(Object.defineProperty({__proto__:null,extensionSvg:bqt},Symbol.toStringTag,{value:"Module"})),Eqt=Ke`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.74 3.99a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v6.26a1 1 0 0 1-2 0V6.4l-6.3 6.3a1 1 0 0 1-1.4-1.42l6.29-6.3H4.74a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,Cqt=Object.freeze(Object.defineProperty({__proto__:null,externalLinkSvg:Eqt},Symbol.toStringTag,{value:"Module"})),_qt=Ke`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,Aqt=Object.freeze(Object.defineProperty({__proto__:null,facebookSvg:_qt},Symbol.toStringTag,{value:"Module"})),Sqt=Ke`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,Iqt=Object.freeze(Object.defineProperty({__proto__:null,farcasterSvg:Sqt},Symbol.toStringTag,{value:"Module"})),kqt=Ke`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Zm2.63 5.25a1 1 0 0 1 1-1h8.75a1 1 0 1 1 0 2H3.63a1 1 0 0 1-1-1Zm2.62 5.25a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2h-3.5a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,$qt=Object.freeze(Object.defineProperty({__proto__:null,filtersSvg:kqt},Symbol.toStringTag,{value:"Module"})),Tqt=Ke`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,Pqt=Object.freeze(Object.defineProperty({__proto__:null,githubSvg:Tqt},Symbol.toStringTag,{value:"Module"})),Nqt=Ke`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,Oqt=Object.freeze(Object.defineProperty({__proto__:null,googleSvg:Nqt},Symbol.toStringTag,{value:"Module"})),Rqt=Ke`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M8.51 5.66a.83.83 0 0 0-.57-.2.83.83 0 0 0-.52.28.8.8 0 0 0-.25.52 1 1 0 0 1-2 0c0-.75.34-1.43.81-1.91a2.75 2.75 0 0 1 4.78 1.92c0 1.24-.8 1.86-1.25 2.2l-.04.03c-.47.36-.5.43-.5.65a1 1 0 1 1-2 0c0-1.25.8-1.86 1.24-2.2l.04-.04c.47-.36.5-.43.5-.65 0-.3-.1-.49-.24-.6ZM9.12 11.87a1.13 1.13 0 1 1-2.25 0 1.13 1.13 0 0 1 2.25 0Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"
    clip-rule="evenodd"
  />
</svg>`,Mqt=Object.freeze(Object.defineProperty({__proto__:null,helpCircleSvg:Rqt},Symbol.toStringTag,{value:"Module"})),jqt=Ke`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path d="M4.98926 3.73932C4.2989 3.73932 3.73926 4.29896 3.73926 4.98932C3.73926 5.67968 4.2989 6.23932 4.98926 6.23932C5.67962 6.23932 6.23926 5.67968 6.23926 4.98932C6.23926 4.29896 5.67962 3.73932 4.98926 3.73932Z" fill="currentColor"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.60497 0.500001H6.39504C5.41068 0.499977 4.59185 0.499958 3.93178 0.571471C3.24075 0.64634 2.60613 0.809093 2.04581 1.21619C1.72745 1.44749 1.44749 1.72745 1.21619 2.04581C0.809093 2.60613 0.64634 3.24075 0.571471 3.93178C0.499958 4.59185 0.499977 5.41065 0.500001 6.39501V7.57815C0.499998 8.37476 0.499995 9.05726 0.534869 9.62725C0.570123 10.2034 0.644114 10.7419 0.828442 11.2302C0.925651 11.4877 1.05235 11.7287 1.21619 11.9542C1.44749 12.2726 1.72745 12.5525 2.04581 12.7838C2.60613 13.1909 3.24075 13.3537 3.93178 13.4285C4.59185 13.5001 5.41066 13.5 6.39503 13.5H7.60496C8.58933 13.5 9.40815 13.5001 10.0682 13.4285C10.7593 13.3537 11.3939 13.1909 11.9542 12.7838C12.2726 12.5525 12.5525 12.2726 12.7838 11.9542C13.1909 11.3939 13.3537 10.7593 13.4285 10.0682C13.5 9.40816 13.5 8.58935 13.5 7.60497V6.39505C13.5 5.41068 13.5 4.59185 13.4285 3.93178C13.3537 3.24075 13.1909 2.60613 12.7838 2.04581C12.5525 1.72745 12.2726 1.44749 11.9542 1.21619C11.3939 0.809093 10.7593 0.64634 10.0682 0.571471C9.40816 0.499958 8.58933 0.499977 7.60497 0.500001ZM3.22138 2.83422C3.38394 2.71612 3.62634 2.61627 4.14721 2.55984C4.68679 2.50138 5.39655 2.5 6.45 2.5H7.55C8.60345 2.5 9.31322 2.50138 9.8528 2.55984C10.3737 2.61627 10.6161 2.71612 10.7786 2.83422C10.9272 2.94216 11.0578 3.07281 11.1658 3.22138C11.2839 3.38394 11.3837 3.62634 11.4402 4.14721C11.4986 4.68679 11.5 5.39655 11.5 6.45V6.49703C10.9674 6.11617 10.386 5.84936 9.74213 5.81948C8.40536 5.75745 7.3556 6.73051 6.40509 7.84229C6.33236 7.92737 6.27406 7.98735 6.22971 8.02911L6.1919 8.00514L6.17483 7.99427C6.09523 7.94353 5.98115 7.87083 5.85596 7.80302C5.56887 7.64752 5.18012 7.4921 4.68105 7.4921C4.66697 7.4921 4.6529 7.49239 4.63884 7.49299C3.79163 7.52878 3.09922 8.1106 2.62901 8.55472C2.58751 8.59392 2.54594 8.6339 2.50435 8.6745C2.50011 8.34653 2.5 7.97569 2.5 7.55V6.45C2.5 5.39655 2.50138 4.68679 2.55984 4.14721C2.61627 3.62634 2.71612 3.38394 2.83422 3.22138C2.94216 3.07281 3.07281 2.94216 3.22138 2.83422ZM10.3703 8.14825C10.6798 8.37526 11.043 8.71839 11.4832 9.20889C11.4744 9.44992 11.4608 9.662 11.4402 9.8528C11.3837 10.3737 11.2839 10.6161 11.1658 10.7786C11.0578 10.9272 10.9272 11.0578 10.7786 11.1658C10.6161 11.2839 10.3737 11.3837 9.8528 11.4402C9.31322 11.4986 8.60345 11.5 7.55 11.5H6.45C5.39655 11.5 4.68679 11.4986 4.14721 11.4402C3.62634 11.3837 3.38394 11.2839 3.22138 11.1658C3.15484 11.1174 3.0919 11.0645 3.03298 11.0075C3.10126 10.9356 3.16806 10.8649 3.23317 10.7959L3.29772 10.7276C3.55763 10.4525 3.78639 10.2126 4.00232 10.0087C4.22016 9.80294 4.39412 9.66364 4.53524 9.57742C4.63352 9.51738 4.69022 9.49897 4.71275 9.49345C4.76387 9.49804 4.81803 9.51537 4.90343 9.56162C4.96409 9.59447 5.02355 9.63225 5.11802 9.69238L5.12363 9.69595C5.20522 9.74789 5.32771 9.82587 5.46078 9.89278C5.76529 10.0459 6.21427 10.186 6.74977 10.0158C7.21485 9.86796 7.59367 9.52979 7.92525 9.14195C8.91377 7.98571 9.38267 7.80495 9.64941 7.81733C9.7858 7.82366 10.0101 7.884 10.3703 8.14825Z" fill="currentColor"/>
</svg>`,Dqt=Object.freeze(Object.defineProperty({__proto__:null,imageSvg:jqt},Symbol.toStringTag,{value:"Module"})),Lqt=Ke`<svg
 xmlns="http://www.w3.org/2000/svg"
 width="28"
 height="28"
 viewBox="0 0 28 28"
 fill="none">
  <path
    fill="#949E9E"
    fill-rule="evenodd"
    d="M7.974 2.975h12.052c1.248 0 2.296 0 3.143.092.89.096 1.723.307 2.461.844a4.9 4.9 0 0 1 1.084 1.084c.537.738.748 1.57.844 2.461.092.847.092 1.895.092 3.143v6.802c0 1.248 0 2.296-.092 3.143-.096.89-.307 1.723-.844 2.461a4.9 4.9 0 0 1-1.084 1.084c-.738.537-1.57.748-2.461.844-.847.092-1.895.092-3.143.092H7.974c-1.247 0-2.296 0-3.143-.092-.89-.096-1.723-.307-2.461-.844a4.901 4.901 0 0 1-1.084-1.084c-.537-.738-.748-1.571-.844-2.461C.35 19.697.35 18.649.35 17.4v-6.802c0-1.248 0-2.296.092-3.143.096-.89.307-1.723.844-2.461A4.9 4.9 0 0 1 2.37 3.91c.738-.537 1.571-.748 2.461-.844.847-.092 1.895-.092 3.143-.092ZM5.133 5.85c-.652.071-.936.194-1.117.326a2.1 2.1 0 0 0-.465.465c-.132.181-.255.465-.325 1.117-.074.678-.076 1.573-.076 2.917v6.65c0 1.344.002 2.239.076 2.917.07.652.193.936.325 1.117a2.1 2.1 0 0 0 .465.465c.181.132.465.255 1.117.326.678.073 1.574.075 2.917.075h11.9c1.344 0 2.239-.002 2.917-.075.652-.071.936-.194 1.117-.326.179-.13.335-.286.465-.465.132-.181.255-.465.326-1.117.073-.678.075-1.573.075-2.917v-6.65c0-1.344-.002-2.239-.075-2.917-.071-.652-.194-.936-.326-1.117a2.1 2.1 0 0 0-.465-.465c-.181-.132-.465-.255-1.117-.326-.678-.073-1.573-.075-2.917-.075H8.05c-1.343 0-2.239.002-2.917.075Zm.467 7.275a3.15 3.15 0 1 1 6.3 0 3.15 3.15 0 0 1-6.3 0Zm8.75-1.75a1.4 1.4 0 0 1 1.4-1.4h3.5a1.4 1.4 0 0 1 0 2.8h-3.5a1.4 1.4 0 0 1-1.4-1.4Zm0 5.25a1.4 1.4 0 0 1 1.4-1.4H21a1.4 1.4 0 1 1 0 2.8h-5.25a1.4 1.4 0 0 1-1.4-1.4Z"
    clip-rule="evenodd"/>
</svg>`,Bqt=Object.freeze(Object.defineProperty({__proto__:null,idSvg:Lqt},Symbol.toStringTag,{value:"Module"})),Uqt=Ke`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    d="M6 10.49a1 1 0 1 0 2 0v-2a1 1 0 0 0-2 0v2ZM7 4.49a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 14.99a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm5-7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"
    clip-rule="evenodd"
  />
</svg>`,Fqt=Object.freeze(Object.defineProperty({__proto__:null,infoCircleSvg:Uqt},Symbol.toStringTag,{value:"Module"})),zqt=Ke`<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.00177 1.78569C3.8179 1.78569 2.85819 2.74508 2.85819 3.92855C2.85819 4.52287 3.09928 5.05956 3.49077 5.4485L3.5005 5.45817C3.64381 5.60054 3.76515 5.72108 3.85631 5.81845C3.93747 5.90512 4.05255 6.03218 4.12889 6.1805C4.16999 6.26034 4.19 6.30843 4.21768 6.39385C4.22145 6.40546 4.22499 6.41703 4.22833 6.42855H5.77521C5.77854 6.41703 5.78208 6.40547 5.78585 6.39385C5.81353 6.30843 5.83354 6.26034 5.87464 6.1805C5.95098 6.03218 6.06606 5.90512 6.14722 5.81845C6.23839 5.72108 6.35973 5.60053 6.50304 5.45816L6.51276 5.4485C6.90425 5.05956 7.14534 4.52287 7.14534 3.92855C7.14534 2.74508 6.18563 1.78569 5.00177 1.78569ZM5.71629 7.85712H4.28724C4.28724 8.21403 4.28876 8.40985 4.30703 8.54571C4.30727 8.54748 4.30751 8.54921 4.30774 8.55091C4.30944 8.55115 4.31118 8.55138 4.31295 8.55162C4.44884 8.56989 4.64474 8.5714 5.00177 8.5714C5.3588 8.5714 5.55469 8.56989 5.69059 8.55162C5.69236 8.55138 5.69409 8.55115 5.69579 8.55091C5.69603 8.54921 5.69627 8.54748 5.6965 8.54571C5.71477 8.40985 5.71629 8.21403 5.71629 7.85712ZM2.85819 7.14283C2.85819 6.9948 2.85796 6.91114 2.8548 6.85032C2.85461 6.84656 2.85441 6.84309 2.85421 6.83988C2.84393 6.8282 2.83047 6.81334 2.81301 6.79469C2.74172 6.71856 2.63908 6.61643 2.48342 6.46178C1.83307 5.81566 1.42914 4.91859 1.42914 3.92855C1.42914 1.9561 3.02866 0.357117 5.00177 0.357117C6.97487 0.357117 8.57439 1.9561 8.57439 3.92855C8.57439 4.91859 8.17047 5.81566 7.52012 6.46178C7.36445 6.61643 7.26182 6.71856 7.19053 6.79469C7.17306 6.81334 7.1596 6.8282 7.14932 6.83988C7.14912 6.84309 7.14892 6.84656 7.14873 6.85032C7.14557 6.91114 7.14534 6.9948 7.14534 7.14283V7.85712C7.14534 7.87009 7.14535 7.88304 7.14535 7.89598C7.14541 8.19889 7.14547 8.49326 7.11281 8.73606C7.076 9.00978 6.98631 9.32212 6.72678 9.58156C6.46726 9.841 6.15481 9.93065 5.881 9.96745C5.63813 10.0001 5.34365 10 5.04064 9.99998C5.0277 9.99998 5.01474 9.99998 5.00177 9.99998C4.98879 9.99998 4.97583 9.99998 4.96289 9.99998C4.65988 10 4.36541 10.0001 4.12253 9.96745C3.84872 9.93065 3.53628 9.841 3.27675 9.58156C3.01722 9.32212 2.92753 9.00978 2.89072 8.73606C2.85807 8.49326 2.85812 8.19889 2.85818 7.89598C2.85819 7.88304 2.85819 7.87008 2.85819 7.85712V7.14283ZM7.1243 6.86977C7.12366 6.87069 7.1233 6.87116 7.12327 6.87119C7.12323 6.87123 7.12356 6.87076 7.1243 6.86977ZM2.88027 6.8712C2.88025 6.87119 2.87988 6.8707 2.87921 6.86975C2.87995 6.87072 2.88028 6.8712 2.88027 6.8712Z" fill="#949E9E"/>
</svg>`,Wqt=Object.freeze(Object.defineProperty({__proto__:null,lightbulbSvg:zqt},Symbol.toStringTag,{value:"Module"})),qqt=Ke`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.83 1.34h6.34c.68 0 1.26 0 1.73.04.5.05.97.15 1.42.4.52.3.95.72 1.24 1.24.26.45.35.92.4 1.42.04.47.04 1.05.04 1.73v3.71c0 .69 0 1.26-.04 1.74-.05.5-.14.97-.4 1.41-.3.52-.72.95-1.24 1.25-.45.25-.92.35-1.42.4-.47.03-1.05.03-1.73.03H4.83c-.68 0-1.26 0-1.73-.04-.5-.04-.97-.14-1.42-.4-.52-.29-.95-.72-1.24-1.24a3.39 3.39 0 0 1-.4-1.41A20.9 20.9 0 0 1 0 9.88v-3.7c0-.7 0-1.27.04-1.74.05-.5.14-.97.4-1.42.3-.52.72-.95 1.24-1.24.45-.25.92-.35 1.42-.4.47-.04 1.05-.04 1.73-.04ZM3.28 3.38c-.36.03-.51.08-.6.14-.21.11-.39.29-.5.5a.8.8 0 0 0-.08.19l5.16 3.44c.45.3 1.03.3 1.48 0L13.9 4.2a.79.79 0 0 0-.08-.2c-.11-.2-.29-.38-.5-.5-.09-.05-.24-.1-.6-.13-.37-.04-.86-.04-1.6-.04H4.88c-.73 0-1.22 0-1.6.04ZM14 6.54 9.85 9.31a3.33 3.33 0 0 1-3.7 0L2 6.54v3.3c0 .74 0 1.22.03 1.6.04.36.1.5.15.6.11.2.29.38.5.5.09.05.24.1.6.14.37.03.86.03 1.6.03h6.25c.73 0 1.22 0 1.6-.03.35-.03.5-.09.6-.14.2-.12.38-.3.5-.5.05-.1.1-.24.14-.6.03-.38.03-.86.03-1.6v-3.3Z"
    clip-rule="evenodd"
  />
</svg>`,Hqt=Object.freeze(Object.defineProperty({__proto__:null,mailSvg:qqt},Symbol.toStringTag,{value:"Module"})),Vqt=Ke`<svg fill="none" viewBox="0 0 20 20">
  <path fill="currentColor" d="M10.81 5.81a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z" />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3 4.75A4.75 4.75 0 0 1 7.75 0h4.5A4.75 4.75 0 0 1 17 4.75v10.5A4.75 4.75 0 0 1 12.25 20h-4.5A4.75 4.75 0 0 1 3 15.25V4.75ZM7.75 2A2.75 2.75 0 0 0 5 4.75v10.5A2.75 2.75 0 0 0 7.75 18h4.5A2.75 2.75 0 0 0 15 15.25V4.75A2.75 2.75 0 0 0 12.25 2h-4.5Z"
    clip-rule="evenodd"
  />
</svg>`,Kqt=Object.freeze(Object.defineProperty({__proto__:null,mobileSvg:Vqt},Symbol.toStringTag,{value:"Module"})),Gqt=Ke`<svg fill="none" viewBox="0 0 41 40">
  <path
    style="fill: var(--wui-color-fg-100);"
    fill-opacity=".05"
    d="M.6 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z"
  />
  <path
    fill="#949E9E"
    d="M15.6 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM23.1 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM28.1 22.81a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"
  />
</svg>`,Zqt=Object.freeze(Object.defineProperty({__proto__:null,moreSvg:Gqt},Symbol.toStringTag,{value:"Module"})),Yqt=Ke`<svg fill="none" viewBox="0 0 22 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M16.32 13.62a3.14 3.14 0 1 1-.99 1.72l-1.6-.93a3.83 3.83 0 0 1-3.71 1 3.66 3.66 0 0 1-1.74-1l-1.6.94a3.14 3.14 0 1 1-1-1.73l1.6-.94a3.7 3.7 0 0 1 0-2 3.81 3.81 0 0 1 1.8-2.33c.29-.17.6-.3.92-.38V6.1a3.14 3.14 0 1 1 2 0l-.01.02v1.85H12a3.82 3.82 0 0 1 2.33 1.8 3.7 3.7 0 0 1 .39 2.91l1.6.93ZM2.6 16.54a1.14 1.14 0 0 0 1.98-1.14 1.14 1.14 0 0 0-1.98 1.14ZM11 2.01a1.14 1.14 0 1 0 0 2.28 1.14 1.14 0 0 0 0-2.28Zm1.68 10.45c.08-.19.14-.38.16-.58v-.05l.02-.13v-.13a1.92 1.92 0 0 0-.24-.8l-.11-.15a1.89 1.89 0 0 0-.74-.6 1.86 1.86 0 0 0-.77-.17h-.19a1.97 1.97 0 0 0-.89.34 1.98 1.98 0 0 0-.61.74 1.99 1.99 0 0 0-.16.9v.05a1.87 1.87 0 0 0 .24.74l.1.15c.12.16.26.3.42.42l.16.1.13.07.04.02a1.84 1.84 0 0 0 .76.17h.17a2 2 0 0 0 .91-.35 1.78 1.78 0 0 0 .52-.58l.03-.05a.84.84 0 0 0 .05-.11Zm5.15 4.5a1.14 1.14 0 0 0 1.14-1.97 1.13 1.13 0 0 0-1.55.41c-.32.55-.13 1.25.41 1.56Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.63 9.43a1.5 1.5 0 1 0 1.5-2.6 1.5 1.5 0 0 0-1.5 2.6Zm.32-1.55a.5.5 0 0 1 .68-.19.5.5 0 0 1 .18.68.5.5 0 0 1-.68.19.5.5 0 0 1-.18-.68ZM17.94 8.88a1.5 1.5 0 1 1-2.6-1.5 1.5 1.5 0 1 1 2.6 1.5ZM16.9 7.69a.5.5 0 0 0-.68.19.5.5 0 0 0 .18.68.5.5 0 0 0 .68-.19.5.5 0 0 0-.18-.68ZM9.75 17.75a1.5 1.5 0 1 1 2.6 1.5 1.5 1.5 0 1 1-2.6-1.5Zm1.05 1.18a.5.5 0 0 0 .68-.18.5.5 0 0 0-.18-.68.5.5 0 0 0-.68.18.5.5 0 0 0 .18.68Z"
    clip-rule="evenodd"
  />
</svg>`,Jqt=Object.freeze(Object.defineProperty({__proto__:null,networkPlaceholderSvg:Yqt},Symbol.toStringTag,{value:"Module"})),Qqt=Ke`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.13 1h1.71c1.46 0 2.63 0 3.56.1.97.1 1.8.33 2.53.85a5 5 0 0 1 1.1 1.11c.53.73.75 1.56.86 2.53.1.93.1 2.1.1 3.55v1.72c0 1.45 0 2.62-.1 3.55-.1.97-.33 1.8-.86 2.53a5 5 0 0 1-1.1 1.1c-.73.53-1.56.75-2.53.86-.93.1-2.1.1-3.55.1H9.13c-1.45 0-2.62 0-3.56-.1-.96-.1-1.8-.33-2.52-.85a5 5 0 0 1-1.1-1.11 5.05 5.05 0 0 1-.86-2.53c-.1-.93-.1-2.1-.1-3.55V9.14c0-1.45 0-2.62.1-3.55.1-.97.33-1.8.85-2.53a5 5 0 0 1 1.1-1.1 5.05 5.05 0 0 1 2.53-.86C6.51 1 7.67 1 9.13 1ZM5.79 3.09a3.1 3.1 0 0 0-1.57.48 3 3 0 0 0-.66.67c-.24.32-.4.77-.48 1.56-.1.82-.1 1.88-.1 3.4v1.6c0 1.15 0 2.04.05 2.76l.41-.42c.5-.5.93-.92 1.32-1.24.41-.33.86-.6 1.43-.7a3 3 0 0 1 .94 0c.35.06.66.2.95.37a17.11 17.11 0 0 0 .8.45c.1-.08.2-.2.41-.4l.04-.03a27 27 0 0 1 1.95-1.84 4.03 4.03 0 0 1 1.91-.94 4 4 0 0 1 1.25 0c.73.11 1.33.46 1.91.94l.64.55V9.2c0-1.52 0-2.58-.1-3.4a3.1 3.1 0 0 0-.48-1.56 3 3 0 0 0-.66-.67 3.1 3.1 0 0 0-1.56-.48C13.37 3 12.3 3 10.79 3h-1.6c-1.52 0-2.59 0-3.4.09Zm11.18 10-.04-.05a26.24 26.24 0 0 0-1.83-1.74c-.45-.36-.73-.48-.97-.52a2 2 0 0 0-.63 0c-.24.04-.51.16-.97.52-.46.38-1.01.93-1.83 1.74l-.02.02c-.17.18-.34.34-.49.47a2.04 2.04 0 0 1-1.08.5 1.97 1.97 0 0 1-1.25-.27l-.79-.46-.02-.02a.65.65 0 0 0-.24-.1 1 1 0 0 0-.31 0c-.08.02-.21.06-.49.28-.3.24-.65.59-1.2 1.14l-.56.56-.65.66a3 3 0 0 0 .62.6c.33.24.77.4 1.57.49.81.09 1.88.09 3.4.09h1.6c1.52 0 2.58 0 3.4-.09a3.1 3.1 0 0 0 1.56-.48 3 3 0 0 0 .66-.67c.24-.32.4-.77.49-1.56l.07-1.12Zm-8.02-1.03ZM4.99 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"
    clip-rule="evenodd"
  />
</svg>`,Xqt=Object.freeze(Object.defineProperty({__proto__:null,nftPlaceholderSvg:Qqt},Symbol.toStringTag,{value:"Module"})),eHt=Ke`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 0a1 1 0 0 1 1 1v5.38a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1ZM5.26 2.6a1 1 0 0 1-.28 1.39 5.46 5.46 0 1 0 6.04 0 1 1 0 1 1 1.1-1.67 7.46 7.46 0 1 1-8.25 0 1 1 0 0 1 1.4.28Z"
    clip-rule="evenodd"
  />
</svg>`,tHt=Object.freeze(Object.defineProperty({__proto__:null,offSvg:eHt},Symbol.toStringTag,{value:"Module"})),nHt=Ke` <svg
  width="36"
  height="36"
  fill="none"
>
  <path
    d="M0 8a8 8 0 0 1 8-8h20a8 8 0 0 1 8 8v20a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V8Z"
    fill="#fff"
    fill-opacity=".05"
  />
  <path
    d="m18.262 17.513-8.944 9.49v.01a2.417 2.417 0 0 0 3.56 1.452l.026-.017 10.061-5.803-4.703-5.132Z"
    fill="#EA4335"
  />
  <path
    d="m27.307 15.9-.008-.008-4.342-2.52-4.896 4.36 4.913 4.912 4.325-2.494a2.42 2.42 0 0 0 .008-4.25Z"
    fill="#FBBC04"
  />
  <path
    d="M9.318 8.997c-.05.202-.084.403-.084.622V26.39c0 .218.025.42.084.621l9.246-9.247-9.246-8.768Z"
    fill="#4285F4"
  />
  <path
    d="m18.33 18 4.627-4.628-10.053-5.828a2.427 2.427 0 0 0-3.586 1.444L18.329 18Z"
    fill="#34A853"
  />
  <path
    d="M8 .5h20A7.5 7.5 0 0 1 35.5 8v20a7.5 7.5 0 0 1-7.5 7.5H8A7.5 7.5 0 0 1 .5 28V8A7.5 7.5 0 0 1 8 .5Z"
    stroke="#fff"
    stroke-opacity=".05"
  />
</svg>`,rHt=Object.freeze(Object.defineProperty({__proto__:null,playStoreSvg:nHt},Symbol.toStringTag,{value:"Module"})),iHt=Ke`<svg
  width="13"
  height="12"
  viewBox="0 0 13 12"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M0.794373 5.99982C0.794373 5.52643 1.17812 5.14268 1.6515 5.14268H5.643V1.15109C5.643 0.677701 6.02675 0.293946 6.50012 0.293945C6.9735 0.293946 7.35725 0.677701 7.35725 1.15109V5.14268H11.3488C11.8221 5.14268 12.2059 5.52643 12.2059 5.99982C12.2059 6.47321 11.8221 6.85696 11.3488 6.85696H7.35725V10.8486C7.35725 11.3219 6.9735 11.7057 6.50012 11.7057C6.02675 11.7057 5.643 11.3219 5.643 10.8486V6.85696H1.6515C1.17812 6.85696 0.794373 6.47321 0.794373 5.99982Z"
  /></svg
>`,sHt=Object.freeze(Object.defineProperty({__proto__:null,plusSvg:iHt},Symbol.toStringTag,{value:"Module"})),oHt=Ke`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M3 6a3 3 0 0 1 3-3h1a1 1 0 1 0 0-2H6a5 5 0 0 0-5 5v1a1 1 0 0 0 2 0V6ZM13 1a1 1 0 1 0 0 2h1a3 3 0 0 1 3 3v1a1 1 0 1 0 2 0V6a5 5 0 0 0-5-5h-1ZM3 13a1 1 0 1 0-2 0v1a5 5 0 0 0 5 5h1a1 1 0 1 0 0-2H6a3 3 0 0 1-3-3v-1ZM19 13a1 1 0 1 0-2 0v1a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1.01a5 5 0 0 0 5-5v-1ZM5.3 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05A1.5 1.5 0 0 0 9.2 8.14c.06-.2.06-.43.06-.89s0-.7-.06-.89A1.5 1.5 0 0 0 8.14 5.3c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM10.8 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM5.26 12.75c0-.46 0-.7.05-.89a1.5 1.5 0 0 1 1.06-1.06c.19-.05.42-.05.89-.05.46 0 .7 0 .88.05.52.14.93.54 1.06 1.06.06.2.06.43.06.89s0 .7-.06.89a1.5 1.5 0 0 1-1.06 1.06c-.19.05-.42.05-.88.05-.47 0-.7 0-.9-.05a1.5 1.5 0 0 1-1.05-1.06c-.05-.2-.05-.43-.05-.89ZM10.8 11.86c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06Z"
  />
</svg>`,aHt=Object.freeze(Object.defineProperty({__proto__:null,qrCodeIcon:oHt},Symbol.toStringTag,{value:"Module"})),cHt=Ke`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    d="M8.8071 0.292893C9.19763 0.683417 9.19763 1.31658 8.8071 1.70711L6.91421 3.6H11.8404C14.3368 3.6 16.5533 5.1975 17.3427 7.56588L17.4487 7.88377C17.6233 8.40772 17.3402 8.97404 16.8162 9.14868C16.2923 9.32333 15.726 9.04017 15.5513 8.51623L15.4453 8.19834C14.9281 6.64664 13.476 5.6 11.8404 5.6H6.91421L8.8071 7.49289C9.19763 7.88342 9.19763 8.51658 8.8071 8.90711C8.41658 9.29763 7.78341 9.29763 7.39289 8.90711L3.79289 5.30711C3.40236 4.91658 3.40236 4.28342 3.79289 3.89289L7.39289 0.292893C7.78341 -0.0976311 8.41658 -0.0976311 8.8071 0.292893ZM4.18377 10.8513C4.70771 10.6767 5.27403 10.9598 5.44868 11.4838L5.55464 11.8017C6.07188 13.3534 7.52401 14.4 9.15964 14.4L14.0858 14.4L12.1929 12.5071C11.8024 12.1166 11.8024 11.4834 12.1929 11.0929C12.5834 10.7024 13.2166 10.7024 13.6071 11.0929L17.2071 14.6929C17.5976 15.0834 17.5976 15.7166 17.2071 16.1071L13.6071 19.7071C13.2166 20.0976 12.5834 20.0976 12.1929 19.7071C11.8024 19.3166 11.8024 18.6834 12.1929 18.2929L14.0858 16.4L9.15964 16.4C6.66314 16.4 4.44674 14.8025 3.65728 12.4341L3.55131 12.1162C3.37667 11.5923 3.65983 11.026 4.18377 10.8513Z"
  /></svg
>`,lHt=Object.freeze(Object.defineProperty({__proto__:null,recycleHorizontalSvg:cHt},Symbol.toStringTag,{value:"Module"})),uHt=Ke`<svg fill="none" viewBox="0 0 14 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.94 1.04a1 1 0 0 1 .7 1.23l-.48 1.68a5.85 5.85 0 0 1 8.53 4.32 5.86 5.86 0 0 1-11.4 2.56 1 1 0 0 1 1.9-.57 3.86 3.86 0 1 0 1.83-4.5l1.87.53a1 1 0 0 1-.55 1.92l-4.1-1.15a1 1 0 0 1-.69-1.23l1.16-4.1a1 1 0 0 1 1.23-.7Z"
    clip-rule="evenodd"
  />
</svg>`,dHt=Object.freeze(Object.defineProperty({__proto__:null,refreshSvg:uHt},Symbol.toStringTag,{value:"Module"})),hHt=Ke`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.36 4.21a5.14 5.14 0 1 0 0 10.29 5.14 5.14 0 0 0 0-10.29ZM1.64 9.36a7.71 7.71 0 1 1 14 4.47l2.52 2.5a1.29 1.29 0 1 1-1.82 1.83l-2.51-2.51A7.71 7.71 0 0 1 1.65 9.36Z"
    clip-rule="evenodd"
  />
</svg>`,fHt=Object.freeze(Object.defineProperty({__proto__:null,searchSvg:hHt},Symbol.toStringTag,{value:"Module"})),pHt=Ke`<svg fill="none" viewBox="0 0 21 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.3808 4.34812C13.72 4.47798 12.8501 4.7587 11.5748 5.17296L9.00869 6.00646C6.90631 6.68935 5.40679 7.17779 4.38121 7.63178C3.87166 7.85734 3.5351 8.05091 3.32022 8.22035C3.11183 8.38466 3.07011 8.48486 3.05969 8.51817C2.98058 8.77103 2.98009 9.04195 3.05831 9.29509C3.06861 9.32844 3.10998 9.42878 3.31777 9.59384C3.53205 9.76404 3.86792 9.95881 4.37667 10.1862C5.29287 10.5957 6.58844 11.0341 8.35529 11.6164L10.8876 8.59854C11.2426 8.17547 11.8733 8.12028 12.2964 8.47528C12.7195 8.83029 12.7746 9.46104 12.4196 9.88412L9.88738 12.9019C10.7676 14.5408 11.4244 15.7406 11.9867 16.5718C12.299 17.0333 12.5491 17.3303 12.7539 17.5117C12.9526 17.6877 13.0586 17.711 13.0932 17.7154C13.3561 17.7484 13.6228 17.7009 13.8581 17.5791C13.8891 17.563 13.9805 17.5046 14.1061 17.2708C14.2357 17.0298 14.3679 16.6647 14.5015 16.1237C14.7705 15.0349 14.9912 13.4733 15.2986 11.2843L15.6738 8.61249C15.8603 7.28456 15.9857 6.37917 15.9989 5.7059C16.012 5.03702 15.9047 4.8056 15.8145 4.69183C15.7044 4.55297 15.5673 4.43792 15.4114 4.35365C15.2837 4.28459 15.0372 4.2191 14.3808 4.34812ZM7.99373 13.603C6.11919 12.9864 4.6304 12.4902 3.5606 12.0121C2.98683 11.7557 2.4778 11.4808 2.07383 11.1599C1.66337 10.8339 1.31312 10.4217 1.14744 9.88551C0.949667 9.24541 0.950886 8.56035 1.15094 7.92096C1.31852 7.38534 1.67024 6.97442 2.08185 6.64985C2.48697 6.33041 2.99697 6.05734 3.57166 5.80295C4.70309 5.3021 6.30179 4.78283 8.32903 4.12437L11.0196 3.25042C12.2166 2.86159 13.2017 2.54158 13.9951 2.38566C14.8065 2.22618 15.6202 2.19289 16.3627 2.59437C16.7568 2.80747 17.1035 3.09839 17.3818 3.4495C17.9062 4.111 18.0147 4.91815 17.9985 5.74496C17.9827 6.55332 17.8386 7.57903 17.6636 8.82534L17.2701 11.6268C16.9737 13.7376 16.7399 15.4022 16.4432 16.6034C16.2924 17.2135 16.1121 17.7632 15.8678 18.2176C15.6197 18.6794 15.2761 19.0971 14.7777 19.3551C14.1827 19.6632 13.5083 19.7833 12.8436 19.6997C12.2867 19.6297 11.82 19.3563 11.4277 19.0087C11.0415 18.6666 10.6824 18.213 10.3302 17.6925C9.67361 16.722 8.92648 15.342 7.99373 13.603Z"
    clip-rule="evenodd"
  />
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="21"
    height="20"
    viewBox="0 0 21 20"
    fill="none"
  ></svg></svg
>`,gHt=Object.freeze(Object.defineProperty({__proto__:null,sendSvg:pHt},Symbol.toStringTag,{value:"Module"})),mHt=Ke`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.76.3a1 1 0 0 1 0 1.4L4.07 4.4h9a1 1 0 1 1 0 2h-9l2.69 2.68a1 1 0 1 1-1.42 1.42L.95 6.09a1 1 0 0 1 0-1.4l4.4-4.4a1 1 0 0 1 1.4 0Zm6.49 9.21a1 1 0 0 1 1.41 0l4.39 4.4a1 1 0 0 1 0 1.4l-4.39 4.4a1 1 0 0 1-1.41-1.42l2.68-2.68h-9a1 1 0 0 1 0-2h9l-2.68-2.68a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,yHt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalSvg:mHt},Symbol.toStringTag,{value:"Module"})),wHt=Ke`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M13.7306 3.24213C14.0725 3.58384 14.0725 4.13786 13.7306 4.47957L10.7418 7.46737C10.4 7.80908 9.84581 7.80908 9.50399 7.46737C9.16216 7.12567 9.16216 6.57165 9.50399 6.22994L10.9986 4.73585H5.34082C4.85741 4.73585 4.46553 4.3441 4.46553 3.86085C4.46553 3.3776 4.85741 2.98585 5.34082 2.98585L10.9986 2.98585L9.50399 1.49177C9.16216 1.15006 9.16216 0.596037 9.50399 0.254328C9.84581 -0.0873803 10.4 -0.0873803 10.7418 0.254328L13.7306 3.24213ZM9.52515 10.1352C9.52515 10.6185 9.13327 11.0102 8.64986 11.0102L2.9921 11.0102L4.48669 12.5043C4.82852 12.846 4.82852 13.4001 4.48669 13.7418C4.14487 14.0835 3.59066 14.0835 3.24884 13.7418L0.26003 10.754C0.0958806 10.5899 0.0036621 10.3673 0.00366211 10.1352C0.00366212 9.90318 0.0958806 9.68062 0.26003 9.51652L3.24884 6.52872C3.59066 6.18701 4.14487 6.18701 4.48669 6.52872C4.82851 6.87043 4.82851 7.42445 4.48669 7.76616L2.9921 9.26024L8.64986 9.26024C9.13327 9.26024 9.52515 9.65199 9.52515 10.1352Z"
    fill="currentColor"
  />
</svg>

`,vHt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalMediumSvg:wHt},Symbol.toStringTag,{value:"Module"})),bHt=Ke`<svg width="10" height="10" viewBox="0 0 10 10">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.77986 0.566631C4.0589 0.845577 4.0589 1.29784 3.77986 1.57678L3.08261 2.2738H6.34184C6.73647 2.2738 7.05637 2.5936 7.05637 2.98808C7.05637 3.38257 6.73647 3.70237 6.34184 3.70237H3.08261L3.77986 4.39938C4.0589 4.67833 4.0589 5.13059 3.77986 5.40954C3.50082 5.68848 3.04841 5.68848 2.76937 5.40954L0.852346 3.49316C0.573306 3.21421 0.573306 2.76195 0.852346 2.48301L2.76937 0.566631C3.04841 0.287685 3.50082 0.287685 3.77986 0.566631ZM6.22 4.59102C6.49904 4.31208 6.95145 4.31208 7.23049 4.59102L9.14751 6.5074C9.42655 6.78634 9.42655 7.23861 9.14751 7.51755L7.23049 9.43393C6.95145 9.71287 6.49904 9.71287 6.22 9.43393C5.94096 9.15498 5.94096 8.70272 6.22 8.42377L6.91725 7.72676L3.65802 7.72676C3.26339 7.72676 2.94349 7.40696 2.94349 7.01247C2.94349 6.61798 3.26339 6.29819 3.65802 6.29819L6.91725 6.29819L6.22 5.60117C5.94096 5.32223 5.94096 4.86997 6.22 4.59102Z"
    clip-rule="evenodd"
  />
</svg>`,xHt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalBoldSvg:bHt},Symbol.toStringTag,{value:"Module"})),EHt=Ke`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
  <path 
    fill="currentColor"
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M8.3071 0.292893C8.69763 0.683417 8.69763 1.31658 8.3071 1.70711L6.41421 3.6H11.3404C13.8368 3.6 16.0533 5.1975 16.8427 7.56588L16.9487 7.88377C17.1233 8.40772 16.8402 8.97404 16.3162 9.14868C15.7923 9.32333 15.226 9.04017 15.0513 8.51623L14.9453 8.19834C14.4281 6.64664 12.976 5.6 11.3404 5.6H6.41421L8.3071 7.49289C8.69763 7.88342 8.69763 8.51658 8.3071 8.90711C7.91658 9.29763 7.28341 9.29763 6.89289 8.90711L3.29289 5.30711C2.90236 4.91658 2.90236 4.28342 3.29289 3.89289L6.89289 0.292893C7.28341 -0.0976311 7.91658 -0.0976311 8.3071 0.292893ZM3.68377 10.8513C4.20771 10.6767 4.77403 10.9598 4.94868 11.4838L5.05464 11.8017C5.57188 13.3534 7.024 14.4 8.65964 14.4L13.5858 14.4L11.6929 12.5071C11.3024 12.1166 11.3024 11.4834 11.6929 11.0929C12.0834 10.7024 12.7166 10.7024 13.1071 11.0929L16.7071 14.6929C17.0976 15.0834 17.0976 15.7166 16.7071 16.1071L13.1071 19.7071C12.7166 20.0976 12.0834 20.0976 11.6929 19.7071C11.3024 19.3166 11.3024 18.6834 11.6929 18.2929L13.5858 16.4L8.65964 16.4C6.16314 16.4 3.94674 14.8025 3.15728 12.4341L3.05131 12.1162C2.87667 11.5923 3.15983 11.026 3.68377 10.8513Z" 
  />
</svg>`,CHt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalRoundedBoldSvg:EHt},Symbol.toStringTag,{value:"Module"})),_Ht=Ke`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.48 2.18a1 1 0 0 1 1.41 0l2.68 2.68a1 1 0 1 1-1.41 1.42l-.98-.98v4.56a1 1 0 0 1-2 0V5.3l-.97.98A1 1 0 0 1 .79 4.86l2.69-2.68Zm6.34 2.93a1 1 0 0 1 1 1v4.56l.97-.98a1 1 0 1 1 1.42 1.42l-2.69 2.68a1 1 0 0 1-1.41 0l-2.68-2.68a1 1 0 0 1 1.41-1.42l.98.98V6.1a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,AHt=Object.freeze(Object.defineProperty({__proto__:null,swapVerticalSvg:_Ht},Symbol.toStringTag,{value:"Module"})),SHt=Ke`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,IHt=Object.freeze(Object.defineProperty({__proto__:null,telegramSvg:SHt},Symbol.toStringTag,{value:"Module"})),kHt=Ke`<svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M7 3.71875C6.0335 3.71875 5.25 2.93525 5.25 1.96875C5.25 1.00225 6.0335 0.21875 7 0.21875C7.9665 0.21875 8.75 1.00225 8.75 1.96875C8.75 2.93525 7.9665 3.71875 7 3.71875Z" fill="#949E9E"/>
  <path d="M7 8.96875C6.0335 8.96875 5.25 8.18525 5.25 7.21875C5.25 6.25225 6.0335 5.46875 7 5.46875C7.9665 5.46875 8.75 6.25225 8.75 7.21875C8.75 8.18525 7.9665 8.96875 7 8.96875Z" fill="#949E9E"/>
  <path d="M5.25 12.4688C5.25 13.4352 6.0335 14.2187 7 14.2187C7.9665 14.2187 8.75 13.4352 8.75 12.4688C8.75 11.5023 7.9665 10.7188 7 10.7188C6.0335 10.7188 5.25 11.5023 5.25 12.4688Z" fill="#949E9E"/>
</svg>`,$Ht=Object.freeze(Object.defineProperty({__proto__:null,threeDotsSvg:kHt},Symbol.toStringTag,{value:"Module"})),THt=Ke`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,PHt=Object.freeze(Object.defineProperty({__proto__:null,twitchSvg:THt},Symbol.toStringTag,{value:"Module"})),NHt=Ke`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`,tEe=Object.freeze(Object.defineProperty({__proto__:null,xSvg:NHt},Symbol.toStringTag,{value:"Module"})),OHt=Ke`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,RHt=Object.freeze(Object.defineProperty({__proto__:null,twitterIconSvg:OHt},Symbol.toStringTag,{value:"Module"})),MHt=Ke`<svg fill="none" viewBox="0 0 28 28">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M18.1 4.76c-.42-.73-1.33-1.01-2.09-.66l-1.42.66c-.37.18-.8.18-1.18 0l-1.4-.65a1.63 1.63 0 0 0-2.1.66l-.84 1.45c-.2.34-.53.59-.92.67l-1.7.35c-.83.17-1.39.94-1.3 1.78l.19 1.56c.04.39-.08.78-.33 1.07l-1.12 1.3c-.52.6-.52 1.5 0 2.11L5 16.38c.25.3.37.68.33 1.06l-.18 1.57c-.1.83.46 1.6 1.28 1.78l1.7.35c.4.08.73.32.93.66l.84 1.43a1.63 1.63 0 0 0 2.09.66l1.41-.66c.37-.17.8-.17 1.18 0l1.43.67c.76.35 1.66.07 2.08-.65l.86-1.45c.2-.34.54-.58.92-.66l1.68-.35A1.63 1.63 0 0 0 22.84 19l-.18-1.57a1.4 1.4 0 0 1 .33-1.06l1.12-1.32c.52-.6.52-1.5 0-2.11l-1.12-1.3a1.4 1.4 0 0 1-.33-1.07l.18-1.57c.1-.83-.46-1.6-1.28-1.77l-1.68-.35a1.4 1.4 0 0 1-.92-.66l-.86-1.47Zm-3.27-3.2a4.43 4.43 0 0 1 5.69 1.78l.54.93 1.07.22a4.43 4.43 0 0 1 3.5 4.84l-.11.96.7.83a4.43 4.43 0 0 1 .02 5.76l-.72.85.1.96a4.43 4.43 0 0 1-3.5 4.84l-1.06.22-.54.92a4.43 4.43 0 0 1-5.68 1.77l-.84-.4-.82.39a4.43 4.43 0 0 1-5.7-1.79l-.51-.89-1.09-.22a4.43 4.43 0 0 1-3.5-4.84l.1-.96-.72-.85a4.43 4.43 0 0 1 .01-5.76l.71-.83-.1-.95a4.43 4.43 0 0 1 3.5-4.84l1.08-.23.53-.9a4.43 4.43 0 0 1 5.7-1.8l.81.38.83-.39ZM18.2 9.4c.65.42.84 1.28.42 1.93l-4.4 6.87a1.4 1.4 0 0 1-2.26.14L9.5 15.39a1.4 1.4 0 0 1 2.15-1.8l1.23 1.48 3.38-5.26a1.4 1.4 0 0 1 1.93-.42Z"
    clip-rule="evenodd"
  />
</svg>`,jHt=Object.freeze(Object.defineProperty({__proto__:null,verifySvg:MHt},Symbol.toStringTag,{value:"Module"})),DHt=Ke`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="m4.1 12.43-.45-.78-.93-.2a1.65 1.65 0 0 1-1.31-1.8l.1-.86-.61-.71a1.65 1.65 0 0 1 0-2.16l.6-.7-.09-.85c-.1-.86.47-1.64 1.3-1.81l.94-.2.45-.78A1.65 1.65 0 0 1 6.23.9l.77.36.78-.36c.77-.36 1.69-.07 2.12.66l.47.8.91.2c.84.17 1.4.95 1.31 1.8l-.1.86.6.7c.54.62.54 1.54.01 2.16l-.6.71.09.86c.1.85-.47 1.63-1.3 1.8l-.92.2-.47.79a1.65 1.65 0 0 1-2.12.66L7 12.74l-.77.36c-.78.35-1.7.07-2.13-.67Zm5.74-6.9a1 1 0 1 0-1.68-1.07L6.32 7.3l-.55-.66a1 1 0 0 0-1.54 1.28l1.43 1.71a1 1 0 0 0 1.61-.1l2.57-4Z"
    clip-rule="evenodd"
  />
</svg>`,LHt=Object.freeze(Object.defineProperty({__proto__:null,verifyFilledSvg:DHt},Symbol.toStringTag,{value:"Module"})),BHt=Ke`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,UHt=Object.freeze(Object.defineProperty({__proto__:null,walletSvg:BHt},Symbol.toStringTag,{value:"Module"})),FHt=Ke`<svg fill="none" viewBox="0 0 96 67">
  <path
    fill="currentColor"
    d="M25.32 18.8a32.56 32.56 0 0 1 45.36 0l1.5 1.47c.63.62.63 1.61 0 2.22l-5.15 5.05c-.31.3-.82.3-1.14 0l-2.07-2.03a22.71 22.71 0 0 0-31.64 0l-2.22 2.18c-.31.3-.82.3-1.14 0l-5.15-5.05a1.55 1.55 0 0 1 0-2.22l1.65-1.62Zm56.02 10.44 4.59 4.5c.63.6.63 1.6 0 2.21l-20.7 20.26c-.62.61-1.63.61-2.26 0L48.28 41.83a.4.4 0 0 0-.56 0L33.03 56.21c-.63.61-1.64.61-2.27 0L10.07 35.95a1.55 1.55 0 0 1 0-2.22l4.59-4.5a1.63 1.63 0 0 1 2.27 0L31.6 43.63a.4.4 0 0 0 .57 0l14.69-14.38a1.63 1.63 0 0 1 2.26 0l14.69 14.38a.4.4 0 0 0 .57 0l14.68-14.38a1.63 1.63 0 0 1 2.27 0Z"
  />
  <path
    stroke="#000"
    stroke-opacity=".1"
    d="M25.67 19.15a32.06 32.06 0 0 1 44.66 0l1.5 1.48c.43.42.43 1.09 0 1.5l-5.15 5.05a.31.31 0 0 1-.44 0l-2.07-2.03a23.21 23.21 0 0 0-32.34 0l-2.22 2.18a.31.31 0 0 1-.44 0l-5.15-5.05a1.05 1.05 0 0 1 0-1.5l1.65-1.63ZM81 29.6l4.6 4.5c.42.41.42 1.09 0 1.5l-20.7 20.26c-.43.43-1.14.43-1.57 0L48.63 41.47a.9.9 0 0 0-1.26 0L32.68 55.85c-.43.43-1.14.43-1.57 0L10.42 35.6a1.05 1.05 0 0 1 0-1.5l4.59-4.5a1.13 1.13 0 0 1 1.57 0l14.68 14.38a.9.9 0 0 0 1.27 0l-.35-.35.35.35L47.22 29.6a1.13 1.13 0 0 1 1.56 0l14.7 14.38a.9.9 0 0 0 1.26 0L79.42 29.6a1.13 1.13 0 0 1 1.57 0Z"
  />
</svg>`,zHt=Ke`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="#202020"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,WHt=Ke`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,yK=Object.freeze(Object.defineProperty({__proto__:null,walletConnectBrownSvg:WHt,walletConnectLightBrownSvg:zHt,walletConnectSvg:FHt},Symbol.toStringTag,{value:"Module"})),qHt=Ke`
  <svg fill="none" viewBox="0 0 48 44">
    <path
      style="fill: var(--wui-color-bg-300);"
      d="M4.56 8.64c-1.23 1.68-1.23 4.08-1.23 8.88v8.96c0 4.8 0 7.2 1.23 8.88.39.55.87 1.02 1.41 1.42C7.65 38 10.05 38 14.85 38h14.3c4.8 0 7.2 0 8.88-1.22a6.4 6.4 0 0 0 1.41-1.42c.83-1.14 1.1-2.6 1.19-4.92a6.4 6.4 0 0 0 5.16-4.65c.21-.81.21-1.8.21-3.79 0-1.98 0-2.98-.22-3.79a6.4 6.4 0 0 0-5.15-4.65c-.1-2.32-.36-3.78-1.19-4.92a6.4 6.4 0 0 0-1.41-1.42C36.35 6 33.95 6 29.15 6h-14.3c-4.8 0-7.2 0-8.88 1.22a6.4 6.4 0 0 0-1.41 1.42Z"
    />
    <path
      style="fill: var(--wui-color-fg-200);"
      fill-rule="evenodd"
      d="M2.27 11.33a6.4 6.4 0 0 1 6.4-6.4h26.66a6.4 6.4 0 0 1 6.4 6.4v1.7a6.4 6.4 0 0 1 5.34 6.3v5.34a6.4 6.4 0 0 1-5.34 6.3v1.7a6.4 6.4 0 0 1-6.4 6.4H8.67a6.4 6.4 0 0 1-6.4-6.4V11.33ZM39.6 31.07h-6.93a9.07 9.07 0 1 1 0-18.14h6.93v-1.6a4.27 4.27 0 0 0-4.27-4.26H8.67a4.27 4.27 0 0 0-4.27 4.26v21.34a4.27 4.27 0 0 0 4.27 4.26h26.66a4.27 4.27 0 0 0 4.27-4.26v-1.6Zm-6.93-16a6.93 6.93 0 0 0 0 13.86h8a4.27 4.27 0 0 0 4.26-4.26v-5.34a4.27 4.27 0 0 0-4.26-4.26h-8Z"
      clip-rule="evenodd"
    />
  </svg>
`,HHt=Object.freeze(Object.defineProperty({__proto__:null,walletPlaceholderSvg:qHt},Symbol.toStringTag,{value:"Module"})),VHt=Ke`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M11 6.67a1 1 0 1 0-2 0v2.66a1 1 0 0 0 2 0V6.67ZM10 14.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"
    clip-rule="evenodd"
  />
</svg>`,KHt=Object.freeze(Object.defineProperty({__proto__:null,warningCircleSvg:VHt},Symbol.toStringTag,{value:"Module"})),GHt=Ke`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.125 6.875C9.125 6.57833 9.21298 6.28832 9.3778 6.04165C9.54262 5.79497 9.77689 5.60271 10.051 5.48918C10.3251 5.37565 10.6267 5.34594 10.9176 5.40382C11.2086 5.4617 11.4759 5.60456 11.6857 5.81434C11.8954 6.02412 12.0383 6.29139 12.0962 6.58236C12.1541 6.87334 12.1244 7.17494 12.0108 7.44903C11.8973 7.72311 11.705 7.95738 11.4584 8.1222C11.2117 8.28703 10.9217 8.375 10.625 8.375C10.2272 8.375 9.84565 8.21696 9.56434 7.93566C9.28304 7.65436 9.125 7.27282 9.125 6.875ZM21.125 11C21.125 13.0025 20.5312 14.9601 19.4186 16.6251C18.3061 18.2902 16.7248 19.5879 14.8747 20.3543C13.0246 21.1206 10.9888 21.3211 9.02471 20.9305C7.06066 20.5398 5.25656 19.5755 3.84055 18.1595C2.42454 16.7435 1.46023 14.9393 1.06955 12.9753C0.678878 11.0112 0.879387 8.97543 1.64572 7.12533C2.41206 5.27523 3.70981 3.69392 5.37486 2.58137C7.0399 1.46882 8.99747 0.875 11 0.875C13.6844 0.877978 16.258 1.94567 18.1562 3.84383C20.0543 5.74199 21.122 8.3156 21.125 11ZM18.875 11C18.875 9.44247 18.4131 7.91992 17.5478 6.62488C16.6825 5.32985 15.4526 4.32049 14.0136 3.72445C12.5747 3.12841 10.9913 2.97246 9.46367 3.27632C7.93607 3.58017 6.53288 4.3302 5.43154 5.43153C4.3302 6.53287 3.58018 7.93606 3.27632 9.46366C2.97246 10.9913 3.12841 12.5747 3.72445 14.0136C4.32049 15.4526 5.32985 16.6825 6.62489 17.5478C7.91993 18.4131 9.44248 18.875 11 18.875C13.0879 18.8728 15.0896 18.0424 16.566 16.566C18.0424 15.0896 18.8728 13.0879 18.875 11ZM12.125 14.4387V11.375C12.125 10.8777 11.9275 10.4008 11.5758 10.0492C11.2242 9.69754 10.7473 9.5 10.25 9.5C9.98433 9.4996 9.72708 9.59325 9.52383 9.76435C9.32058 9.93544 9.18444 10.173 9.13952 10.4348C9.09461 10.6967 9.14381 10.966 9.27843 11.195C9.41304 11.4241 9.62438 11.5981 9.875 11.6863V14.75C9.875 15.2473 10.0725 15.7242 10.4242 16.0758C10.7758 16.4275 11.2527 16.625 11.75 16.625C12.0157 16.6254 12.2729 16.5318 12.4762 16.3607C12.6794 16.1896 12.8156 15.952 12.8605 15.6902C12.9054 15.4283 12.8562 15.159 12.7216 14.93C12.587 14.7009 12.3756 14.5269 12.125 14.4387Z" fill="currentColor"/>
</svg>`,ZHt=Object.freeze(Object.defineProperty({__proto__:null,infoSvg:GHt},Symbol.toStringTag,{value:"Module"})),YHt=Ke`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0162 11.6312L9.55059 2.13937C9.39228 1.86862 9.16584 1.64405 8.8938 1.48798C8.62176 1.33192 8.3136 1.2498 7.99997 1.2498C7.68634 1.2498 7.37817 1.33192 7.10613 1.48798C6.83409 1.64405 6.60765 1.86862 6.44934 2.13937L0.983716 11.6312C0.830104 11.894 0.749146 12.1928 0.749146 12.4972C0.749146 12.8015 0.830104 13.1004 0.983716 13.3631C1.14027 13.6352 1.3664 13.8608 1.63889 14.0166C1.91139 14.1725 2.22044 14.253 2.53434 14.25H13.4656C13.7793 14.2528 14.0881 14.1721 14.3603 14.0163C14.6326 13.8604 14.8585 13.635 15.015 13.3631C15.1688 13.1005 15.2499 12.8017 15.2502 12.4973C15.2504 12.193 15.1696 11.8941 15.0162 11.6312ZM13.7162 12.6125C13.6908 12.6558 13.6541 12.6914 13.6101 12.7157C13.5661 12.7399 13.5164 12.7517 13.4662 12.75H2.53434C2.48415 12.7517 2.43442 12.7399 2.39042 12.7157C2.34641 12.6914 2.30976 12.6558 2.28434 12.6125C2.26278 12.5774 2.25137 12.5371 2.25137 12.4959C2.25137 12.4548 2.26278 12.4144 2.28434 12.3794L7.74997 2.88749C7.77703 2.84583 7.81408 2.8116 7.85774 2.7879C7.9014 2.7642 7.95029 2.75178 7.99997 2.75178C8.04964 2.75178 8.09854 2.7642 8.1422 2.7879C8.18586 2.8116 8.2229 2.84583 8.24997 2.88749L13.715 12.3794C13.7367 12.4143 13.7483 12.4546 13.7486 12.4958C13.7488 12.5369 13.7376 12.5773 13.7162 12.6125ZM7.24997 8.49999V6.49999C7.24997 6.30108 7.32898 6.11031 7.46964 5.96966C7.61029 5.82901 7.80105 5.74999 7.99997 5.74999C8.19888 5.74999 8.38964 5.82901 8.5303 5.96966C8.67095 6.11031 8.74997 6.30108 8.74997 6.49999V8.49999C8.74997 8.6989 8.67095 8.88967 8.5303 9.03032C8.38964 9.17097 8.19888 9.24999 7.99997 9.24999C7.80105 9.24999 7.61029 9.17097 7.46964 9.03032C7.32898 8.88967 7.24997 8.6989 7.24997 8.49999ZM8.99997 11C8.99997 11.1978 8.94132 11.3911 8.83144 11.5556C8.72155 11.72 8.56538 11.8482 8.38265 11.9239C8.19992 11.9996 7.99886 12.0194 7.80488 11.9808C7.6109 11.9422 7.43271 11.847 7.29286 11.7071C7.15301 11.5672 7.05777 11.3891 7.01918 11.1951C6.9806 11.0011 7.0004 10.8 7.07609 10.6173C7.15177 10.4346 7.27995 10.2784 7.4444 10.1685C7.60885 10.0586 7.80219 9.99999 7.99997 9.99999C8.26518 9.99999 8.51954 10.1053 8.70707 10.2929C8.89461 10.4804 8.99997 10.7348 8.99997 11Z" fill="currentColor"/>
</svg>
`,JHt=Object.freeze(Object.defineProperty({__proto__:null,exclamationTriangleSvg:YHt},Symbol.toStringTag,{value:"Module"})),QHt=Ke`<svg width="60" height="16" viewBox="0 0 60 16" fill="none"">
  <path d="M9.3335 4.66667C9.3335 2.08934 11.4229 0 14.0002 0H20.6669C23.2442 0 25.3335 2.08934 25.3335 4.66667V11.3333C25.3335 13.9106 23.2442 16 20.6669 16H14.0002C11.4229 16 9.3335 13.9106 9.3335 11.3333V4.66667Z" fill="#363636"/>
  <path d="M15.6055 11.0003L17.9448 4.66699H18.6316L16.2923 11.0003H15.6055Z" fill="#F6F6F6"/>
  <path d="M0 4.33333C0 1.9401 1.9401 0 4.33333 0C6.72657 0 8.66669 1.9401 8.66669 4.33333V11.6667C8.66669 14.0599 6.72657 16 4.33333 16C1.9401 16 0 14.0599 0 11.6667V4.33333Z" fill="#363636"/>
  <path d="M3.9165 9.99934V9.16602H4.74983V9.99934H3.9165Z" fill="#F6F6F6"/>
  <path d="M26 8C26 3.58172 29.3517 0 33.4863 0H52.5137C56.6483 0 60 3.58172 60 8C60 12.4183 56.6483 16 52.5137 16H33.4863C29.3517 16 26 12.4183 26 8Z" fill="#363636"/>
  <path d="M49.3687 9.95834V6.26232H50.0213V6.81966C50.256 6.40899 50.7326 6.16699 51.2606 6.16699C52.0599 6.16699 52.6173 6.67299 52.6173 7.65566V9.95834H51.972V7.69234C51.972 7.04696 51.6053 6.70966 51.07 6.70966C50.4906 6.70966 50.0213 7.17168 50.0213 7.82433V9.95834H49.3687Z" fill="#F6F6F6"/>
  <path d="M45.2538 9.95773L44.5718 6.26172H45.1877L45.6717 9.31242L46.3098 7.30306H46.9184L47.5491 9.29041L48.0404 6.26172H48.6564L47.9744 9.95773H47.2411L46.6178 8.03641L45.9871 9.95773H45.2538Z" fill="#F6F6F6"/>
  <path d="M42.3709 10.0536C41.2489 10.0536 40.5889 9.21765 40.5889 8.1103C40.5889 7.01035 41.2489 6.16699 42.3709 6.16699C43.4929 6.16699 44.1529 7.01035 44.1529 8.1103C44.1529 9.21765 43.4929 10.0536 42.3709 10.0536ZM42.3709 9.51096C43.1775 9.51096 43.4856 8.82164 43.4856 8.10296C43.4856 7.39163 43.1775 6.70966 42.3709 6.70966C41.5642 6.70966 41.2562 7.39163 41.2562 8.10296C41.2562 8.82164 41.5642 9.51096 42.3709 9.51096Z" fill="#F6F6F6"/>
  <path d="M38.2805 10.0536C37.1952 10.0536 36.5132 9.22499 36.5132 8.1103C36.5132 7.00302 37.1952 6.16699 38.2805 6.16699C39.1972 6.16699 40.0038 6.68766 39.9159 8.27896H37.1805C37.2319 8.96103 37.5472 9.5183 38.2805 9.5183C38.7718 9.5183 39.0945 9.21765 39.2045 8.87299H39.8499C39.7472 9.48903 39.1679 10.0536 38.2805 10.0536ZM37.1952 7.78765H39.2852C39.2338 7.04696 38.8892 6.70232 38.2805 6.70232C37.6132 6.70232 37.2832 7.18635 37.1952 7.78765Z" fill="#F6F6F6"/>
  <path d="M33.3828 9.95773V6.26172H34.0501V6.88506C34.2848 6.47439 34.6882 6.26172 35.1061 6.26172H35.9935V6.88506H35.0548C34.4682 6.88506 34.0501 7.26638 34.0501 8.00706V9.95773H33.3828Z" fill="#F6F6F6"/>
</svg>`,XHt=Object.freeze(Object.defineProperty({__proto__:null,reownSvg:QHt},Symbol.toStringTag,{value:"Module"}))})();
